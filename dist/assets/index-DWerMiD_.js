const __vite__fileDeps=["assets/ios.transition-CTXZmsaH.js","assets/animation-Qoh8roIt.js","assets/md.transition-BY-xj7I8.js","assets/Inventory-C6XPymb1.js","assets/Inventory-B_SY1GJM.css","assets/Shop-CusMaAL_.js","assets/Shop-CDmnafKq.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
function F6(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const S of document.querySelectorAll('link[rel="modulepreload"]'))m(S);new MutationObserver(S=>{for(const D of S)if(D.type==="childList")for(const j of D.addedNodes)j.tagName==="LINK"&&j.rel==="modulepreload"&&m(j)}).observe(document,{childList:!0,subtree:!0});function l(S){const D={};return S.integrity&&(D.integrity=S.integrity),S.referrerPolicy&&(D.referrerPolicy=S.referrerPolicy),S.crossOrigin==="use-credentials"?D.credentials="include":S.crossOrigin==="anonymous"?D.credentials="omit":D.credentials="same-origin",D}function m(S){if(S.ep)return;S.ep=!0;const D=l(S);fetch(S.href,D)}})();/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function xA(i){const r=Object.create(null);for(const l of i.split(","))r[l]=1;return l=>l in r}const Xi={},ac=[],Mo=()=>{},wM=()=>!1,Xu=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&(i.charCodeAt(2)>122||i.charCodeAt(2)<97),CA=i=>i.startsWith("onUpdate:"),zr=Object.assign,wA=(i,r)=>{const l=i.indexOf(r);l>-1&&i.splice(l,1)},_M=Object.prototype.hasOwnProperty,Ui=(i,r)=>_M.call(i,r),qn=Array.isArray,lc=i=>Yu(i)==="[object Map]",Ob=i=>Yu(i)==="[object Set]",Jn=i=>typeof i=="function",Mr=i=>typeof i=="string",Ta=i=>typeof i=="symbol",cr=i=>i!==null&&typeof i=="object",kb=i=>(cr(i)||Jn(i))&&Jn(i.then)&&Jn(i.catch),Fb=Object.prototype.toString,Yu=i=>Fb.call(i),MM=i=>Yu(i).slice(8,-1),Ub=i=>Yu(i)==="[object Object]",_A=i=>Mr(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,cd=xA(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$u=i=>{const r=Object.create(null);return l=>r[l]||(r[l]=i(l))},SM=/-(\w)/g,Js=$u(i=>i.replace(SM,(r,l)=>l?l.toUpperCase():"")),IM=/\B([A-Z])/g,yl=$u(i=>i.replace(IM,"-$1").toLowerCase()),qu=$u(i=>i.charAt(0).toUpperCase()+i.slice(1)),ym=$u(i=>i?"on".concat(qu(i)):""),Ma=(i,r)=>!Object.is(i,r),Em=(i,...r)=>{for(let l=0;l<i.length;l++)i[l](...r)},Nb=(i,r,l,m=!1)=>{Object.defineProperty(i,r,{configurable:!0,enumerable:!1,writable:m,value:l})},TM=i=>{const r=parseFloat(i);return isNaN(r)?i:r};let Jv;const Ju=()=>Jv||(Jv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function MA(i){if(qn(i)){const r={};for(let l=0;l<i.length;l++){const m=i[l],S=Mr(m)?DM(m):MA(m);if(S)for(const D in S)r[D]=S[D]}return r}else if(Mr(i)||cr(i))return i}const BM=/;(?![^(]*\))/g,RM=/:([^]+)/,LM=/\/\*[^]*?\*\//g;function DM(i){const r={};return i.replace(LM,"").split(BM).forEach(l=>{if(l){const m=l.split(RM);m.length>1&&(r[m[0].trim()]=m[1].trim())}}),r}function SA(i){let r="";if(Mr(i))r=i;else if(qn(i))for(let l=0;l<i.length;l++){const m=SA(i[l]);m&&(r+=m+" ")}else if(cr(i))for(const l in i)i[l]&&(r+=l+" ");return r.trim()}const PM="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",OM=xA(PM);function Gb(i){return!!i||i===""}const Qb=i=>!!(i&&i.__v_isRef===!0),Mu=i=>Mr(i)?i:i==null?"":qn(i)||cr(i)&&(i.toString===Fb||!Jn(i.toString))?Qb(i)?Mu(i.value):JSON.stringify(i,Hb,2):String(i),Hb=(i,r)=>Qb(r)?Hb(i,r.value):lc(r)?{["Map(".concat(r.size,")")]:[...r.entries()].reduce((l,[m,S],D)=>(l[xm(m,D)+" =>"]=S,l),{})}:Ob(r)?{["Set(".concat(r.size,")")]:[...r.values()].map(l=>xm(l))}:Ta(r)?xm(r):cr(r)&&!qn(r)&&!Ub(r)?String(r):r,xm=(i,r="")=>{var l;return Ta(i)?"Symbol(".concat((l=i.description)!=null?l:r,")"):i};/**
* @vue/reactivity v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Us;class kM{constructor(r=!1){this.detached=r,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Us,!r&&Us&&(this.index=(Us.scopes||(Us.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let r,l;if(this.scopes)for(r=0,l=this.scopes.length;r<l;r++)this.scopes[r].pause();for(r=0,l=this.effects.length;r<l;r++)this.effects[r].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let r,l;if(this.scopes)for(r=0,l=this.scopes.length;r<l;r++)this.scopes[r].resume();for(r=0,l=this.effects.length;r<l;r++)this.effects[r].resume()}}run(r){if(this._active){const l=Us;try{return Us=this,r()}finally{Us=l}}}on(){Us=this}off(){Us=this.parent}stop(r){if(this._active){let l,m;for(l=0,m=this.effects.length;l<m;l++)this.effects[l].stop();for(l=0,m=this.cleanups.length;l<m;l++)this.cleanups[l]();if(this.scopes)for(l=0,m=this.scopes.length;l<m;l++)this.scopes[l].stop(!0);if(!this.detached&&this.parent&&!r){const S=this.parent.scopes.pop();S&&S!==this&&(this.parent.scopes[this.index]=S,S.index=this.index)}this.parent=void 0,this._active=!1}}}function FM(){return Us}let qi;const Cm=new WeakSet;class Vb{constructor(r){this.fn=r,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Us&&Us.active&&Us.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Cm.has(this)&&(Cm.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||jb(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Zv(this),Wb(this);const r=qi,l=lo;qi=this,lo=!0;try{return this.fn()}finally{Kb(this),qi=r,lo=l,this.flags&=-3}}stop(){if(this.flags&1){for(let r=this.deps;r;r=r.nextDep)BA(r);this.deps=this.depsTail=void 0,Zv(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Cm.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Xm(this)&&this.run()}get dirty(){return Xm(this)}}let zb=0,dd,hd;function jb(i,r=!1){if(i.flags|=8,r){i.next=hd,hd=i;return}i.next=dd,dd=i}function IA(){zb++}function TA(){if(--zb>0)return;if(hd){let r=hd;for(hd=void 0;r;){const l=r.next;r.next=void 0,r.flags&=-9,r=l}}let i;for(;dd;){let r=dd;for(dd=void 0;r;){const l=r.next;if(r.next=void 0,r.flags&=-9,r.flags&1)try{r.trigger()}catch(m){i||(i=m)}r=l}}if(i)throw i}function Wb(i){for(let r=i.deps;r;r=r.nextDep)r.version=-1,r.prevActiveLink=r.dep.activeLink,r.dep.activeLink=r}function Kb(i){let r,l=i.depsTail,m=l;for(;m;){const S=m.prevDep;m.version===-1?(m===l&&(l=S),BA(m),UM(m)):r=m,m.dep.activeLink=m.prevActiveLink,m.prevActiveLink=void 0,m=S}i.deps=r,i.depsTail=l}function Xm(i){for(let r=i.deps;r;r=r.nextDep)if(r.dep.version!==r.version||r.dep.computed&&(Xb(r.dep.computed)||r.dep.version!==r.version))return!0;return!!i._dirty}function Xb(i){if(i.flags&4&&!(i.flags&16)||(i.flags&=-17,i.globalVersion===yd))return;i.globalVersion=yd;const r=i.dep;if(i.flags|=2,r.version>0&&!i.isSSR&&i.deps&&!Xm(i)){i.flags&=-3;return}const l=qi,m=lo;qi=i,lo=!0;try{Wb(i);const S=i.fn(i._value);(r.version===0||Ma(S,i._value))&&(i._value=S,r.version++)}catch(S){throw r.version++,S}finally{qi=l,lo=m,Kb(i),i.flags&=-3}}function BA(i,r=!1){const{dep:l,prevSub:m,nextSub:S}=i;if(m&&(m.nextSub=S,i.prevSub=void 0),S&&(S.prevSub=m,i.nextSub=void 0),l.subs===i&&(l.subs=m,!m&&l.computed)){l.computed.flags&=-5;for(let D=l.computed.deps;D;D=D.nextDep)BA(D,!0)}!r&&!--l.sc&&l.map&&l.map.delete(l.key)}function UM(i){const{prevDep:r,nextDep:l}=i;r&&(r.nextDep=l,i.prevDep=void 0),l&&(l.prevDep=r,i.nextDep=void 0)}let lo=!0;const Yb=[];function Ba(){Yb.push(lo),lo=!1}function Ra(){const i=Yb.pop();lo=i===void 0?!0:i}function Zv(i){const{cleanup:r}=i;if(i.cleanup=void 0,r){const l=qi;qi=void 0;try{r()}finally{qi=l}}}let yd=0;class NM{constructor(r,l){this.sub=r,this.dep=l,this.version=l.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class RA{constructor(r){this.computed=r,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(r){if(!qi||!lo||qi===this.computed)return;let l=this.activeLink;if(l===void 0||l.sub!==qi)l=this.activeLink=new NM(qi,this),qi.deps?(l.prevDep=qi.depsTail,qi.depsTail.nextDep=l,qi.depsTail=l):qi.deps=qi.depsTail=l,$b(l);else if(l.version===-1&&(l.version=this.version,l.nextDep)){const m=l.nextDep;m.prevDep=l.prevDep,l.prevDep&&(l.prevDep.nextDep=m),l.prevDep=qi.depsTail,l.nextDep=void 0,qi.depsTail.nextDep=l,qi.depsTail=l,qi.deps===l&&(qi.deps=m)}return l}trigger(r){this.version++,yd++,this.notify(r)}notify(r){IA();try{for(let l=this.subs;l;l=l.prevSub)l.sub.notify()&&l.sub.dep.notify()}finally{TA()}}}function $b(i){if(i.dep.sc++,i.sub.flags&4){const r=i.dep.computed;if(r&&!i.dep.subs){r.flags|=20;for(let m=r.deps;m;m=m.nextDep)$b(m)}const l=i.dep.subs;l!==i&&(i.prevSub=l,l&&(l.nextSub=i)),i.dep.subs=i}}const Ym=new WeakMap,pl=Symbol(""),$m=Symbol(""),Ed=Symbol("");function ss(i,r,l){if(lo&&qi){let m=Ym.get(i);m||Ym.set(i,m=new Map);let S=m.get(l);S||(m.set(l,S=new RA),S.map=m,S.key=l),S.track()}}function $o(i,r,l,m,S,D){const j=Ym.get(i);if(!j){yd++;return}const M=B=>{B&&B.trigger()};if(IA(),r==="clear")j.forEach(M);else{const B=qn(i),u=B&&_A(l);if(B&&l==="length"){const p=Number(m);j.forEach((w,A)=>{(A==="length"||A===Ed||!Ta(A)&&A>=p)&&M(w)})}else switch((l!==void 0||j.has(void 0))&&M(j.get(l)),u&&M(j.get(Ed)),r){case"add":B?u&&M(j.get("length")):(M(j.get(pl)),lc(i)&&M(j.get($m)));break;case"delete":B||(M(j.get(pl)),lc(i)&&M(j.get($m)));break;case"set":lc(i)&&M(j.get(pl));break}}TA()}function tc(i){const r=Fi(i);return r===i?r:(ss(r,"iterate",Ed),qs(i)?r:r.map(os))}function Zu(i){return ss(i=Fi(i),"iterate",Ed),i}const GM={__proto__:null,[Symbol.iterator](){return wm(this,Symbol.iterator,os)},concat(...i){return tc(this).concat(...i.map(r=>qn(r)?tc(r):r))},entries(){return wm(this,"entries",i=>(i[1]=os(i[1]),i))},every(i,r){return Wo(this,"every",i,r,void 0,arguments)},filter(i,r){return Wo(this,"filter",i,r,l=>l.map(os),arguments)},find(i,r){return Wo(this,"find",i,r,os,arguments)},findIndex(i,r){return Wo(this,"findIndex",i,r,void 0,arguments)},findLast(i,r){return Wo(this,"findLast",i,r,os,arguments)},findLastIndex(i,r){return Wo(this,"findLastIndex",i,r,void 0,arguments)},forEach(i,r){return Wo(this,"forEach",i,r,void 0,arguments)},includes(...i){return _m(this,"includes",i)},indexOf(...i){return _m(this,"indexOf",i)},join(i){return tc(this).join(i)},lastIndexOf(...i){return _m(this,"lastIndexOf",i)},map(i,r){return Wo(this,"map",i,r,void 0,arguments)},pop(){return id(this,"pop")},push(...i){return id(this,"push",i)},reduce(i,...r){return e1(this,"reduce",i,r)},reduceRight(i,...r){return e1(this,"reduceRight",i,r)},shift(){return id(this,"shift")},some(i,r){return Wo(this,"some",i,r,void 0,arguments)},splice(...i){return id(this,"splice",i)},toReversed(){return tc(this).toReversed()},toSorted(i){return tc(this).toSorted(i)},toSpliced(...i){return tc(this).toSpliced(...i)},unshift(...i){return id(this,"unshift",i)},values(){return wm(this,"values",os)}};function wm(i,r,l){const m=Zu(i),S=m[r]();return m!==i&&!qs(i)&&(S._next=S.next,S.next=()=>{const D=S._next();return D.value&&(D.value=l(D.value)),D}),S}const QM=Array.prototype;function Wo(i,r,l,m,S,D){const j=Zu(i),M=j!==i&&!qs(i),B=j[r];if(B!==QM[r]){const w=B.apply(i,D);return M?os(w):w}let u=l;j!==i&&(M?u=function(w,A){return l.call(this,os(w),A,i)}:l.length>2&&(u=function(w,A){return l.call(this,w,A,i)}));const p=B.call(j,u,m);return M&&S?S(p):p}function e1(i,r,l,m){const S=Zu(i);let D=l;return S!==i&&(qs(i)?l.length>3&&(D=function(j,M,B){return l.call(this,j,M,B,i)}):D=function(j,M,B){return l.call(this,j,os(M),B,i)}),S[r](D,...m)}function _m(i,r,l){const m=Fi(i);ss(m,"iterate",Ed);const S=m[r](...l);return(S===-1||S===!1)&&PA(l[0])?(l[0]=Fi(l[0]),m[r](...l)):S}function id(i,r,l=[]){Ba(),IA();const m=Fi(i)[r].apply(i,l);return TA(),Ra(),m}const HM=xA("__proto__,__v_isRef,__isVue"),qb=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(Ta));function VM(i){Ta(i)||(i=String(i));const r=Fi(this);return ss(r,"has",i),r.hasOwnProperty(i)}class Jb{constructor(r=!1,l=!1){this._isReadonly=r,this._isShallow=l}get(r,l,m){const S=this._isReadonly,D=this._isShallow;if(l==="__v_isReactive")return!S;if(l==="__v_isReadonly")return S;if(l==="__v_isShallow")return D;if(l==="__v_raw")return m===(S?D?ZM:ny:D?ty:ey).get(r)||Object.getPrototypeOf(r)===Object.getPrototypeOf(m)?r:void 0;const j=qn(r);if(!S){let B;if(j&&(B=GM[l]))return B;if(l==="hasOwnProperty")return VM}const M=Reflect.get(r,l,as(r)?r:m);return(Ta(l)?qb.has(l):HM(l))||(S||ss(r,"get",l),D)?M:as(M)?j&&_A(l)?M:M.value:cr(M)?S?ry(M):ef(M):M}}class Zb extends Jb{constructor(r=!1){super(!1,r)}set(r,l,m,S){let D=r[l];if(!this._isShallow){const B=gl(D);if(!qs(m)&&!gl(m)&&(D=Fi(D),m=Fi(m)),!qn(r)&&as(D)&&!as(m))return B?!1:(D.value=m,!0)}const j=qn(r)&&_A(l)?Number(l)<r.length:Ui(r,l),M=Reflect.set(r,l,m,as(r)?r:S);return r===Fi(S)&&(j?Ma(m,D)&&$o(r,"set",l,m):$o(r,"add",l,m)),M}deleteProperty(r,l){const m=Ui(r,l);r[l];const S=Reflect.deleteProperty(r,l);return S&&m&&$o(r,"delete",l,void 0),S}has(r,l){const m=Reflect.has(r,l);return(!Ta(l)||!qb.has(l))&&ss(r,"has",l),m}ownKeys(r){return ss(r,"iterate",qn(r)?"length":pl),Reflect.ownKeys(r)}}class zM extends Jb{constructor(r=!1){super(!0,r)}set(r,l){return!0}deleteProperty(r,l){return!0}}const jM=new Zb,WM=new zM,KM=new Zb(!0);const qm=i=>i,Au=i=>Reflect.getPrototypeOf(i);function XM(i,r,l){return function(...m){const S=this.__v_raw,D=Fi(S),j=lc(D),M=i==="entries"||i===Symbol.iterator&&j,B=i==="keys"&&j,u=S[i](...m),p=l?qm:r?Jm:os;return!r&&ss(D,"iterate",B?$m:pl),{next(){const{value:w,done:A}=u.next();return A?{value:w,done:A}:{value:M?[p(w[0]),p(w[1])]:p(w),done:A}},[Symbol.iterator](){return this}}}}function gu(i){return function(...r){return i==="delete"?!1:i==="clear"?void 0:this}}function YM(i,r){const l={get(S){const D=this.__v_raw,j=Fi(D),M=Fi(S);i||(Ma(S,M)&&ss(j,"get",S),ss(j,"get",M));const{has:B}=Au(j),u=r?qm:i?Jm:os;if(B.call(j,S))return u(D.get(S));if(B.call(j,M))return u(D.get(M));D!==j&&D.get(S)},get size(){const S=this.__v_raw;return!i&&ss(Fi(S),"iterate",pl),Reflect.get(S,"size",S)},has(S){const D=this.__v_raw,j=Fi(D),M=Fi(S);return i||(Ma(S,M)&&ss(j,"has",S),ss(j,"has",M)),S===M?D.has(S):D.has(S)||D.has(M)},forEach(S,D){const j=this,M=j.__v_raw,B=Fi(M),u=r?qm:i?Jm:os;return!i&&ss(B,"iterate",pl),M.forEach((p,w)=>S.call(D,u(p),u(w),j))}};return zr(l,i?{add:gu("add"),set:gu("set"),delete:gu("delete"),clear:gu("clear")}:{add(S){!r&&!qs(S)&&!gl(S)&&(S=Fi(S));const D=Fi(this);return Au(D).has.call(D,S)||(D.add(S),$o(D,"add",S,S)),this},set(S,D){!r&&!qs(D)&&!gl(D)&&(D=Fi(D));const j=Fi(this),{has:M,get:B}=Au(j);let u=M.call(j,S);u||(S=Fi(S),u=M.call(j,S));const p=B.call(j,S);return j.set(S,D),u?Ma(D,p)&&$o(j,"set",S,D):$o(j,"add",S,D),this},delete(S){const D=Fi(this),{has:j,get:M}=Au(D);let B=j.call(D,S);B||(S=Fi(S),B=j.call(D,S)),M&&M.call(D,S);const u=D.delete(S);return B&&$o(D,"delete",S,void 0),u},clear(){const S=Fi(this),D=S.size!==0,j=S.clear();return D&&$o(S,"clear",void 0,void 0),j}}),["keys","values","entries",Symbol.iterator].forEach(S=>{l[S]=XM(S,i,r)}),l}function LA(i,r){const l=YM(i,r);return(m,S,D)=>S==="__v_isReactive"?!i:S==="__v_isReadonly"?i:S==="__v_raw"?m:Reflect.get(Ui(l,S)&&S in m?l:m,S,D)}const $M={get:LA(!1,!1)},qM={get:LA(!1,!0)},JM={get:LA(!0,!1)};const ey=new WeakMap,ty=new WeakMap,ny=new WeakMap,ZM=new WeakMap;function eS(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tS(i){return i.__v_skip||!Object.isExtensible(i)?0:eS(MM(i))}function ef(i){return gl(i)?i:DA(i,!1,jM,$M,ey)}function iy(i){return DA(i,!1,KM,qM,ty)}function ry(i){return DA(i,!0,WM,JM,ny)}function DA(i,r,l,m,S){if(!cr(i)||i.__v_raw&&!(r&&i.__v_isReactive))return i;const D=S.get(i);if(D)return D;const j=tS(i);if(j===0)return i;const M=new Proxy(i,j===2?m:l);return S.set(i,M),M}function cc(i){return gl(i)?cc(i.__v_raw):!!(i&&i.__v_isReactive)}function gl(i){return!!(i&&i.__v_isReadonly)}function qs(i){return!!(i&&i.__v_isShallow)}function PA(i){return i?!!i.__v_raw:!1}function Fi(i){const r=i&&i.__v_raw;return r?Fi(r):i}function nS(i){return!Ui(i,"__v_skip")&&Object.isExtensible(i)&&Nb(i,"__v_skip",!0),i}const os=i=>cr(i)?ef(i):i,Jm=i=>cr(i)?ry(i):i;function as(i){return i?i.__v_isRef===!0:!1}function Dd(i){return sy(i,!1)}function bc(i){return sy(i,!0)}function sy(i,r){return as(i)?i:new iS(i,r)}class iS{constructor(r,l){this.dep=new RA,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=l?r:Fi(r),this._value=l?r:os(r),this.__v_isShallow=l}get value(){return this.dep.track(),this._value}set value(r){const l=this._rawValue,m=this.__v_isShallow||qs(r)||gl(r);r=m?r:Fi(r),Ma(r,l)&&(this._rawValue=r,this._value=m?r:os(r),this.dep.trigger())}}function Kn(i){return as(i)?i.value:i}const rS={get:(i,r,l)=>r==="__v_raw"?i:Kn(Reflect.get(i,r,l)),set:(i,r,l,m)=>{const S=i[r];return as(S)&&!as(l)?(S.value=l,!0):Reflect.set(i,r,l,m)}};function oy(i){return cc(i)?i:new Proxy(i,rS)}class sS{constructor(r,l,m){this.fn=r,this.setter=l,this._value=void 0,this.dep=new RA(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=yd-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!l,this.isSSR=m}notify(){if(this.flags|=16,!(this.flags&8)&&qi!==this)return jb(this,!0),!0}get value(){const r=this.dep.track();return Xb(this),r&&(r.version=this.dep.version),this._value}set value(r){this.setter&&this.setter(r)}}function oS(i,r,l=!1){let m,S;return Jn(i)?m=i:(m=i.get,S=i.set),new sS(m,S,l)}const vu={},Ru=new WeakMap;let dl;function aS(i,r=!1,l=dl){if(l){let m=Ru.get(l);m||Ru.set(l,m=[]),m.push(i)}}function lS(i,r,l=Xi){const{immediate:m,deep:S,once:D,scheduler:j,augmentJob:M,call:B}=l,u=v=>S?v:qs(v)||S===!1||S===0?qo(v,1):qo(v);let p,w,A,b,d=!1,g=!1;if(as(i)?(w=()=>i.value,d=qs(i)):cc(i)?(w=()=>u(i),d=!0):qn(i)?(g=!0,d=i.some(v=>cc(v)||qs(v)),w=()=>i.map(v=>{if(as(v))return v.value;if(cc(v))return u(v);if(Jn(v))return B?B(v,2):v()})):Jn(i)?r?w=B?()=>B(i,2):i:w=()=>{if(A){Ba();try{A()}finally{Ra()}}const v=dl;dl=p;try{return B?B(i,3,[b]):i(b)}finally{dl=v}}:w=Mo,r&&S){const v=w,x=S===!0?1/0:S;w=()=>qo(v(),x)}const y=FM(),f=()=>{p.stop(),y&&wA(y.effects,p)};if(D&&r){const v=r;r=(...x)=>{v(...x),f()}}let E=g?new Array(i.length).fill(vu):vu;const C=v=>{if(!(!(p.flags&1)||!p.dirty&&!v))if(r){const x=p.run();if(S||d||(g?x.some((T,L)=>Ma(T,E[L])):Ma(x,E))){A&&A();const T=dl;dl=p;try{const L=[x,E===vu?void 0:g&&E[0]===vu?[]:E,b];B?B(r,3,L):r(...L),E=x}finally{dl=T}}}else p.run()};return M&&M(C),p=new Vb(w),p.scheduler=j?()=>j(C,!1):C,b=v=>aS(v,!1,p),A=p.onStop=()=>{const v=Ru.get(p);if(v){if(B)B(v,4);else for(const x of v)x();Ru.delete(p)}},r?m?C(!0):E=p.run():j?j(C.bind(null,!0),!0):p.run(),f.pause=p.pause.bind(p),f.resume=p.resume.bind(p),f.stop=f,f}function qo(i,r=1/0,l){if(r<=0||!cr(i)||i.__v_skip||(l=l||new Set,l.has(i)))return i;if(l.add(i),r--,as(i))qo(i.value,r,l);else if(qn(i))for(let m=0;m<i.length;m++)qo(i[m],r,l);else if(Ob(i)||lc(i))i.forEach(m=>{qo(m,r,l)});else if(Ub(i)){for(const m in i)qo(i[m],r,l);for(const m of Object.getOwnPropertySymbols(i))Object.prototype.propertyIsEnumerable.call(i,m)&&qo(i[m],r,l)}return i}/**
* @vue/runtime-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Pd(i,r,l,m){try{return m?i(...m):i()}catch(S){tf(S,r,l)}}function So(i,r,l,m){if(Jn(i)){const S=Pd(i,r,l,m);return S&&kb(S)&&S.catch(D=>{tf(D,r,l)}),S}if(qn(i)){const S=[];for(let D=0;D<i.length;D++)S.push(So(i[D],r,l,m));return S}}function tf(i,r,l,m=!0){const S=r?r.vnode:null,{errorHandler:D,throwUnhandledErrorInProduction:j}=r&&r.appContext.config||Xi;if(r){let M=r.parent;const B=r.proxy,u="https://vuejs.org/error-reference/#runtime-".concat(l);for(;M;){const p=M.ec;if(p){for(let w=0;w<p.length;w++)if(p[w](i,B,u)===!1)return}M=M.parent}if(D){Ba(),Pd(D,null,10,[i,B,u]),Ra();return}}cS(i,l,S,m,j)}function cS(i,r,l,m=!0,S=!1){if(S)throw i;console.error(i)}const gs=[];let Co=-1;const dc=[];let xa=null,nc=0;const ay=Promise.resolve();let Lu=null;function ly(i){const r=Lu||ay;return i?r.then(this?i.bind(this):i):r}function dS(i){let r=Co+1,l=gs.length;for(;r<l;){const m=r+l>>>1,S=gs[m],D=xd(S);D<i||D===i&&S.flags&2?r=m+1:l=m}return r}function OA(i){if(!(i.flags&1)){const r=xd(i),l=gs[gs.length-1];!l||!(i.flags&2)&&r>=xd(l)?gs.push(i):gs.splice(dS(r),0,i),i.flags|=1,cy()}}function cy(){Lu||(Lu=ay.then(hy))}function hS(i){qn(i)?dc.push(...i):xa&&i.id===-1?xa.splice(nc+1,0,i):i.flags&1||(dc.push(i),i.flags|=1),cy()}function t1(i,r,l=Co+1){for(;l<gs.length;l++){const m=gs[l];if(m&&m.flags&2){if(i&&m.id!==i.uid)continue;gs.splice(l,1),l--,m.flags&4&&(m.flags&=-2),m(),m.flags&4||(m.flags&=-2)}}}function dy(i){if(dc.length){const r=[...new Set(dc)].sort((l,m)=>xd(l)-xd(m));if(dc.length=0,xa){xa.push(...r);return}for(xa=r,nc=0;nc<xa.length;nc++){const l=xa[nc];l.flags&4&&(l.flags&=-2),l.flags&8||l(),l.flags&=-2}xa=null,nc=0}}const xd=i=>i.id==null?i.flags&2?-1:1/0:i.id;function hy(i){try{for(Co=0;Co<gs.length;Co++){const r=gs[Co];r&&!(r.flags&8)&&(r.flags&4&&(r.flags&=-2),Pd(r,r.i,r.i?15:14),r.flags&4||(r.flags&=-2))}}finally{for(;Co<gs.length;Co++){const r=gs[Co];r&&(r.flags&=-2)}Co=-1,gs.length=0,dy(),Lu=null,(gs.length||dc.length)&&hy()}}let Ss=null,uy=null;function Du(i){const r=Ss;return Ss=i,uy=i&&i.type.__scopeId||null,r}function ui(i,r=Ss,l){if(!r||i._n)return i;const m=(...S)=>{m._d&&u1(-1);const D=Du(r);let j;try{j=i(...S)}finally{Du(D),m._d&&u1(1)}return j};return m._n=!0,m._c=!0,m._d=!0,m}function uS(i,r){if(Ss===null)return i;const l=of(Ss),m=i.dirs||(i.dirs=[]);for(let S=0;S<r.length;S++){let[D,j,M,B=Xi]=r[S];D&&(Jn(D)&&(D={mounted:D,updated:D}),D.deep&&qo(j),m.push({dir:D,instance:l,value:j,oldValue:void 0,arg:M,modifiers:B}))}return i}function ll(i,r,l,m){const S=i.dirs,D=r&&r.dirs;for(let j=0;j<S.length;j++){const M=S[j];D&&(M.oldValue=D[j].value);let B=M.dir[m];B&&(Ba(),So(B,l,8,[i.el,M,i,r]),Ra())}}const fy=Symbol("_vte"),fS=i=>i.__isTeleport,ud=i=>i&&(i.disabled||i.disabled===""),pS=i=>i&&(i.defer||i.defer===""),n1=i=>typeof SVGElement<"u"&&i instanceof SVGElement,i1=i=>typeof MathMLElement=="function"&&i instanceof MathMLElement,Zm=(i,r)=>{const l=i&&i.to;return Mr(l)?r?r(l):null:l},mS={name:"Teleport",__isTeleport:!0,process(i,r,l,m,S,D,j,M,B,u){const{mc:p,pc:w,pbc:A,o:{insert:b,querySelector:d,createText:g,createComment:y}}=u,f=ud(r.props);let{shapeFlag:E,children:C,dynamicChildren:v}=r;if(i==null){const x=r.el=g(""),T=r.anchor=g("");b(x,l,m),b(T,l,m);const L=(F,P)=>{E&16&&(S&&S.isCE&&(S.ce._teleportTarget=F),p(C,F,P,S,D,j,M,B))},R=()=>{const F=r.target=Zm(r.props,d),P=py(F,r,g,b);F&&(j!=="svg"&&n1(F)?j="svg":j!=="mathml"&&i1(F)&&(j="mathml"),f||(L(F,P),Su(r,!1)))};f&&(L(l,T),Su(r,!0)),pS(r.props)?Ms(R,D):R()}else{r.el=i.el,r.targetStart=i.targetStart;const x=r.anchor=i.anchor,T=r.target=i.target,L=r.targetAnchor=i.targetAnchor,R=ud(i.props),F=R?l:T,P=R?x:L;if(j==="svg"||n1(T)?j="svg":(j==="mathml"||i1(T))&&(j="mathml"),v?(A(i.dynamicChildren,v,F,S,D,j,M),GA(i,r,!0)):B||w(i,r,F,P,S,D,j,M,!1),f)R?r.props&&i.props&&r.props.to!==i.props.to&&(r.props.to=i.props.to):bu(r,l,x,u,1);else if((r.props&&r.props.to)!==(i.props&&i.props.to)){const H=r.target=Zm(r.props,d);H&&bu(r,H,null,u,0)}else R&&bu(r,T,L,u,1);Su(r,f)}},remove(i,r,l,{um:m,o:{remove:S}},D){const{shapeFlag:j,children:M,anchor:B,targetStart:u,targetAnchor:p,target:w,props:A}=i;if(w&&(S(u),S(p)),D&&S(B),j&16){const b=D||!ud(A);for(let d=0;d<M.length;d++){const g=M[d];m(g,r,l,b,!!g.dynamicChildren)}}},move:bu,hydrate:AS};function bu(i,r,l,{o:{insert:m},m:S},D=2){D===0&&m(i.targetAnchor,r,l);const{el:j,anchor:M,shapeFlag:B,children:u,props:p}=i,w=D===2;if(w&&m(j,r,l),(!w||ud(p))&&B&16)for(let A=0;A<u.length;A++)S(u[A],r,l,2);w&&m(M,r,l)}function AS(i,r,l,m,S,D,{o:{nextSibling:j,parentNode:M,querySelector:B,insert:u,createText:p}},w){const A=r.target=Zm(r.props,B);if(A){const b=ud(r.props),d=A._lpa||A.firstChild;if(r.shapeFlag&16)if(b)r.anchor=w(j(i),r,M(i),l,m,S,D),r.targetStart=d,r.targetAnchor=d&&j(d);else{r.anchor=j(i);let g=d;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")r.targetStart=g;else if(g.data==="teleport anchor"){r.targetAnchor=g,A._lpa=r.targetAnchor&&j(r.targetAnchor);break}}g=j(g)}r.targetAnchor||py(A,r,p,u),w(d&&j(d),r,A,l,m,S,D)}Su(r,b)}return r.anchor&&j(r.anchor)}const gS=mS;function Su(i,r){const l=i.ctx;if(l&&l.ut){let m,S;for(r?(m=i.el,S=i.anchor):(m=i.targetStart,S=i.targetAnchor);m&&m!==S;)m.nodeType===1&&m.setAttribute("data-v-owner",l.uid),m=m.nextSibling;l.ut()}}function py(i,r,l,m){const S=r.targetStart=l(""),D=r.targetAnchor=l("");return S[fy]=D,i&&(m(S,i),m(D,i)),D}function kA(i,r){i.shapeFlag&6&&i.component?(i.transition=r,kA(i.component.subTree,r)):i.shapeFlag&128?(i.ssContent.transition=r.clone(i.ssContent),i.ssFallback.transition=r.clone(i.ssFallback)):i.transition=r}/*! #__NO_SIDE_EFFECTS__ */function Jr(i,r){return Jn(i)?zr({name:i.name},r,{setup:i}):i}function my(i){i.ids=[i.ids[0]+i.ids[2]+++"-",0,0]}function eA(i,r,l,m,S=!1){if(qn(i)){i.forEach((d,g)=>eA(d,r&&(qn(r)?r[g]:r),l,m,S));return}if(fd(m)&&!S)return;const D=m.shapeFlag&4?of(m.component):m.el,j=S?null:D,{i:M,r:B}=i,u=r&&r.r,p=M.refs===Xi?M.refs={}:M.refs,w=M.setupState,A=Fi(w),b=w===Xi?()=>!1:d=>Ui(A,d);if(u!=null&&u!==B&&(Mr(u)?(p[u]=null,b(u)&&(w[u]=null)):as(u)&&(u.value=null)),Jn(B))Pd(B,M,12,[j,p]);else{const d=Mr(B),g=as(B);if(d||g){const y=()=>{if(i.f){const f=d?b(B)?w[B]:p[B]:B.value;S?qn(f)&&wA(f,D):qn(f)?f.includes(D)||f.push(D):d?(p[B]=[D],b(B)&&(w[B]=p[B])):(B.value=[D],i.k&&(p[i.k]=B.value))}else d?(p[B]=j,b(B)&&(w[B]=j)):g&&(B.value=j,i.k&&(p[i.k]=j))};j?(y.id=-1,Ms(y,l)):y()}}}Ju().requestIdleCallback;Ju().cancelIdleCallback;const fd=i=>!!i.type.__asyncLoader,Ay=i=>i.type.__isKeepAlive;function vS(i,r){gy(i,"a",r)}function bS(i,r){gy(i,"da",r)}function gy(i,r,l=qr){const m=i.__wdc||(i.__wdc=()=>{let S=l;for(;S;){if(S.isDeactivated)return;S=S.parent}return i()});if(nf(r,m,l),l){let S=l.parent;for(;S&&S.parent;)Ay(S.parent.vnode)&&yS(m,r,l,S),S=S.parent}}function yS(i,r,l,m){const S=nf(r,i,m,!0);FA(()=>{wA(m[r],S)},l)}function nf(i,r,l=qr,m=!1){if(l){const S=l[i]||(l[i]=[]),D=r.__weh||(r.__weh=(...j)=>{Ba();const M=Od(l),B=So(r,l,i,j);return M(),Ra(),B});return m?S.unshift(D):S.push(D),D}}const ea=i=>(r,l=qr)=>{(!Md||i==="sp")&&nf(i,(...m)=>r(...m),l)},ES=ea("bm"),xS=ea("m"),CS=ea("bu"),wS=ea("u"),_S=ea("bum"),FA=ea("um"),MS=ea("sp"),SS=ea("rtg"),IS=ea("rtc");function TS(i,r=qr){nf("ec",i,r)}const BS="components";function Fs(i,r){return LS(BS,i,!0,r)||i}const RS=Symbol.for("v-ndc");function LS(i,r,l=!0,m=!1){const S=Ss||qr;if(S){const D=S.type;{const M=yI(D,!1);if(M&&(M===r||M===Js(r)||M===qu(Js(r))))return D}const j=r1(S[i]||D[i],r)||r1(S.appContext[i],r);return!j&&m?D:j}}function r1(i,r){return i&&(i[r]||i[Js(r)]||i[qu(Js(r))])}function DS(i,r,l,m){let S;const D=l,j=qn(i);if(j||Mr(i)){const M=j&&cc(i);let B=!1;M&&(B=!qs(i),i=Zu(i)),S=new Array(i.length);for(let u=0,p=i.length;u<p;u++)S[u]=r(B?os(i[u]):i[u],u,void 0,D)}else if(typeof i=="number"){S=new Array(i);for(let M=0;M<i;M++)S[M]=r(M+1,M,void 0,D)}else if(cr(i))if(i[Symbol.iterator])S=Array.from(i,(M,B)=>r(M,B,void 0,D));else{const M=Object.keys(i);S=new Array(M.length);for(let B=0,u=M.length;B<u;B++){const p=M[B];S[B]=r(i[p],p,B,D)}}else S=[];return S}const tA=i=>i?ky(i)?of(i):tA(i.parent):null,pd=zr(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>tA(i.parent),$root:i=>tA(i.root),$host:i=>i.ce,$emit:i=>i.emit,$options:i=>UA(i),$forceUpdate:i=>i.f||(i.f=()=>{OA(i.update)}),$nextTick:i=>i.n||(i.n=ly.bind(i.proxy)),$watch:i=>eI.bind(i)}),Mm=(i,r)=>i!==Xi&&!i.__isScriptSetup&&Ui(i,r),PS={get({_:i},r){if(r==="__v_skip")return!0;const{ctx:l,setupState:m,data:S,props:D,accessCache:j,type:M,appContext:B}=i;let u;if(r[0]!=="$"){const b=j[r];if(b!==void 0)switch(b){case 1:return m[r];case 2:return S[r];case 4:return l[r];case 3:return D[r]}else{if(Mm(m,r))return j[r]=1,m[r];if(S!==Xi&&Ui(S,r))return j[r]=2,S[r];if((u=i.propsOptions[0])&&Ui(u,r))return j[r]=3,D[r];if(l!==Xi&&Ui(l,r))return j[r]=4,l[r];nA&&(j[r]=0)}}const p=pd[r];let w,A;if(p)return r==="$attrs"&&ss(i.attrs,"get",""),p(i);if((w=M.__cssModules)&&(w=w[r]))return w;if(l!==Xi&&Ui(l,r))return j[r]=4,l[r];if(A=B.config.globalProperties,Ui(A,r))return A[r]},set({_:i},r,l){const{data:m,setupState:S,ctx:D}=i;return Mm(S,r)?(S[r]=l,!0):m!==Xi&&Ui(m,r)?(m[r]=l,!0):Ui(i.props,r)||r[0]==="$"&&r.slice(1)in i?!1:(D[r]=l,!0)},has({_:{data:i,setupState:r,accessCache:l,ctx:m,appContext:S,propsOptions:D}},j){let M;return!!l[j]||i!==Xi&&Ui(i,j)||Mm(r,j)||(M=D[0])&&Ui(M,j)||Ui(m,j)||Ui(pd,j)||Ui(S.config.globalProperties,j)},defineProperty(i,r,l){return l.get!=null?i._.accessCache[r]=0:Ui(l,"value")&&this.set(i,r,l.value,null),Reflect.defineProperty(i,r,l)}};function s1(i){return qn(i)?i.reduce((r,l)=>(r[l]=null,r),{}):i}let nA=!0;function OS(i){const r=UA(i),l=i.proxy,m=i.ctx;nA=!1,r.beforeCreate&&o1(r.beforeCreate,i,"bc");const{data:S,computed:D,methods:j,watch:M,provide:B,inject:u,created:p,beforeMount:w,mounted:A,beforeUpdate:b,updated:d,activated:g,deactivated:y,beforeDestroy:f,beforeUnmount:E,destroyed:C,unmounted:v,render:x,renderTracked:T,renderTriggered:L,errorCaptured:R,serverPrefetch:F,expose:P,inheritAttrs:H,components:$,directives:te,filters:ee}=r;if(u&&kS(u,m,null),j)for(const ne in j){const X=j[ne];Jn(X)&&(m[ne]=X.bind(l))}if(S){const ne=S.call(l,l);cr(ne)&&(i.data=ef(ne))}if(nA=!0,D)for(const ne in D){const X=D[ne],z=Jn(X)?X.bind(l,l):Jn(X.get)?X.get.bind(l,l):Mo,se=!Jn(X)&&Jn(X.set)?X.set.bind(l):Mo,ae=Ys({get:z,set:se});Object.defineProperty(m,ne,{enumerable:!0,configurable:!0,get:()=>ae.value,set:be=>ae.value=be})}if(M)for(const ne in M)vy(M[ne],m,l,ne);if(B){const ne=Jn(B)?B.call(l):B;Reflect.ownKeys(ne).forEach(X=>{ml(X,ne[X])})}p&&o1(p,i,"c");function ie(ne,X){qn(X)?X.forEach(z=>ne(z.bind(l))):X&&ne(X.bind(l))}if(ie(ES,w),ie(xS,A),ie(CS,b),ie(wS,d),ie(vS,g),ie(bS,y),ie(TS,R),ie(IS,T),ie(SS,L),ie(_S,E),ie(FA,v),ie(MS,F),qn(P))if(P.length){const ne=i.exposed||(i.exposed={});P.forEach(X=>{Object.defineProperty(ne,X,{get:()=>l[X],set:z=>l[X]=z})})}else i.exposed||(i.exposed={});x&&i.render===Mo&&(i.render=x),H!=null&&(i.inheritAttrs=H),$&&(i.components=$),te&&(i.directives=te),F&&my(i)}function kS(i,r,l=Mo){qn(i)&&(i=iA(i));for(const m in i){const S=i[m];let D;cr(S)?"default"in S?D=Rr(S.from||m,S.default,!0):D=Rr(S.from||m):D=Rr(S),as(D)?Object.defineProperty(r,m,{enumerable:!0,configurable:!0,get:()=>D.value,set:j=>D.value=j}):r[m]=D}}function o1(i,r,l){So(qn(i)?i.map(m=>m.bind(r.proxy)):i.bind(r.proxy),r,l)}function vy(i,r,l,m){let S=m.includes(".")?Ry(l,m):()=>l[m];if(Mr(i)){const D=r[i];Jn(D)&&uc(S,D)}else if(Jn(i))uc(S,i.bind(l));else if(cr(i))if(qn(i))i.forEach(D=>vy(D,r,l,m));else{const D=Jn(i.handler)?i.handler.bind(l):r[i.handler];Jn(D)&&uc(S,D,i)}}function UA(i){const r=i.type,{mixins:l,extends:m}=r,{mixins:S,optionsCache:D,config:{optionMergeStrategies:j}}=i.appContext,M=D.get(r);let B;return M?B=M:!S.length&&!l&&!m?B=r:(B={},S.length&&S.forEach(u=>Pu(B,u,j,!0)),Pu(B,r,j)),cr(r)&&D.set(r,B),B}function Pu(i,r,l,m=!1){const{mixins:S,extends:D}=r;D&&Pu(i,D,l,!0),S&&S.forEach(j=>Pu(i,j,l,!0));for(const j in r)if(!(m&&j==="expose")){const M=FS[j]||l&&l[j];i[j]=M?M(i[j],r[j]):r[j]}return i}const FS={data:a1,props:l1,emits:l1,methods:ad,computed:ad,beforeCreate:As,created:As,beforeMount:As,mounted:As,beforeUpdate:As,updated:As,beforeDestroy:As,beforeUnmount:As,destroyed:As,unmounted:As,activated:As,deactivated:As,errorCaptured:As,serverPrefetch:As,components:ad,directives:ad,watch:NS,provide:a1,inject:US};function a1(i,r){return r?i?function(){return zr(Jn(i)?i.call(this,this):i,Jn(r)?r.call(this,this):r)}:r:i}function US(i,r){return ad(iA(i),iA(r))}function iA(i){if(qn(i)){const r={};for(let l=0;l<i.length;l++)r[i[l]]=i[l];return r}return i}function As(i,r){return i?[...new Set([].concat(i,r))]:r}function ad(i,r){return i?zr(Object.create(null),i,r):r}function l1(i,r){return i?qn(i)&&qn(r)?[...new Set([...i,...r])]:zr(Object.create(null),s1(i),s1(r!=null?r:{})):r}function NS(i,r){if(!i)return r;if(!r)return i;const l=zr(Object.create(null),i);for(const m in r)l[m]=As(i[m],r[m]);return l}function by(){return{app:null,config:{isNativeTag:wM,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let GS=0;function QS(i,r){return function(m,S=null){Jn(m)||(m=zr({},m)),S!=null&&!cr(S)&&(S=null);const D=by(),j=new WeakSet,M=[];let B=!1;const u=D.app={_uid:GS++,_component:m,_props:S,_container:null,_context:D,_instance:null,version:xI,get config(){return D.config},set config(p){},use(p,...w){return j.has(p)||(p&&Jn(p.install)?(j.add(p),p.install(u,...w)):Jn(p)&&(j.add(p),p(u,...w))),u},mixin(p){return D.mixins.includes(p)||D.mixins.push(p),u},component(p,w){return w?(D.components[p]=w,u):D.components[p]},directive(p,w){return w?(D.directives[p]=w,u):D.directives[p]},mount(p,w,A){if(!B){const b=u._ceVNode||Fn(m,S);return b.appContext=D,A===!0?A="svg":A===!1&&(A=void 0),w&&r?r(b,p):i(b,p,A),B=!0,u._container=p,p.__vue_app__=u,of(b.component)}},onUnmount(p){M.push(p)},unmount(){B&&(So(M,u._instance,16),i(null,u._container),delete u._container.__vue_app__)},provide(p,w){return D.provides[p]=w,u},runWithContext(p){const w=hc;hc=u;try{return p()}finally{hc=w}}};return u}}let hc=null;function ml(i,r){if(qr){let l=qr.provides;const m=qr.parent&&qr.parent.provides;m===l&&(l=qr.provides=Object.create(m)),l[i]=r}}function Rr(i,r,l=!1){const m=qr||Ss;if(m||hc){const S=hc?hc._context.provides:m?m.parent==null?m.vnode.appContext&&m.vnode.appContext.provides:m.parent.provides:void 0;if(S&&i in S)return S[i];if(arguments.length>1)return l&&Jn(r)?r.call(m&&m.proxy):r}}const yy={},Ey=()=>Object.create(yy),xy=i=>Object.getPrototypeOf(i)===yy;function HS(i,r,l,m=!1){const S={},D=Ey();i.propsDefaults=Object.create(null),Cy(i,r,S,D);for(const j in i.propsOptions[0])j in S||(S[j]=void 0);l?i.props=m?S:iy(S):i.type.props?i.props=S:i.props=D,i.attrs=D}function VS(i,r,l,m){const{props:S,attrs:D,vnode:{patchFlag:j}}=i,M=Fi(S),[B]=i.propsOptions;let u=!1;if((m||j>0)&&!(j&16)){if(j&8){const p=i.vnode.dynamicProps;for(let w=0;w<p.length;w++){let A=p[w];if(rf(i.emitsOptions,A))continue;const b=r[A];if(B)if(Ui(D,A))b!==D[A]&&(D[A]=b,u=!0);else{const d=Js(A);S[d]=rA(B,M,d,b,i,!1)}else b!==D[A]&&(D[A]=b,u=!0)}}}else{Cy(i,r,S,D)&&(u=!0);let p;for(const w in M)(!r||!Ui(r,w)&&((p=yl(w))===w||!Ui(r,p)))&&(B?l&&(l[w]!==void 0||l[p]!==void 0)&&(S[w]=rA(B,M,w,void 0,i,!0)):delete S[w]);if(D!==M)for(const w in D)(!r||!Ui(r,w))&&(delete D[w],u=!0)}u&&$o(i.attrs,"set","")}function Cy(i,r,l,m){const[S,D]=i.propsOptions;let j=!1,M;if(r)for(let B in r){if(cd(B))continue;const u=r[B];let p;S&&Ui(S,p=Js(B))?!D||!D.includes(p)?l[p]=u:(M||(M={}))[p]=u:rf(i.emitsOptions,B)||(!(B in m)||u!==m[B])&&(m[B]=u,j=!0)}if(D){const B=Fi(l),u=M||Xi;for(let p=0;p<D.length;p++){const w=D[p];l[w]=rA(S,B,w,u[w],i,!Ui(u,w))}}return j}function rA(i,r,l,m,S,D){const j=i[l];if(j!=null){const M=Ui(j,"default");if(M&&m===void 0){const B=j.default;if(j.type!==Function&&!j.skipFactory&&Jn(B)){const{propsDefaults:u}=S;if(l in u)m=u[l];else{const p=Od(S);m=u[l]=B.call(null,r),p()}}else m=B;S.ce&&S.ce._setProp(l,m)}j[0]&&(D&&!M?m=!1:j[1]&&(m===""||m===yl(l))&&(m=!0))}return m}const zS=new WeakMap;function wy(i,r,l=!1){const m=l?zS:r.propsCache,S=m.get(i);if(S)return S;const D=i.props,j={},M=[];let B=!1;if(!Jn(i)){const p=w=>{B=!0;const[A,b]=wy(w,r,!0);zr(j,A),b&&M.push(...b)};!l&&r.mixins.length&&r.mixins.forEach(p),i.extends&&p(i.extends),i.mixins&&i.mixins.forEach(p)}if(!D&&!B)return cr(i)&&m.set(i,ac),ac;if(qn(D))for(let p=0;p<D.length;p++){const w=Js(D[p]);c1(w)&&(j[w]=Xi)}else if(D)for(const p in D){const w=Js(p);if(c1(w)){const A=D[p],b=j[w]=qn(A)||Jn(A)?{type:A}:zr({},A),d=b.type;let g=!1,y=!0;if(qn(d))for(let f=0;f<d.length;++f){const E=d[f],C=Jn(E)&&E.name;if(C==="Boolean"){g=!0;break}else C==="String"&&(y=!1)}else g=Jn(d)&&d.name==="Boolean";b[0]=g,b[1]=y,(g||Ui(b,"default"))&&M.push(w)}}const u=[j,M];return cr(i)&&m.set(i,u),u}function c1(i){return i[0]!=="$"&&!cd(i)}const _y=i=>i[0]==="_"||i==="$stable",NA=i=>qn(i)?i.map(wo):[wo(i)],jS=(i,r,l)=>{if(r._n)return r;const m=ui((...S)=>NA(r(...S)),l);return m._c=!1,m},My=(i,r,l)=>{const m=i._ctx;for(const S in i){if(_y(S))continue;const D=i[S];if(Jn(D))r[S]=jS(S,D,m);else if(D!=null){const j=NA(D);r[S]=()=>j}}},Sy=(i,r)=>{const l=NA(r);i.slots.default=()=>l},Iy=(i,r,l)=>{for(const m in r)(l||m!=="_")&&(i[m]=r[m])},WS=(i,r,l)=>{const m=i.slots=Ey();if(i.vnode.shapeFlag&32){const S=r._;S?(Iy(m,r,l),l&&Nb(m,"_",S,!0)):My(r,m)}else r&&Sy(i,r)},KS=(i,r,l)=>{const{vnode:m,slots:S}=i;let D=!0,j=Xi;if(m.shapeFlag&32){const M=r._;M?l&&M===1?D=!1:Iy(S,r,l):(D=!r.$stable,My(r,S)),j=r}else r&&(Sy(i,r),j={default:1});if(D)for(const M in S)!_y(M)&&j[M]==null&&delete S[M]},Ms=aI;function XS(i){return YS(i)}function YS(i,r){const l=Ju();l.__VUE__=!0;const{insert:m,remove:S,patchProp:D,createElement:j,createText:M,createComment:B,setText:u,setElementText:p,parentNode:w,nextSibling:A,setScopeId:b=Mo,insertStaticContent:d}=i,g=(xe,Te,je,ot=null,Je=null,ut=null,Lt=void 0,_t=null,Pt=!!Te.dynamicChildren)=>{if(xe===Te)return;xe&&!rd(xe,Te)&&(ot=Fe(xe),be(xe,Je,ut,!0),xe=null),Te.patchFlag===-2&&(Pt=!1,Te.dynamicChildren=null);const{type:gt,ref:Kt,shapeFlag:Qt}=Te;switch(gt){case sf:y(xe,Te,je,ot);break;case Cd:f(xe,Te,je,ot);break;case Tm:xe==null&&E(Te,je,ot,Lt);break;case oo:$(xe,Te,je,ot,Je,ut,Lt,_t,Pt);break;default:Qt&1?x(xe,Te,je,ot,Je,ut,Lt,_t,Pt):Qt&6?te(xe,Te,je,ot,Je,ut,Lt,_t,Pt):(Qt&64||Qt&128)&&gt.process(xe,Te,je,ot,Je,ut,Lt,_t,Pt,it)}Kt!=null&&Je&&eA(Kt,xe&&xe.ref,ut,Te||xe,!Te)},y=(xe,Te,je,ot)=>{if(xe==null)m(Te.el=M(Te.children),je,ot);else{const Je=Te.el=xe.el;Te.children!==xe.children&&u(Je,Te.children)}},f=(xe,Te,je,ot)=>{xe==null?m(Te.el=B(Te.children||""),je,ot):Te.el=xe.el},E=(xe,Te,je,ot)=>{[xe.el,xe.anchor]=d(xe.children,Te,je,ot,xe.el,xe.anchor)},C=({el:xe,anchor:Te},je,ot)=>{let Je;for(;xe&&xe!==Te;)Je=A(xe),m(xe,je,ot),xe=Je;m(Te,je,ot)},v=({el:xe,anchor:Te})=>{let je;for(;xe&&xe!==Te;)je=A(xe),S(xe),xe=je;S(Te)},x=(xe,Te,je,ot,Je,ut,Lt,_t,Pt)=>{Te.type==="svg"?Lt="svg":Te.type==="math"&&(Lt="mathml"),xe==null?T(Te,je,ot,Je,ut,Lt,_t,Pt):F(xe,Te,Je,ut,Lt,_t,Pt)},T=(xe,Te,je,ot,Je,ut,Lt,_t)=>{let Pt,gt;const{props:Kt,shapeFlag:Qt,transition:Xt,dirs:En}=xe;if(Pt=xe.el=j(xe.type,ut,Kt&&Kt.is,Kt),Qt&8?p(Pt,xe.children):Qt&16&&R(xe.children,Pt,null,ot,Je,Sm(xe,ut),Lt,_t),En&&ll(xe,null,ot,"created"),L(Pt,xe,xe.scopeId,Lt,ot),Kt){for(const Bn in Kt)Bn!=="value"&&!cd(Bn)&&D(Pt,Bn,null,Kt[Bn],ut,ot);"value"in Kt&&D(Pt,"value",null,Kt.value,ut),(gt=Kt.onVnodeBeforeMount)&&xo(gt,ot,xe)}En&&ll(xe,null,ot,"beforeMount");const Dn=$S(Je,Xt);Dn&&Xt.beforeEnter(Pt),m(Pt,Te,je),((gt=Kt&&Kt.onVnodeMounted)||Dn||En)&&Ms(()=>{gt&&xo(gt,ot,xe),Dn&&Xt.enter(Pt),En&&ll(xe,null,ot,"mounted")},Je)},L=(xe,Te,je,ot,Je)=>{if(je&&b(xe,je),ot)for(let ut=0;ut<ot.length;ut++)b(xe,ot[ut]);if(Je){let ut=Je.subTree;if(Te===ut||Dy(ut.type)&&(ut.ssContent===Te||ut.ssFallback===Te)){const Lt=Je.vnode;L(xe,Lt,Lt.scopeId,Lt.slotScopeIds,Je.parent)}}},R=(xe,Te,je,ot,Je,ut,Lt,_t,Pt=0)=>{for(let gt=Pt;gt<xe.length;gt++){const Kt=xe[gt]=_t?Ca(xe[gt]):wo(xe[gt]);g(null,Kt,Te,je,ot,Je,ut,Lt,_t)}},F=(xe,Te,je,ot,Je,ut,Lt)=>{const _t=Te.el=xe.el;let{patchFlag:Pt,dynamicChildren:gt,dirs:Kt}=Te;Pt|=xe.patchFlag&16;const Qt=xe.props||Xi,Xt=Te.props||Xi;let En;if(je&&cl(je,!1),(En=Xt.onVnodeBeforeUpdate)&&xo(En,je,Te,xe),Kt&&ll(Te,xe,je,"beforeUpdate"),je&&cl(je,!0),(Qt.innerHTML&&Xt.innerHTML==null||Qt.textContent&&Xt.textContent==null)&&p(_t,""),gt?P(xe.dynamicChildren,gt,_t,je,ot,Sm(Te,Je),ut):Lt||X(xe,Te,_t,null,je,ot,Sm(Te,Je),ut,!1),Pt>0){if(Pt&16)H(_t,Qt,Xt,je,Je);else if(Pt&2&&Qt.class!==Xt.class&&D(_t,"class",null,Xt.class,Je),Pt&4&&D(_t,"style",Qt.style,Xt.style,Je),Pt&8){const Dn=Te.dynamicProps;for(let Bn=0;Bn<Dn.length;Bn++){const mt=Dn[Bn],pe=Qt[mt],fe=Xt[mt];(fe!==pe||mt==="value")&&D(_t,mt,pe,fe,Je,je)}}Pt&1&&xe.children!==Te.children&&p(_t,Te.children)}else!Lt&&gt==null&&H(_t,Qt,Xt,je,Je);((En=Xt.onVnodeUpdated)||Kt)&&Ms(()=>{En&&xo(En,je,Te,xe),Kt&&ll(Te,xe,je,"updated")},ot)},P=(xe,Te,je,ot,Je,ut,Lt)=>{for(let _t=0;_t<Te.length;_t++){const Pt=xe[_t],gt=Te[_t],Kt=Pt.el&&(Pt.type===oo||!rd(Pt,gt)||Pt.shapeFlag&70)?w(Pt.el):je;g(Pt,gt,Kt,null,ot,Je,ut,Lt,!0)}},H=(xe,Te,je,ot,Je)=>{if(Te!==je){if(Te!==Xi)for(const ut in Te)!cd(ut)&&!(ut in je)&&D(xe,ut,Te[ut],null,Je,ot);for(const ut in je){if(cd(ut))continue;const Lt=je[ut],_t=Te[ut];Lt!==_t&&ut!=="value"&&D(xe,ut,_t,Lt,Je,ot)}"value"in je&&D(xe,"value",Te.value,je.value,Je)}},$=(xe,Te,je,ot,Je,ut,Lt,_t,Pt)=>{const gt=Te.el=xe?xe.el:M(""),Kt=Te.anchor=xe?xe.anchor:M("");let{patchFlag:Qt,dynamicChildren:Xt,slotScopeIds:En}=Te;En&&(_t=_t?_t.concat(En):En),xe==null?(m(gt,je,ot),m(Kt,je,ot),R(Te.children||[],je,Kt,Je,ut,Lt,_t,Pt)):Qt>0&&Qt&64&&Xt&&xe.dynamicChildren?(P(xe.dynamicChildren,Xt,je,Je,ut,Lt,_t),(Te.key!=null||Je&&Te===Je.subTree)&&GA(xe,Te,!0)):X(xe,Te,je,Kt,Je,ut,Lt,_t,Pt)},te=(xe,Te,je,ot,Je,ut,Lt,_t,Pt)=>{Te.slotScopeIds=_t,xe==null?Te.shapeFlag&512?Je.ctx.activate(Te,je,ot,Lt,Pt):ee(Te,je,ot,Je,ut,Lt,Pt):de(xe,Te,Pt)},ee=(xe,Te,je,ot,Je,ut,Lt)=>{const _t=xe.component=mI(xe,ot,Je);if(Ay(xe)&&(_t.ctx.renderer=it),AI(_t,!1,Lt),_t.asyncDep){if(Je&&Je.registerDep(_t,ie,Lt),!xe.el){const Pt=_t.subTree=Fn(Cd);f(null,Pt,Te,je)}}else ie(_t,xe,Te,je,Je,ut,Lt)},de=(xe,Te,je)=>{const ot=Te.component=xe.component;if(sI(xe,Te,je))if(ot.asyncDep&&!ot.asyncResolved){ne(ot,Te,je);return}else ot.next=Te,ot.update();else Te.el=xe.el,ot.vnode=Te},ie=(xe,Te,je,ot,Je,ut,Lt)=>{const _t=()=>{if(xe.isMounted){let{next:Qt,bu:Xt,u:En,parent:Dn,vnode:Bn}=xe;{const ve=Ty(xe);if(ve){Qt&&(Qt.el=Bn.el,ne(xe,Qt,Lt)),ve.asyncDep.then(()=>{xe.isUnmounted||_t()});return}}let mt=Qt,pe;cl(xe,!1),Qt?(Qt.el=Bn.el,ne(xe,Qt,Lt)):Qt=Bn,Xt&&Em(Xt),(pe=Qt.props&&Qt.props.onVnodeBeforeUpdate)&&xo(pe,Dn,Qt,Bn),cl(xe,!0);const fe=Im(xe),Ie=xe.subTree;xe.subTree=fe,g(Ie,fe,w(Ie.el),Fe(Ie),xe,Je,ut),Qt.el=fe.el,mt===null&&oI(xe,fe.el),En&&Ms(En,Je),(pe=Qt.props&&Qt.props.onVnodeUpdated)&&Ms(()=>xo(pe,Dn,Qt,Bn),Je)}else{let Qt;const{el:Xt,props:En}=Te,{bm:Dn,m:Bn,parent:mt,root:pe,type:fe}=xe,Ie=fd(Te);if(cl(xe,!1),Dn&&Em(Dn),!Ie&&(Qt=En&&En.onVnodeBeforeMount)&&xo(Qt,mt,Te),cl(xe,!0),Xt&&Nt){const ve=()=>{xe.subTree=Im(xe),Nt(Xt,xe.subTree,xe,Je,null)};Ie&&fe.__asyncHydrate?fe.__asyncHydrate(Xt,xe,ve):ve()}else{pe.ce&&pe.ce._injectChildStyle(fe);const ve=xe.subTree=Im(xe);g(null,ve,je,ot,xe,Je,ut),Te.el=ve.el}if(Bn&&Ms(Bn,Je),!Ie&&(Qt=En&&En.onVnodeMounted)){const ve=Te;Ms(()=>xo(Qt,mt,ve),Je)}(Te.shapeFlag&256||mt&&fd(mt.vnode)&&mt.vnode.shapeFlag&256)&&xe.a&&Ms(xe.a,Je),xe.isMounted=!0,Te=je=ot=null}};xe.scope.on();const Pt=xe.effect=new Vb(_t);xe.scope.off();const gt=xe.update=Pt.run.bind(Pt),Kt=xe.job=Pt.runIfDirty.bind(Pt);Kt.i=xe,Kt.id=xe.uid,Pt.scheduler=()=>OA(Kt),cl(xe,!0),gt()},ne=(xe,Te,je)=>{Te.component=xe;const ot=xe.vnode.props;xe.vnode=Te,xe.next=null,VS(xe,Te.props,ot,je),KS(xe,Te.children,je),Ba(),t1(xe),Ra()},X=(xe,Te,je,ot,Je,ut,Lt,_t,Pt=!1)=>{const gt=xe&&xe.children,Kt=xe?xe.shapeFlag:0,Qt=Te.children,{patchFlag:Xt,shapeFlag:En}=Te;if(Xt>0){if(Xt&128){se(gt,Qt,je,ot,Je,ut,Lt,_t,Pt);return}else if(Xt&256){z(gt,Qt,je,ot,Je,ut,Lt,_t,Pt);return}}En&8?(Kt&16&&Xe(gt,Je,ut),Qt!==gt&&p(je,Qt)):Kt&16?En&16?se(gt,Qt,je,ot,Je,ut,Lt,_t,Pt):Xe(gt,Je,ut,!0):(Kt&8&&p(je,""),En&16&&R(Qt,je,ot,Je,ut,Lt,_t,Pt))},z=(xe,Te,je,ot,Je,ut,Lt,_t,Pt)=>{xe=xe||ac,Te=Te||ac;const gt=xe.length,Kt=Te.length,Qt=Math.min(gt,Kt);let Xt;for(Xt=0;Xt<Qt;Xt++){const En=Te[Xt]=Pt?Ca(Te[Xt]):wo(Te[Xt]);g(xe[Xt],En,je,null,Je,ut,Lt,_t,Pt)}gt>Kt?Xe(xe,Je,ut,!0,!1,Qt):R(Te,je,ot,Je,ut,Lt,_t,Pt,Qt)},se=(xe,Te,je,ot,Je,ut,Lt,_t,Pt)=>{let gt=0;const Kt=Te.length;let Qt=xe.length-1,Xt=Kt-1;for(;gt<=Qt&&gt<=Xt;){const En=xe[gt],Dn=Te[gt]=Pt?Ca(Te[gt]):wo(Te[gt]);if(rd(En,Dn))g(En,Dn,je,null,Je,ut,Lt,_t,Pt);else break;gt++}for(;gt<=Qt&&gt<=Xt;){const En=xe[Qt],Dn=Te[Xt]=Pt?Ca(Te[Xt]):wo(Te[Xt]);if(rd(En,Dn))g(En,Dn,je,null,Je,ut,Lt,_t,Pt);else break;Qt--,Xt--}if(gt>Qt){if(gt<=Xt){const En=Xt+1,Dn=En<Kt?Te[En].el:ot;for(;gt<=Xt;)g(null,Te[gt]=Pt?Ca(Te[gt]):wo(Te[gt]),je,Dn,Je,ut,Lt,_t,Pt),gt++}}else if(gt>Xt)for(;gt<=Qt;)be(xe[gt],Je,ut,!0),gt++;else{const En=gt,Dn=gt,Bn=new Map;for(gt=Dn;gt<=Xt;gt++){const J=Te[gt]=Pt?Ca(Te[gt]):wo(Te[gt]);J.key!=null&&Bn.set(J.key,gt)}let mt,pe=0;const fe=Xt-Dn+1;let Ie=!1,ve=0;const Me=new Array(fe);for(gt=0;gt<fe;gt++)Me[gt]=0;for(gt=En;gt<=Qt;gt++){const J=xe[gt];if(pe>=fe){be(J,Je,ut,!0);continue}let k;if(J.key!=null)k=Bn.get(J.key);else for(mt=Dn;mt<=Xt;mt++)if(Me[mt-Dn]===0&&rd(J,Te[mt])){k=mt;break}k===void 0?be(J,Je,ut,!0):(Me[k-Dn]=gt+1,k>=ve?ve=k:Ie=!0,g(J,Te[k],je,null,Je,ut,Lt,_t,Pt),pe++)}const Be=Ie?qS(Me):ac;for(mt=Be.length-1,gt=fe-1;gt>=0;gt--){const J=Dn+gt,k=Te[J],G=J+1<Kt?Te[J+1].el:ot;Me[gt]===0?g(null,k,je,G,Je,ut,Lt,_t,Pt):Ie&&(mt<0||gt!==Be[mt]?ae(k,je,G,2):mt--)}}},ae=(xe,Te,je,ot,Je=null)=>{const{el:ut,type:Lt,transition:_t,children:Pt,shapeFlag:gt}=xe;if(gt&6){ae(xe.component.subTree,Te,je,ot);return}if(gt&128){xe.suspense.move(Te,je,ot);return}if(gt&64){Lt.move(xe,Te,je,it);return}if(Lt===oo){m(ut,Te,je);for(let Qt=0;Qt<Pt.length;Qt++)ae(Pt[Qt],Te,je,ot);m(xe.anchor,Te,je);return}if(Lt===Tm){C(xe,Te,je);return}if(ot!==2&&gt&1&&_t)if(ot===0)_t.beforeEnter(ut),m(ut,Te,je),Ms(()=>_t.enter(ut),Je);else{const{leave:Qt,delayLeave:Xt,afterLeave:En}=_t,Dn=()=>m(ut,Te,je),Bn=()=>{Qt(ut,()=>{Dn(),En&&En()})};Xt?Xt(ut,Dn,Bn):Bn()}else m(ut,Te,je)},be=(xe,Te,je,ot=!1,Je=!1)=>{const{type:ut,props:Lt,ref:_t,children:Pt,dynamicChildren:gt,shapeFlag:Kt,patchFlag:Qt,dirs:Xt,cacheIndex:En}=xe;if(Qt===-2&&(Je=!1),_t!=null&&eA(_t,null,je,xe,!0),En!=null&&(Te.renderCache[En]=void 0),Kt&256){Te.ctx.deactivate(xe);return}const Dn=Kt&1&&Xt,Bn=!fd(xe);let mt;if(Bn&&(mt=Lt&&Lt.onVnodeBeforeUnmount)&&xo(mt,Te,xe),Kt&6)Ke(xe.component,je,ot);else{if(Kt&128){xe.suspense.unmount(je,ot);return}Dn&&ll(xe,null,Te,"beforeUnmount"),Kt&64?xe.type.remove(xe,Te,je,it,ot):gt&&!gt.hasOnce&&(ut!==oo||Qt>0&&Qt&64)?Xe(gt,Te,je,!1,!0):(ut===oo&&Qt&384||!Je&&Kt&16)&&Xe(Pt,Te,je),ot&&Re(xe)}(Bn&&(mt=Lt&&Lt.onVnodeUnmounted)||Dn)&&Ms(()=>{mt&&xo(mt,Te,xe),Dn&&ll(xe,null,Te,"unmounted")},je)},Re=xe=>{const{type:Te,el:je,anchor:ot,transition:Je}=xe;if(Te===oo){ke(je,ot);return}if(Te===Tm){v(xe);return}const ut=()=>{S(je),Je&&!Je.persisted&&Je.afterLeave&&Je.afterLeave()};if(xe.shapeFlag&1&&Je&&!Je.persisted){const{leave:Lt,delayLeave:_t}=Je,Pt=()=>Lt(je,ut);_t?_t(xe.el,ut,Pt):Pt()}else ut()},ke=(xe,Te)=>{let je;for(;xe!==Te;)je=A(xe),S(xe),xe=je;S(Te)},Ke=(xe,Te,je)=>{const{bum:ot,scope:Je,job:ut,subTree:Lt,um:_t,m:Pt,a:gt}=xe;d1(Pt),d1(gt),ot&&Em(ot),Je.stop(),ut&&(ut.flags|=8,be(Lt,xe,Te,je)),_t&&Ms(_t,Te),Ms(()=>{xe.isUnmounted=!0},Te),Te&&Te.pendingBranch&&!Te.isUnmounted&&xe.asyncDep&&!xe.asyncResolved&&xe.suspenseId===Te.pendingId&&(Te.deps--,Te.deps===0&&Te.resolve())},Xe=(xe,Te,je,ot=!1,Je=!1,ut=0)=>{for(let Lt=ut;Lt<xe.length;Lt++)be(xe[Lt],Te,je,ot,Je)},Fe=xe=>{if(xe.shapeFlag&6)return Fe(xe.component.subTree);if(xe.shapeFlag&128)return xe.suspense.next();const Te=A(xe.anchor||xe.el),je=Te&&Te[fy];return je?A(je):Te};let qe=!1;const rt=(xe,Te,je)=>{xe==null?Te._vnode&&be(Te._vnode,null,null,!0):g(Te._vnode||null,xe,Te,null,null,null,je),Te._vnode=xe,qe||(qe=!0,t1(),dy(),qe=!1)},it={p:g,um:be,m:ae,r:Re,mt:ee,mc:R,pc:X,pbc:P,n:Fe,o:i};let Ct,Nt;return{render:rt,hydrate:Ct,createApp:QS(rt,Ct)}}function Sm({type:i,props:r},l){return l==="svg"&&i==="foreignObject"||l==="mathml"&&i==="annotation-xml"&&r&&r.encoding&&r.encoding.includes("html")?void 0:l}function cl({effect:i,job:r},l){l?(i.flags|=32,r.flags|=4):(i.flags&=-33,r.flags&=-5)}function $S(i,r){return(!i||i&&!i.pendingBranch)&&r&&!r.persisted}function GA(i,r,l=!1){const m=i.children,S=r.children;if(qn(m)&&qn(S))for(let D=0;D<m.length;D++){const j=m[D];let M=S[D];M.shapeFlag&1&&!M.dynamicChildren&&((M.patchFlag<=0||M.patchFlag===32)&&(M=S[D]=Ca(S[D]),M.el=j.el),!l&&M.patchFlag!==-2&&GA(j,M)),M.type===sf&&(M.el=j.el)}}function qS(i){const r=i.slice(),l=[0];let m,S,D,j,M;const B=i.length;for(m=0;m<B;m++){const u=i[m];if(u!==0){if(S=l[l.length-1],i[S]<u){r[m]=S,l.push(m);continue}for(D=0,j=l.length-1;D<j;)M=D+j>>1,i[l[M]]<u?D=M+1:j=M;u<i[l[D]]&&(D>0&&(r[m]=l[D-1]),l[D]=m)}}for(D=l.length,j=l[D-1];D-- >0;)l[D]=j,j=r[j];return l}function Ty(i){const r=i.subTree.component;if(r)return r.asyncDep&&!r.asyncResolved?r:Ty(r)}function d1(i){if(i)for(let r=0;r<i.length;r++)i[r].flags|=8}const JS=Symbol.for("v-scx"),ZS=()=>Rr(JS);function uc(i,r,l){return By(i,r,l)}function By(i,r,l=Xi){const{immediate:m,deep:S,flush:D,once:j}=l,M=zr({},l),B=r&&m||!r&&D!=="post";let u;if(Md){if(D==="sync"){const b=ZS();u=b.__watcherHandles||(b.__watcherHandles=[])}else if(!B){const b=()=>{};return b.stop=Mo,b.resume=Mo,b.pause=Mo,b}}const p=qr;M.call=(b,d,g)=>So(b,p,d,g);let w=!1;D==="post"?M.scheduler=b=>{Ms(b,p&&p.suspense)}:D!=="sync"&&(w=!0,M.scheduler=(b,d)=>{d?b():OA(b)}),M.augmentJob=b=>{r&&(b.flags|=4),w&&(b.flags|=2,p&&(b.id=p.uid,b.i=p))};const A=lS(i,r,M);return Md&&(u?u.push(A):B&&A()),A}function eI(i,r,l){const m=this.proxy,S=Mr(i)?i.includes(".")?Ry(m,i):()=>m[i]:i.bind(m,m);let D;Jn(r)?D=r:(D=r.handler,l=r);const j=Od(this),M=By(S,D.bind(m),l);return j(),M}function Ry(i,r){const l=r.split(".");return()=>{let m=i;for(let S=0;S<l.length&&m;S++)m=m[l[S]];return m}}const tI=(i,r)=>r==="modelValue"||r==="model-value"?i.modelModifiers:i["".concat(r,"Modifiers")]||i["".concat(Js(r),"Modifiers")]||i["".concat(yl(r),"Modifiers")];function nI(i,r,...l){if(i.isUnmounted)return;const m=i.vnode.props||Xi;let S=l;const D=r.startsWith("update:"),j=D&&tI(m,r.slice(7));j&&(j.trim&&(S=l.map(p=>Mr(p)?p.trim():p)),j.number&&(S=l.map(TM)));let M,B=m[M=ym(r)]||m[M=ym(Js(r))];!B&&D&&(B=m[M=ym(yl(r))]),B&&So(B,i,6,S);const u=m[M+"Once"];if(u){if(!i.emitted)i.emitted={};else if(i.emitted[M])return;i.emitted[M]=!0,So(u,i,6,S)}}function Ly(i,r,l=!1){const m=r.emitsCache,S=m.get(i);if(S!==void 0)return S;const D=i.emits;let j={},M=!1;if(!Jn(i)){const B=u=>{const p=Ly(u,r,!0);p&&(M=!0,zr(j,p))};!l&&r.mixins.length&&r.mixins.forEach(B),i.extends&&B(i.extends),i.mixins&&i.mixins.forEach(B)}return!D&&!M?(cr(i)&&m.set(i,null),null):(qn(D)?D.forEach(B=>j[B]=null):zr(j,D),cr(i)&&m.set(i,j),j)}function rf(i,r){return!i||!Xu(r)?!1:(r=r.slice(2).replace(/Once$/,""),Ui(i,r[0].toLowerCase()+r.slice(1))||Ui(i,yl(r))||Ui(i,r))}function Im(i){const{type:r,vnode:l,proxy:m,withProxy:S,propsOptions:[D],slots:j,attrs:M,emit:B,render:u,renderCache:p,props:w,data:A,setupState:b,ctx:d,inheritAttrs:g}=i,y=Du(i);let f,E;try{if(l.shapeFlag&4){const v=S||m,x=v;f=wo(u.call(x,v,p,w,b,A,d)),E=M}else{const v=r;f=wo(v.length>1?v(w,{attrs:M,slots:j,emit:B}):v(w,null)),E=r.props?M:iI(M)}}catch(v){md.length=0,tf(v,i,1),f=Fn(Cd)}let C=f;if(E&&g!==!1){const v=Object.keys(E),{shapeFlag:x}=C;v.length&&x&7&&(D&&v.some(CA)&&(E=rI(E,D)),C=mc(C,E,!1,!0))}return l.dirs&&(C=mc(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(l.dirs):l.dirs),l.transition&&kA(C,l.transition),f=C,Du(y),f}const iI=i=>{let r;for(const l in i)(l==="class"||l==="style"||Xu(l))&&((r||(r={}))[l]=i[l]);return r},rI=(i,r)=>{const l={};for(const m in i)(!CA(m)||!(m.slice(9)in r))&&(l[m]=i[m]);return l};function sI(i,r,l){const{props:m,children:S,component:D}=i,{props:j,children:M,patchFlag:B}=r,u=D.emitsOptions;if(r.dirs||r.transition)return!0;if(l&&B>=0){if(B&1024)return!0;if(B&16)return m?h1(m,j,u):!!j;if(B&8){const p=r.dynamicProps;for(let w=0;w<p.length;w++){const A=p[w];if(j[A]!==m[A]&&!rf(u,A))return!0}}}else return(S||M)&&(!M||!M.$stable)?!0:m===j?!1:m?j?h1(m,j,u):!0:!!j;return!1}function h1(i,r,l){const m=Object.keys(r);if(m.length!==Object.keys(i).length)return!0;for(let S=0;S<m.length;S++){const D=m[S];if(r[D]!==i[D]&&!rf(l,D))return!0}return!1}function oI({vnode:i,parent:r},l){for(;r;){const m=r.subTree;if(m.suspense&&m.suspense.activeBranch===i&&(m.el=i.el),m===i)(i=r.vnode).el=l,r=r.parent;else break}}const Dy=i=>i.__isSuspense;function aI(i,r){r&&r.pendingBranch?qn(i)?r.effects.push(...i):r.effects.push(i):hS(i)}const oo=Symbol.for("v-fgt"),sf=Symbol.for("v-txt"),Cd=Symbol.for("v-cmt"),Tm=Symbol.for("v-stc"),md=[];let Gs=null;function Al(i=!1){md.push(Gs=i?null:[])}function lI(){md.pop(),Gs=md[md.length-1]||null}let wd=1;function u1(i){wd+=i,i<0&&Gs&&(Gs.hasOnce=!0)}function Py(i){return i.dynamicChildren=wd>0?Gs||ac:null,lI(),wd>0&&Gs&&Gs.push(i),i}function cI(i,r,l,m,S,D){return Py(ao(i,r,l,m,S,D,!0))}function pc(i,r,l,m,S){return Py(Fn(i,r,l,m,S,!0))}function _d(i){return i?i.__v_isVNode===!0:!1}function rd(i,r){return i.type===r.type&&i.key===r.key}const Oy=({key:i})=>i!=null?i:null,Iu=({ref:i,ref_key:r,ref_for:l})=>(typeof i=="number"&&(i=""+i),i!=null?Mr(i)||as(i)||Jn(i)?{i:Ss,r:i,k:r,f:!!l}:i:null);function ao(i,r=null,l=null,m=0,S=null,D=i===oo?0:1,j=!1,M=!1){const B={__v_isVNode:!0,__v_skip:!0,type:i,props:r,key:r&&Oy(r),ref:r&&Iu(r),scopeId:uy,slotScopeIds:null,children:l,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:D,patchFlag:m,dynamicProps:S,dynamicChildren:null,appContext:null,ctx:Ss};return M?(QA(B,l),D&128&&i.normalize(B)):l&&(B.shapeFlag|=Mr(l)?8:16),wd>0&&!j&&Gs&&(B.patchFlag>0||D&6)&&B.patchFlag!==32&&Gs.push(B),B}const Fn=dI;function dI(i,r=null,l=null,m=0,S=null,D=!1){if((!i||i===RS)&&(i=Cd),_d(i)){const M=mc(i,r,!0);return l&&QA(M,l),wd>0&&!D&&Gs&&(M.shapeFlag&6?Gs[Gs.indexOf(i)]=M:Gs.push(M)),M.patchFlag=-2,M}if(EI(i)&&(i=i.__vccOpts),r){r=hI(r);let{class:M,style:B}=r;M&&!Mr(M)&&(r.class=SA(M)),cr(B)&&(PA(B)&&!qn(B)&&(B=zr({},B)),r.style=MA(B))}const j=Mr(i)?1:Dy(i)?128:fS(i)?64:cr(i)?4:Jn(i)?2:0;return ao(i,r,l,m,S,j,D,!0)}function hI(i){return i?PA(i)||xy(i)?zr({},i):i:null}function mc(i,r,l=!1,m=!1){const{props:S,ref:D,patchFlag:j,children:M,transition:B}=i,u=r?uI(S||{},r):S,p={__v_isVNode:!0,__v_skip:!0,type:i.type,props:u,key:u&&Oy(u),ref:r&&r.ref?l&&D?qn(D)?D.concat(Iu(r)):[D,Iu(r)]:Iu(r):D,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:M,target:i.target,targetStart:i.targetStart,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:r&&i.type!==oo?j===-1?16:j|16:j,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:B,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&mc(i.ssContent),ssFallback:i.ssFallback&&mc(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx,ce:i.ce};return B&&m&&kA(p,B.clone(p)),p}function Zo(i=" ",r=0){return Fn(sf,null,i,r)}function wo(i){return i==null||typeof i=="boolean"?Fn(Cd):qn(i)?Fn(oo,null,i.slice()):_d(i)?Ca(i):Fn(sf,null,String(i))}function Ca(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:mc(i)}function QA(i,r){let l=0;const{shapeFlag:m}=i;if(r==null)r=null;else if(qn(r))l=16;else if(typeof r=="object")if(m&65){const S=r.default;S&&(S._c&&(S._d=!1),QA(i,S()),S._c&&(S._d=!0));return}else{l=32;const S=r._;!S&&!xy(r)?r._ctx=Ss:S===3&&Ss&&(Ss.slots._===1?r._=1:(r._=2,i.patchFlag|=1024))}else Jn(r)?(r={default:r,_ctx:Ss},l=32):(r=String(r),m&64?(l=16,r=[Zo(r)]):l=8);i.children=r,i.shapeFlag|=l}function uI(...i){const r={};for(let l=0;l<i.length;l++){const m=i[l];for(const S in m)if(S==="class")r.class!==m.class&&(r.class=SA([r.class,m.class]));else if(S==="style")r.style=MA([r.style,m.style]);else if(Xu(S)){const D=r[S],j=m[S];j&&D!==j&&!(qn(D)&&D.includes(j))&&(r[S]=D?[].concat(D,j):j)}else S!==""&&(r[S]=m[S])}return r}function xo(i,r,l,m=null){So(i,r,7,[l,m])}const fI=by();let pI=0;function mI(i,r,l){const m=i.type,S=(r?r.appContext:i.appContext)||fI,D={uid:pI++,vnode:i,type:m,parent:r,appContext:S,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new kM(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(S.provides),ids:r?r.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:wy(m,S),emitsOptions:Ly(m,S),emit:null,emitted:null,propsDefaults:Xi,inheritAttrs:m.inheritAttrs,ctx:Xi,data:Xi,props:Xi,attrs:Xi,slots:Xi,refs:Xi,setupState:Xi,setupContext:null,suspense:l,suspenseId:l?l.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return D.ctx={_:D},D.root=r?r.root:D,D.emit=nI.bind(null,D),i.ce&&i.ce(D),D}let qr=null;const HA=()=>qr||Ss;let Ou,sA;{const i=Ju(),r=(l,m)=>{let S;return(S=i[l])||(S=i[l]=[]),S.push(m),D=>{S.length>1?S.forEach(j=>j(D)):S[0](D)}};Ou=r("__VUE_INSTANCE_SETTERS__",l=>qr=l),sA=r("__VUE_SSR_SETTERS__",l=>Md=l)}const Od=i=>{const r=qr;return Ou(i),i.scope.on(),()=>{i.scope.off(),Ou(r)}},f1=()=>{qr&&qr.scope.off(),Ou(null)};function ky(i){return i.vnode.shapeFlag&4}let Md=!1;function AI(i,r=!1,l=!1){r&&sA(r);const{props:m,children:S}=i.vnode,D=ky(i);HS(i,m,D,r),WS(i,S,l);const j=D?gI(i,r):void 0;return r&&sA(!1),j}function gI(i,r){const l=i.type;i.accessCache=Object.create(null),i.proxy=new Proxy(i.ctx,PS);const{setup:m}=l;if(m){Ba();const S=i.setupContext=m.length>1?bI(i):null,D=Od(i),j=Pd(m,i,0,[i.props,S]),M=kb(j);if(Ra(),D(),(M||i.sp)&&!fd(i)&&my(i),M){if(j.then(f1,f1),r)return j.then(B=>{p1(i,B,r)}).catch(B=>{tf(B,i,0)});i.asyncDep=j}else p1(i,j,r)}else Fy(i,r)}function p1(i,r,l){Jn(r)?i.type.__ssrInlineRender?i.ssrRender=r:i.render=r:cr(r)&&(i.setupState=oy(r)),Fy(i,l)}let m1;function Fy(i,r,l){const m=i.type;if(!i.render){if(!r&&m1&&!m.render){const S=m.template||UA(i).template;if(S){const{isCustomElement:D,compilerOptions:j}=i.appContext.config,{delimiters:M,compilerOptions:B}=m,u=zr(zr({isCustomElement:D,delimiters:M},j),B);m.render=m1(S,u)}}i.render=m.render||Mo}{const S=Od(i);Ba();try{OS(i)}finally{Ra(),S()}}}const vI={get(i,r){return ss(i,"get",""),i[r]}};function bI(i){const r=l=>{i.exposed=l||{}};return{attrs:new Proxy(i.attrs,vI),slots:i.slots,emit:i.emit,expose:r}}function of(i){return i.exposed?i.exposeProxy||(i.exposeProxy=new Proxy(oy(nS(i.exposed)),{get(r,l){if(l in r)return r[l];if(l in pd)return pd[l](i)},has(r,l){return l in r||l in pd}})):i.proxy}function yI(i,r=!0){return Jn(i)?i.displayName||i.name:i.name||r&&i.__name}function EI(i){return Jn(i)&&"__vccOpts"in i}const Ys=(i,r)=>oS(i,r,Md);function ls(i,r,l){const m=arguments.length;return m===2?cr(r)&&!qn(r)?_d(r)?Fn(i,null,[r]):Fn(i,r):Fn(i,null,r):(m>3?l=Array.prototype.slice.call(arguments,2):m===3&&_d(l)&&(l=[l]),Fn(i,r,l))}const xI="3.5.12";/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let oA;const A1=typeof window<"u"&&window.trustedTypes;if(A1)try{oA=A1.createPolicy("vue",{createHTML:i=>i})}catch(i){}const Uy=oA?i=>oA.createHTML(i):i=>i,CI="http://www.w3.org/2000/svg",wI="http://www.w3.org/1998/Math/MathML",Xo=typeof document<"u"?document:null,g1=Xo&&Xo.createElement("template"),_I={insert:(i,r,l)=>{r.insertBefore(i,l||null)},remove:i=>{const r=i.parentNode;r&&r.removeChild(i)},createElement:(i,r,l,m)=>{const S=r==="svg"?Xo.createElementNS(CI,i):r==="mathml"?Xo.createElementNS(wI,i):l?Xo.createElement(i,{is:l}):Xo.createElement(i);return i==="select"&&m&&m.multiple!=null&&S.setAttribute("multiple",m.multiple),S},createText:i=>Xo.createTextNode(i),createComment:i=>Xo.createComment(i),setText:(i,r)=>{i.nodeValue=r},setElementText:(i,r)=>{i.textContent=r},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>Xo.querySelector(i),setScopeId(i,r){i.setAttribute(r,"")},insertStaticContent(i,r,l,m,S,D){const j=l?l.previousSibling:r.lastChild;if(S&&(S===D||S.nextSibling))for(;r.insertBefore(S.cloneNode(!0),l),!(S===D||!(S=S.nextSibling)););else{g1.innerHTML=Uy(m==="svg"?"<svg>".concat(i,"</svg>"):m==="mathml"?"<math>".concat(i,"</math>"):i);const M=g1.content;if(m==="svg"||m==="mathml"){const B=M.firstChild;for(;B.firstChild;)M.appendChild(B.firstChild);M.removeChild(B)}r.insertBefore(M,l)}return[j?j.nextSibling:r.firstChild,l?l.previousSibling:r.lastChild]}},MI=Symbol("_vtc");function SI(i,r,l){const m=i[MI];m&&(r=(r?[r,...m]:[...m]).join(" ")),r==null?i.removeAttribute("class"):l?i.setAttribute("class",r):i.className=r}const v1=Symbol("_vod"),II=Symbol("_vsh"),TI=Symbol(""),BI=/(^|;)\s*display\s*:/;function RI(i,r,l){const m=i.style,S=Mr(l);let D=!1;if(l&&!S){if(r)if(Mr(r))for(const j of r.split(";")){const M=j.slice(0,j.indexOf(":")).trim();l[M]==null&&Tu(m,M,"")}else for(const j in r)l[j]==null&&Tu(m,j,"");for(const j in l)j==="display"&&(D=!0),Tu(m,j,l[j])}else if(S){if(r!==l){const j=m[TI];j&&(l+=";"+j),m.cssText=l,D=BI.test(l)}}else r&&i.removeAttribute("style");v1 in i&&(i[v1]=D?m.display:"",i[II]&&(m.display="none"))}const b1=/\s*!important$/;function Tu(i,r,l){if(qn(l))l.forEach(m=>Tu(i,r,m));else if(l==null&&(l=""),r.startsWith("--"))i.setProperty(r,l);else{const m=LI(i,r);b1.test(l)?i.setProperty(yl(m),l.replace(b1,""),"important"):i[m]=l}}const y1=["Webkit","Moz","ms"],Bm={};function LI(i,r){const l=Bm[r];if(l)return l;let m=Js(r);if(m!=="filter"&&m in i)return Bm[r]=m;m=qu(m);for(let S=0;S<y1.length;S++){const D=y1[S]+m;if(D in i)return Bm[r]=D}return r}const E1="http://www.w3.org/1999/xlink";function x1(i,r,l,m,S,D=OM(r)){m&&r.startsWith("xlink:")?l==null?i.removeAttributeNS(E1,r.slice(6,r.length)):i.setAttributeNS(E1,r,l):l==null||D&&!Gb(l)?i.removeAttribute(r):i.setAttribute(r,D?"":Ta(l)?String(l):l)}function C1(i,r,l,m,S){if(r==="innerHTML"||r==="textContent"){l!=null&&(i[r]=r==="innerHTML"?Uy(l):l);return}const D=i.tagName;if(r==="value"&&D!=="PROGRESS"&&!D.includes("-")){const M=D==="OPTION"?i.getAttribute("value")||"":i.value,B=l==null?i.type==="checkbox"?"on":"":String(l);(M!==B||!("_value"in i))&&(i.value=B),l==null&&i.removeAttribute(r),i._value=l;return}let j=!1;if(l===""||l==null){const M=typeof i[r];M==="boolean"?l=Gb(l):l==null&&M==="string"?(l="",j=!0):M==="number"&&(l=0,j=!0)}try{i[r]=l}catch(M){}j&&i.removeAttribute(S||r)}function DI(i,r,l,m){i.addEventListener(r,l,m)}function PI(i,r,l,m){i.removeEventListener(r,l,m)}const w1=Symbol("_vei");function OI(i,r,l,m,S=null){const D=i[w1]||(i[w1]={}),j=D[r];if(m&&j)j.value=m;else{const[M,B]=kI(r);if(m){const u=D[r]=NI(m,S);DI(i,M,u,B)}else j&&(PI(i,M,j,B),D[r]=void 0)}}const _1=/(?:Once|Passive|Capture)$/;function kI(i){let r;if(_1.test(i)){r={};let m;for(;m=i.match(_1);)i=i.slice(0,i.length-m[0].length),r[m[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):yl(i.slice(2)),r]}let Rm=0;const FI=Promise.resolve(),UI=()=>Rm||(FI.then(()=>Rm=0),Rm=Date.now());function NI(i,r){const l=m=>{if(!m._vts)m._vts=Date.now();else if(m._vts<=l.attached)return;So(GI(m,l.value),r,5,[m])};return l.value=i,l.attached=UI(),l}function GI(i,r){if(qn(r)){const l=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{l.call(i),i._stopped=!0},r.map(m=>S=>!S._stopped&&m&&m(S))}else return r}const M1=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)>96&&i.charCodeAt(2)<123,QI=(i,r,l,m,S,D)=>{const j=S==="svg";r==="class"?SI(i,m,j):r==="style"?RI(i,l,m):Xu(r)?CA(r)||OI(i,r,l,m,D):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):HI(i,r,m,j))?(C1(i,r,m),!i.tagName.includes("-")&&(r==="value"||r==="checked"||r==="selected")&&x1(i,r,m,j,D,r!=="value")):i._isVueCE&&(/[A-Z]/.test(r)||!Mr(m))?C1(i,Js(r),m,D,r):(r==="true-value"?i._trueValue=m:r==="false-value"&&(i._falseValue=m),x1(i,r,m,j))};function HI(i,r,l,m){if(m)return!!(r==="innerHTML"||r==="textContent"||r in i&&M1(r)&&Jn(l));if(r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&i.tagName==="INPUT"||r==="type"&&i.tagName==="TEXTAREA")return!1;if(r==="width"||r==="height"){const S=i.tagName;if(S==="IMG"||S==="VIDEO"||S==="CANVAS"||S==="SOURCE")return!1}return M1(r)&&Mr(l)?!1:r in i}const VI=zr({patchProp:QI},_I);let S1;function zI(){return S1||(S1=XS(VI))}const jI=(...i)=>{const r=zI().createApp(...i),{mount:l}=r;return r.mount=m=>{const S=KI(m);if(!S)return;const D=r._component;!Jn(D)&&!D.render&&!D.template&&(D.template=S.innerHTML),S.nodeType===1&&(S.textContent="");const j=l(S,!1,WI(S));return S instanceof Element&&(S.removeAttribute("v-cloak"),S.setAttribute("data-v-app","")),j},r};function WI(i){if(i instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&i instanceof MathMLElement)return"mathml"}function KI(i){return Mr(i)?document.querySelector(i):i}const XI="modulepreload",YI=function(i){return"/"+i},I1={},Xs=function(r,l,m){let S=Promise.resolve();if(l&&l.length>0){document.getElementsByTagName("link");const D=document.querySelector("meta[property=csp-nonce]"),j=(D==null?void 0:D.nonce)||(D==null?void 0:D.getAttribute("nonce"));S=Promise.all(l.map(M=>{if(M=YI(M),M in I1)return;I1[M]=!0;const B=M.endsWith(".css"),u=B?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(M,'"]').concat(u)))return;const p=document.createElement("link");if(p.rel=B?"stylesheet":XI,B||(p.as="script",p.crossOrigin=""),p.href=M,j&&p.setAttribute("nonce",j),document.head.appendChild(p),B)return new Promise((w,A)=>{p.addEventListener("load",w),p.addEventListener("error",()=>A(new Error("Unable to preload CSS for ".concat(M))))})}))}return S.then(()=>r()).catch(D=>{const j=new Event("vite:preloadError",{cancelable:!0});if(j.payload=D,window.dispatchEvent(j),!j.defaultPrevented)throw D})};var $s={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},$I=Object.defineProperty,qI=(i,r)=>{for(var l in r)$I(i,l,{get:r[l],enumerable:!0})},JI={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Ny=new WeakMap,La=i=>Ny.get(i),ZI=(i,r)=>{const l={$flags$:0,$hostElement$:i,$cmpMeta$:r,$instanceValues$:new Map};return Ny.set(i,l)},T1=(i,r)=>r in i,kd=(i,r)=>(0,console.error)(i,r),ku=new Map,Gy=[],eT="slot-fb{display:contents}slot-fb[hidden]{display:none}",B1="http://www.w3.org/1999/xlink",Fd=typeof window<"u"?window:{},co=Fd.document||{head:{}},sr=Fd.HTMLElement||class{},jr={$flags$:0,$resourcesUrl$:"",jmp:i=>i(),raf:i=>requestAnimationFrame(i),ael:(i,r,l,m)=>i.addEventListener(r,l,m),rel:(i,r,l,m)=>i.removeEventListener(r,l,m),ce:(i,r)=>new CustomEvent(i,r)},tT=i=>{Object.assign(jr,i)},nT=(()=>{let i=!1;try{co.addEventListener("e",null,Object.defineProperty({},"passive",{get(){i=!0}}))}catch(r){}return i})(),iT=i=>Promise.resolve(i),rT=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(i){}return!1})(),aA=!1,lA=[],Qy=[],Hy=(i,r)=>l=>{i.push(l),aA||(aA=!0,r&&jr.$flags$&4?sT(cA):jr.raf(cA))},R1=i=>{for(let r=0;r<i.length;r++)try{i[r](performance.now())}catch(l){kd(l)}i.length=0},cA=()=>{R1(lA),R1(Qy),(aA=lA.length>0)&&jr.raf(cA)},sT=i=>iT().then(i),Sd=Hy(lA,!1),Ia=Hy(Qy,!0),Vy=i=>{const r=new URL(i,jr.$resourcesUrl$);return r.origin!==Fd.location.origin?r.href:r.pathname},L1={},oT="http://www.w3.org/2000/svg",aT="http://www.w3.org/1999/xhtml",lT=i=>i!=null,VA=i=>(i=typeof i,i==="object"||i==="function");function cT(i){var r,l,m;return(m=(l=(r=i.head)==null?void 0:r.querySelector('meta[name="csp-nonce"]'))==null?void 0:l.getAttribute("content"))!=null?m:void 0}var dT={};qI(dT,{err:()=>zy,map:()=>hT,ok:()=>dA,unwrap:()=>uT,unwrapErr:()=>fT});var dA=i=>({isOk:!0,isErr:!1,value:i}),zy=i=>({isOk:!1,isErr:!0,value:i});function hT(i,r){if(i.isOk){const l=r(i.value);return l instanceof Promise?l.then(m=>dA(m)):dA(l)}if(i.isErr){const l=i.value;return zy(l)}throw"should never get here"}var uT=i=>{if(i.isOk)return i.value;throw i.value},fT=i=>{if(i.isErr)return i.value;throw i.value},vl=(i,r="")=>()=>{},Wt=(i,r,...l)=>{let m=null,S=null,D=null,j=!1,M=!1;const B=[],u=w=>{for(let A=0;A<w.length;A++)m=w[A],Array.isArray(m)?u(m):m!=null&&typeof m!="boolean"&&((j=typeof i!="function"&&!VA(m))&&(m=String(m)),j&&M?B[B.length-1].$text$+=m:B.push(j?Fu(null,m):m),M=j)};if(u(l),r){r.key&&(S=r.key),r.name&&(D=r.name);{const w=r.className||r.class;w&&(r.class=typeof w!="object"?w:Object.keys(w).filter(A=>w[A]).join(" "))}}if(typeof i=="function")return i(r===null?{}:r,B,mT);const p=Fu(i,null);return p.$attrs$=r,B.length>0&&(p.$children$=B),p.$key$=S,p.$name$=D,p},Fu=(i,r)=>{const l={$flags$:0,$tag$:i,$text$:r,$elm$:null,$children$:null};return l.$attrs$=null,l.$key$=null,l.$name$=null,l},dr={},pT=i=>i&&i.$tag$===dr,mT={forEach:(i,r)=>i.map(D1).forEach(r),map:(i,r)=>i.map(D1).map(r).map(AT)},D1=i=>({vattrs:i.$attrs$,vchildren:i.$children$,vkey:i.$key$,vname:i.$name$,vtag:i.$tag$,vtext:i.$text$}),AT=i=>{if(typeof i.vtag=="function"){const l={...i.vattrs};return i.vkey&&(l.key=i.vkey),i.vname&&(l.name=i.vname),Wt(i.vtag,l,...i.vchildren||[])}const r=Fu(i.vtag,i.vtext);return r.$attrs$=i.vattrs,r.$children$=i.vchildren,r.$key$=i.vkey,r.$name$=i.vname,r},gT=i=>Gy.map(r=>r(i)).find(r=>!!r),vT=i=>Gy.push(i),bT=i=>La(i).$modeName$,yT=(i,r)=>i!=null&&!VA(i)?r&4?i==="false"?!1:i===""||!!i:r&2?parseFloat(i):r&1?String(i):i:i,ET=i=>i,Ar=(i,r,l)=>{const m=ET(i);return{emit:S=>xT(m,r,{bubbles:!!(l&4),composed:!!(l&2),cancelable:!!(l&1),detail:S})}},xT=(i,r,l)=>{const m=jr.ce(r,l);return i.dispatchEvent(m),m},P1=new WeakMap,CT=(i,r,l)=>{let m=ku.get(i);rT&&l?(m=m||new CSSStyleSheet,typeof m=="string"?m=r:m.replaceSync(r)):m=r,ku.set(i,m)},wT=(i,r,l)=>{var m;const S=jy(r,l),D=ku.get(S);if(i=i.nodeType===11?i:co,D)if(typeof D=="string"){i=i.head||i;let j=P1.get(i),M;if(j||P1.set(i,j=new Set),!j.has(S)){{M=co.createElement("style"),M.innerHTML=D;const B=(m=jr.$nonce$)!=null?m:cT(co);B!=null&&M.setAttribute("nonce",B),(!(r.$flags$&1)||r.$flags$&1&&i.nodeName!=="HEAD")&&i.insertBefore(M,i.querySelector("link"))}r.$flags$&4&&(M.innerHTML+=eT),j&&j.add(S)}}else i.adoptedStyleSheets.includes(D)||(i.adoptedStyleSheets=[...i.adoptedStyleSheets,D]);return S},_T=i=>{const r=i.$cmpMeta$,l=i.$hostElement$,m=r.$flags$,S=vl("attachStyles",r.$tagName$),D=wT(l.shadowRoot?l.shadowRoot:l.getRootNode(),r,i.$modeName$);m&10&&m&2&&(l["s-sc"]=D,l.classList.add(D+"-h"),m&2&&l.classList.add(D+"-s")),S()},jy=(i,r)=>"sc-"+(r&&i.$flags$&32?i.$tagName$+"-"+r:i.$tagName$),O1=(i,r,l,m,S,D)=>{if(l!==m){let j=T1(i,r),M=r.toLowerCase();if(r==="class"){const B=i.classList,u=k1(l),p=k1(m);B.remove(...u.filter(w=>w&&!p.includes(w))),B.add(...p.filter(w=>w&&!u.includes(w)))}else if(r==="style"){for(const B in l)(!m||m[B]==null)&&(B.includes("-")?i.style.removeProperty(B):i.style[B]="");for(const B in m)(!l||m[B]!==l[B])&&(B.includes("-")?i.style.setProperty(B,m[B]):i.style[B]=m[B])}else if(r!=="key")if(r==="ref")m&&m(i);else if(!i.__lookupSetter__(r)&&r[0]==="o"&&r[1]==="n"){if(r[2]==="-"?r=r.slice(3):T1(Fd,M)?r=M.slice(2):r=M[2]+r.slice(3),l||m){const B=r.endsWith(Wy);r=r.replace(ST,""),l&&jr.rel(i,r,l,B),m&&jr.ael(i,r,m,B)}}else{const B=VA(m);if((j||B&&m!==null)&&!S)try{if(i.tagName.includes("-"))i[r]=m;else{const p=m==null?"":m;r==="list"?j=!1:(l==null||i[r]!=p)&&(i[r]=p)}}catch(p){}let u=!1;M!==(M=M.replace(/^xlink\:?/,""))&&(r=M,u=!0),m==null||m===!1?(m!==!1||i.getAttribute(r)==="")&&(u?i.removeAttributeNS(B1,r):i.removeAttribute(r)):(!j||D&4||S)&&!B&&(m=m===!0?"":m,u?i.setAttributeNS(B1,r,m):i.setAttribute(r,m))}}},MT=/\s/,k1=i=>i?i.split(MT):[],Wy="Capture",ST=new RegExp(Wy+"$"),Ky=(i,r,l)=>{const m=r.$elm$.nodeType===11&&r.$elm$.host?r.$elm$.host:r.$elm$,S=i&&i.$attrs$||L1,D=r.$attrs$||L1;for(const j of F1(Object.keys(S)))j in D||O1(m,j,S[j],void 0,l,r.$flags$);for(const j of F1(Object.keys(D)))O1(m,j,S[j],D[j],l,r.$flags$)};function F1(i){return i.includes("ref")?[...i.filter(r=>r!=="ref"),"ref"]:i}var ic,hA,Ac,Uu=!1,Nu=!1,zA=!1,Ns=!1,Gu=(i,r,l,m)=>{var S;const D=r.$children$[l];let j=0,M,B,u;if(Uu||(zA=!0,D.$tag$==="slot"&&(ic&&m.classList.add(ic+"-s"),D.$flags$|=D.$children$?2:1)),D.$text$!==null)M=D.$elm$=co.createTextNode(D.$text$);else if(D.$flags$&1)M=D.$elm$=co.createTextNode("");else{if(Ns||(Ns=D.$tag$==="svg"),M=D.$elm$=co.createElementNS(Ns?oT:aT,!Uu&&$s.slotRelocation&&D.$flags$&2?"slot-fb":D.$tag$),Ns&&D.$tag$==="foreignObject"&&(Ns=!1),Ky(null,D,Ns),!!M.getRootNode().querySelector("body")&&$s.scoped&&lT(ic)&&M["s-si"]!==ic&&M.classList.add(M["s-si"]=ic),WA(M,m),D.$children$)for(j=0;j<D.$children$.length;++j)B=Gu(i,D,j,M),B&&M.appendChild(B);D.$tag$==="svg"?Ns=!1:M.tagName==="foreignObject"&&(Ns=!0)}return M["s-hn"]=Ac,D.$flags$&3&&(M["s-sr"]=!0,M["s-cr"]=hA,M["s-sn"]=D.$name$||"",M["s-rf"]=(S=D.$attrs$)==null?void 0:S.ref,u=i&&i.$children$&&i.$children$[l],u&&u.$tag$===D.$tag$&&i.$elm$&&Id(i.$elm$,!1)),M},Id=(i,r)=>{jr.$flags$|=1;const l=Array.from(i.childNodes);if(i["s-sr"]&&$s.experimentalSlotFixes){let m=i;for(;m=m.nextSibling;)m&&m["s-sn"]===i["s-sn"]&&m["s-sh"]===Ac&&l.push(m)}for(let m=l.length-1;m>=0;m--){const S=l[m];S["s-hn"]!==Ac&&S["s-ol"]&&(Sa($y(S),S,jA(S)),S["s-ol"].remove(),S["s-ol"]=void 0,S["s-sh"]=void 0,zA=!0),r&&Id(S,r)}jr.$flags$&=-2},Xy=(i,r,l,m,S,D)=>{let j=i["s-cr"]&&i["s-cr"].parentNode||i,M;for(j.shadowRoot&&j.tagName===Ac&&(j=j.shadowRoot);S<=D;++S)m[S]&&(M=Gu(null,l,S,i),M&&(m[S].$elm$=M,Sa(j,M,jA(r))))},Yy=(i,r,l)=>{for(let m=r;m<=l;++m){const S=i[m];if(S){const D=S.$elm$;Zy(S),D&&(Nu=!0,D["s-ol"]?D["s-ol"].remove():Id(D,!0),D.remove())}}},IT=(i,r,l,m,S=!1)=>{let D=0,j=0,M=0,B=0,u=r.length-1,p=r[0],w=r[u],A=m.length-1,b=m[0],d=m[A],g,y;for(;D<=u&&j<=A;)if(p==null)p=r[++D];else if(w==null)w=r[--u];else if(b==null)b=m[++j];else if(d==null)d=m[--A];else if(yu(p,b,S))rc(p,b,S),p=r[++D],b=m[++j];else if(yu(w,d,S))rc(w,d,S),w=r[--u],d=m[--A];else if(yu(p,d,S))(p.$tag$==="slot"||d.$tag$==="slot")&&Id(p.$elm$.parentNode,!1),rc(p,d,S),Sa(i,p.$elm$,w.$elm$.nextSibling),p=r[++D],d=m[--A];else if(yu(w,b,S))(p.$tag$==="slot"||d.$tag$==="slot")&&Id(w.$elm$.parentNode,!1),rc(w,b,S),Sa(i,w.$elm$,p.$elm$),w=r[--u],b=m[++j];else{for(M=-1,B=D;B<=u;++B)if(r[B]&&r[B].$key$!==null&&r[B].$key$===b.$key$){M=B;break}M>=0?(y=r[M],y.$tag$!==b.$tag$?g=Gu(r&&r[j],l,M,i):(rc(y,b,S),r[M]=void 0,g=y.$elm$),b=m[++j]):(g=Gu(r&&r[j],l,j,i),b=m[++j]),g&&Sa($y(p.$elm$),g,jA(p.$elm$))}D>u?Xy(i,m[A+1]==null?null:m[A+1].$elm$,l,m,j,A):j>A&&Yy(r,D,u)},yu=(i,r,l=!1)=>i.$tag$===r.$tag$?i.$tag$==="slot"?"$nodeId$"in i&&l&&i.$elm$.nodeType!==8?!1:i.$name$===r.$name$:l?!0:i.$key$===r.$key$:!1,jA=i=>i&&i["s-ol"]||i,$y=i=>(i["s-ol"]?i["s-ol"]:i).parentNode,rc=(i,r,l=!1)=>{const m=r.$elm$=i.$elm$,S=i.$children$,D=r.$children$,j=r.$tag$,M=r.$text$;let B;M===null?(Ns=j==="svg"?!0:j==="foreignObject"?!1:Ns,j==="slot"&&!Uu||Ky(i,r,Ns),S!==null&&D!==null?IT(m,S,r,D,l):D!==null?(i.$text$!==null&&(m.textContent=""),Xy(m,null,r,D,0,D.length-1)):!l&&$s.updatable&&S!==null&&Yy(S,0,S.length-1),Ns&&j==="svg"&&(Ns=!1)):(B=m["s-cr"])?B.parentNode.textContent=M:i.$text$!==M&&(m.data=M)},qy=i=>{const r=i.childNodes;for(const l of r)if(l.nodeType===1){if(l["s-sr"]){const m=l["s-sn"];l.hidden=!1;for(const S of r)if(S!==l){if(S["s-hn"]!==l["s-hn"]||m!==""){if(S.nodeType===1&&(m===S.getAttribute("slot")||m===S["s-sn"])||S.nodeType===3&&m===S["s-sn"]){l.hidden=!0;break}}else if(S.nodeType===1||S.nodeType===3&&S.textContent.trim()!==""){l.hidden=!0;break}}}qy(l)}},Yo=[],Jy=i=>{let r,l,m;for(const S of i.childNodes){if(S["s-sr"]&&(r=S["s-cr"])&&r.parentNode){l=r.parentNode.childNodes;const D=S["s-sn"];for(m=l.length-1;m>=0;m--)if(r=l[m],!r["s-cn"]&&!r["s-nr"]&&r["s-hn"]!==S["s-hn"]&&!$s.experimentalSlotFixes)if(U1(r,D)){let j=Yo.find(M=>M.$nodeToRelocate$===r);Nu=!0,r["s-sn"]=r["s-sn"]||D,j?(j.$nodeToRelocate$["s-sh"]=S["s-hn"],j.$slotRefNode$=S):(r["s-sh"]=S["s-hn"],Yo.push({$slotRefNode$:S,$nodeToRelocate$:r})),r["s-sr"]&&Yo.map(M=>{U1(M.$nodeToRelocate$,r["s-sn"])&&(j=Yo.find(B=>B.$nodeToRelocate$===r),j&&!M.$slotRefNode$&&(M.$slotRefNode$=j.$slotRefNode$))})}else Yo.some(j=>j.$nodeToRelocate$===r)||Yo.push({$nodeToRelocate$:r})}S.nodeType===1&&Jy(S)}},U1=(i,r)=>i.nodeType===1?i.getAttribute("slot")===null&&r===""||i.getAttribute("slot")===r:i["s-sn"]===r?!0:r==="",Zy=i=>{i.$attrs$&&i.$attrs$.ref&&i.$attrs$.ref(null),i.$children$&&i.$children$.map(Zy)},Sa=(i,r,l)=>{const m=i==null?void 0:i.insertBefore(r,l);return WA(r,i),m},eE=i=>{const r=[];return i&&r.push(...i["s-scs"]||[],i["s-si"],i["s-sc"],...eE(i.parentElement)),r},WA=(i,r,l=!1)=>{var m;if(i&&r&&i.nodeType===1){const S=new Set(eE(r).filter(Boolean));if(S.size&&((m=i.classList)==null||m.add(...i["s-scs"]=[...S]),i["s-ol"]||l))for(const D of Array.from(i.childNodes))WA(D,i,!0)}},TT=(i,r,l=!1)=>{var m,S,D,j,M;const B=i.$hostElement$,u=i.$cmpMeta$,p=i.$vnode$||Fu(null,null),w=pT(r)?r:Wt(null,null,r);if(Ac=B.tagName,u.$attrsToReflect$&&(w.$attrs$=w.$attrs$||{},u.$attrsToReflect$.map(([A,b])=>w.$attrs$[b]=B[A])),l&&w.$attrs$)for(const A of Object.keys(w.$attrs$))B.hasAttribute(A)&&!["key","ref","style","class"].includes(A)&&(w.$attrs$[A]=B[A]);w.$tag$=null,w.$flags$|=4,i.$vnode$=w,w.$elm$=p.$elm$=B.shadowRoot||B,ic=B["s-sc"],Uu=(u.$flags$&1)!==0,hA=B["s-cr"],Nu=!1,rc(p,w,l);{if(jr.$flags$|=1,zA){Jy(w.$elm$);for(const A of Yo){const b=A.$nodeToRelocate$;if(!b["s-ol"]){const d=co.createTextNode("");d["s-nr"]=b,Sa(b.parentNode,b["s-ol"]=d,b)}}for(const A of Yo){const b=A.$nodeToRelocate$,d=A.$slotRefNode$;if(d){const g=d.parentNode;let y=d.nextSibling;{let f=(m=b["s-ol"])==null?void 0:m.previousSibling;for(;f;){let E=(S=f["s-nr"])!=null?S:null;if(E&&E["s-sn"]===b["s-sn"]&&g===E.parentNode){for(E=E.nextSibling;E===b||E!=null&&E["s-sr"];)E=E==null?void 0:E.nextSibling;if(!E||!E["s-nr"]){y=E;break}}f=f.previousSibling}}(!y&&g!==b.parentNode||b.nextSibling!==y)&&b!==y&&(!b["s-hn"]&&b["s-ol"]&&(b["s-hn"]=b["s-ol"].parentNode.nodeName),Sa(g,b,y),b.nodeType===1&&(b.hidden=(D=b["s-ih"])!=null?D:!1)),b&&typeof d["s-rf"]=="function"&&d["s-rf"](b)}else b.nodeType===1&&(l&&(b["s-ih"]=(j=b.hidden)!=null?j:!1),b.hidden=!0)}}Nu&&qy(w.$elm$),jr.$flags$&=-2,Yo.length=0}if($s.experimentalScopedSlotChanges&&u.$flags$&2)for(const A of w.$elm$.childNodes)A["s-hn"]!==Ac&&!A["s-sh"]&&(l&&A["s-ih"]==null&&(A["s-ih"]=(M=A.hidden)!=null?M:!1),A.hidden=!0);hA=void 0},BT=(i,r)=>{},KA=(i,r)=>(i.$flags$|=16,BT(i,i.$ancestorComponent$),Ia(()=>RT(i,r))),RT=(i,r)=>{const l=i.$hostElement$,m=vl("scheduleUpdate",i.$cmpMeta$.$tagName$),S=l;if(!S)throw new Error("Can't render component <".concat(l.tagName.toLowerCase()," /> with invalid Stencil runtime! Make sure this imported component is compiled with a `externalRuntime: true` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime"));let D;return r?D=fc(S,"componentWillLoad"):D=fc(S,"componentWillUpdate"),D=N1(D,()=>fc(S,"componentWillRender")),m(),N1(D,()=>DT(i,S,r))},N1=(i,r)=>LT(i)?i.then(r).catch(l=>{console.error(l),r()}):r(),LT=i=>i instanceof Promise||i&&i.then&&typeof i.then=="function",DT=async(i,r,l)=>{const m=i.$hostElement$,S=vl("update",i.$cmpMeta$.$tagName$);m["s-rc"],l&&_T(i);const D=vl("render",i.$cmpMeta$.$tagName$);PT(i,r,m,l),D(),S(),OT(i)},G1=null,PT=(i,r,l,m)=>{try{G1=r,r=r.render&&r.render(),i.$flags$&=-17,i.$flags$|=2,($s.hasRenderFn||$s.reflect)&&($s.vdomRender||$s.reflect)&&($s.hydrateServerSide||TT(i,r,m))}catch(B){kd(B,i.$hostElement$)}return G1=null,null},OT=i=>{const r=i.$cmpMeta$.$tagName$,l=i.$hostElement$,m=vl("postUpdate",r),S=l;i.$ancestorComponent$,fc(S,"componentDidRender"),i.$flags$&64?(fc(S,"componentDidUpdate"),m()):(i.$flags$|=64,fc(S,"componentDidLoad"),m())},Td=i=>{{const r=La(i),l=r.$hostElement$.isConnected;return l&&(r.$flags$&18)===2&&KA(r,!1),l}},fc=(i,r,l)=>{if(i&&i[r])try{return i[r](l)}catch(m){kd(m)}},kT=(i,r)=>La(i).$instanceValues$.get(r),FT=(i,r,l,m)=>{const S=La(i),D=i,j=S.$instanceValues$.get(r),M=S.$flags$,B=D;l=yT(l,m.$members$[r][0]);const u=Number.isNaN(j)&&Number.isNaN(l);if(l!==j&&!u){S.$instanceValues$.set(r,l);{if(m.$watchers$&&M&128){const w=m.$watchers$[r];w&&w.map(A=>{try{B[A](l,j,r)}catch(b){kd(b,D)}})}if((M&18)===2){if(B.componentShouldUpdate&&B.componentShouldUpdate(l,j,r)===!1)return;KA(S,!1)}}}},UT=(i,r,l)=>{var m,S;const D=i.prototype;if(r.$members$||r.$watchers$||i.watchers){i.watchers&&!r.$watchers$&&(r.$watchers$=i.watchers);const j=Object.entries((m=r.$members$)!=null?m:{});j.map(([M,[B]])=>{(B&31||B&32)&&Object.defineProperty(D,M,{get(){return kT(this,M)},set(u){FT(this,M,u,r)},configurable:!0,enumerable:!0})});{const M=new Map;D.attributeChangedCallback=function(B,u,p){jr.jmp(()=>{var w;const A=M.get(B);if(this.hasOwnProperty(A))p=this[A],delete this[A];else{if(D.hasOwnProperty(A)&&typeof this[A]=="number"&&this[A]==p)return;if(A==null){const b=La(this),d=b==null?void 0:b.$flags$;if(d&&!(d&8)&&d&128&&p!==u){const y=this,f=(w=r.$watchers$)==null?void 0:w[B];f==null||f.forEach(E=>{y[E]!=null&&y[E].call(y,p,u,B)})}return}}this[A]=p===null&&typeof this[A]=="boolean"?!1:p})},i.observedAttributes=Array.from(new Set([...Object.keys((S=r.$watchers$)!=null?S:{}),...j.filter(([B,u])=>u[0]&15).map(([B,u])=>{var p;const w=u[1]||B;return M.set(w,B),u[0]&512&&((p=r.$attrsToReflect$)==null||p.push([B,w])),w})]))}}return i},NT=async(i,r,l,m)=>{let S;if(!(r.$flags$&32)){r.$flags$|=32,l.$lazyBundleId$;{S=i.constructor;const j=i.localName;customElements.whenDefined(j).then(()=>r.$flags$|=128)}if(S&&S.style){let j;typeof S.style=="string"?j=S.style:typeof S.style!="string"&&(r.$modeName$=gT(i),r.$modeName$&&(j=S.style[r.$modeName$]));const M=jy(l,r.$modeName$);if(!ku.has(M)){const B=vl("registerStyles",l.$tagName$);CT(M,j,!!(l.$flags$&1)),B()}}}r.$ancestorComponent$,KA(r,!0)},Q1=i=>{},GT=i=>{if(!(jr.$flags$&1)){const r=La(i),l=r.$cmpMeta$,m=vl("connectedCallback",l.$tagName$);r.$flags$&1?(tE(i,r,l.$listeners$),r!=null&&r.$lazyInstance$?Q1(r.$lazyInstance$):r!=null&&r.$onReadyPromise$&&r.$onReadyPromise$.then(()=>Q1(r.$lazyInstance$))):(r.$flags$|=1,l.$flags$&12&&QT(i),l.$members$&&Object.entries(l.$members$).map(([S,[D]])=>{if(D&31&&i.hasOwnProperty(S)){const j=i[S];delete i[S],i[S]=j}}),NT(i,r,l)),m()}},QT=i=>{const r=i["s-cr"]=co.createComment("");r["s-cn"]=!0,Sa(i,r,i.firstChild)},HT=async i=>{if(!(jr.$flags$&1)){const r=La(i);r.$rmListeners$&&(r.$rmListeners$.map(l=>l()),r.$rmListeners$=void 0)}},or=(i,r)=>{const l={$flags$:r[0],$tagName$:r[1]};l.$members$=r[2],l.$listeners$=r[3],l.$watchers$=i.$watchers$,l.$attrsToReflect$=[];const m=i.prototype.connectedCallback,S=i.prototype.disconnectedCallback;return Object.assign(i.prototype,{__registerHost(){ZI(this,l)},connectedCallback(){const D=La(this);tE(this,D,l.$listeners$),GT(this),m&&m.call(this)},disconnectedCallback(){HT(this),S&&S.call(this)},__attachShadow(){if(!this.shadowRoot)this.attachShadow({mode:"open",delegatesFocus:!!(l.$flags$&16)});else if(this.shadowRoot.mode!=="open")throw new Error("Unable to re-use existing shadow root for ".concat(l.$tagName$,"! Mode is set to ").concat(this.shadowRoot.mode," but Stencil only supports open shadow roots."))}}),i.is=l.$tagName$,UT(i,l)},tE=(i,r,l,m)=>{l&&l.map(([S,D,j])=>{const M=zT(i,S),B=VT(r,j),u=jT(S);jr.ael(M,D,B,u),(r.$rmListeners$=r.$rmListeners$||[]).push(()=>jr.rel(M,D,B,u))})},VT=(i,r)=>l=>{var m;try{$s.lazyLoad||i.$hostElement$[r](l)}catch(S){kd(S)}},zT=(i,r)=>r&4?co:r&8?Fd:r&16?co.body:i,jT=i=>nT?{passive:(i&1)!==0,capture:(i&2)!==0}:(i&2)!==0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Qu=(i,r)=>{i.componentOnReady?i.componentOnReady().then(l=>r(l)):XA(()=>r(i))},uA=i=>i.componentOnReady!==void 0,af=(i,r=[])=>{const l={};return r.forEach(m=>{i.hasAttribute(m)&&(i.getAttribute(m)!==null&&(l[m]=i.getAttribute(m)),i.removeAttribute(m))}),l},WT=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],lf=(i,r)=>af(i,WT),U6=(i,r,l,m)=>{var S;if(typeof window<"u"){const D=window,j=(S=D==null?void 0:D.Ionic)===null||S===void 0?void 0:S.config;if(j){const M=j.get("_ael");if(M)return M(i,r,l,m);if(j._ael)return j._ael(i,r,l,m)}}return i.addEventListener(r,l,m)},N6=(i,r,l,m)=>{var S;if(typeof window<"u"){const D=window,j=(S=D==null?void 0:D.Ionic)===null||S===void 0?void 0:S.config;if(j){const M=j.get("_rel");if(M)return M(i,r,l,m);if(j._rel)return j._rel(i,r,l,m)}}return i.removeEventListener(r,l,m)},XA=i=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(i):typeof requestAnimationFrame=="function"?requestAnimationFrame(i):setTimeout(i),KT=i=>!!i.shadowRoot&&!!i.attachShadow,nE=(i,r,l)=>Math.max(i,Math.min(r,l)),_s=(i,r)=>{if(!i){const l="ASSERT: "+r;console.error(l);debugger;throw new Error(l)}},G6=i=>{if(i){const r=i.changedTouches;if(r&&r.length>0){const l=r[0];return{x:l.clientX,y:l.clientY}}if(i.pageX!==void 0)return{x:i.pageX,y:i.pageY}}return{x:0,y:0}},iE=(i,r)=>{if(i!=null||(i={}),r!=null||(r={}),i===r)return!0;const l=Object.keys(i);if(l.length!==Object.keys(r).length)return!1;for(const m of l)if(!(m in r)||i[m]!==r[m])return!1;return!0};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const XT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",YT="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",H1="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class $T{constructor(){this.m=new Map}reset(r){this.m=new Map(Object.entries(r))}get(r,l){const m=this.m.get(r);return m!==void 0?m:l}getBoolean(r,l=!1){const m=this.m.get(r);return m===void 0?l:typeof m=="string"?m==="true":!!m}getNumber(r,l){const m=parseFloat(this.m.get(r));return isNaN(m)?l!==void 0?l:NaN:m}set(r,l){this.m.set(r,l)}}const Hi=new $T,qT=i=>{try{const r=i.sessionStorage.getItem(rE);return r!==null?JSON.parse(r):{}}catch(r){return{}}},JT=(i,r)=>{try{i.sessionStorage.setItem(rE,JSON.stringify(r))}catch(l){return}},ZT=i=>{const r={};return i.location.search.slice(1).split("&").map(l=>l.split("=")).map(([l,m])=>{try{return[decodeURIComponent(l),decodeURIComponent(m)]}catch(S){return["",""]}}).filter(([l])=>eB(l,V1)).map(([l,m])=>[l.slice(V1.length),m]).forEach(([l,m])=>{r[l]=m}),r},eB=(i,r)=>i.substr(0,r.length)===r,V1="ionic:",rE="ionic-persist-config",tB=i=>sE(i),_a=(i,r)=>(typeof i=="string"&&(r=i,i=void 0),tB(i).includes(r)),sE=(i=window)=>{if(typeof i>"u")return[];i.Ionic=i.Ionic||{};let r=i.Ionic.platforms;return r==null&&(r=i.Ionic.platforms=nB(i),r.forEach(l=>i.document.documentElement.classList.add("plt-".concat(l)))),r},nB=i=>{const r=Hi.get("platform");return Object.keys(z1).filter(l=>{const m=r==null?void 0:r[l];return typeof m=="function"?m(i):z1[l](i)})},iB=i=>cf(i)&&!aE(i),YA=i=>!!(bl(i,/iPad/i)||bl(i,/Macintosh/i)&&cf(i)),rB=i=>bl(i,/iPhone/i),sB=i=>bl(i,/iPhone|iPod/i)||YA(i),oE=i=>bl(i,/android|sink/i),oB=i=>oE(i)&&!bl(i,/mobile/i),aB=i=>{const r=i.innerWidth,l=i.innerHeight,m=Math.min(r,l),S=Math.max(r,l);return m>390&&m<520&&S>620&&S<800},lB=i=>{const r=i.innerWidth,l=i.innerHeight,m=Math.min(r,l),S=Math.max(r,l);return YA(i)||oB(i)||m>460&&m<820&&S>780&&S<1400},cf=i=>uB(i,"(any-pointer:coarse)"),cB=i=>!cf(i),aE=i=>lE(i)||cE(i),lE=i=>!!(i.cordova||i.phonegap||i.PhoneGap),cE=i=>{const r=i.Capacitor;return!!(r!=null&&r.isNative)},dB=i=>bl(i,/electron/i),hB=i=>{var r;return!!(!((r=i.matchMedia)===null||r===void 0)&&r.call(i,"(display-mode: standalone)").matches||i.navigator.standalone)},bl=(i,r)=>r.test(i.navigator.userAgent),uB=(i,r)=>{var l;return(l=i.matchMedia)===null||l===void 0?void 0:l.call(i,r).matches},z1={ipad:YA,iphone:rB,ios:sB,android:oE,phablet:aB,tablet:lB,cordova:lE,capacitor:cE,electron:dB,pwa:hB,mobile:cf,mobileweb:iB,desktop:cB,hybrid:aE};let sc;const Ji=i=>i&&bT(i)||sc,fB=(i={})=>{if(typeof window>"u")return;const r=window.document,l=window,m=l.Ionic=l.Ionic||{},S={};i._ael&&(S.ael=i._ael),i._rel&&(S.rel=i._rel),i._ce&&(S.ce=i._ce),tT(S);const D=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},qT(l)),{persistConfig:!1}),m.config),ZT(l)),i);Hi.reset(D),Hi.getBoolean("persistConfig")&&JT(l,D),sE(l),m.config=Hi,m.mode=sc=Hi.get("mode",r.documentElement.getAttribute("mode")||(_a(l,"ios")?"ios":"md")),Hi.set("mode",sc),r.documentElement.setAttribute("mode",sc),r.documentElement.classList.add(sc),Hi.getBoolean("_testing")&&Hi.set("animated",!1);const j=B=>{var u;return(u=B.tagName)===null||u===void 0?void 0:u.startsWith("ION-")},M=B=>["ios","md"].includes(B);vT(B=>{for(;B;){const u=B.mode||B.getAttribute("mode");if(u){if(M(u))return u;j(B)&&console.warn('Invalid ionic mode: "'+u+'", expected: "ios" or "md"')}B=B.parentElement}return sc})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let Lm;const pB=()=>{if(typeof window>"u")return new Map;if(!Lm){const i=window;i.Ionicons=i.Ionicons||{},Lm=i.Ionicons.map=i.Ionicons.map||new Map}return Lm},mB=i=>{let r=Dm(i.src);return r||(r=dE(i.name,i.icon,i.mode,i.ios,i.md),r?AB(r,i):i.icon&&(r=Dm(i.icon),r||(r=Dm(i.icon[i.mode]),r))?r:null)},AB=(i,r)=>{const l=pB().get(i);if(l)return l;try{return Vy("svg/".concat(i,".svg"))}catch(m){console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(i,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),r)}},dE=(i,r,l,m,S)=>(l=(l&&Eu(l))==="ios"?"ios":"md",m&&l==="ios"?i=Eu(m):S&&l==="md"?i=Eu(S):(!i&&r&&!hE(r)&&(i=r),Hu(i)&&(i=Eu(i))),!Hu(i)||i.trim()===""||i.replace(/[a-z]|-|\d/gi,"")!==""?null:i),Dm=i=>Hu(i)&&(i=i.trim(),hE(i))?i:null,hE=i=>i.length>0&&/(\/|\.)/.test(i),Hu=i=>typeof i=="string",Eu=i=>i.toLowerCase(),gB=(i,r=[])=>{const l={};return r.forEach(m=>{i.hasAttribute(m)&&(i.getAttribute(m)!==null&&(l[m]=i.getAttribute(m)),i.removeAttribute(m))}),l},vB=i=>i&&i.dir!==""?i.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",bB=i=>{const r=document.createElement("div");r.innerHTML=i;for(let m=r.childNodes.length-1;m>=0;m--)r.childNodes[m].nodeName.toLowerCase()!=="svg"&&r.removeChild(r.childNodes[m]);const l=r.firstElementChild;if(l&&l.nodeName.toLowerCase()==="svg"){const m=l.getAttribute("class")||"";if(l.setAttribute("class",(m+" s-ion-icon").trim()),uE(l))return r.innerHTML}return""},uE=i=>{if(i.nodeType===1){if(i.nodeName.toLowerCase()==="script")return!1;for(let r=0;r<i.attributes.length;r++){const l=i.attributes[r].name;if(Hu(l)&&l.toLowerCase().indexOf("on")===0)return!1}for(let r=0;r<i.childNodes.length;r++)if(!uE(i.childNodes[r]))return!1}return!0},yB=i=>i.startsWith("data:image/svg+xml"),EB=i=>i.indexOf(";utf8,")!==-1,ul=new Map,j1=new Map;let Pm;const xB=(i,r)=>{let l=j1.get(i);if(!l)if(typeof fetch<"u"&&typeof document<"u")if(yB(i)&&EB(i)){Pm||(Pm=new DOMParser);const S=Pm.parseFromString(i,"text/html").querySelector("svg");return S&&ul.set(i,S.outerHTML),Promise.resolve()}else l=fetch(i).then(m=>{if(m.ok)return m.text().then(S=>{S&&r!==!1&&(S=bB(S)),ul.set(i,S||"")});ul.set(i,"")}),j1.set(i,l);else return ul.set(i,""),Promise.resolve();return l},CB=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",wB=CB,_B=or(class extends sr{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=MB(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=gB(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(r,l,m){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const S=this.io=new window.IntersectionObserver(D=>{D[0].isIntersecting&&(S.disconnect(),this.io=void 0,m())},{rootMargin:l});S.observe(r)}else m()}loadIcon(){if(this.isVisible){const r=mB(this);r&&(ul.has(r)?this.svgContent=ul.get(r):xB(r,this.sanitize).then(()=>this.svgContent=ul.get(r)),this.didLoadIcon=!0)}this.iconName=dE(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:r,iconName:l,inheritedAttributes:m,el:S}=this,D=this.mode||"md",j=l?(l.includes("arrow")||l.includes("chevron"))&&r!==!1:!1,M=r||j;return Wt(dr,Object.assign({role:"img",class:Object.assign(Object.assign({[D]:!0},SB(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":M,"icon-rtl":M&&vB(S)})},m),this.svgContent?Wt("div",{class:"icon-inner",innerHTML:this.svgContent}):Wt("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return wB}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]},void 0,{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}]),MB=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",SB=i=>i?{"ion-color":!0,["ion-color-".concat(i)]:!0}:null;function fE(){if(typeof customElements>"u")return;["ion-icon"].forEach(r=>{switch(r){case"ion-icon":customElements.get(r)||customElements.define(r,_B);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ad=(i,...r)=>console.warn("[Ionic Warning]: ".concat(i),...r),IB=(i,...r)=>console.error("<".concat(i.tagName.toLowerCase(),"> must be used inside ").concat(r.join(" or "),"."));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const TB=":host{border-radius:var(--border-radius);display:block}::slotted(ion-img),::slotted(img){border-radius:var(--border-radius);width:100%;height:100%;-o-object-fit:cover;object-fit:cover;overflow:hidden}:host{--border-radius:50%;width:48px;height:48px}",BB=TB,RB=":host{border-radius:var(--border-radius);display:block}::slotted(ion-img),::slotted(img){border-radius:var(--border-radius);width:100%;height:100%;-o-object-fit:cover;object-fit:cover;overflow:hidden}:host{--border-radius:50%;width:64px;height:64px}",LB=RB,DB=or(class extends sr{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return Wt(dr,{key:"dc1e3cd535e419eebe5599574fd2393ebfde8bbc",class:Ji(this)},Wt("slot",{key:"edb8441c063ea592b41345ea97d88ecd90cb3052"}))}static get style(){return{ios:BB,md:LB}}},[33,"ion-avatar"]);function PB(){if(typeof customElements>"u")return;["ion-avatar"].forEach(r=>{switch(r){case"ion-avatar":customElements.get(r)||customElements.define(r,DB);break}})}const OB=PB;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ho=(i,r)=>r.closest(i)!==null,ta=(i,r)=>typeof i=="string"&&i.length>0?Object.assign({"ion-color":!0,["ion-color-".concat(i)]:!0},r):r,kB=/^[a-z][a-z0-9+\-.]*:/,$A=async(i,r,l,m)=>{if(i!=null&&i[0]!=="#"&&!kB.test(i)){const S=document.querySelector("ion-router");if(S)return r!=null&&r.preventDefault(),S.push(i,l,m)}return!1};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const FB=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",UB=FB,NB=or(class extends sr{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(r,l){return new Promise(m=>{Sd(()=>{const S=this.el.getBoundingClientRect(),D=S.width,j=S.height,M=Math.sqrt(D*D+j*j),B=Math.max(j,D),u=this.unbounded?B:M+QB,p=Math.floor(B*HB),w=u/p;let A=r-S.left,b=l-S.top;this.unbounded&&(A=D*.5,b=j*.5);const d=A-p*.5,g=b-p*.5,y=D*.5-A,f=j*.5-b;Ia(()=>{const E=document.createElement("div");E.classList.add("ripple-effect");const C=E.style;C.top=g+"px",C.left=d+"px",C.width=C.height=p+"px",C.setProperty("--final-scale","".concat(w)),C.setProperty("--translate-end","".concat(y,"px, ").concat(f,"px")),(this.el.shadowRoot||this.el).appendChild(E),setTimeout(()=>{m(()=>{GB(E)})},325)})})})}get unbounded(){return this.type==="unbounded"}render(){const r=Ji(this);return Wt(dr,{key:"2302f087ab1c6755355736e4ca77309c5fdcf185",role:"presentation",class:{[r]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return UB}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),GB=i=>{i.classList.add("fade-out"),setTimeout(()=>{i.remove()},200)},QB=10,HB=.5;function df(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(r=>{switch(r){case"ion-ripple-effect":customElements.get(r)||customElements.define(r,NB);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const VB=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #0054e9);--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:14px;--padding-top:13px;--padding-bottom:13px;--padding-start:1em;--padding-end:1em;--transition:background-color, opacity 100ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:3.1em;font-size:min(1rem, 48px);font-weight:500;letter-spacing:0}:host(.button-solid){--background-activated:var(--ion-color-primary-shade, #004acd);--background-focused:var(--ion-color-primary-shade, #004acd);--background-hover:var(--ion-color-primary-tint, #1a65eb);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1}:host(.button-outline){--border-radius:14px;--border-width:1px;--border-style:solid;--background-activated:var(--ion-color-primary, #0054e9);--background-focused:var(--ion-color-primary, #0054e9);--background-hover:transparent;--background-focused-opacity:.1;--color-activated:var(--ion-color-primary-contrast, #fff)}:host(.button-clear){--background-activated:transparent;--background-activated-opacity:0;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:transparent;--background-focused-opacity:.1;font-size:min(1.0625rem, 51px);font-weight:normal}:host(.in-buttons){font-size:clamp(17px, 1.0625rem, 21.08px);font-weight:400}:host(.button-large){--border-radius:16px;--padding-top:17px;--padding-start:1em;--padding-end:1em;--padding-bottom:17px;min-height:3.1em;font-size:min(1.25rem, 60px)}:host(.button-small){--border-radius:6px;--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:min(0.8125rem, 39px)}:host(.button-round){--border-radius:999px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-strong){font-weight:600}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:var(--padding-top);--padding-end:var(--padding-top);--padding-start:var(--padding-end);min-width:clamp(30px, 2.125em, 60px);min-height:clamp(30px, 2.125em, 60px)}::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.12px, 1.125em, 43.02px)}:host(.button-small.button-has-icon-only){min-width:clamp(23px, 2.16em, 54px);min-height:clamp(23px, 2.16em, 54px)}:host(.button-small) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(12.1394px, 1.308125em, 40.1856px)}:host(.button-large.button-has-icon-only){min-width:clamp(46px, 2.5em, 78px);min-height:clamp(46px, 2.5em, 78px)}:host(.button-large) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.12px, 0.9em, 43.056px)}:host(.button-outline.ion-focused.ion-color) .button-native,:host(.button-clear.ion-focused.ion-color) .button-native{color:var(--ion-color-base)}:host(.button-outline.ion-focused.ion-color) .button-native::after,:host(.button-clear.ion-focused.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.button-clear:not(.ion-activated):hover),:host(.button-outline:not(.ion-activated):hover){opacity:0.6}:host(.button-clear.ion-color:hover) .button-native,:host(.button-outline.ion-color:hover) .button-native{color:var(--ion-color-base)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:transparent}:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}:host(:hover.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color):not(.ion-activated)) .button-native::after{background:#fff;opacity:0.1}}:host(.button-clear.ion-activated){opacity:0.4}:host(.button-outline.ion-activated.ion-color) .button-native{color:var(--ion-color-contrast)}:host(.button-outline.ion-activated.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}',zB=VB,jB=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #0054e9);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #0054e9);--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #0054e9)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:4px;--padding-top:8px;--padding-bottom:8px;--padding-start:1.1em;--padding-end:1.1em;--transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),\n                background-color 15ms linear,\n                color 15ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:36px;font-size:0.875rem;font-weight:500;letter-spacing:0.06em;text-transform:uppercase}:host(.button-solid){--background-activated:transparent;--background-hover:var(--ion-color-primary-contrast, #fff);--background-focused:var(--ion-color-primary-contrast, #fff);--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}:host(.button-solid.ion-activated){--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)}:host(.button-outline){--border-width:2px;--border-style:solid;--box-shadow:none;--background-activated:transparent;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:var(--ion-color-primary, #0054e9);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-outline.ion-activated.ion-color) .button-native{background:transparent}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #0054e9);--background-hover:var(--ion-color-primary, #0054e9);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-round){--border-radius:999px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-large){--padding-top:14px;--padding-start:1em;--padding-end:1em;--padding-bottom:14px;min-height:2.8em;font-size:1.25rem}:host(.button-small){--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:0.8125rem}:host(.button-strong){font-weight:bold}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:var(--padding-top);--padding-end:var(--padding-top);--padding-start:var(--padding-end);min-width:clamp(30px, 2.86em, 60px);min-height:clamp(30px, 2.86em, 60px)}::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.104px, 1.6em, 43.008px)}:host(.button-small.button-has-icon-only){min-width:clamp(23px, 2.16em, 54px);min-height:clamp(23px, 2.16em, 54px)}:host(.button-small) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(13.002px, 1.23125em, 40.385px)}:host(.button-large.button-has-icon-only){min-width:clamp(46px, 2.5em, 78px);min-height:clamp(46px, 2.5em, 78px)}:host(.button-large) ::slotted(ion-icon[slot=icon-only]){font-size:clamp(15.008px, 1.4em, 43.008px)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color.ion-focused) .button-native::after,:host(.button-outline.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-background, var(--color));color:var(--ion-toolbar-color, var(--background), var(--ion-color-primary-contrast, #fff))}',WB=jB,KB=or(class extends sr{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=Ar(this,"ionFocus",7),this.ionBlur=Ar(this,"ionBlur",7),this.inItem=!1,this.inListHeader=!1,this.inToolbar=!1,this.formButtonEl=null,this.formEl=null,this.inheritedAttributes={},this.handleClick=r=>{const{el:l}=this;this.type==="button"?$A(this.href,r,this.routerDirection,this.routerAnimation):KT(l)&&this.submitForm(r)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.slotChanged=()=>{this.isCircle=this.hasIconOnly},this.isCircle=!1,this.color=void 0,this.buttonType="button",this.disabled=!1,this.expand=void 0,this.fill=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.download=void 0,this.href=void 0,this.rel=void 0,this.shape=void 0,this.size=void 0,this.strong=!1,this.target=void 0,this.type="button",this.form=void 0}disabledChanged(){const{disabled:r}=this;this.formButtonEl&&(this.formButtonEl.disabled=r)}renderHiddenButton(){const r=this.formEl=this.findForm();if(r){const{formButtonEl:l}=this;if(l!==null&&r.contains(l))return;const m=this.formButtonEl=document.createElement("button");m.type=this.type,m.style.display="none",m.disabled=this.disabled,r.appendChild(m)}}componentWillLoad(){this.inToolbar=!!this.el.closest("ion-buttons"),this.inListHeader=!!this.el.closest("ion-list-header"),this.inItem=!!this.el.closest("ion-item")||!!this.el.closest("ion-item-divider"),this.inheritedAttributes=lf(this.el)}get hasIconOnly(){return!!this.el.querySelector('[slot="icon-only"]')}get rippleType(){return(this.fill===void 0||this.fill==="clear")&&this.hasIconOnly&&this.inToolbar?"unbounded":"bounded"}findForm(){const{form:r}=this;if(r instanceof HTMLFormElement)return r;if(typeof r=="string"){const l=document.getElementById(r);return l?l instanceof HTMLFormElement?l:(Ad('Form with selector: "#'.concat(r,'" could not be found. Verify that the id is attached to a <form> element.'),this.el),null):(Ad('Form with selector: "#'.concat(r,'" could not be found. Verify that the id is correct and the form is rendered in the DOM.'),this.el),null)}return r!==void 0?(Ad('The provided "form" element is invalid. Verify that the form is a HTMLFormElement and rendered in the DOM.',this.el),null):this.el.closest("form")}submitForm(r){this.formEl&&this.formButtonEl&&(r.preventDefault(),this.formButtonEl.click())}render(){const r=Ji(this),{buttonType:l,type:m,disabled:S,rel:D,target:j,size:M,href:B,color:u,expand:p,hasIconOnly:w,shape:A,strong:b,inheritedAttributes:d}=this,g=M===void 0&&this.inItem?"small":M,y=B===void 0?"button":"a",f=y==="button"?{type:m}:{download:this.download,href:B,rel:D,target:j};let E=this.fill;return E==null&&(E=this.inToolbar||this.inListHeader?"clear":"solid"),m!=="button"&&this.renderHiddenButton(),Wt(dr,{key:"8f3a0363d46ef888d22b0b0812c70cb4f79e6efa",onClick:this.handleClick,"aria-disabled":S?"true":null,class:ta(u,{[r]:!0,[l]:!0,["".concat(l,"-").concat(p)]:p!==void 0,["".concat(l,"-").concat(g)]:g!==void 0,["".concat(l,"-").concat(A)]:A!==void 0,["".concat(l,"-").concat(E)]:!0,["".concat(l,"-strong")]:b,"in-toolbar":ho("ion-toolbar",this.el),"in-toolbar-color":ho("ion-toolbar[color]",this.el),"in-buttons":ho("ion-buttons",this.el),"button-has-icon-only":w,"button-disabled":S,"ion-activatable":!0,"ion-focusable":!0})},Wt(y,Object.assign({key:"a517c7d06aab15ad4c2a51b8ec224c1aeb4ed565"},f,{class:"button-native",part:"native",disabled:S,onFocus:this.onFocus,onBlur:this.onBlur},d),Wt("span",{key:"127c26dd97c0bf5097433df77df7313d59784899",class:"button-inner"},Wt("slot",{key:"39d9a9cad8e1addbe63406062e555e05c2cb541b",name:"icon-only",onSlotchange:this.slotChanged}),Wt("slot",{key:"cfdebdd89155c6c21eb80e51e06456a3a6d877e0",name:"start"}),Wt("slot",{key:"eac497e0f97ab55baa834ae23155d89b0f7069c6"}),Wt("slot",{key:"c99f7900f8856b32a0b4ac11092d461f5e9a1109",name:"end"})),r==="md"&&Wt("ion-ripple-effect",{key:"c681edb0480879fbd801575f2233f6e118898638",type:this.rippleType})))}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return{ios:zB,md:WB}}},[33,"ion-button",{color:[513],buttonType:[1025,"button-type"],disabled:[516],expand:[513],fill:[1537],routerDirection:[1,"router-direction"],routerAnimation:[16],download:[1],href:[1],rel:[1],shape:[513],size:[513],strong:[4],target:[1],type:[1],form:[1],isCircle:[32]},void 0,{disabled:["disabledChanged"]}]);function XB(){if(typeof customElements>"u")return;["ion-button","ion-ripple-effect"].forEach(r=>{switch(r){case"ion-button":customElements.get(r)||customElements.define(r,KB);break;case"ion-ripple-effect":customElements.get(r)||df();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const YB=XB;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const $B=".sc-ion-buttons-ios-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:5px;--padding-end:5px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-ios-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast);--background-activated:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.65em;line-height:0.67}",qB=$B,JB=".sc-ion-buttons-md-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:8px;--padding-end:8px;--box-shadow:none;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-md-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:3rem;height:3rem}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}",ZB=JB,eR=or(class extends sr{constructor(){super(),this.__registerHost(),this.collapse=!1}render(){const r=Ji(this);return Wt(dr,{key:"4e5ce9abb3f56e8c91e3eb58c2819300e61eba24",class:{[r]:!0,"buttons-collapse":this.collapse}},Wt("slot",{key:"f2f360ec888b6e946b512fed07431fab47c61482"}))}static get style(){return{ios:qB,md:ZB}}},[38,"ion-buttons",{collapse:[4]}]);function tR(){if(typeof customElements>"u")return;["ion-buttons"].forEach(r=>{switch(r){case"ion-buttons":customElements.get(r)||customElements.define(r,eR);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const nR=tR;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const iR={xs:"(min-width: 0px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"},rR=i=>{if(i===void 0||i==="")return!0;if(window.matchMedia){const r=iR[i];return window.matchMedia(r).matches}return!1},sR=":host{-webkit-padding-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;width:100%;max-width:100%;min-height:1px}@media (min-width: 576px){:host{-webkit-padding-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px))}}@media (min-width: 768px){:host{-webkit-padding-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px))}}@media (min-width: 992px){:host{-webkit-padding-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px))}}@media (min-width: 1200px){:host{-webkit-padding-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px))}}",oR=sR,xu=typeof window<"u"?window:void 0,W1=xu&&!!(xu.CSS&&xu.CSS.supports&&xu.CSS.supports("--a: 0")),aR=["","xs","sm","md","lg","xl"],lR=or(class extends sr{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.offset=void 0,this.offsetXs=void 0,this.offsetSm=void 0,this.offsetMd=void 0,this.offsetLg=void 0,this.offsetXl=void 0,this.pull=void 0,this.pullXs=void 0,this.pullSm=void 0,this.pullMd=void 0,this.pullLg=void 0,this.pullXl=void 0,this.push=void 0,this.pushXs=void 0,this.pushSm=void 0,this.pushMd=void 0,this.pushLg=void 0,this.pushXl=void 0,this.size=void 0,this.sizeXs=void 0,this.sizeSm=void 0,this.sizeMd=void 0,this.sizeLg=void 0,this.sizeXl=void 0}onResize(){Td(this)}getColumns(r){let l;for(const m of aR){const S=rR(m),D=this[r+m.charAt(0).toUpperCase()+m.slice(1)];S&&D!==void 0&&(l=D)}return l}calculateSize(){const r=this.getColumns("size");if(!r||r==="")return;const l=r==="auto"?"auto":W1?"calc(calc(".concat(r," / var(--ion-grid-columns, 12)) * 100%)"):r/12*100+"%";return{flex:"0 0 ".concat(l),width:"".concat(l),"max-width":"".concat(l)}}calculatePosition(r,l){const m=this.getColumns(r);if(!m)return;const S=W1?"calc(calc(".concat(m," / var(--ion-grid-columns, 12)) * 100%)"):m>0&&m<12?m/12*100+"%":"auto";return{[l]:S}}calculateOffset(r){return this.calculatePosition("offset",r?"margin-right":"margin-left")}calculatePull(r){return this.calculatePosition("pull",r?"left":"right")}calculatePush(r){return this.calculatePosition("push",r?"right":"left")}render(){const r=document.dir==="rtl",l=Ji(this);return Wt(dr,{key:"c37fa4c4c993385ccbb6f4e89b2f390b140507a0",class:{[l]:!0},style:Object.assign(Object.assign(Object.assign(Object.assign({},this.calculateOffset(r)),this.calculatePull(r)),this.calculatePush(r)),this.calculateSize())},Wt("slot",{key:"6a5296ff0b9dee6600c2dafe7363a065d053bac2"}))}static get style(){return oR}},[1,"ion-col",{offset:[1],offsetXs:[1,"offset-xs"],offsetSm:[1,"offset-sm"],offsetMd:[1,"offset-md"],offsetLg:[1,"offset-lg"],offsetXl:[1,"offset-xl"],pull:[1],pullXs:[1,"pull-xs"],pullSm:[1,"pull-sm"],pullMd:[1,"pull-md"],pullLg:[1,"pull-lg"],pullXl:[1,"pull-xl"],push:[1],pushXs:[1,"push-xs"],pushSm:[1,"push-sm"],pushMd:[1,"push-md"],pushLg:[1,"push-lg"],pushXl:[1,"push-xl"],size:[1],sizeXs:[1,"size-xs"],sizeSm:[1,"size-sm"],sizeMd:[1,"size-md"],sizeLg:[1,"size-lg"],sizeXl:[1,"size-xl"]},[[9,"resize","onResize"]]]);function cR(){if(typeof customElements>"u")return;["ion-col"].forEach(r=>{switch(r){case"ion-col":customElements.get(r)||customElements.define(r,lR);break}})}const dR=cR;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const hR=i=>i&&i.dir!==""?i.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const uR=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}',fR=uR,pR=or(class extends sr{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=Ar(this,"ionScrollStart",7),this.ionScroll=Ar(this,"ionScroll",7),this.ionScrollEnd=Ar(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.inheritedAttributes={},this.tabsElement=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.fixedSlotPlacement="after",this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}componentWillLoad(){this.inheritedAttributes=lf(this.el)}connectedCallback(){if(this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null,uA(this.el)){const r=this.tabsElement=this.el.closest("ion-tabs");r!==null&&(this.tabsLoadCallback=()=>this.resize(),r.addEventListener("ionTabBarLoaded",this.tabsLoadCallback))}}disconnectedCallback(){if(this.onScrollEnd(),uA(this.el)){const{tabsElement:r,tabsLoadCallback:l}=this;r!==null&&l!==void 0&&r.removeEventListener("ionTabBarLoaded",l),this.tabsElement=null,this.tabsLoadCallback=void 0}}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout(()=>{this.el.offsetParent!==null&&this.resize()},100)}shouldForceOverscroll(){const{forceOverscroll:r}=this,l=Ji(this);return r===void 0?l==="ios"&&_a("ios"):r}resize(){this.fullscreen?Sd(()=>this.readDimensions()):(this.cTop!==0||this.cBottom!==0)&&(this.cTop=this.cBottom=0,Td(this))}readDimensions(){const r=AR(this.el),l=Math.max(this.el.offsetTop,0),m=Math.max(r.offsetHeight-l-this.el.offsetHeight,0);(l!==this.cTop||m!==this.cBottom)&&(this.cTop=l,this.cBottom=m,Td(this))}onScroll(r){const l=Date.now(),m=!this.isScrolling;this.lastScroll=l,m&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,Sd(S=>{this.queued=!1,this.detail.event=r,gR(this.detail,this.scrollEl,S,m),this.ionScroll.emit(this.detail)}))}async getScrollElement(){return this.scrollEl||await new Promise(r=>Qu(this.el,r)),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise(r=>Qu(this.el,r)),Promise.resolve(this.backgroundContentEl)}scrollToTop(r=0){return this.scrollToPoint(void 0,0,r)}async scrollToBottom(r=0){const l=await this.getScrollElement(),m=l.scrollHeight-l.clientHeight;return this.scrollToPoint(void 0,m,r)}async scrollByPoint(r,l,m){const S=await this.getScrollElement();return this.scrollToPoint(r+S.scrollLeft,l+S.scrollTop,m)}async scrollToPoint(r,l,m=0){const S=await this.getScrollElement();if(m<32){l!=null&&(S.scrollTop=l),r!=null&&(S.scrollLeft=r);return}let D,j=0;const M=new Promise(b=>D=b),B=S.scrollTop,u=S.scrollLeft,p=l!=null?l-B:0,w=r!=null?r-u:0,A=b=>{const d=Math.min(1,(b-j)/m)-1,g=Math.pow(d,3)+1;p!==0&&(S.scrollTop=Math.floor(g*p+B)),w!==0&&(S.scrollLeft=Math.floor(g*w+u)),g<1?requestAnimationFrame(A):D()};return requestAnimationFrame(b=>{j=b,A(b)}),M}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{fixedSlotPlacement:r,inheritedAttributes:l,isMainContent:m,scrollX:S,scrollY:D,el:j}=this,M=hR(j)?"rtl":"ltr",B=Ji(this),u=this.shouldForceOverscroll(),p=B==="ios";return this.resize(),Wt(dr,Object.assign({key:"92a7cbc2e9c812930f4231bd846411933a5dded6",role:m?"main":void 0,class:ta(this.color,{[B]:!0,"content-sizing":ho("ion-popover",this.el),overscroll:u,["content-".concat(M)]:!0}),style:{"--offset-top":"".concat(this.cTop,"px"),"--offset-bottom":"".concat(this.cBottom,"px")}},l),Wt("div",{key:"52498d8874b9944b8245e448ea9dfc75b3929c2d",ref:w=>this.backgroundContentEl=w,id:"background-content",part:"background"}),r==="before"?Wt("slot",{name:"fixed"}):null,Wt("div",{key:"00e157a53485b285300404178436276afceb63f5",class:{"inner-scroll":!0,"scroll-x":S,"scroll-y":D,overscroll:(S||D)&&u},ref:w=>this.scrollEl=w,onScroll:this.scrollEvents?w=>this.onScroll(w):void 0,part:"scroll"},Wt("slot",{key:"8522320514a2e8a63f7dc9ade6c1fb3fb00f454e"})),p?Wt("div",{class:"transition-effect"},Wt("div",{class:"transition-cover"}),Wt("div",{class:"transition-shadow"})):null,r==="after"?Wt("slot",{name:"fixed"}):null)}get el(){return this}static get style(){return fR}},[1,"ion-content",{color:[513],fullscreen:[4],fixedSlotPlacement:[1,"fixed-slot-placement"],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[9,"resize","onResize"]]]),mR=i=>{var r;return i.parentElement?i.parentElement:!((r=i.parentNode)===null||r===void 0)&&r.host?i.parentNode.host:null},AR=i=>{const r=i.closest("ion-tabs");if(r)return r;const l=i.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return l||mR(i)},gR=(i,r,l,m)=>{const S=i.currentX,D=i.currentY,j=i.currentTime,M=r.scrollLeft,B=r.scrollTop,u=l-j;if(m&&(i.startTime=l,i.startX=M,i.startY=B,i.velocityX=i.velocityY=0),i.currentTime=l,i.currentX=i.scrollLeft=M,i.currentY=i.scrollTop=B,i.deltaX=M-i.startX,i.deltaY=B-i.startY,u>0&&u<100){const p=(M-S)/u,w=(B-D)/u;i.velocityX=p*.7+i.velocityX*.3,i.velocityY=w*.7+i.velocityY*.3}};function vR(){if(typeof customElements>"u")return;["ion-content"].forEach(r=>{switch(r){case"ion-content":customElements.get(r)||customElements.define(r,pR);break}})}const bR=vR;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const $r=typeof window<"u"?window:void 0,Om=typeof document<"u"?document:void 0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const yR=()=>{if($r!==void 0)return $r.Capacitor};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Vu=()=>Hi.get("experimentalCloseWatcher",!1)&&$r!==void 0&&"CloseWatcher"in $r,ER=()=>{document.addEventListener("backbutton",()=>{})},xR=()=>{const i=document;let r=!1;const l=()=>{if(r)return;let m=0,S=[];const D=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(B,u){S.push({priority:B,handler:u,id:m++})}}});i.dispatchEvent(D);const j=async B=>{try{if(B!=null&&B.handler){const u=B.handler(M);u!=null&&await u}}catch(u){console.error(u)}},M=()=>{if(S.length>0){let B={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};S.forEach(u=>{u.priority>=B.priority&&(B=u)}),r=!0,S=S.filter(u=>u.id!==B.id),j(B).then(()=>r=!1)}};M()};if(Vu()){let m;const S=()=>{m==null||m.destroy(),m=new $r.CloseWatcher,m.onclose=()=>{l(),S()}};S()}else i.addEventListener("backbutton",l)},CR=100,wR=99,_R=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:wR,OVERLAY_BACK_BUTTON_PRIORITY:CR,blockHardwareBackButton:ER,shouldUseCloseWatcher:Vu,startHardwareBackButton:xR},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const qA=async(i,r,l,m,S,D)=>{var j;if(i)return i.attachViewToDom(r,l,S,m);if(typeof l!="string"&&!(l instanceof HTMLElement))throw new Error("framework delegate is missing");const M=typeof l=="string"?(j=r.ownerDocument)===null||j===void 0?void 0:j.createElement(l):l;return m&&m.forEach(B=>M.classList.add(B)),S&&Object.assign(M,S),r.appendChild(M),await new Promise(B=>Qu(M,B)),M},MR=(i,r)=>{if(r){if(i){const l=r.parentElement;return i.removeViewFromDom(l,r)}r.remove()}return Promise.resolve()};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const SR=()=>{let i;return{lock:async()=>{const l=i;let m;return i=new Promise(S=>m=S),l!==void 0&&await l,m}}},JA="ionViewWillEnter",ZA="ionViewDidEnter",hf="ionViewWillLeave",uf="ionViewDidLeave",km="ionViewWillUnload",sd=i=>{i.tabIndex=-1,i.focus()},Cu=i=>i.offsetParent!==null,IR=()=>({saveViewFocus:l=>{if(Hi.get("focusManagerPriority",!1)){const S=document.activeElement;S!==null&&(l!=null&&l.contains(S))&&S.setAttribute(K1,"true")}},setViewFocus:l=>{const m=Hi.get("focusManagerPriority",!1);if(Array.isArray(m)&&!l.contains(document.activeElement)){const S=l.querySelector("[".concat(K1,"]"));if(S&&Cu(S)){sd(S);return}for(const D of m)switch(D){case"content":const j=l.querySelector('main, [role="main"]');if(j&&Cu(j)){sd(j);return}break;case"heading":const M=l.querySelector('h1, [role="heading"][aria-level="1"]');if(M&&Cu(M)){sd(M);return}break;case"banner":const B=l.querySelector('header, [role="banner"]');if(B&&Cu(B)){sd(B);return}break;default:Ad("Unrecognized focus manager priority value ".concat(D));break}sd(l)}}}),K1="ion-last-focus",TR=()=>Xs(()=>import("./ios.transition-CTXZmsaH.js"),__vite__mapDeps([0,1])),BR=()=>Xs(()=>import("./md.transition-BY-xj7I8.js"),__vite__mapDeps([2,1])),pE=IR(),mE=i=>new Promise((r,l)=>{Ia(()=>{RR(i),LR(i).then(m=>{m.animation&&m.animation.destroy(),X1(i),r(m)},m=>{X1(i),l(m)})})}),RR=i=>{const r=i.enteringEl,l=i.leavingEl;pE.saveViewFocus(l),UR(r,l,i.direction),i.showGoBack?r.classList.add("can-go-back"):r.classList.remove("can-go-back"),pA(r,!1),r.style.setProperty("pointer-events","none"),l&&(pA(l,!1),l.style.setProperty("pointer-events","none"))},LR=async i=>{const r=await DR(i);return r&&JI.isBrowser?PR(r,i):OR(i)},X1=i=>{const r=i.enteringEl,l=i.leavingEl;r.classList.remove("ion-page-invisible"),r.style.removeProperty("pointer-events"),l!==void 0&&(l.classList.remove("ion-page-invisible"),l.style.removeProperty("pointer-events")),pE.setViewFocus(r)},DR=async i=>!i.leavingEl||!i.animated||i.duration===0?void 0:i.animationBuilder?i.animationBuilder:i.mode==="ios"?(await TR()).iosTransitionAnimation:(await BR()).mdTransitionAnimation,PR=async(i,r)=>{await AE(r,!0);const l=i(r.baseEl,r);gE(r.enteringEl,r.leavingEl);const m=await FR(l,r);return r.progressCallback&&r.progressCallback(void 0),m&&vE(r.enteringEl,r.leavingEl),{hasCompleted:m,animation:l}},OR=async i=>{const r=i.enteringEl,l=i.leavingEl,m=Hi.get("focusManagerPriority",!1);return await AE(i,m),gE(r,l),vE(r,l),{hasCompleted:!0}},AE=async(i,r)=>{(i.deepWait!==void 0?i.deepWait:r)&&await Promise.all([fA(i.enteringEl),fA(i.leavingEl)]),await kR(i.viewIsReady,i.enteringEl)},kR=async(i,r)=>{i&&await i(r)},FR=(i,r)=>{const l=r.progressCallback,m=new Promise(S=>{i.onFinish(D=>S(D===1))});return l?(i.progressStart(!0),l(i)):i.play(),m},gE=(i,r)=>{Jo(r,hf),Jo(i,JA)},vE=(i,r)=>{Jo(i,ZA),Jo(r,uf)},Jo=(i,r)=>{if(i){const l=new CustomEvent(r,{bubbles:!1,cancelable:!1});i.dispatchEvent(l)}},fA=async i=>{const r=i;if(r){if(r.componentOnReady!=null){if(await r.componentOnReady()!=null)return}else if(r.__registerHost!=null){await new Promise(m=>XA(m));return}await Promise.all(Array.from(r.children).map(fA))}},pA=(i,r)=>{r?(i.setAttribute("aria-hidden","true"),i.classList.add("ion-page-hidden")):(i.hidden=!1,i.removeAttribute("aria-hidden"),i.classList.remove("ion-page-hidden"))},UR=(i,r,l)=>{i!==void 0&&(i.style.zIndex=l==="back"?"99":"101"),r!==void 0&&(r.style.zIndex="100")},X6=i=>{if(i.classList.contains("ion-page"))return i;const r=i.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return r||i};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const NR="ION-CONTENT",bE="ion-content",yE=".ion-content-scroll-host",EE="".concat(bE,", ").concat(yE),eg=i=>i.tagName===NR,Y1=async i=>eg(i)?(await new Promise(r=>Qu(i,r)),i.getScrollElement()):i,$1=i=>{const r=i.querySelector(yE);return r||i.querySelector(EE)},Y6=i=>i.closest(EE),$6=(i,r)=>eg(i)?i.scrollToTop(r):Promise.resolve(i.scrollTo({top:0,left:0,behavior:"smooth"})),q6=(i,r,l,m)=>eg(i)?i.scrollByPoint(r,l,m):Promise.resolve(i.scrollBy({top:l,left:r,behavior:m>0?"smooth":"auto"})),q1=i=>IB(i,bE);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var mA;(function(i){i.Unimplemented="UNIMPLEMENTED",i.Unavailable="UNAVAILABLE"})(mA||(mA={}));var AA;(function(i){i.Body="body",i.Ionic="ionic",i.Native="native",i.None="none"})(AA||(AA={}));const GR={getEngine(){const i=yR();if(i!=null&&i.isPluginAvailable("Keyboard"))return i.Plugins.Keyboard},getResizeMode(){const i=this.getEngine();return i!=null&&i.getResizeMode?i.getResizeMode().catch(r=>{if(r.code!==mA.Unimplemented)throw r}):Promise.resolve(void 0)}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const xE=i=>{if(Om===void 0||i===AA.None||i===void 0)return null;const r=Om.querySelector("ion-app");return r!=null?r:Om.body},J1=i=>{const r=xE(i);return r===null?0:r.clientHeight},QR=async i=>{let r,l,m,S;const D=async()=>{const p=await GR.getResizeMode(),w=p===void 0?void 0:p.mode;r=()=>{S===void 0&&(S=J1(w)),m=!0,j(m,w)},l=()=>{m=!1,j(m,w)},$r==null||$r.addEventListener("keyboardWillShow",r),$r==null||$r.addEventListener("keyboardWillHide",l)},j=(p,w)=>{i&&i(p,M(w))},M=p=>{if(S===0||S===J1(p))return;const w=xE(p);if(w!==null)return new Promise(A=>{const b=()=>{w.clientHeight===S&&(d.disconnect(),A())},d=new ResizeObserver(b);d.observe(w)})},B=()=>{$r==null||$r.removeEventListener("keyboardWillShow",r),$r==null||$r.removeEventListener("keyboardWillHide",l),r=l=void 0},u=()=>m;return await D(),{init:D,destroy:B,isKeyboardVisible:u}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const HR="all 0.2s ease-in-out",Z1=i=>{const r=document.querySelector("".concat(i,".ion-cloned-element"));if(r!==null)return r;const l=document.createElement(i);return l.classList.add("ion-cloned-element"),l.style.setProperty("display","none"),document.body.appendChild(l),l},eb=i=>{if(!i)return;const r=i.querySelectorAll("ion-toolbar");return{el:i,toolbars:Array.from(r).map(l=>{const m=l.querySelector("ion-title");return{el:l,background:l.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:m,innerTitleEl:m?m.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(l.querySelectorAll("ion-buttons"))}})}},VR=(i,r,l)=>{Sd(()=>{const m=i.scrollTop,S=nE(1,1+-m/500,1.1);l.querySelector("ion-refresher.refresher-native")===null&&Ia(()=>{WR(r.toolbars,S)})})},tg=(i,r)=>{i.collapse!=="fade"&&(r===void 0?i.style.removeProperty("--opacity-scale"):i.style.setProperty("--opacity-scale",r.toString()))},zR=(i,r,l)=>{if(!i[0].isIntersecting)return;const m=i[0].intersectionRatio>.9||l<=0?0:(1-i[0].intersectionRatio)*100/75;tg(r.el,m===1?void 0:m)},jR=(i,r,l,m)=>{Ia(()=>{const S=m.scrollTop;zR(i,r,S);const D=i[0],j=D.intersectionRect,M=j.width*j.height,B=D.rootBounds.width*D.rootBounds.height,u=M===0&&B===0,p=Math.abs(j.left-D.boundingClientRect.left),w=Math.abs(j.right-D.boundingClientRect.right),A=M>0&&(p>=5||w>=5);u||A||(D.isIntersecting?(ld(r,!1),ld(l)):(j.x===0&&j.y===0||j.width!==0&&j.height!==0)&&S>0&&(ld(r),ld(l,!1),tg(r.el)))})},ld=(i,r=!0)=>{const l=i.el;r?(l.classList.remove("header-collapse-condense-inactive"),l.removeAttribute("aria-hidden")):(l.classList.add("header-collapse-condense-inactive"),l.setAttribute("aria-hidden","true"))},WR=(i=[],r=1,l=!1)=>{i.forEach(m=>{const S=m.ionTitleEl,D=m.innerTitleEl;!S||S.size!=="large"||(D.style.transition=l?HR:"",D.style.transform="scale3d(".concat(r,", ").concat(r,", 1)"))})},tb=(i,r,l)=>{Sd(()=>{const m=i.scrollTop,S=r.clientHeight,D=l?l.clientHeight:0;if(l!==null&&m<D){r.style.setProperty("--opacity-scale","0"),i.style.setProperty("clip-path","inset(".concat(S,"px 0px 0px 0px)"));return}const j=m-D,B=nE(0,j/10,1);Ia(()=>{i.style.removeProperty("clip-path"),r.style.setProperty("--opacity-scale",B.toString())})})},KR="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:0px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}ion-header.header-ios:not(.header-collapse-main):has(~ion-content ion-header.header-ios[collapse=condense],~ion-content ion-header.header-ios.header-collapse-condense){opacity:0}",XR=KR,YR="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.header-collapse-condense{display:none}.header-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",$R=YR,qR=or(class extends sr{constructor(){super(),this.__registerHost(),this.inheritedAttributes={},this.setupFadeHeader=async(r,l)=>{const m=this.scrollEl=await Y1(r);this.contentScrollCallback=()=>{tb(this.scrollEl,this.el,l)},m.addEventListener("scroll",this.contentScrollCallback),tb(this.scrollEl,this.el,l)},this.collapse=void 0,this.translucent=!1}componentWillLoad(){this.inheritedAttributes=lf(this.el)}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}disconnectedCallback(){this.destroyCollapsibleHeader()}async checkCollapsibleHeader(){if(Ji(this)!=="ios")return;const{collapse:l}=this,m=l==="condense",S=l==="fade";if(this.destroyCollapsibleHeader(),m){const D=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),j=D?$1(D):null;Ia(()=>{const M=Z1("ion-title");M.size="large",Z1("ion-back-button")}),await this.setupCondenseHeader(j,D)}else if(S){const D=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),j=D?$1(D):null;if(!j){q1(this.el);return}const M=j.querySelector('ion-header[collapse="condense"]');await this.setupFadeHeader(j,M)}}destroyCollapsibleHeader(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}async setupCondenseHeader(r,l){if(!r||!l){q1(this.el);return}if(typeof IntersectionObserver>"u")return;this.scrollEl=await Y1(r);const m=l.querySelectorAll("ion-header");if(this.collapsibleMainHeader=Array.from(m).find(M=>M.collapse!=="condense"),!this.collapsibleMainHeader)return;const S=eb(this.collapsibleMainHeader),D=eb(this.el);if(!S||!D)return;ld(S,!1),tg(S.el,0);const j=M=>{jR(M,S,D,this.scrollEl)};this.intersectionObserver=new IntersectionObserver(j,{root:r,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(D.toolbars[D.toolbars.length-1].el),this.contentScrollCallback=()=>{VR(this.scrollEl,D,r)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),Ia(()=>{this.collapsibleMainHeader!==void 0&&this.collapsibleMainHeader.classList.add("header-collapse-main")})}render(){const{translucent:r,inheritedAttributes:l}=this,m=Ji(this),S=this.collapse||"none",D=ho("ion-menu",this.el)?"none":"banner";return Wt(dr,Object.assign({key:"c687314ef290793a9d633ad20cfc5eeb47621e31",role:D,class:{[m]:!0,["header-".concat(m)]:!0,"header-translucent":this.translucent,["header-collapse-".concat(S)]:!0,["header-translucent-".concat(m)]:this.translucent}},l),m==="ios"&&r&&Wt("div",{key:"b429996046082405a91e7c23f95516db0b736f12",class:"header-background"}),Wt("slot",{key:"e17a8965f8d3a33c1bfcb056c153d8242e5229fa"}))}get el(){return this}static get style(){return{ios:XR,md:$R}}},[36,"ion-header",{collapse:[1],translucent:[4]}]);function JR(){if(typeof customElements>"u")return;["ion-header"].forEach(r=>{switch(r){case"ion-header":customElements.get(r)||customElements.define(r,qR);break}})}const ZR=JR;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const e4=":host{display:block;-o-object-fit:contain;object-fit:contain}img{display:block;width:100%;height:100%;-o-object-fit:inherit;object-fit:inherit;-o-object-position:inherit;object-position:inherit}",t4=e4,n4=or(class extends sr{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionImgWillLoad=Ar(this,"ionImgWillLoad",7),this.ionImgDidLoad=Ar(this,"ionImgDidLoad",7),this.ionError=Ar(this,"ionError",7),this.inheritedAttributes={},this.onLoad=()=>{this.ionImgDidLoad.emit()},this.onError=()=>{this.ionError.emit()},this.loadSrc=void 0,this.loadError=void 0,this.alt=void 0,this.src=void 0}srcChanged(){this.addIO()}componentWillLoad(){this.inheritedAttributes=af(this.el,["draggable"])}componentDidLoad(){this.addIO()}addIO(){this.src!==void 0&&(typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype?(this.removeIO(),this.io=new IntersectionObserver(r=>{r[r.length-1].isIntersecting&&(this.load(),this.removeIO())}),this.io.observe(this.el)):setTimeout(()=>this.load(),200))}load(){this.loadError=this.onError,this.loadSrc=this.src,this.ionImgWillLoad.emit()}removeIO(){this.io&&(this.io.disconnect(),this.io=void 0)}render(){const{loadSrc:r,alt:l,onLoad:m,loadError:S,inheritedAttributes:D}=this,{draggable:j}=D;return Wt(dr,{key:"14d24d65ec8e5522192ca58035264971b1ab883b",class:Ji(this)},Wt("img",{key:"345ba155a5fdce5e66c397a599b7333d37d9cb1d",decoding:"async",src:r,alt:l,onLoad:m,onError:S,part:"image",draggable:i4(j)}))}get el(){return this}static get watchers(){return{src:["srcChanged"]}}static get style(){return t4}},[1,"ion-img",{alt:[1],src:[1],loadSrc:[32],loadError:[32]},void 0,{src:["srcChanged"]}]),i4=i=>{switch(i){case"true":return!0;case"false":return!1;default:return}};function r4(){if(typeof customElements>"u")return;["ion-img"].forEach(r=>{switch(r){case"ion-img":customElements.get(r)||customElements.define(r,n4);break}})}const s4=r4;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const o4=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:var(--ion-text-color, #000);--background-focused:var(--ion-text-color, #000);--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--color:var(--ion-item-color, var(--ion-text-color, #000));font-size:1rem}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:2px;margin-bottom:2px}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:1px;--padding-bottom:1px;--padding-start:.5em;--padding-end:.5em;min-height:24px;font-size:0.8125rem}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){-webkit-margin-start:0px;margin-inline-start:0px}::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:10px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}',a4=o4,l4=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;font-size:1rem;font-weight:normal;text-transform:none}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0}:host(.item-lines-full){--border-width:0 0 1px 0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted([slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:1.5em}:host(.ion-color) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted(ion-icon[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:0.6875rem}::slotted(ion-note[slot]){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0}::slotted(.button-small){--padding-top:2px;--padding-bottom:2px;--padding-start:.6em;--padding-end:.6em;min-height:25px;font-size:0.75rem}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #0054e9)}',c4=l4,d4=or(class extends sr{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.labelColorStyles={},this.itemStyles=new Map,this.inheritedAriaAttributes={},this.multipleInputs=!1,this.focusable=!0,this.color=void 0,this.button=!1,this.detail=void 0,this.detailIcon=H1,this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.lines=void 0,this.routerAnimation=void 0,this.routerDirection="forward",this.target=void 0,this.type="button"}buttonChanged(){this.focusable=this.isFocusable()}labelColorChanged(r){const{color:l}=this;l===void 0&&(this.labelColorStyles=r.detail)}itemStyle(r){r.stopPropagation();const l=r.target.tagName,m=r.detail,S={},D=this.itemStyles.get(l)||{};let j=!1;Object.keys(m).forEach(M=>{if(m[M]){const B="item-".concat(M);D[B]||(j=!0),S[B]=!0}}),!j&&Object.keys(S).length!==Object.keys(D).length&&(j=!0),j&&(this.itemStyles.set(l,S),Td(this))}connectedCallback(){this.hasStartEl()}componentWillLoad(){this.inheritedAriaAttributes=af(this.el,["aria-label"])}componentDidLoad(){XA(()=>{this.setMultipleInputs(),this.focusable=this.isFocusable()})}setMultipleInputs(){const r=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),l=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),m=this.el.querySelectorAll("ion-router-link, ion-button, a, button");this.multipleInputs=r.length+l.length>1||r.length+m.length>1||r.length>0&&this.isClickable()}hasCover(){return this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length===1&&!this.multipleInputs}isClickable(){return this.href!==void 0||this.button}canActivate(){return this.isClickable()||this.hasCover()}isFocusable(){const r=this.el.querySelector(".ion-focusable");return this.canActivate()||r!==null}hasStartEl(){this.el.querySelector('[slot="start"]')!==null&&this.el.classList.add("item-has-start-slot")}getFirstInteractive(){return this.el.querySelectorAll("ion-toggle:not([disabled]), ion-checkbox:not([disabled]), ion-radio:not([disabled]), ion-select:not([disabled]), ion-input:not([disabled]), ion-textarea:not([disabled])")[0]}render(){const{detail:r,detailIcon:l,download:m,labelColorStyles:S,lines:D,disabled:j,href:M,rel:B,target:u,routerAnimation:p,routerDirection:w,inheritedAriaAttributes:A,multipleInputs:b}=this,d={},g=Ji(this),y=this.isClickable(),f=this.canActivate(),E=y?M===void 0?"button":"a":"div",C=E==="button"?{type:this.type}:{download:m,href:M,rel:B,target:u};let v={};const x=this.getFirstInteractive();(y||x!==void 0&&!b)&&(v={onClick:P=>{if(y&&$A(M,P,w,p),x!==void 0&&!b){const $=P.composedPath()[0];P.isTrusted&&this.el.shadowRoot.contains($)&&(x.tagName==="ION-INPUT"||x.tagName==="ION-TEXTAREA"?x.setFocus():x.click())}}});const T=r!==void 0?r:g==="ios"&&y;this.itemStyles.forEach(P=>{Object.assign(d,P)});const L=j||d["item-interactive-disabled"]?"true":null,R=ho("ion-list",this.el)&&!ho("ion-radio-group",this.el),F=x!==void 0&&!["ION-INPUT","ION-TEXTAREA"].includes(x.tagName);return Wt(dr,{key:"02f540d8666146b5f2665ba6b39dfe774c65d5e6","aria-disabled":L,class:Object.assign(Object.assign(Object.assign({},d),S),ta(this.color,{item:!0,[g]:!0,"item-lines-default":D===void 0,["item-lines-".concat(D)]:D!==void 0,"item-control-needs-pointer-cursor":F,"item-disabled":j,"in-list":R,"item-multiple-inputs":this.multipleInputs,"ion-activatable":f,"ion-focusable":this.focusable,"item-rtl":document.dir==="rtl"})),role:R?"listitem":null},Wt(E,Object.assign({key:"91cf3eedc2d7eca40a45fc3b0aaae5a87d387eb7"},C,A,{class:"item-native",part:"native",disabled:j},v),Wt("slot",{key:"ae4c679ca903a78a7c933c1d02f21f5d677b6388",name:"start"}),Wt("div",{key:"a61de72dce135b6dce18e6fa19680524958924dd",class:"item-inner"},Wt("div",{key:"d5b09966b6de8d6b4da8e139875edec4eeb1ae27",class:"input-wrapper"},Wt("slot",{key:"79077e5708a1783b135fab6f8caff9fb2f6f387a"})),Wt("slot",{key:"cdcc71689a87e985d32170ab98538ef25227f384",name:"end"}),T&&Wt("ion-icon",{key:"1e82f2d0e2d2fc18bd3429a7c72e4e57447cad7a",icon:l,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":l===H1})),f&&g==="md"&&Wt("ion-ripple-effect",{key:"ab9842d0d9c64408573f07323e10f9ed29fbe6e2"})))}get el(){return this}static get watchers(){return{button:["buttonChanged"]}}static get style(){return{ios:a4,md:c4}}},[33,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[516],download:[1],href:[1],rel:[1],lines:[1],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],multipleInputs:[32],focusable:[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{button:["buttonChanged"]}]);function h4(){if(typeof customElements>"u")return;["ion-item","ion-icon","ion-ripple-effect"].forEach(r=>{switch(r){case"ion-item":customElements.get(r)||customElements.define(r,d4);break;case"ion-icon":customElements.get(r)||fE();break;case"ion-ripple-effect":customElements.get(r)||df();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const u4=h4;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const f4=".item.sc-ion-label-ios-h,.item .sc-ion-label-ios-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-ios-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-ios-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-ios-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-ios-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-ios-h,.item-input .sc-ion-label-ios-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-ios-h,.item-textarea .sc-ion-label-ios-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-ios-h,.item-skeleton-text .sc-ion-label-ios-h{overflow:hidden}.label-fixed.sc-ion-label-ios-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-ios-h,.label-floating.sc-ion-label-ios-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-ios-h{-webkit-transition:none;transition:none}.sc-ion-label-ios-s h1,.sc-ion-label-ios-s h2,.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-ios-h{font-size:0.875rem;line-height:1.5}.label-stacked.sc-ion-label-ios-h{margin-bottom:4px;font-size:0.875rem}.label-floating.sc-ion-label-ios-h{margin-bottom:0;-webkit-transform:translate(0, 29px);transform:translate(0, 29px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}[dir=rtl].sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl] .sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl].label-floating.sc-ion-label-ios-h,[dir=rtl] .label-floating.sc-ion-label-ios-h{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.label-floating.sc-ion-label-ios-h:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.item-textarea.label-floating.sc-ion-label-ios-h,.item-textarea .label-floating.sc-ion-label-ios-h{-webkit-transform:translate(0, 28px);transform:translate(0, 28px)}.item-has-focus.label-floating.sc-ion-label-ios-h,.item-has-focus .label-floating.sc-ion-label-ios-h,.item-has-placeholder.sc-ion-label-ios-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-ios-h,.item-has-value.label-floating.sc-ion-label-ios-h,.item-has-value .label-floating.sc-ion-label-ios-h{-webkit-transform:scale(0.82);transform:scale(0.82)}.sc-ion-label-ios-s h1{margin-left:0;margin-right:0;margin-top:3px;margin-bottom:2px;font-size:1.375rem;font-weight:normal}.sc-ion-label-ios-s h2{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.0625rem;font-weight:normal}.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{margin-left:0;margin-right:0;margin-top:0;margin-bottom:3px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-ios-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:normal;text-overflow:inherit;overflow:inherit}.sc-ion-label-ios-s>p{color:var(--ion-color-step-400, var(--ion-text-color-step-600, #999999))}.sc-ion-label-ios-h.in-item-color.sc-ion-label-ios-s>p{color:inherit}.sc-ion-label-ios-s h2:last-child,.sc-ion-label-ios-s h3:last-child,.sc-ion-label-ios-s h4:last-child,.sc-ion-label-ios-s h5:last-child,.sc-ion-label-ios-s h6:last-child,.sc-ion-label-ios-s p:last-child{margin-bottom:0}",p4=f4,m4=".item.sc-ion-label-md-h,.item .sc-ion-label-md-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-md-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-md-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-md-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-md-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-md-h,.item-input .sc-ion-label-md-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-md-h,.item-textarea .sc-ion-label-md-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-md-h,.item-skeleton-text .sc-ion-label-md-h{overflow:hidden}.label-fixed.sc-ion-label-md-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-md-h{-webkit-transition:none;transition:none}.sc-ion-label-md-s h1,.sc-ion-label-md-s h2,.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-md-h{line-height:1.5}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:top left;transform-origin:top left}.label-stacked.label-rtl.sc-ion-label-md-h,.label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform-origin:top right;transform-origin:top right}.label-stacked.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.label-floating.sc-ion-label-md-h{-webkit-transform:translateY(96%);transform:translateY(96%);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1)}.ion-focused.label-floating.sc-ion-label-md-h,.ion-focused .label-floating.sc-ion-label-md-h,.item-has-focus.label-floating.sc-ion-label-md-h,.item-has-focus .label-floating.sc-ion-label-md-h,.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-has-value.label-floating.sc-ion-label-md-h,.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75)}.ion-focused.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-primary, #0054e9)}.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-contrast)}.ion-invalid.ion-touched.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--highlight-color-invalid)}.sc-ion-label-md-s h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.sc-ion-label-md-s h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-md-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:1.25rem;text-overflow:inherit;overflow:inherit}.sc-ion-label-md-s>p{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))}.sc-ion-label-md-h.in-item-color.sc-ion-label-md-s>p{color:inherit}",A4=m4,g4=or(class extends sr{constructor(){super(),this.__registerHost(),this.ionColor=Ar(this,"ionColor",7),this.ionStyle=Ar(this,"ionStyle",7),this.inRange=!1,this.color=void 0,this.position=void 0,this.noAnimate=!1}componentWillLoad(){this.inRange=!!this.el.closest("ion-range"),this.noAnimate=this.position==="floating",this.emitStyle(),this.emitColor()}componentDidLoad(){this.noAnimate&&setTimeout(()=>{this.noAnimate=!1},1e3)}colorChanged(){this.emitColor()}positionChanged(){this.emitStyle()}emitColor(){const{color:r}=this;this.ionColor.emit({"item-label-color":r!==void 0,["ion-color-".concat(r)]:r!==void 0})}emitStyle(){const{inRange:r,position:l}=this;r||this.ionStyle.emit({label:!0,["label-".concat(l)]:l!==void 0})}render(){const r=this.position,l=Ji(this);return Wt(dr,{key:"c2c0f388dab910d294efb9fbb409ee4ef829c1ed",class:ta(this.color,{[l]:!0,"in-item-color":ho("ion-item.ion-color",this.el),["label-".concat(r)]:r!==void 0,"label-no-animate":this.noAnimate,"label-rtl":document.dir==="rtl"})},Wt("slot",{key:"4de6b69950f417873a13c851018ec31ea2686f0a"}))}get el(){return this}static get watchers(){return{color:["colorChanged"],position:["positionChanged"]}}static get style(){return{ios:p4,md:A4}}},[38,"ion-label",{color:[513],position:[1],noAnimate:[32]},void 0,{color:["colorChanged"],position:["positionChanged"]}]);function v4(){if(typeof customElements>"u")return;["ion-label"].forEach(r=>{switch(r){case"ion-label":customElements.get(r)||customElements.define(r,g4);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const b4=v4;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const y4="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-ios{background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-ios.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:10px}.list-ios.list-inset ion-item:only-child,.list-ios.list-inset ion-item:not(:only-of-type):last-of-type,.list-ios.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-ios.list-inset+ion-list.list-inset{margin-top:0}.list-ios-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-ios-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 0.55px 0}.list-ios-lines-inset .item-lines-default{--inner-border-width:0 0 0.55px 0;--border-width:0px}ion-card .list-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",E4=y4,x4="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-md>.input:last-child::after{inset-inline-start:0}.list-md.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:2px}.list-md.list-inset ion-item:not(:only-of-type):last-of-type,.list-md.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-md.list-inset ion-item:only-child{--border-width:0;--inner-border-width:0}.list-md.list-inset+ion-list.list-inset{margin-top:0}.list-md-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-md-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 1px 0}.list-md-lines-inset .item-lines-default{--inner-border-width:0 0 1px 0;--border-width:0px}ion-card .list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",C4=x4,w4=or(class extends sr{constructor(){super(),this.__registerHost(),this.lines=void 0,this.inset=!1}async closeSlidingItems(){const r=this.el.querySelector("ion-item-sliding");return r!=null&&r.closeOpened?r.closeOpened():!1}render(){const r=Ji(this),{lines:l,inset:m}=this;return Wt(dr,{key:"8bde220025a7eeca6da075379c6487c4c9bdddc1",role:"list",class:{[r]:!0,["list-".concat(r)]:!0,"list-inset":m,["list-lines-".concat(l)]:l!==void 0,["list-".concat(r,"-lines-").concat(l)]:l!==void 0}})}get el(){return this}static get style(){return{ios:E4,md:C4}}},[32,"ion-list",{lines:[1],inset:[4],closeSlidingItems:[64]}]);function _4(){if(typeof customElements>"u")return;["ion-list"].forEach(r=>{switch(r){case"ion-list":customElements.get(r)||customElements.define(r,w4);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const M4=_4;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const S4=":host{--border-style:solid;--border-width:0;--inner-border-width:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:40px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);color:var(--color);overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.list-header-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex:1 1 auto;flex:1 1 auto}:host(.list-header-lines-inset),:host(.list-header-lines-none){--border-width:0}:host(.list-header-lines-full),:host(.list-header-lines-none){--inner-border-width:0}:host{--background:transparent;--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));padding-right:var(--ion-safe-area-right);padding-left:calc(var(--ion-safe-area-left, 0px) + 16px);position:relative;-ms-flex-align:end;align-items:flex-end;font-size:min(1.375rem, 56.1px);font-weight:700;letter-spacing:0}:host-context([dir=rtl]){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}@supports selector(:dir(rtl)){:host(:dir(rtl)){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}}::slotted(ion-button),::slotted(ion-label){margin-top:29px;margin-bottom:6px}::slotted(ion-button){--padding-top:0;--padding-bottom:0;-webkit-margin-start:3px;margin-inline-start:3px;-webkit-margin-end:3px;margin-inline-end:3px;min-height:1.4em}:host(.list-header-lines-full){--border-width:0 0 0.55px 0}:host(.list-header-lines-inset){--inner-border-width:0 0 0.55px 0}",I4=S4,T4=":host{--border-style:solid;--border-width:0;--inner-border-width:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:40px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);color:var(--color);overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.list-header-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex:1 1 auto;flex:1 1 auto}:host(.list-header-lines-inset),:host(.list-header-lines-none){--border-width:0}:host(.list-header-lines-full),:host(.list-header-lines-none){--inner-border-width:0}:host{--background:transparent;--color:var(--ion-text-color, #000);--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));padding-right:var(--ion-safe-area-right);padding-left:calc(var(--ion-safe-area-left, 0px) + 16px);min-height:45px;font-size:0.875rem}:host-context([dir=rtl]){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}@supports selector(:dir(rtl)){:host(:dir(rtl)){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}}:host(.list-header-lines-full){--border-width:0 0 1px 0}:host(.list-header-lines-inset){--inner-border-width:0 0 1px 0}",B4=T4,R4=or(class extends sr{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.lines=void 0}render(){const{lines:r}=this,l=Ji(this);return Wt(dr,{key:"7e2e050f13722f2b870a2415d99a9e631e9ca267",class:ta(this.color,{[l]:!0,["list-header-lines-".concat(r)]:r!==void 0})},Wt("div",{key:"6117bebc45800d874e9b75355476fbced5cc8398",class:"list-header-inner"},Wt("slot",{key:"9165fb274cd2c45a5a65c271d8b1f30e8a00c890"})))}static get style(){return{ios:I4,md:B4}}},[33,"ion-list-header",{color:[513],lines:[1]}]);function L4(){if(typeof customElements>"u")return;["ion-list-header"].forEach(r=>{switch(r){case"ion-list-header":customElements.get(r)||customElements.define(r,R4);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const D4=L4;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const zu=(i,r,l,m,S)=>O4(i[1],r[1],l[1],m[1],S).map(D=>P4(i[0],r[0],l[0],m[0],D)),P4=(i,r,l,m,S)=>{const D=3*r*Math.pow(S-1,2),j=-3*l*S+3*l+m*S,M=i*Math.pow(S-1,3);return S*(D+S*j)-M},O4=(i,r,l,m,S)=>(i-=S,r-=S,l-=S,m-=S,F4(m-3*l+3*r-i,3*l-6*r+3*i,3*r-3*i,i).filter(j=>j>=0&&j<=1)),k4=(i,r,l)=>{const m=r*r-4*i*l;return m<0?[]:[(-r+Math.sqrt(m))/(2*i),(-r-Math.sqrt(m))/(2*i)]},F4=(i,r,l,m)=>{if(i===0)return k4(r,l,m);r/=i,l/=i,m/=i;const S=(3*l-r*r)/3,D=(2*r*r*r-9*r*l+27*m)/27;if(S===0)return[Math.pow(-D,1/3)];if(D===0)return[Math.sqrt(-S),-Math.sqrt(-S)];const j=Math.pow(D/2,2)+Math.pow(S/3,3);if(j===0)return[Math.pow(D/2,1/2)-r/3];if(j>0)return[Math.pow(-(D/2)+Math.sqrt(j),1/3)-Math.pow(D/2+Math.sqrt(j),1/3)-r/3];const M=Math.sqrt(Math.pow(-(S/3),3)),B=Math.acos(-(D/(2*Math.sqrt(Math.pow(-(S/3),3))))),u=2*Math.pow(M,1/3);return[u*Math.cos(B/3)-r/3,u*Math.cos((B+2*Math.PI)/3)-r/3,u*Math.cos((B+4*Math.PI)/3)-r/3]},CE=1,wE=2,ju=3;class gA{constructor(r,l){this.component=r,this.params=l,this.state=CE}async init(r){if(this.state=wE,!this.element){const l=this.component;this.element=await qA(this.delegate,r,l,["ion-page","ion-page-invisible"],this.params)}}_destroy(){_s(this.state!==ju,"view state must be ATTACHED");const r=this.element;r&&(this.delegate?this.delegate.removeViewFromDom(r.parentElement,r):r.remove()),this.nav=void 0,this.state=ju}}const nb=(i,r,l)=>!i||i.component!==r?!1:iE(i.params,l),ib=(i,r)=>i?i instanceof gA?i:new gA(i,r):null,U4=i=>i.map(r=>r instanceof gA?r:"component"in r?ib(r.component,r.componentProps===null?void 0:r.componentProps):ib(r,void 0)).filter(r=>r!==null),N4=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",G4=N4,Q4=or(class extends sr{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=Ar(this,"ionNavWillLoad",7),this.ionNavWillChange=Ar(this,"ionNavWillChange",3),this.ionNavDidChange=Ar(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(this.swipeGesture===!0)}rootChanged(){this.root!==void 0&&this.didLoad!==!1&&(this.useRouter||this.root!==void 0&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null,this.swipeGesture===void 0){const r=Ji(this);this.swipeGesture=Hi.getBoolean("swipeBackEnabled",r==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await Xs(()=>import("./swipe-back-DsIKiV5Q.js"),[])).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const r of this.views)Jo(r.element,km),r._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(r,l,m,S){return this.insert(-1,r,l,m,S)}insert(r,l,m,S,D){return this.insertPages(r,[{component:l,componentProps:m}],S,D)}insertPages(r,l,m,S){return this.queueTrns({insertStart:r,insertViews:l,opts:m},S)}pop(r,l){return this.removeIndex(-1,1,r,l)}popTo(r,l,m){const S={removeStart:-1,removeCount:-1,opts:l};return typeof r=="object"&&r.component?(S.removeView=r,S.removeStart=1):typeof r=="number"&&(S.removeStart=r+1),this.queueTrns(S,m)}popToRoot(r,l){return this.removeIndex(1,-1,r,l)}removeIndex(r,l=1,m,S){return this.queueTrns({removeStart:r,removeCount:l,opts:m},S)}setRoot(r,l,m,S){return this.setPages([{component:r,componentProps:l}],m,S)}setPages(r,l,m){return l!=null||(l={}),l.animated!==!0&&(l.animated=!1),this.queueTrns({insertStart:0,insertViews:r,removeStart:0,removeCount:-1,opts:l},m)}setRouteId(r,l,m,S){const D=this.getActiveSync();if(nb(D,r,l))return Promise.resolve({changed:!1,element:D.element});let j;const M=new Promise(p=>j=p);let B;const u={updateURL:!1,viewIsReady:p=>{let w;const A=new Promise(b=>w=b);return j({changed:!0,element:p,markVisible:async()=>{w(),await B}}),A}};if(m==="root")B=this.setRoot(r,l,u);else{const p=this.views.find(w=>nb(w,r,l));p?B=this.popTo(p,Object.assign(Object.assign({},u),{direction:"back",animationBuilder:S})):m==="forward"?B=this.push(r,l,Object.assign(Object.assign({},u),{animationBuilder:S})):m==="back"&&(B=this.setRoot(r,l,Object.assign(Object.assign({},u),{direction:"back",animated:!0,animationBuilder:S})))}return M}async getRouteId(){const r=this.getActiveSync();if(r)return{id:r.element.tagName,params:r.params,element:r.element}}async getActive(){return this.getActiveSync()}async getByIndex(r){return this.views[r]}async canGoBack(r){return this.canGoBackSync(r)}async getPrevious(r){return this.getPreviousSync(r)}async getLength(){return Promise.resolve(this.views.length)}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(r=this.getActiveSync()){return!!(r&&this.getPreviousSync(r))}getPreviousSync(r=this.getActiveSync()){if(!r)return;const l=this.views,m=l.indexOf(r);return m>0?l[m-1]:void 0}async queueTrns(r,l){var m,S;if(this.isTransitioning&&(!((m=r.opts)===null||m===void 0)&&m.skipIfBusy))return!1;const D=new Promise((j,M)=>{r.resolve=j,r.reject=M});if(r.done=l,r.opts&&r.opts.updateURL!==!1&&this.useRouter){const j=document.querySelector("ion-router");if(j){const M=await j.canTransition();if(M===!1)return!1;if(typeof M=="string")return j.push(M,r.opts.direction||"back"),!1}}return((S=r.insertViews)===null||S===void 0?void 0:S.length)===0&&(r.insertViews=void 0),this.transInstr.push(r),this.nextTrns(),D}success(r,l){if(this.destroyed){this.fireError("nav controller was destroyed",l);return}if(l.done&&l.done(r.hasCompleted,r.requiresTransition,r.enteringView,r.leavingView,r.direction),l.resolve(r.hasCompleted),l.opts.updateURL!==!1&&this.useRouter){const m=document.querySelector("ion-router");if(m){const S=r.direction==="back"?"back":"forward";m.navChanged(S)}}}failed(r,l){if(this.destroyed){this.fireError("nav controller was destroyed",l);return}this.transInstr.length=0,this.fireError(r,l)}fireError(r,l){l.done&&l.done(!1,!1,r),l.reject&&!this.destroyed?l.reject(r):l.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const r=this.transInstr.shift();return r?(this.runTransition(r),!0):!1}async runTransition(r){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(r);const l=this.getActiveSync(),m=this.getEnteringView(r,l);if(!l&&!m)throw new Error("no views in the stack to be removed");m&&m.state===CE&&await m.init(this.el),this.postViewInit(m,l,r);const S=(r.enteringRequiresTransition||r.leavingRequiresTransition)&&m!==l;S&&r.opts&&l&&(r.opts.direction==="back"&&(r.opts.animationBuilder=r.opts.animationBuilder||(m==null?void 0:m.animationBuilder)),l.animationBuilder=r.opts.animationBuilder);let D;S?D=await this.transition(m,l,r):D={hasCompleted:!0,requiresTransition:!1},this.success(D,r),this.ionNavDidChange.emit()}catch(l){this.failed(l,r)}this.isTransitioning=!1,this.nextTrns()}prepareTI(r){var l,m,S;const D=this.views.length;if((l=r.opts)!==null&&l!==void 0||(r.opts={}),(m=(S=r.opts).delegate)!==null&&m!==void 0||(S.delegate=this.delegate),r.removeView!==void 0){_s(r.removeStart!==void 0,"removeView needs removeStart"),_s(r.removeCount!==void 0,"removeView needs removeCount");const B=this.views.indexOf(r.removeView);if(B<0)throw new Error("removeView was not found");r.removeStart+=B}r.removeStart!==void 0&&(r.removeStart<0&&(r.removeStart=D-1),r.removeCount<0&&(r.removeCount=D-r.removeStart),r.leavingRequiresTransition=r.removeCount>0&&r.removeStart+r.removeCount===D),r.insertViews&&((r.insertStart<0||r.insertStart>D)&&(r.insertStart=D),r.enteringRequiresTransition=r.insertStart===D);const j=r.insertViews;if(!j)return;_s(j.length>0,"length can not be zero");const M=U4(j);if(M.length===0)throw new Error("invalid views to insert");for(const B of M){B.delegate=r.opts.delegate;const u=B.nav;if(u&&u!==this)throw new Error("inserted view was already inserted");if(B.state===ju)throw new Error("inserted view was already destroyed")}r.insertViews=M}getEnteringView(r,l){const m=r.insertViews;if(m!==void 0)return m[m.length-1];const S=r.removeStart;if(S!==void 0){const D=this.views,j=S+r.removeCount;for(let M=D.length-1;M>=0;M--){const B=D[M];if((M<S||M>=j)&&B!==l)return B}}}postViewInit(r,l,m){var S,D,j;_s(l||r,"Both leavingView and enteringView are null"),_s(m.resolve,"resolve must be valid"),_s(m.reject,"reject must be valid");const M=m.opts,{insertViews:B,removeStart:u,removeCount:p}=m;let w;if(u!==void 0&&p!==void 0){_s(u>=0,"removeStart can not be negative"),_s(p>=0,"removeCount can not be negative"),w=[];for(let b=u;b<u+p;b++){const d=this.views[b];d!==void 0&&d!==r&&d!==l&&w.push(d)}(S=M.direction)!==null&&S!==void 0||(M.direction="back")}const A=this.views.length+((D=B==null?void 0:B.length)!==null&&D!==void 0?D:0)-(p!=null?p:0);if(_s(A>=0,"final balance can not be negative"),A===0)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(B){let b=m.insertStart;for(const d of B)this.insertViewAt(d,b),b++;m.enteringRequiresTransition&&((j=M.direction)!==null&&j!==void 0||(M.direction="forward"))}if(w&&w.length>0){for(const b of w)Jo(b.element,hf),Jo(b.element,uf),Jo(b.element,km);for(const b of w)this.destroyView(b)}}async transition(r,l,m){const S=m.opts,D=S.progressAnimation?w=>{w!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,w.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0}),w.progressEnd(0,0,0)):this.sbAni=w}:void 0,j=Ji(this),M=r.element,B=l&&l.element,u=Object.assign(Object.assign({mode:j,showGoBack:this.canGoBackSync(r),baseEl:this.el,progressCallback:D,animated:this.animated&&Hi.getBoolean("animated",!0),enteringEl:M,leavingEl:B},S),{animationBuilder:S.animationBuilder||this.animation||Hi.get("navAnimation")}),{hasCompleted:p}=await mE(u);return this.transitionFinish(p,r,l,S)}transitionFinish(r,l,m,S){const D=r?l:m;return D&&this.unmountInactiveViews(D),{hasCompleted:r,requiresTransition:!0,enteringView:l,leavingView:m,direction:S.direction}}insertViewAt(r,l){const m=this.views,S=m.indexOf(r);S>-1?(_s(r.nav===this,"view is not part of the nav"),m.splice(S,1),m.splice(l,0,r)):(_s(!r.nav,"nav is used"),r.nav=this,m.splice(l,0,r))}removeView(r){_s(r.state===wE||r.state===ju,"view state should be loaded or destroyed");const l=this.views,m=l.indexOf(r);_s(m>-1,"view must be part of the stack"),m>=0&&l.splice(m,1)}destroyView(r){r._destroy(),this.removeView(r)}unmountInactiveViews(r){if(this.destroyed)return;const l=this.views,m=l.indexOf(r);for(let S=l.length-1;S>=0;S--){const D=l[S],j=D.element;j&&(S>m?(Jo(j,km),this.destroyView(D)):S<m&&pA(j,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(r){this.sbAni&&this.sbAni.progressStep(r)}onEnd(r,l,m){if(this.sbAni){this.sbAni.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0});let S=r?-.001:.001;r?S+=zu([0,0],[.32,.72],[0,1],[1,1],l)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),S+=zu([0,0],[1,0],[.68,.28],[1,1],l)[0]),this.sbAni.progressEnd(r?1:0,S,m)}else this.gestureOrAnimationInProgress=!1}render(){return Wt("slot",{key:"e9d99a8a0b84f02f9964d8143cd5e647e43334f9"})}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return G4}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64],getLength:[64]},void 0,{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}]);function H4(){if(typeof customElements>"u")return;["ion-nav"].forEach(r=>{switch(r){case"ion-nav":customElements.get(r)||customElements.define(r,Q4);break}})}const V4=H4;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const z4=":host{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}",j4=z4,W4=or(class extends sr{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return Wt(dr,{key:"813c9a7f6782d2cf8eb27f30d3ab28e6f3122868",class:Ji(this)},Wt("slot",{key:"356bec4d4d408ea63d6b431b06465d5b7bcbff71"}))}static get style(){return j4}},[1,"ion-row"]);function K4(){if(typeof customElements>"u")return;["ion-row"].forEach(r=>{switch(r){case"ion-row":customElements.get(r)||customElements.define(r,W4);break}})}const X4=K4;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Y4=":host(.tab-hidden){display:none !important}",$4=Y4,q4=or(class extends sr{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.loaded=!1,this.active=!1,this.delegate=void 0,this.tab=void 0,this.component=void 0}async componentWillLoad(){this.active&&await this.setActive()}async setActive(){await this.prepareLazyLoaded(),this.active=!0}changeActive(r){r&&this.prepareLazyLoaded()}prepareLazyLoaded(){if(!this.loaded&&this.component!=null){this.loaded=!0;try{return qA(this.delegate,this.el,this.component,["ion-page"])}catch(r){console.error(r)}}return Promise.resolve(void 0)}render(){const{tab:r,active:l,component:m}=this;return Wt(dr,{key:"46d5498418f5379861c3d7465e8021dec45f1200",role:"tabpanel","aria-hidden":l?null:"true","aria-labelledby":"tab-button-".concat(r),class:{"ion-page":m===void 0,"tab-hidden":!l}},Wt("slot",{key:"b45045dccb87dfe75e3f5a5a474bb48b6c98e922"}))}get el(){return this}static get watchers(){return{active:["changeActive"]}}static get style(){return $4}},[1,"ion-tab",{active:[1028],delegate:[16],tab:[1],component:[1],setActive:[64]},void 0,{active:["changeActive"]}]);function J4(){if(typeof customElements>"u")return;["ion-tab"].forEach(r=>{switch(r){case"ion-tab":customElements.get(r)||customElements.define(r,q4);break}})}const Z4=J4;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const eL=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{top:0;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:min(1.0625rem, 20.4px);font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host{inset-inline-start:0}:host(.title-small){-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:min(0.8125rem, 23.4px);font-weight:normal}:host(.title-large){-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:2px;padding-bottom:4px;-webkit-transform-origin:left center;transform-origin:left center;position:static;-ms-flex-align:end;align-items:flex-end;min-width:100%;font-size:min(2.125rem, 61.2px);font-weight:700;text-align:start}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000);font-family:var(--ion-font-family)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit;width:auto}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}@supports selector(:dir(rtl)){:host(.title-large:dir(rtl)) .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}}",tL=eL,nL=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:0;padding-bottom:0;font-size:1.25rem;font-weight:500;letter-spacing:0.0125em}:host(.title-small){width:100%;height:100%;font-size:0.9375rem;font-weight:normal}",iL=nL,rL=or(class extends sr{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=Ar(this,"ionStyle",7),this.color=void 0,this.size=void 0}sizeChanged(){this.emitStyle()}connectedCallback(){this.emitStyle()}emitStyle(){const r=this.getSize();this.ionStyle.emit({["title-".concat(r)]:!0})}getSize(){return this.size!==void 0?this.size:"default"}render(){const r=Ji(this),l=this.getSize();return Wt(dr,{key:"5a58dc437a6f4257244bbdd7e9a682a17d8c9a6b",class:ta(this.color,{[r]:!0,["title-".concat(l)]:!0,"title-rtl":document.dir==="rtl"})},Wt("div",{key:"58682ea7b8f47a08adfad419b5c76b34784c6501",class:"toolbar-title"},Wt("slot",{key:"8a9248534e4c3076f5e2dfda38ef86069796851c"})))}get el(){return this}static get watchers(){return{size:["sizeChanged"]}}static get style(){return{ios:tL,md:iL}}},[33,"ion-title",{color:[513],size:[1]},void 0,{size:["sizeChanged"]}]);function sL(){if(typeof customElements>"u")return;["ion-title"].forEach(r=>{switch(r){case"ion-title":customElements.get(r)||customElements.define(r,rL);break}})}const oL=sL;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const aL=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",lL=aL,cL=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, #c1c4cd))));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(.buttons-first-slot){-webkit-margin-start:4px;margin-inline-start:4px}::slotted(.buttons-last-slot){-webkit-margin-end:4px;margin-inline-end:4px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}",dL=cL,hL=or(class extends sr{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childrenStyles=new Map,this.color=void 0}componentWillLoad(){const r=Array.from(this.el.querySelectorAll("ion-buttons")),l=r.find(D=>D.slot==="start");l&&l.classList.add("buttons-first-slot");const m=r.reverse(),S=m.find(D=>D.slot==="end")||m.find(D=>D.slot==="primary")||m.find(D=>D.slot==="secondary");S&&S.classList.add("buttons-last-slot")}childrenStyle(r){r.stopPropagation();const l=r.target.tagName,m=r.detail,S={},D=this.childrenStyles.get(l)||{};let j=!1;Object.keys(m).forEach(M=>{const B="toolbar-".concat(M),u=m[M];u!==D[B]&&(j=!0),u&&(S[B]=!0)}),j&&(this.childrenStyles.set(l,S),Td(this))}render(){const r=Ji(this),l={};return this.childrenStyles.forEach(m=>{Object.assign(l,m)}),Wt(dr,{key:"4bb3a55001408a3bdf033af76b9196cb96c07c09",class:Object.assign(Object.assign({},l),ta(this.color,{[r]:!0,"in-toolbar":ho("ion-toolbar",this.el)}))},Wt("div",{key:"0891db157d6e028c6d03696f13fb510ea91b0296",class:"toolbar-background"}),Wt("div",{key:"95fbc870d808f74af4bb18cd8f8ec8c7828a9e0b",class:"toolbar-container"},Wt("slot",{key:"84d4a9644660fe00ca085055ca8d12f3647531ad",name:"start"}),Wt("slot",{key:"fd361dc9c9979f59aed2fedcf94629506fae62b0",name:"secondary"}),Wt("div",{key:"54d2b28616a4627c55766f66dc453707752758a6",class:"toolbar-content"},Wt("slot",{key:"8f65e0830cce7135640b90eb694e282cb7e5efd2"})),Wt("slot",{key:"c78be11a207c8674f222543646398636956087e6",name:"primary"}),Wt("slot",{key:"ab25e1601ccaa8cb0d81921b849bcb7402aa7826",name:"end"})))}get el(){return this}static get style(){return{ios:lL,md:dL}}},[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);function uL(){if(typeof customElements>"u")return;["ion-toolbar"].forEach(r=>{switch(r){case"ion-toolbar":customElements.get(r)||customElements.define(r,hL);break}})}const fL=uL;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const pL=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #0054e9);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:clamp(17px, 1.0625rem, 21.998px)}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',mL=pL,AL=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:1.5rem;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:0.875rem;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;min-height:48px;aspect-ratio:1/1}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}',gL=AL,vL=or(class extends sr{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async r=>{const l=this.el.closest("ion-nav");return r.preventDefault(),l&&await l.canGoBack()?l.pop({animationBuilder:this.routerAnimation,skipIfBusy:!0}):$A(this.defaultHref,r,"back",this.routerAnimation)},this.color=void 0,this.defaultHref=void 0,this.disabled=!1,this.icon=void 0,this.text=void 0,this.type="button",this.routerAnimation=void 0}componentWillLoad(){this.inheritedAttributes=lf(this.el),this.defaultHref===void 0&&(this.defaultHref=Hi.get("backButtonDefaultHref"))}get backButtonIcon(){const r=this.icon;return r!=null?r:Ji(this)==="ios"?Hi.get("backButtonIcon",YT):Hi.get("backButtonIcon",XT)}get backButtonText(){const r=Ji(this)==="ios"?"Back":null;return this.text!=null?this.text:Hi.get("backButtonText",r)}get hasIconOnly(){return this.backButtonIcon&&!this.backButtonText}get rippleType(){return this.hasIconOnly?"unbounded":"bounded"}render(){const{color:r,defaultHref:l,disabled:m,type:S,hasIconOnly:D,backButtonIcon:j,backButtonText:M,icon:B,inheritedAttributes:u}=this,p=l!==void 0,w=Ji(this),A=u["aria-label"]||M||"back";return Wt(dr,{key:"8351c93a1812c94c979fb115f07a9ad7b3152188",onClick:this.onClick,class:ta(r,{[w]:!0,button:!0,"back-button-disabled":m,"back-button-has-icon-only":D,"in-toolbar":ho("ion-toolbar",this.el),"in-toolbar-color":ho("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0,"show-back-button":p})},Wt("button",{key:"991b8baa784dbfbdf8d3581cbbf6a858ac1f1e6e",type:S,disabled:m,class:"button-native",part:"native","aria-label":A},Wt("span",{key:"929fcd83a4fdb00cf97ca803f234719171602a5e",class:"button-inner"},j&&Wt("ion-icon",{key:"0c10d412ae8342d96f221e626b421c9abadac748",part:"icon",icon:j,"aria-hidden":"true",lazy:!1,"flip-rtl":B===void 0}),M&&Wt("span",{key:"96f505880a80f36ee8b8c78268b450f3629ee613",part:"text","aria-hidden":"true",class:"button-text"},M)),w==="md"&&Wt("ion-ripple-effect",{key:"0aecf5d415c608069eb1a10043530bd0929b6383",type:this.rippleType})))}get el(){return this}static get style(){return{ios:mL,md:gL}}},[33,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);function bL(){if(typeof customElements>"u")return;["ion-back-button","ion-icon","ion-ripple-effect"].forEach(r=>{switch(r){case"ion-back-button":customElements.get(r)||customElements.define(r,vL);break;case"ion-icon":customElements.get(r)||fE();break;case"ion-ripple-effect":customElements.get(r)||df();break}})}const yL=bL,EL=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",xL=EL,CL=or(class extends sr{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=Ar(this,"ionNavWillLoad",7),this.ionNavWillChange=Ar(this,"ionNavWillChange",3),this.ionNavDidChange=Ar(this,"ionNavDidChange",3),this.lockController=SR(),this.gestureOrAnimationInProgress=!1,this.mode=Ji(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const r=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await Xs(()=>import("./swipe-back-DsIKiV5Q.js"),[])).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>r(),l=>{var m;return(m=this.ani)===null||m===void 0?void 0:m.progressStep(l)},(l,m,S)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(l)},{oneTimeCallback:!0});let D=l?-.001:.001;l?D+=zu([0,0],[.32,.72],[0,1],[1,1],m)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),D+=zu([0,0],[1,0],[.68,.28],[1,1],m)[0]),this.ani.progressEnd(l?1:0,D,S)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(r,l,m){const S=await this.lockController.lock();let D=!1;try{D=await this.transition(r,l,m)}catch(j){console.error(j)}return S(),D}async setRouteId(r,l,m,S){return{changed:await this.setRoot(r,l,{duration:m==="root"?0:void 0,direction:m==="back"?"back":"forward",animationBuilder:S}),element:this.activeEl}}async getRouteId(){const r=this.activeEl;return r?{id:r.tagName,element:r,params:this.activeParams}:void 0}async setRoot(r,l,m){if(this.activeComponent===r&&iE(l,this.activeParams))return!1;const S=this.activeEl,D=await qA(this.delegate,this.el,r,["ion-page","ion-page-invisible"],l);return this.activeComponent=r,this.activeEl=D,this.activeParams=l,await this.commit(D,S,m),await MR(this.delegate,S),!0}async transition(r,l,m={}){if(l===r)return!1;this.ionNavWillChange.emit();const{el:S,mode:D}=this,j=this.animated&&Hi.getBoolean("animated",!0),M=m.animationBuilder||this.animation||Hi.get("navAnimation");return await mE(Object.assign(Object.assign({mode:D,animated:j,enteringEl:r,leavingEl:l,baseEl:S,deepWait:uA(S),progressCallback:m.progressAnimation?B=>{B!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,B.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),B.progressEnd(0,0,0)):this.ani=B}:void 0},m),{animationBuilder:M})),this.ionNavDidChange.emit(),!0}render(){return Wt("slot",{key:"8279a453c66a766e6e383ff59842b4ae070c13a9"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return xL}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]);function wL(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(r=>{switch(r){case"ion-router-outlet":customElements.get(r)||customElements.define(r,CL);break}})}const _L=wL;/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const oc=typeof document<"u";function _E(i){return typeof i=="object"||"displayName"in i||"props"in i||"__vccOpts"in i}function ML(i){return i.__esModule||i[Symbol.toStringTag]==="Module"||i.default&&_E(i.default)}const Qi=Object.assign;function Fm(i,r){const l={};for(const m in r){const S=r[m];l[m]=uo(S)?S.map(i):i(S)}return l}const gd=()=>{},uo=Array.isArray,ME=/#/g,SL=/&/g,IL=/\//g,TL=/=/g,BL=/\?/g,SE=/\+/g,RL=/%5B/g,LL=/%5D/g,IE=/%5E/g,DL=/%60/g,TE=/%7B/g,PL=/%7C/g,BE=/%7D/g,OL=/%20/g;function ng(i){return encodeURI(""+i).replace(PL,"|").replace(RL,"[").replace(LL,"]")}function kL(i){return ng(i).replace(TE,"{").replace(BE,"}").replace(IE,"^")}function vA(i){return ng(i).replace(SE,"%2B").replace(OL,"+").replace(ME,"%23").replace(SL,"%26").replace(DL,"`").replace(TE,"{").replace(BE,"}").replace(IE,"^")}function FL(i){return vA(i).replace(TL,"%3D")}function UL(i){return ng(i).replace(ME,"%23").replace(BL,"%3F")}function NL(i){return i==null?"":UL(i).replace(IL,"%2F")}function Bd(i){try{return decodeURIComponent(""+i)}catch(r){}return""+i}const GL=/\/$/,QL=i=>i.replace(GL,"");function Um(i,r,l="/"){let m,S={},D="",j="";const M=r.indexOf("#");let B=r.indexOf("?");return M<B&&M>=0&&(B=-1),B>-1&&(m=r.slice(0,B),D=r.slice(B+1,M>-1?M:r.length),S=i(D)),M>-1&&(m=m||r.slice(0,M),j=r.slice(M,r.length)),m=jL(m!=null?m:r,l),{fullPath:m+(D&&"?")+D+j,path:m,query:S,hash:Bd(j)}}function HL(i,r){const l=r.query?i(r.query):"";return r.path+(l&&"?")+l+(r.hash||"")}function rb(i,r){return!r||!i.toLowerCase().startsWith(r.toLowerCase())?i:i.slice(r.length)||"/"}function VL(i,r,l){const m=r.matched.length-1,S=l.matched.length-1;return m>-1&&m===S&&gc(r.matched[m],l.matched[S])&&RE(r.params,l.params)&&i(r.query)===i(l.query)&&r.hash===l.hash}function gc(i,r){return(i.aliasOf||i)===(r.aliasOf||r)}function RE(i,r){if(Object.keys(i).length!==Object.keys(r).length)return!1;for(const l in i)if(!zL(i[l],r[l]))return!1;return!0}function zL(i,r){return uo(i)?sb(i,r):uo(r)?sb(r,i):i===r}function sb(i,r){return uo(r)?i.length===r.length&&i.every((l,m)=>l===r[m]):i.length===1&&i[0]===r}function jL(i,r){if(i.startsWith("/"))return i;if(!i)return r;const l=r.split("/"),m=i.split("/"),S=m[m.length-1];(S===".."||S===".")&&m.push("");let D=l.length-1,j,M;for(j=0;j<m.length;j++)if(M=m[j],M!==".")if(M==="..")D>1&&D--;else break;return l.slice(0,D).join("/")+"/"+m.slice(j).join("/")}const Ea={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Rd;(function(i){i.pop="pop",i.push="push"})(Rd||(Rd={}));var vd;(function(i){i.back="back",i.forward="forward",i.unknown=""})(vd||(vd={}));function WL(i){if(!i)if(oc){const r=document.querySelector("base");i=r&&r.getAttribute("href")||"/",i=i.replace(/^\w+:\/\/[^\/]+/,"")}else i="/";return i[0]!=="/"&&i[0]!=="#"&&(i="/"+i),QL(i)}const KL=/^[^#]+#/;function XL(i,r){return i.replace(KL,"#")+r}function YL(i,r){const l=document.documentElement.getBoundingClientRect(),m=i.getBoundingClientRect();return{behavior:r.behavior,left:m.left-l.left-(r.left||0),top:m.top-l.top-(r.top||0)}}const ff=()=>({left:window.scrollX,top:window.scrollY});function $L(i){let r;if("el"in i){const l=i.el,m=typeof l=="string"&&l.startsWith("#"),S=typeof l=="string"?m?document.getElementById(l.slice(1)):document.querySelector(l):l;if(!S)return;r=YL(S,i)}else r=i;"scrollBehavior"in document.documentElement.style?window.scrollTo(r):window.scrollTo(r.left!=null?r.left:window.scrollX,r.top!=null?r.top:window.scrollY)}function ob(i,r){return(history.state?history.state.position-r:-1)+i}const bA=new Map;function qL(i,r){bA.set(i,r)}function JL(i){const r=bA.get(i);return bA.delete(i),r}let ZL=()=>location.protocol+"//"+location.host;function LE(i,r){const{pathname:l,search:m,hash:S}=r,D=i.indexOf("#");if(D>-1){let M=S.includes(i.slice(D))?i.slice(D).length:1,B=S.slice(M);return B[0]!=="/"&&(B="/"+B),rb(B,"")}return rb(l,i)+m+S}function e5(i,r,l,m){let S=[],D=[],j=null;const M=({state:A})=>{const b=LE(i,location),d=l.value,g=r.value;let y=0;if(A){if(l.value=b,r.value=A,j&&j===d){j=null;return}y=g?A.position-g.position:0}else m(b);S.forEach(f=>{f(l.value,d,{delta:y,type:Rd.pop,direction:y?y>0?vd.forward:vd.back:vd.unknown})})};function B(){j=l.value}function u(A){S.push(A);const b=()=>{const d=S.indexOf(A);d>-1&&S.splice(d,1)};return D.push(b),b}function p(){const{history:A}=window;A.state&&A.replaceState(Qi({},A.state,{scroll:ff()}),"")}function w(){for(const A of D)A();D=[],window.removeEventListener("popstate",M),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",M),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:B,listen:u,destroy:w}}function ab(i,r,l,m=!1,S=!1){return{back:i,current:r,forward:l,replaced:m,position:window.history.length,scroll:S?ff():null}}function t5(i){const{history:r,location:l}=window,m={value:LE(i,l)},S={value:r.state};S.value||D(m.value,{back:null,current:m.value,forward:null,position:r.length-1,replaced:!0,scroll:null},!0);function D(B,u,p){const w=i.indexOf("#"),A=w>-1?(l.host&&document.querySelector("base")?i:i.slice(w))+B:ZL()+i+B;try{r[p?"replaceState":"pushState"](u,"",A),S.value=u}catch(b){console.error(b),l[p?"replace":"assign"](A)}}function j(B,u){const p=Qi({},r.state,ab(S.value.back,B,S.value.forward,!0),u,{position:S.value.position});D(B,p,!0),m.value=B}function M(B,u){const p=Qi({},S.value,r.state,{forward:B,scroll:ff()});D(p.current,p,!0);const w=Qi({},ab(m.value,B,null),{position:p.position+1},u);D(B,w,!1),m.value=B}return{location:m,state:S,push:M,replace:j}}function n5(i){i=WL(i);const r=t5(i),l=e5(i,r.state,r.location,r.replace);function m(D,j=!0){j||l.pauseListeners(),history.go(D)}const S=Qi({location:"",base:i,go:m,createHref:XL.bind(null,i)},r,l);return Object.defineProperty(S,"location",{enumerable:!0,get:()=>r.location.value}),Object.defineProperty(S,"state",{enumerable:!0,get:()=>r.state.value}),S}function i5(i){return typeof i=="string"||i&&typeof i=="object"}function DE(i){return typeof i=="string"||typeof i=="symbol"}const PE=Symbol("");var lb;(function(i){i[i.aborted=4]="aborted",i[i.cancelled=8]="cancelled",i[i.duplicated=16]="duplicated"})(lb||(lb={}));function vc(i,r){return Qi(new Error,{type:i,[PE]:!0},r)}function Ko(i,r){return i instanceof Error&&PE in i&&(r==null||!!(i.type&r))}const cb="[^/]+?",r5={sensitive:!1,strict:!1,start:!0,end:!0},s5=/[.+*?^${}()[\]/\\]/g;function o5(i,r){const l=Qi({},r5,r),m=[];let S=l.start?"^":"";const D=[];for(const u of i){const p=u.length?[]:[90];l.strict&&!u.length&&(S+="/");for(let w=0;w<u.length;w++){const A=u[w];let b=40+(l.sensitive?.25:0);if(A.type===0)w||(S+="/"),S+=A.value.replace(s5,"\\$&"),b+=40;else if(A.type===1){const{value:d,repeatable:g,optional:y,regexp:f}=A;D.push({name:d,repeatable:g,optional:y});const E=f||cb;if(E!==cb){b+=10;try{new RegExp("(".concat(E,")"))}catch(v){throw new Error('Invalid custom RegExp for param "'.concat(d,'" (').concat(E,"): ")+v.message)}}let C=g?"((?:".concat(E,")(?:/(?:").concat(E,"))*)"):"(".concat(E,")");w||(C=y&&u.length<2?"(?:/".concat(C,")"):"/"+C),y&&(C+="?"),S+=C,b+=20,y&&(b+=-8),g&&(b+=-20),E===".*"&&(b+=-50)}p.push(b)}m.push(p)}if(l.strict&&l.end){const u=m.length-1;m[u][m[u].length-1]+=.7000000000000001}l.strict||(S+="/?"),l.end?S+="$":l.strict&&(S+="(?:/|$)");const j=new RegExp(S,l.sensitive?"":"i");function M(u){const p=u.match(j),w={};if(!p)return null;for(let A=1;A<p.length;A++){const b=p[A]||"",d=D[A-1];w[d.name]=b&&d.repeatable?b.split("/"):b}return w}function B(u){let p="",w=!1;for(const A of i){(!w||!p.endsWith("/"))&&(p+="/"),w=!1;for(const b of A)if(b.type===0)p+=b.value;else if(b.type===1){const{value:d,repeatable:g,optional:y}=b,f=d in u?u[d]:"";if(uo(f)&&!g)throw new Error('Provided param "'.concat(d,'" is an array but it is not repeatable (* or + modifiers)'));const E=uo(f)?f.join("/"):f;if(!E)if(y)A.length<2&&(p.endsWith("/")?p=p.slice(0,-1):w=!0);else throw new Error('Missing required param "'.concat(d,'"'));p+=E}}return p||"/"}return{re:j,score:m,keys:D,parse:M,stringify:B}}function a5(i,r){let l=0;for(;l<i.length&&l<r.length;){const m=r[l]-i[l];if(m)return m;l++}return i.length<r.length?i.length===1&&i[0]===80?-1:1:i.length>r.length?r.length===1&&r[0]===80?1:-1:0}function OE(i,r){let l=0;const m=i.score,S=r.score;for(;l<m.length&&l<S.length;){const D=a5(m[l],S[l]);if(D)return D;l++}if(Math.abs(S.length-m.length)===1){if(db(m))return 1;if(db(S))return-1}return S.length-m.length}function db(i){const r=i[i.length-1];return i.length>0&&r[r.length-1]<0}const l5={type:0,value:""},c5=/[a-zA-Z0-9_]/;function d5(i){if(!i)return[[]];if(i==="/")return[[l5]];if(!i.startsWith("/"))throw new Error('Invalid path "'.concat(i,'"'));function r(b){throw new Error("ERR (".concat(l,')/"').concat(u,'": ').concat(b))}let l=0,m=l;const S=[];let D;function j(){D&&S.push(D),D=[]}let M=0,B,u="",p="";function w(){u&&(l===0?D.push({type:0,value:u}):l===1||l===2||l===3?(D.length>1&&(B==="*"||B==="+")&&r("A repeatable param (".concat(u,") must be alone in its segment. eg: '/:ids+.")),D.push({type:1,value:u,regexp:p,repeatable:B==="*"||B==="+",optional:B==="*"||B==="?"})):r("Invalid state to consume buffer"),u="")}function A(){u+=B}for(;M<i.length;){if(B=i[M++],B==="\\"&&l!==2){m=l,l=4;continue}switch(l){case 0:B==="/"?(u&&w(),j()):B===":"?(w(),l=1):A();break;case 4:A(),l=m;break;case 1:B==="("?l=2:c5.test(B)?A():(w(),l=0,B!=="*"&&B!=="?"&&B!=="+"&&M--);break;case 2:B===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+B:l=3:p+=B;break;case 3:w(),l=0,B!=="*"&&B!=="?"&&B!=="+"&&M--,p="";break;default:r("Unknown state");break}}return l===2&&r('Unfinished custom RegExp for param "'.concat(u,'"')),w(),j(),S}function h5(i,r,l){const m=o5(d5(i.path),l),S=Qi(m,{record:i,parent:r,children:[],alias:[]});return r&&!S.record.aliasOf==!r.record.aliasOf&&r.children.push(S),S}function u5(i,r){const l=[],m=new Map;r=pb({strict:!1,end:!0,sensitive:!1},r);function S(w){return m.get(w)}function D(w,A,b){const d=!b,g=ub(w);g.aliasOf=b&&b.record;const y=pb(r,w),f=[g];if("alias"in w){const v=typeof w.alias=="string"?[w.alias]:w.alias;for(const x of v)f.push(ub(Qi({},g,{components:b?b.record.components:g.components,path:x,aliasOf:b?b.record:g})))}let E,C;for(const v of f){const{path:x}=v;if(A&&x[0]!=="/"){const T=A.record.path,L=T[T.length-1]==="/"?"":"/";v.path=A.record.path+(x&&L+x)}if(E=h5(v,A,y),b?b.alias.push(E):(C=C||E,C!==E&&C.alias.push(E),d&&w.name&&!fb(E)&&j(w.name)),kE(E)&&B(E),g.children){const T=g.children;for(let L=0;L<T.length;L++)D(T[L],E,b&&b.children[L])}b=b||E}return C?()=>{j(C)}:gd}function j(w){if(DE(w)){const A=m.get(w);A&&(m.delete(w),l.splice(l.indexOf(A),1),A.children.forEach(j),A.alias.forEach(j))}else{const A=l.indexOf(w);A>-1&&(l.splice(A,1),w.record.name&&m.delete(w.record.name),w.children.forEach(j),w.alias.forEach(j))}}function M(){return l}function B(w){const A=m5(w,l);l.splice(A,0,w),w.record.name&&!fb(w)&&m.set(w.record.name,w)}function u(w,A){let b,d={},g,y;if("name"in w&&w.name){if(b=m.get(w.name),!b)throw vc(1,{location:w});y=b.record.name,d=Qi(hb(A.params,b.keys.filter(C=>!C.optional).concat(b.parent?b.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),w.params&&hb(w.params,b.keys.map(C=>C.name))),g=b.stringify(d)}else if(w.path!=null)g=w.path,b=l.find(C=>C.re.test(g)),b&&(d=b.parse(g),y=b.record.name);else{if(b=A.name?m.get(A.name):l.find(C=>C.re.test(A.path)),!b)throw vc(1,{location:w,currentLocation:A});y=b.record.name,d=Qi({},A.params,w.params),g=b.stringify(d)}const f=[];let E=b;for(;E;)f.unshift(E.record),E=E.parent;return{name:y,path:g,params:d,matched:f,meta:p5(f)}}i.forEach(w=>D(w));function p(){l.length=0,m.clear()}return{addRoute:D,resolve:u,removeRoute:j,clearRoutes:p,getRoutes:M,getRecordMatcher:S}}function hb(i,r){const l={};for(const m of r)m in i&&(l[m]=i[m]);return l}function ub(i){const r={path:i.path,redirect:i.redirect,name:i.name,meta:i.meta||{},aliasOf:i.aliasOf,beforeEnter:i.beforeEnter,props:f5(i),children:i.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in i?i.components||null:i.component&&{default:i.component}};return Object.defineProperty(r,"mods",{value:{}}),r}function f5(i){const r={},l=i.props||!1;if("component"in i)r.default=l;else for(const m in i.components)r[m]=typeof l=="object"?l[m]:l;return r}function fb(i){for(;i;){if(i.record.aliasOf)return!0;i=i.parent}return!1}function p5(i){return i.reduce((r,l)=>Qi(r,l.meta),{})}function pb(i,r){const l={};for(const m in i)l[m]=m in r?r[m]:i[m];return l}function m5(i,r){let l=0,m=r.length;for(;l!==m;){const D=l+m>>1;OE(i,r[D])<0?m=D:l=D+1}const S=A5(i);return S&&(m=r.lastIndexOf(S,m-1)),m}function A5(i){let r=i;for(;r=r.parent;)if(kE(r)&&OE(i,r)===0)return r}function kE({record:i}){return!!(i.name||i.components&&Object.keys(i.components).length||i.redirect)}function yA(i){const r={};if(i===""||i==="?")return r;const m=(i[0]==="?"?i.slice(1):i).split("&");for(let S=0;S<m.length;++S){const D=m[S].replace(SE," "),j=D.indexOf("="),M=Bd(j<0?D:D.slice(0,j)),B=j<0?null:Bd(D.slice(j+1));if(M in r){let u=r[M];uo(u)||(u=r[M]=[u]),u.push(B)}else r[M]=B}return r}function mb(i){let r="";for(let l in i){const m=i[l];if(l=FL(l),m==null){m!==void 0&&(r+=(r.length?"&":"")+l);continue}(uo(m)?m.map(D=>D&&vA(D)):[m&&vA(m)]).forEach(D=>{D!==void 0&&(r+=(r.length?"&":"")+l,D!=null&&(r+="="+D))})}return r}function g5(i){const r={};for(const l in i){const m=i[l];m!==void 0&&(r[l]=uo(m)?m.map(S=>S==null?null:""+S):m==null?m:""+m)}return r}const FE=Symbol(""),Ab=Symbol(""),ig=Symbol(""),pf=Symbol(""),EA=Symbol("");function od(){let i=[];function r(m){return i.push(m),()=>{const S=i.indexOf(m);S>-1&&i.splice(S,1)}}function l(){i=[]}return{add:r,list:()=>i.slice(),reset:l}}function wa(i,r,l,m,S,D=j=>j()){const j=m&&(m.enterCallbacks[S]=m.enterCallbacks[S]||[]);return()=>new Promise((M,B)=>{const u=A=>{A===!1?B(vc(4,{from:l,to:r})):A instanceof Error?B(A):i5(A)?B(vc(2,{from:r,to:A})):(j&&m.enterCallbacks[S]===j&&typeof A=="function"&&j.push(A),M())},p=D(()=>i.call(m&&m.instances[S],r,l,u));let w=Promise.resolve(p);i.length<3&&(w=w.then(u)),w.catch(A=>B(A))})}function Nm(i,r,l,m,S=D=>D()){const D=[];for(const j of i)for(const M in j.components){let B=j.components[M];if(!(r!=="beforeRouteEnter"&&!j.instances[M]))if(_E(B)){const p=(B.__vccOpts||B)[r];p&&D.push(wa(p,l,m,j,M,S))}else{let u=B();D.push(()=>u.then(p=>{if(!p)throw new Error("Couldn't resolve component \"".concat(M,'" at "').concat(j.path,'"'));const w=ML(p)?p.default:p;j.mods[M]=p,j.components[M]=w;const b=(w.__vccOpts||w)[r];return b&&wa(b,l,m,j,M,S)()}))}}return D}function gb(i){const r=Rr(ig),l=Rr(pf),m=Ys(()=>{const B=Kn(i.to);return r.resolve(B)}),S=Ys(()=>{const{matched:B}=m.value,{length:u}=B,p=B[u-1],w=l.matched;if(!p||!w.length)return-1;const A=w.findIndex(gc.bind(null,p));if(A>-1)return A;const b=vb(B[u-2]);return u>1&&vb(p)===b&&w[w.length-1].path!==b?w.findIndex(gc.bind(null,B[u-2])):A}),D=Ys(()=>S.value>-1&&E5(l.params,m.value.params)),j=Ys(()=>S.value>-1&&S.value===l.matched.length-1&&RE(l.params,m.value.params));function M(B={}){return y5(B)?r[Kn(i.replace)?"replace":"push"](Kn(i.to)).catch(gd):Promise.resolve()}return{route:m,href:Ys(()=>m.value.href),isActive:D,isExactActive:j,navigate:M}}const v5=Jr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:gb,setup(i,{slots:r}){const l=ef(gb(i)),{options:m}=Rr(ig),S=Ys(()=>({[bb(i.activeClass,m.linkActiveClass,"router-link-active")]:l.isActive,[bb(i.exactActiveClass,m.linkExactActiveClass,"router-link-exact-active")]:l.isExactActive}));return()=>{const D=r.default&&r.default(l);return i.custom?D:ls("a",{"aria-current":l.isExactActive?i.ariaCurrentValue:null,href:l.href,onClick:l.navigate,class:S.value},D)}}}),b5=v5;function y5(i){if(!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)&&!i.defaultPrevented&&!(i.button!==void 0&&i.button!==0)){if(i.currentTarget&&i.currentTarget.getAttribute){const r=i.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(r))return}return i.preventDefault&&i.preventDefault(),!0}}function E5(i,r){for(const l in r){const m=r[l],S=i[l];if(typeof m=="string"){if(m!==S)return!1}else if(!uo(S)||S.length!==m.length||m.some((D,j)=>D!==S[j]))return!1}return!0}function vb(i){return i?i.aliasOf?i.aliasOf.path:i.path:""}const bb=(i,r,l)=>i!=null?i:r!=null?r:l,x5=Jr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(i,{attrs:r,slots:l}){const m=Rr(EA),S=Ys(()=>i.route||m.value),D=Rr(Ab,0),j=Ys(()=>{let u=Kn(D);const{matched:p}=S.value;let w;for(;(w=p[u])&&!w.components;)u++;return u}),M=Ys(()=>S.value.matched[j.value]);ml(Ab,Ys(()=>j.value+1)),ml(FE,M),ml(EA,S);const B=Dd();return uc(()=>[B.value,M.value,i.name],([u,p,w],[A,b,d])=>{p&&(p.instances[w]=u,b&&b!==p&&u&&u===A&&(p.leaveGuards.size||(p.leaveGuards=b.leaveGuards),p.updateGuards.size||(p.updateGuards=b.updateGuards))),u&&p&&(!b||!gc(p,b)||!A)&&(p.enterCallbacks[w]||[]).forEach(g=>g(u))},{flush:"post"}),()=>{const u=S.value,p=i.name,w=M.value,A=w&&w.components[p];if(!A)return yb(l.default,{Component:A,route:u});const b=w.props[p],d=b?b===!0?u.params:typeof b=="function"?b(u):b:null,y=ls(A,Qi({},d,r,{onVnodeUnmounted:f=>{f.component.isUnmounted&&(w.instances[p]=null)},ref:B}));return yb(l.default,{Component:y,route:u})||y}}});function yb(i,r){if(!i)return null;const l=i(r);return l.length===1?l[0]:l}const C5=x5;function w5(i){const r=u5(i.routes,i),l=i.parseQuery||yA,m=i.stringifyQuery||mb,S=i.history,D=od(),j=od(),M=od(),B=bc(Ea);let u=Ea;oc&&i.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Fm.bind(null,Fe=>""+Fe),w=Fm.bind(null,NL),A=Fm.bind(null,Bd);function b(Fe,qe){let rt,it;return DE(Fe)?(rt=r.getRecordMatcher(Fe),it=qe):it=Fe,r.addRoute(it,rt)}function d(Fe){const qe=r.getRecordMatcher(Fe);qe&&r.removeRoute(qe)}function g(){return r.getRoutes().map(Fe=>Fe.record)}function y(Fe){return!!r.getRecordMatcher(Fe)}function f(Fe,qe){if(qe=Qi({},qe||B.value),typeof Fe=="string"){const Te=Um(l,Fe,qe.path),je=r.resolve({path:Te.path},qe),ot=S.createHref(Te.fullPath);return Qi(Te,je,{params:A(je.params),hash:Bd(Te.hash),redirectedFrom:void 0,href:ot})}let rt;if(Fe.path!=null)rt=Qi({},Fe,{path:Um(l,Fe.path,qe.path).path});else{const Te=Qi({},Fe.params);for(const je in Te)Te[je]==null&&delete Te[je];rt=Qi({},Fe,{params:w(Te)}),qe.params=w(qe.params)}const it=r.resolve(rt,qe),Ct=Fe.hash||"";it.params=p(A(it.params));const Nt=HL(m,Qi({},Fe,{hash:kL(Ct),path:it.path})),xe=S.createHref(Nt);return Qi({fullPath:Nt,hash:Ct,query:m===mb?g5(Fe.query):Fe.query||{}},it,{redirectedFrom:void 0,href:xe})}function E(Fe){return typeof Fe=="string"?Um(l,Fe,B.value.path):Qi({},Fe)}function C(Fe,qe){if(u!==Fe)return vc(8,{from:qe,to:Fe})}function v(Fe){return L(Fe)}function x(Fe){return v(Qi(E(Fe),{replace:!0}))}function T(Fe){const qe=Fe.matched[Fe.matched.length-1];if(qe&&qe.redirect){const{redirect:rt}=qe;let it=typeof rt=="function"?rt(Fe):rt;return typeof it=="string"&&(it=it.includes("?")||it.includes("#")?it=E(it):{path:it},it.params={}),Qi({query:Fe.query,hash:Fe.hash,params:it.path!=null?{}:Fe.params},it)}}function L(Fe,qe){const rt=u=f(Fe),it=B.value,Ct=Fe.state,Nt=Fe.force,xe=Fe.replace===!0,Te=T(rt);if(Te)return L(Qi(E(Te),{state:typeof Te=="object"?Qi({},Ct,Te.state):Ct,force:Nt,replace:xe}),qe||rt);const je=rt;je.redirectedFrom=qe;let ot;return!Nt&&VL(m,it,rt)&&(ot=vc(16,{to:je,from:it}),ae(it,it,!0,!1)),(ot?Promise.resolve(ot):P(je,it)).catch(Je=>Ko(Je)?Ko(Je,2)?Je:se(Je):X(Je,je,it)).then(Je=>{if(Je){if(Ko(Je,2))return L(Qi({replace:xe},E(Je.to),{state:typeof Je.to=="object"?Qi({},Ct,Je.to.state):Ct,force:Nt}),qe||je)}else Je=$(je,it,!0,xe,Ct);return H(je,it,Je),Je})}function R(Fe,qe){const rt=C(Fe,qe);return rt?Promise.reject(rt):Promise.resolve()}function F(Fe){const qe=ke.values().next().value;return qe&&typeof qe.runWithContext=="function"?qe.runWithContext(Fe):Fe()}function P(Fe,qe){let rt;const[it,Ct,Nt]=_5(Fe,qe);rt=Nm(it.reverse(),"beforeRouteLeave",Fe,qe);for(const Te of it)Te.leaveGuards.forEach(je=>{rt.push(wa(je,Fe,qe))});const xe=R.bind(null,Fe,qe);return rt.push(xe),Xe(rt).then(()=>{rt=[];for(const Te of D.list())rt.push(wa(Te,Fe,qe));return rt.push(xe),Xe(rt)}).then(()=>{rt=Nm(Ct,"beforeRouteUpdate",Fe,qe);for(const Te of Ct)Te.updateGuards.forEach(je=>{rt.push(wa(je,Fe,qe))});return rt.push(xe),Xe(rt)}).then(()=>{rt=[];for(const Te of Nt)if(Te.beforeEnter)if(uo(Te.beforeEnter))for(const je of Te.beforeEnter)rt.push(wa(je,Fe,qe));else rt.push(wa(Te.beforeEnter,Fe,qe));return rt.push(xe),Xe(rt)}).then(()=>(Fe.matched.forEach(Te=>Te.enterCallbacks={}),rt=Nm(Nt,"beforeRouteEnter",Fe,qe,F),rt.push(xe),Xe(rt))).then(()=>{rt=[];for(const Te of j.list())rt.push(wa(Te,Fe,qe));return rt.push(xe),Xe(rt)}).catch(Te=>Ko(Te,8)?Te:Promise.reject(Te))}function H(Fe,qe,rt){M.list().forEach(it=>F(()=>it(Fe,qe,rt)))}function $(Fe,qe,rt,it,Ct){const Nt=C(Fe,qe);if(Nt)return Nt;const xe=qe===Ea,Te=oc?history.state:{};rt&&(it||xe?S.replace(Fe.fullPath,Qi({scroll:xe&&Te&&Te.scroll},Ct)):S.push(Fe.fullPath,Ct)),B.value=Fe,ae(Fe,qe,rt,xe),se()}let te;function ee(){te||(te=S.listen((Fe,qe,rt)=>{if(!Ke.listening)return;const it=f(Fe),Ct=T(it);if(Ct){L(Qi(Ct,{replace:!0}),it).catch(gd);return}u=it;const Nt=B.value;oc&&qL(ob(Nt.fullPath,rt.delta),ff()),P(it,Nt).catch(xe=>Ko(xe,12)?xe:Ko(xe,2)?(L(xe.to,it).then(Te=>{Ko(Te,20)&&!rt.delta&&rt.type===Rd.pop&&S.go(-1,!1)}).catch(gd),Promise.reject()):(rt.delta&&S.go(-rt.delta,!1),X(xe,it,Nt))).then(xe=>{xe=xe||$(it,Nt,!1),xe&&(rt.delta&&!Ko(xe,8)?S.go(-rt.delta,!1):rt.type===Rd.pop&&Ko(xe,20)&&S.go(-1,!1)),H(it,Nt,xe)}).catch(gd)}))}let de=od(),ie=od(),ne;function X(Fe,qe,rt){se(Fe);const it=ie.list();return it.length?it.forEach(Ct=>Ct(Fe,qe,rt)):console.error(Fe),Promise.reject(Fe)}function z(){return ne&&B.value!==Ea?Promise.resolve():new Promise((Fe,qe)=>{de.add([Fe,qe])})}function se(Fe){return ne||(ne=!Fe,ee(),de.list().forEach(([qe,rt])=>Fe?rt(Fe):qe()),de.reset()),Fe}function ae(Fe,qe,rt,it){const{scrollBehavior:Ct}=i;if(!oc||!Ct)return Promise.resolve();const Nt=!rt&&JL(ob(Fe.fullPath,0))||(it||!rt)&&history.state&&history.state.scroll||null;return ly().then(()=>Ct(Fe,qe,Nt)).then(xe=>xe&&$L(xe)).catch(xe=>X(xe,Fe,qe))}const be=Fe=>S.go(Fe);let Re;const ke=new Set,Ke={currentRoute:B,listening:!0,addRoute:b,removeRoute:d,clearRoutes:r.clearRoutes,hasRoute:y,getRoutes:g,resolve:f,options:i,push:v,replace:x,go:be,back:()=>be(-1),forward:()=>be(1),beforeEach:D.add,beforeResolve:j.add,afterEach:M.add,onError:ie.add,isReady:z,install(Fe){const qe=this;Fe.component("RouterLink",b5),Fe.component("RouterView",C5),Fe.config.globalProperties.$router=qe,Object.defineProperty(Fe.config.globalProperties,"$route",{enumerable:!0,get:()=>Kn(B)}),oc&&!Re&&B.value===Ea&&(Re=!0,v(S.location).catch(Ct=>{}));const rt={};for(const Ct in Ea)Object.defineProperty(rt,Ct,{get:()=>B.value[Ct],enumerable:!0});Fe.provide(ig,qe),Fe.provide(pf,iy(rt)),Fe.provide(EA,B);const it=Fe.unmount;ke.add(Fe),Fe.unmount=function(){ke.delete(Fe),ke.size<1&&(u=Ea,te&&te(),te=null,B.value=Ea,Re=!1,ne=!1),it()}}};function Xe(Fe){return Fe.reduce((qe,rt)=>qe.then(()=>F(rt)),Promise.resolve())}return Ke}function _5(i,r){const l=[],m=[],S=[],D=Math.max(r.matched.length,i.matched.length);for(let j=0;j<D;j++){const M=r.matched[j];M&&(i.matched.find(u=>gc(u,M))?m.push(M):l.push(M));const B=i.matched[j];B&&(r.matched.find(u=>gc(u,B))||S.push(B))}return[l,m,S]}function M5(i){return Rr(pf)}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const S5=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:24px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){font-size:30px}',I5=S5,T5=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}',B5=T5,R5=or(class extends sr{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=Ar(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=r=>{(r.key==="Enter"||r.key===" ")&&this.selectTab(r)},this.onClick=r=>{this.selectTab(r)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(r){const l=r.target,m=this.el.parentElement;(r.composedPath().includes(m)||l!=null&&l.contains(this.el))&&(this.selected=this.tab===r.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},af(this.el,["aria-label"])),this.layout===void 0&&(this.layout=Hi.get("tabButtonLayout","icon-top"))}selectTab(r){this.tab!==void 0&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),r.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:r,hasIcon:l,hasLabel:m,href:S,rel:D,target:j,layout:M,selected:B,tab:u,inheritedAttributes:p}=this,w=Ji(this),A={download:this.download,href:S,rel:D,target:j};return Wt(dr,{key:"4b528ce31f67e10ad849e0c99bd034bba675c227",onClick:this.onClick,onKeyup:this.onKeyUp,id:u!==void 0?"tab-button-".concat(u):null,class:{[w]:!0,"tab-selected":B,"tab-disabled":r,"tab-has-label":m,"tab-has-icon":l,"tab-has-label-only":m&&!l,"tab-has-icon-only":l&&!m,["tab-layout-".concat(M)]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},Wt("a",Object.assign({key:"0da8784b1b243ffaaaf04dd7adb55d6881ed0c08"},A,{class:"button-native",part:"native",role:"tab","aria-selected":B?"true":null,"aria-disabled":r?"true":null,tabindex:r?"-1":void 0},p),Wt("span",{key:"2c628e8f1ebc129f84876c01530468cb97d8bf3a",class:"button-inner"},Wt("slot",{key:"8052a171d197a7de1a7eb12b091c35f73ae1ee21"})),w==="md"&&Wt("ion-ripple-effect",{key:"4186bdb5ed045ec16f495a14fa30ac864c576227",type:"unbounded"})))}get el(){return this}static get style(){return{ios:I5,md:B5}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);function L5(){if(typeof customElements>"u")return;["ion-tab-button","ion-ripple-effect"].forEach(r=>{switch(r){case"ion-tab-button":customElements.get(r)||customElements.define(r,R5);break;case"ion-ripple-effect":customElements.get(r)||df();break}})}const D5=L5;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const P5=":host{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:0}.tabs-inner{position:relative;-ms-flex:1;flex:1;contain:layout size style}",O5=P5,k5=or(class extends sr{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=Ar(this,"ionNavWillLoad",7),this.ionTabsWillChange=Ar(this,"ionTabsWillChange",3),this.ionTabsDidChange=Ar(this,"ionTabsDidChange",3),this.transitioning=!1,this.onTabClicked=r=>{const{href:l,tab:m}=r.detail;if(this.useRouter&&l!==void 0){const S=document.querySelector("ion-router");S&&S.push(l)}else this.select(m)},this.selectedTab=void 0,this.useRouter=!1}async componentWillLoad(){if(this.useRouter||(this.useRouter=(!!this.el.querySelector("ion-router-outlet")||!!document.querySelector("ion-router"))&&!this.el.closest("[no-router]")),!this.useRouter){const r=this.tabs;r.length>0&&await this.select(r[0])}this.ionNavWillLoad.emit()}componentWillRender(){const r=this.el.querySelector("ion-tab-bar");if(r){const l=this.selectedTab?this.selectedTab.tab:void 0;r.selectedTab=l}}async select(r){const l=Gm(this.tabs,r);return this.shouldSwitch(l)?(await this.setActive(l),await this.notifyRouter(),this.tabSwitch(),!0):!1}async getTab(r){return Gm(this.tabs,r)}getSelected(){return Promise.resolve(this.selectedTab?this.selectedTab.tab:void 0)}async setRouteId(r){const l=Gm(this.tabs,r);return this.shouldSwitch(l)?(await this.setActive(l),{changed:!0,element:this.selectedTab,markVisible:()=>this.tabSwitch()}):{changed:!1,element:this.selectedTab}}async getRouteId(){var r;const l=(r=this.selectedTab)===null||r===void 0?void 0:r.tab;return l!==void 0?{id:l,element:this.selectedTab}:void 0}setActive(r){return this.transitioning?Promise.reject("transitioning already happening"):(this.transitioning=!0,this.leavingTab=this.selectedTab,this.selectedTab=r,this.ionTabsWillChange.emit({tab:r.tab}),r.active=!0,Promise.resolve())}tabSwitch(){const r=this.selectedTab,l=this.leavingTab;this.leavingTab=void 0,this.transitioning=!1,r&&l!==r&&(l&&(l.active=!1),this.ionTabsDidChange.emit({tab:r.tab}))}notifyRouter(){if(this.useRouter){const r=document.querySelector("ion-router");if(r)return r.navChanged("forward")}return Promise.resolve(!1)}shouldSwitch(r){const l=this.selectedTab;return r!==void 0&&r!==l&&!this.transitioning}get tabs(){return Array.from(this.el.querySelectorAll("ion-tab"))}render(){return Wt(dr,{key:"eb094c9bd15b7777c53bd0bd6d225784fa472849",onIonTabButtonClick:this.onTabClicked},Wt("slot",{key:"a516ca6915bf26e77eeeb0ff684c4fcc7d4420a7",name:"top"}),Wt("div",{key:"dd2a32a072d77afe216abc4958c1d686405fb780",class:"tabs-inner"},Wt("slot",{key:"222c20ba862068f5c78e7bbef4fa213499fb2fa5"})),Wt("slot",{key:"3e76dcb1b21873aa137d095c56131514054ead3a",name:"bottom"}))}get el(){return this}static get style(){return O5}},[1,"ion-tabs",{useRouter:[1028,"use-router"],selectedTab:[32],select:[64],getTab:[64],getSelected:[64],setRouteId:[64],getRouteId:[64]}]),Gm=(i,r)=>{const l=typeof r=="string"?i.find(m=>m.tab===r):r;return l||console.error('tab with id: "'.concat(l,'" does not exist')),l};function F5(){if(typeof customElements>"u")return;["ion-tabs"].forEach(r=>{switch(r){case"ion-tabs":customElements.get(r)||customElements.define(r,k5);break}})}const U5=F5;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const N5=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",G5=N5,Q5=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.07)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, var(--ion-text-color-step-350, #595959)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:56px}",H5=Q5,V5=or(class extends sr{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=Ar(this,"ionTabBarChanged",7),this.ionTabBarLoaded=Ar(this,"ionTabBarLoaded",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await QR(async(r,l)=>{r===!1&&l!==void 0&&await l,this.keyboardVisible=r})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}componentDidLoad(){this.ionTabBarLoaded.emit()}render(){const{color:r,translucent:l,keyboardVisible:m}=this,S=Ji(this),D=m&&this.el.getAttribute("slot")!=="top";return Wt(dr,{key:"3a8595dd83f89e8319471a7a7f9f64b2565b384c",role:"tablist","aria-hidden":D?"true":null,class:ta(r,{[S]:!0,"tab-bar-translucent":l,"tab-bar-hidden":D})},Wt("slot",{key:"8b65eceb922f6abfa15f41046261586fb94b981f"}))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:G5,md:H5}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]},void 0,{selectedTab:["selectedTabChanged"]}]);function z5(){if(typeof customElements>"u")return;["ion-tab-bar"].forEach(r=>{switch(r){case"ion-tab-bar":customElements.get(r)||customElements.define(r,V5);break}})}const j5=z5,W5="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",K5=W5,X5=or(class extends sr{constructor(){super(),this.__registerHost()}componentDidLoad(){$5(async()=>{const r=_a(window,"hybrid");if(Hi.getBoolean("_testing")||Xs(()=>import("./index9-CMAgvrc3.js"),[]).then(S=>S.startTapClick(Hi)),Hi.getBoolean("statusTap",r)&&Xs(()=>import("./status-tap-Df6MhJ56.js"),[]).then(S=>S.startStatusTap()),Hi.getBoolean("inputShims",Y5())){const S=_a(window,"ios")?"ios":"android";Xs(()=>import("./input-shims-BVm8MYfO.js"),[]).then(D=>D.startInputShims(Hi,S))}const l=await Xs(()=>Promise.resolve().then(()=>_R),void 0),m=r||Vu();Hi.getBoolean("hardwareBackButton",m)?l.startHardwareBackButton():(Vu()&&Ad("experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),l.blockHardwareBackButton()),typeof window<"u"&&Xs(()=>import("./keyboard2-CFSz7Lw_.js"),[]).then(S=>S.startKeyboardAssist(window)),Xs(()=>import("./focus-visible-supuXXMI.js"),[]).then(S=>this.focusVisible=S.startFocusVisible())})}async setFocus(r){this.focusVisible&&this.focusVisible.setFocus(r)}render(){const r=Ji(this);return Wt(dr,{key:"e95cdeb2709edbc74f4e6ebf77cb110154605b72",class:{[r]:!0,"ion-page":!0,"force-statusbar-padding":Hi.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return K5}},[0,"ion-app",{setFocus:[64]}]),Y5=()=>!!(_a(window,"ios")&&_a(window,"mobile")||_a(window,"android")&&_a(window,"mobileweb")),$5=i=>{"requestIdleCallback"in window?window.requestIdleCallback(i):setTimeout(i,32)};function q5(){if(typeof customElements>"u")return;["ion-app"].forEach(r=>{switch(r){case"ion-app":customElements.get(r)||customElements.define(r,X5);break}})}const J5=q5;let Qm;const Z5=()=>{if(typeof window>"u")return new Map;if(!Qm){const i=window;i.Ionicons=i.Ionicons||{},Qm=i.Ionicons.map=i.Ionicons.map||new Map}return Qm},eD=i=>{let r=Hm(i.src);return r||(r=UE(i.name,i.icon,i.mode,i.ios,i.md),r?tD(r,i):i.icon&&(r=Hm(i.icon),r||(r=Hm(i.icon[i.mode]),r))?r:null)},tD=(i,r)=>{const l=Z5().get(i);if(l)return l;try{return Vy("svg/".concat(i,".svg"))}catch(m){console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(i,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),r)}},UE=(i,r,l,m,S)=>(l=(l&&wu(l))==="ios"?"ios":"md",m&&l==="ios"?i=wu(m):S&&l==="md"?i=wu(S):(!i&&r&&!NE(r)&&(i=r),Wu(i)&&(i=wu(i))),!Wu(i)||i.trim()===""||i.replace(/[a-z]|-|\d/gi,"")!==""?null:i),Hm=i=>Wu(i)&&(i=i.trim(),NE(i))?i:null,NE=i=>i.length>0&&/(\/|\.)/.test(i),Wu=i=>typeof i=="string",wu=i=>i.toLowerCase(),nD=(i,r=[])=>{const l={};return r.forEach(m=>{i.hasAttribute(m)&&(i.getAttribute(m)!==null&&(l[m]=i.getAttribute(m)),i.removeAttribute(m))}),l},iD=i=>i&&i.dir!==""?i.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",rD=i=>{const r=document.createElement("div");r.innerHTML=i;for(let m=r.childNodes.length-1;m>=0;m--)r.childNodes[m].nodeName.toLowerCase()!=="svg"&&r.removeChild(r.childNodes[m]);const l=r.firstElementChild;if(l&&l.nodeName.toLowerCase()==="svg"){const m=l.getAttribute("class")||"";if(l.setAttribute("class",(m+" s-ion-icon").trim()),GE(l))return r.innerHTML}return""},GE=i=>{if(i.nodeType===1){if(i.nodeName.toLowerCase()==="script")return!1;for(let r=0;r<i.attributes.length;r++){const l=i.attributes[r].name;if(Wu(l)&&l.toLowerCase().indexOf("on")===0)return!1}for(let r=0;r<i.childNodes.length;r++)if(!GE(i.childNodes[r]))return!1}return!0},sD=i=>i.startsWith("data:image/svg+xml"),oD=i=>i.indexOf(";utf8,")!==-1,fl=new Map,Eb=new Map;let Vm;const aD=(i,r)=>{let l=Eb.get(i);if(!l)if(typeof fetch<"u"&&typeof document<"u")if(sD(i)&&oD(i)){Vm||(Vm=new DOMParser);const S=Vm.parseFromString(i,"text/html").querySelector("svg");return S&&fl.set(i,S.outerHTML),Promise.resolve()}else l=fetch(i).then(m=>{if(m.ok)return m.text().then(S=>{S&&r!==!1&&(S=rD(S)),fl.set(i,S||"")});fl.set(i,"")}),Eb.set(i,l);else return fl.set(i,""),Promise.resolve();return l},lD=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",cD=or(class extends sr{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=dD(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=nD(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(r,l,m){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const S=this.io=new window.IntersectionObserver(D=>{D[0].isIntersecting&&(S.disconnect(),this.io=void 0,m())},{rootMargin:l});S.observe(r)}else m()}loadIcon(){if(this.isVisible){const r=eD(this);r&&(fl.has(r)?this.svgContent=fl.get(r):aD(r,this.sanitize).then(()=>this.svgContent=fl.get(r)),this.didLoadIcon=!0)}this.iconName=UE(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:r,iconName:l,inheritedAttributes:m,el:S}=this,D=this.mode||"md",j=l?(l.includes("arrow")||l.includes("chevron"))&&r!==!1:!1,M=r||j;return Wt(dr,Object.assign({role:"img",class:Object.assign(Object.assign({[D]:!0},hD(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":M,"icon-rtl":M&&iD(S)})},m),this.svgContent?Wt("div",{class:"icon-inner",innerHTML:this.svgContent}):Wt("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return lD}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),dD=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",hD=i=>i?{"ion-color":!0,["ion-color-".concat(i)]:!0}:null;function uD(){if(typeof customElements>"u")return;["ion-icon"].forEach(r=>{switch(r){case"ion-icon":customElements.get(r)||customElements.define(r,cD);break}})}const fD=uD;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var xb;(function(i){i.Dark="DARK",i.Light="LIGHT",i.Default="DEFAULT"})(xb||(xb={}));const Cb="update:modelValue",zm="modelValue",jm="routerLink",wb="navManager",pD="router",mD="aria",hl=Symbol(),Wm={default:hl},_b=i=>(i==null?void 0:i.split(" "))||[],AD=(i,r,l=[])=>{var m;return[...Array.from(((m=i.value)===null||m===void 0?void 0:m.classList)||[]),...l].filter((S,D,j)=>!r.has(S)&&j.indexOf(S)===D)},vs=(i,r,l=[],m,S)=>{r!==void 0&&r();const D=Jr((j,{attrs:M,slots:B,emit:u})=>{var p;let w=j[m];const A=Dd(),b=new Set(_b(M.class)),d={created:C=>{(Array.isArray(S)?S:[S]).forEach(x=>{C.addEventListener(x.toLowerCase(),T=>{T.target.tagName===C.tagName&&(w=(T==null?void 0:T.target)[m],u(Cb,w))})})}},g=HA(),f=((p=g==null?void 0:g.appContext)===null||p===void 0?void 0:p.provides[wb])?Rr(wb):void 0,E=C=>{const{routerLink:v}=j;if(v!==hl)if(f!==void 0){C.preventDefault();let x={event:C};for(const T in j){const L=j[T];j.hasOwnProperty(T)&&T.startsWith(pD)&&L!==hl&&(x[T]=L)}f.navigate(x)}else console.warn("Tried to navigate, but no router was found. Make sure you have mounted Vue Router.")};return()=>{w=j[m],_b(M.class).forEach(L=>{b.add(L)});const C=j.onClick,v=L=>{C!==void 0&&C(L),L.defaultPrevented||E(L)};let x={ref:A,class:AD(A,b),onClick:v};for(const L in j){const R=j[L];(j.hasOwnProperty(L)&&R!==hl||L.startsWith(mD))&&(x[L]=R)}m&&(j[zm]!==hl?x=Object.assign(Object.assign({},x),{[m]:j[zm]}):w!==hl&&(x=Object.assign(Object.assign({},x),{[m]:w}))),j[jm]!==hl&&(x=Object.assign(Object.assign({},x),{href:j[jm]}));const T=ls(i,x,B.default&&B.default());return m===void 0?T:uS(T,[[d]])}});return typeof D!="function"&&(D.name=i,D.props={[jm]:Wm},l.forEach(j=>{D.props[j]=Wm}),m&&(D.props[zm]=Wm,D.emits=[Cb])),D},gD=vs("ion-avatar",OB),Bu=vs("ion-button",YB,["color","buttonType","disabled","expand","fill","routerDirection","routerAnimation","download","href","rel","shape","size","strong","target","type","form","ionFocus","ionBlur"]),QE=vs("ion-buttons",nR,["collapse"]),Mb=vs("ion-col",dR,["offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","pull","pullXs","pullSm","pullMd","pullLg","pullXl","push","pushXs","pushSm","pushMd","pushLg","pushXl","size","sizeXs","sizeSm","sizeMd","sizeLg","sizeXl"]),rg=vs("ion-content",bR,["color","fullscreen","fixedSlotPlacement","forceOverscroll","scrollX","scrollY","scrollEvents","ionScrollStart","ionScroll","ionScrollEnd"]),HE=vs("ion-header",ZR,["collapse","translucent"]),AP=vs("ion-img",s4,["alt","src","ionImgWillLoad","ionImgDidLoad","ionError"]),VE=vs("ion-item",u4,["color","button","detail","detailIcon","disabled","download","href","rel","lines","routerAnimation","routerDirection","target","type"]),Ku=vs("ion-label",b4,["color","position","ionColor","ionStyle"]),zE=vs("ion-list",M4,["lines","inset"]),vD=vs("ion-list-header",D4,["color","lines"]),bD=vs("ion-row",X4),yD=vs("ion-tab",Z4,["active","delegate","tab","component"]),jE=vs("ion-title",oL,["color","size","ionStyle"]),WE=vs("ion-toolbar",fL,["color"]);var _o;(function(i){i.WillEnter="onIonViewWillEnter",i.DidEnter="onIonViewDidEnter",i.WillLeave="onIonViewWillLeave",i.DidLeave="onIonViewDidLeave"})(_o||(_o={}));const ED={[JA]:_o.WillEnter,[ZA]:_o.DidEnter,[hf]:_o.WillLeave,[uf]:_o.DidLeave},Sb={main:0},xD=(i="main")=>{var r;const l=((r=Sb[i])!==null&&r!==void 0?r:0)+1;return Sb[i]=l,l.toString()},_u=(i,r,l)=>{i!=null&&i[l]&&i[l].bind(r==null?void 0:r.value)();const m=r==null?void 0:r.value;if(m!=null&&m[l]&&m[l](),m){const S=ED[l],D=m[S];D&&D.forEach(j=>j())}},KE=()=>{if(typeof window<"u"){const i=window.Ionic;if(i&&i.config)return i.config}return null},CD=(i,r,l)=>{if(l){const m=l,S=m.proxy[i]||(m.proxy[i]=[]);m.exposed&&(m.exposed[i]=S);const D=(...j)=>{if(!m.isUnmounted)return j?r(...j):r()};return S.push(D),D}else console.warn("[@ionic/vue]: Ionic Lifecycle Hooks can only be used during execution of setup().")},mf=i=>(r,l=HA())=>CD(i,r,l);mf(_o.WillEnter);mf(_o.DidEnter);mf(_o.WillLeave);mf(_o.DidLeave);const Km=i=>i.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase(),wD=()=>({ael:(i,r,l,m)=>i.addEventListener(Km(r),l,m),rel:(i,r,l,m)=>i.removeEventListener(Km(r),l,m),ce:(i,r)=>new CustomEvent(Km(i),r)}),_D={async install(i,r={}){typeof document<"u"&&document.documentElement.classList.add("ion-ce");const{ael:l,rel:m,ce:S}=wD();fB(Object.assign(Object.assign({},r),{_ael:l,_rel:m,_ce:S}))}},sg=Jr((i,{attrs:r,slots:l})=>{yL();const m=Rr("navManager"),S=()=>{if(m===void 0)return;const D=r["default-href"]||r.defaultHref,j=r["router-animation"]||r.routerAnimation;m.handleNavigateBack(D,j)};return()=>ls("ion-back-button",Object.assign({onClick:S},r),l.default&&l.default())});sg.name="IonBackButton";const Af=Jr({name:"IonPage",props:{registerIonPage:{type:Function,default:()=>{}}},mounted(){this.$props.registerIonPage(this.$refs.ionPage)},setup(i,{attrs:r,slots:l}){return()=>ls("div",Object.assign(Object.assign({},r),{class:"ion-page",ref:"ionPage"}),l.default&&l.default())}}),Ib=i=>!i.classList.contains("ion-page-hidden")&&!i.classList.contains("ion-page-invisible"),Tb=Symbol(0),XE=Jr({name:"IonRouterOutlet",setup(){_L();const i=Rr(pf),r=M5(),l=Rr(Tb,0),m=Ys(()=>r.matched[l]);let S,D;ml(Tb,l+1),ml(FE,m);const j=Dd(),M=xD("ion-router-outlet"),B=Rr("navManager"),u=Rr("viewStacks"),p=bc([]);let w=!1,A;uc(()=>[r,m.value],([v,x])=>{if(x!==void 0){const T=x!==S,L=v.matched[v.matched.length-1]===x&&v.path!==D;(T||L)&&E(m)}S=x,D=v.path},{deep:!0});const b=()=>{const v=KE();if(!(v&&v.get("swipeBackEnabled",j.value.mode==="ios")))return!1;const T=u.getViewStack(M);if(!T||T.length<=1)return!1;const L=B.getLeavingRouteInfo();return!!u.findViewItemByRouteInfo({pathname:L.pushedByRoute||""},M)},d=async()=>{const v=B.getLeavingRouteInfo(),{routerAnimation:x}=v,T=u.findViewItemByRouteInfo({pathname:v.pushedByRoute||""},M),L=u.findViewItemByRouteInfo(v,M);if(L){let R=x;const F=T.ionPageElement,P=L.ionPageElement,H=T.routerAnimation;R===void 0&&H!==void 0&&(R=H),L.routerAnimation=R,await y(F,P,"back",B.canGoBack(2),!0,R)}return Promise.resolve()},g=v=>{if(v)w=!0,B.handleNavigateBack();else{const x=B.getCurrentRouteInfo(),T=u.findViewItemByRouteInfo({pathname:x.pushedByRoute||""},M);T.ionPageElement.setAttribute("aria-hidden","true"),T.ionPageElement.classList.add("ion-page-hidden")}};uc(j,()=>{j.value.swipeHandler={canStart:b,onStart:d,onEnd:g}});const y=async(v,x,T,L,R,F)=>{if(w)return w=!1,Promise.resolve(!1);if(v===x)return Promise.resolve(!1);v.classList.add("ion-page-invisible");const P=T===void 0||T==="root"||T==="none";return await j.value.commit(v,x,{duration:P&&F===void 0?0:void 0,direction:T,showGoBack:L,progressAnimation:R,animationBuilder:F})},f=async()=>{const v=B.getCurrentRouteInfo(),{routerDirection:x,routerAction:T,routerAnimation:L,prevRouteLastPathname:R,delta:F}=v,P=u.findViewItemByRouteInfo(v,M);let H=u.findLeavingViewItemByRouteInfo(v,M);const $=P.ionPageElement;if($===void 0&&console.warn("[@ionic/vue Warning]: The view you are trying to render for path ".concat(v.pathname," does not have the required <ion-page> component. Transitions and lifecycle methods may not work as expected.\n\nSee https://ionicframework.com/docs/vue/navigation#ionpage for more information.")),P!==H&&(!H&&R&&(H=u.findViewItemByPathname(R,M)),!(Ib($)&&(H==null?void 0:H.ionPageElement)!==void 0&&!Ib(H.ionPageElement)))){if(_u(P.vueComponent,P.vueComponentRef,JA),H!=null&&H.ionPageElement&&P!==H){let te=L;const ee=H.ionPageElement;_u(H.vueComponent,H.vueComponentRef,hf);const de=P.routerAnimation;te===void 0&&x==="back"&&de!==void 0&&(te=de),H.routerAnimation=te,await y($,ee,x,!!v.pushedByRoute,!1,te),ee.classList.add("ion-page-hidden"),ee.setAttribute("aria-hidden","true");const ie=u.size()===1;T==="replace"?(H.mount=!1,H.ionPageElement=void 0,H.ionRoute=!1):T==="push"&&x==="forward"?ie&&u.mountIntermediaryViews(M,H,F):x!=="none"&&H&&P!==H&&(H.mount=!1,H.ionPageElement=void 0,H.ionRoute=!1,ie&&u.unmountLeavingViews(M,P,F)),_u(H.vueComponent,H.vueComponentRef,uf)}else requestAnimationFrame(()=>$.classList.remove("ion-page-invisible"));_u(P.vueComponent,P.vueComponentRef,ZA),p.value=u.getChildrenToRender(M)}},E=v=>{const x=r.matched[0];if(A||(A=x.path),!v.value||v.value!==x&&x.path!==A)return;const T=B.getCurrentRouteInfo();let L=u.findViewItemByRouteInfo(T,M);L||(L=u.createViewItem(M,v.value.components.default,v.value,T),u.add(L)),L.mount?f():(L.mount=!0,L.registerCallback=()=>{f(),L.registerCallback=void 0}),p.value=u.getChildrenToRender(M)};return m.value&&E(m),FA(()=>u.clear(M)),{id:M,components:p,injectedRoute:i,ionRouterOutlet:j,registerIonPage:(v,x)=>{const T=v.ionPageElement;u.registerIonPage(v,x),v.registerCallback?(x.classList.add("ion-page-invisible"),v.registerCallback()):T&&!T.classList.contains("ion-page-invisible")&&x.classList.remove("ion-page-invisible")}}},render(){const{components:i,registerIonPage:r,injectedRoute:l}=this;return ls("ion-router-outlet",{ref:"ionRouterOutlet"},i&&i.map(m=>{var S,D;let j={ref:m.vueComponentRef,key:m.pathname,registerIonPage:p=>r(m,p)};const M=(D=(S=m.matchedRoute)===null||S===void 0?void 0:S.props)===null||D===void 0?void 0:D.default,u=M?M===!0?m.params:typeof M=="function"?(()=>{var p;const w=(p=m.vueComponentData)===null||p===void 0?void 0:p.propsFunctionResult;if(w)return w;{const A=M(l);return m.vueComponentData=Object.assign(Object.assign({},m.vueComponentData),{propsFunctionResult:A}),A}})():M:null;return j=Object.assign(Object.assign({},j),u),ls(m.vueComponent,j)}))}}),Bb=Jr({name:"IonTabButton",props:{_getTabState:{type:Function,default:()=>({})},disabled:Boolean,download:String,href:String,rel:String,layout:String,selected:Boolean,tab:String,target:String,_onClick:{type:Function,required:!1}},setup(i,{slots:r}){D5();const l=Rr("navManager",null),m=S=>{S.cancelable&&S.preventDefault();const{tab:D,href:j,_getTabState:M}=i,B=M(),u=B.hasRouterOutlet,p=B.tabs[D]||{},w=p.originalHref||j,A=u?p.currentHref||j:"",b=B.activeTab;!u&&i._onClick&&i._onClick(new CustomEvent("ionTabButtonClick",{detail:{href:A,selected:D===b,tab:D}})),l!==null&&(b===D?w!==A&&l.resetTab(D):l.changeTab(D,A))};return()=>ls("ion-tab-button",Object.assign({onClick:m},i),r.default&&r.default())}}),Rb="ionTabsWillChange",Lb="ionTabsDidChange",Db=i=>i.type&&(i.type.name==="IonRouterOutlet"||i.type==="ion-router-outlet"),YE=i=>i.type===oo?Array.isArray(i.children)?i.children.some(r=>_d(r)&&YE(r)):!1:i.type&&(i.type.name==="ion-tab"||i.type===yD),MD=Jr({name:"IonTabs",emits:[Rb,Lb],data(){return{hasRouterOutlet:!1}},setup(i,{slots:r,emit:l}){const m=r.default&&r.default();let S;return m&&m.length>0&&(S=m.find(D=>Db(D))),ml("tabBarData",bc({hasRouterOutlet:!!S,_tabsWillChange:D=>l(Rb,{tab:D}),_tabsDidChange:D=>l(Lb,{tab:D})})),{props:i,slots:r,emit:l}},mounted(){U5()},render(){const{slots:i,props:r}=this,l=i.default&&i.default();let m,S=!1;if(l&&l.length>0&&(m=l.find(D=>Db(D)),S=l.some(D=>YE(D))),!m&&!S)throw new Error("IonTabs must contain an IonRouterOutlet or an IonTab.");if(m&&S)throw new Error("IonTabs cannot contain an IonRouterOutlet and IonTab at the same time.");return S?ls("ion-tabs",Object.assign({},r),l):ls("ion-tabs",{style:{display:"flex",position:"absolute",top:"0",left:"0",right:"0",bottom:"0","flex-direction":"column",width:"100%",height:"100%",contain:"layout size style","z-index":"0"}},l)}}),$E=i=>{var r;return((r=i.type)===null||r===void 0?void 0:r.name)==="IonTabButton"},qE=i=>{let r=[];return i.forEach(l=>{if($E(l))r.push(l);else if(Array.isArray(l.children)&&l.children.length>1){const m=qE(l.children);r=[...r,...m]}}),r},SD=Jr({name:"IonTabBar",data(){return{tabState:{activeTab:void 0,tabs:{},hasRouterOutlet:!1},tabVnodes:[],_tabsWillChange:{type:Function,default:()=>{}},_tabsDidChange:{type:Function,default:()=>{}}}},updated(){this.setupTabState(Rr("navManager",null))},methods:{setupTabState(i){const r=this.$data.tabState.hasRouterOutlet,l=this.$data.tabState,m=HA();(this.$data.tabVnodes=qE(m.subTree.children||[])).forEach(D=>{l.tabs[D.props.tab]={originalHref:D.props.href,currentHref:D.props.href,ref:D},D.component.props._getTabState=()=>l,r||(D.component.props._onClick=j=>{this.handleIonTabButtonClick(j)})}),this.checkActiveTab(i)},checkActiveTab(i){const r=this.$data.tabState.hasRouterOutlet,l=i==null?void 0:i.getCurrentRouteInfo(),m=this.$data.tabVnodes,{tabs:S,activeTab:D}=this.$data.tabState,j=Object.keys(S);let M=j.find(B=>{const u=S[B].originalHref;return l==null?void 0:l.pathname.startsWith(u)});if(!M&&!r&&(M=j[0]),m.forEach(B=>{const u=S[B.props.tab];(!u||u.originalHref!==B.props.href)&&(S[B.props.tab]={originalHref:B.props.href,currentHref:B.props.href,ref:B})}),M&&D){const B=this.$data.tabState.tabs[D].currentHref;if(M!==D||B!==(l==null?void 0:l.pathname)){const u=l!=null&&l.search?"?".concat(l.search):"";S[M]=Object.assign(Object.assign({},S[M]),{currentHref:(l==null?void 0:l.pathname)+u})}(l==null?void 0:l.routerAction)==="pop"&&M!==D&&(S[D]=Object.assign(Object.assign({},S[D]),{currentHref:S[D].originalHref}))}this.tabSwitch(M,i)},handleIonTabButtonClick(i){const r=i.detail.tab;this.tabSwitch(r)},tabSwitch(i,r){const l=this.$data.tabState.hasRouterOutlet,m=this.$data.tabVnodes,{activeTab:S}=this.$data.tabState,D=this.$data.tabState,j=m.find(u=>{var p;return $E(u)&&((p=u.props)===null||p===void 0?void 0:p.tab)===i}),M=this.$refs.ionTabBar,B=i!==S;M&&(j?(B&&this.$data._tabsWillChange(i),l&&r!==null&&r.handleSetCurrentTab(i),M.selectedTab=D.activeTab=i,B&&this.$data._tabsDidChange(i)):M.selectedTab=D.activeTab="")}},mounted(){const i=Rr("navManager",null),r=Rr("tabBarData");this.$data.tabState.hasRouterOutlet=r.value.hasRouterOutlet,this.$data._tabsWillChange=r.value._tabsWillChange,this.$data._tabsDidChange=r.value._tabsDidChange,this.setupTabState(i),i==null||i.registerHistoryChangeListener(()=>this.checkActiveTab(i))},setup(i,{slots:r}){return j5(),()=>ls("ion-tab-bar",{ref:"ionTabBar"},r.default&&r.default())}}),Ld=bc([]),JE=Jr((i,{attrs:r,slots:l})=>(J5(),()=>ls("ion-app",Object.assign({},r),[l.default&&l.default(),...Ld.value])));JE.name="IonApp";const ID=i=>{Ld.value=[...Ld.value,i]},TD=i=>{Ld.value=Ld.value.filter(r=>r!==i)},BD=(i=ID,r=TD)=>{const l=new WeakMap;return{attachViewToDom:(D,j,M={},B)=>{const u=document.createElement("div");B&&u.classList.add(...B),D.appendChild(u);const p=ls(gS,{to:u},ls(j,Object.assign({},M)));return l.set(u,p),i(p),Promise.resolve(u)},removeViewFromDom:(D,j)=>{const M=l.get(j);return M&&r(M),Promise.resolve()}}},ZE=Jr(i=>{V4();const r=bc([]),S=BD(D=>r.value=[...r.value,D],D=>r.value=r.value.filter(j=>j!==D));return()=>ls("ion-nav",Object.assign(Object.assign({},i),{delegate:S}),r.value)});ZE.name="IonNav";ZE.props={animated:{type:Boolean,default:!0},animation:{type:Function,default:void 0},root:{type:[Function,Object,String],default:void 0},rootParams:{type:Object,default:void 0},swipeGesture:{type:Boolean,default:void 0}};const bd=Jr({name:"IonIcon",props:{color:String,flipRtl:Boolean,icon:String,ios:String,lazy:String,md:String,mode:String,name:String,size:String,src:String},setup(i,{slots:r}){return fD(),()=>{var l,m;const{icon:S,ios:D,md:j,mode:M}=i;let B;const u=KE(),p=M||(u==null?void 0:u.get("mode"));return D||j?p==="ios"?B=(l=D!=null?D:j)!==null&&l!==void 0?l:S:B=(m=j!=null?j:D)!==null&&m!==void 0?m:S:B=S,ls("ion-icon",Object.assign(Object.assign({},i),{icon:B}),r)}}}),RD=Jr({__name:"App",setup(i){return(r,l)=>(Al(),pc(Kn(JE),null,{default:ui(()=>[Fn(Kn(XE))]),_:1}))}}),LD=()=>{const i=[],r={},l=g=>{switch(g.routerAction){case"pop":S(g);break;default:D(g);break}g.routerDirection==="root"&&(j(),D(g))},m=g=>{const y=i.findIndex(E=>E.id===g.id);y>-1&&i.splice(y,1,g);const f=r[g.tab||""];if(f){const E=f.findIndex(C=>C.id===g.id);E>-1?f.splice(E,1,g):f.push(g)}else g.tab&&(r[g.tab]=[g])},S=g=>{const y=M(g.tab);let f;if(y){for(f=y[y.length-1];f&&f.id!==g.id;)y.pop(),f=y[y.length-1];y.pop(),y.push(g)}for(f=i[i.length-1];f&&f.id!==g.id;)i.pop(),f=i[i.length-1];i.pop(),i.push(g)},D=g=>{const y=M(g.tab);y&&(y[y.length-1]&&y[y.length-1].id===g.id&&y.pop(),y.push(g)),i.push(g)},j=g=>{if(g){const{position:y,tab:f}=g,E=i.findIndex(x=>x.position===y);if(E===-1)return;i.splice(E);const C=x=>{const T=r[x].findIndex(L=>L.position===y);T!==-1&&r[x].splice(T)},v=r[f];if(f&&v)C(f);else for(const x in r)C(x)}else{for(const y in r)r[y]=[];i.length=0}},M=g=>{let y;return g&&(y=r[g],y||(y=r[g]=[])),y},B=()=>i.length,u=(g,y)=>{const f=y-g;return i[f]||p()},p=()=>i[i.length-1];return{current:u,size:B,last:p,add:l,canGoBack:(g=1,y,f)=>f-g>=y,update:m,getFirstRouteInfoForTab:g=>{const y=M(g);if(y)return y[0]},getCurrentRouteInfoForTab:g=>{const y=M(g);if(y)return y[y.length-1]},findLastLocation:(g,y=-1)=>{const f=M(g.tab);if(f){if(y<-1)return f[f.length-1+y];for(let E=f.length-2;E>=0;E--){const C=f[E];if(C&&C.pathname===g.pushedByRoute)return C}}if(y<-1)return i[i.length-1+y];for(let E=i.length-2;E>=0;E--){const C=i[E];if(C&&C.pathname===g.pushedByRoute)return C}},clearHistory:j}},Pb={main:0},e2=(i="main")=>{var r;const l=((r=Pb[i])!==null&&r!==void 0?r:0)+1;return Pb[i]=l,l.toString()},DD=(i,r)=>{let l={direction:void 0,action:void 0,delta:void 0};r.afterEach((L,R,F)=>{if(F)return;const{direction:P,action:H,delta:$}=l;D=i.history.state.position;const te=i.history.state.replaced?"replace":void 0;w(L,H||te,P,$),l={direction:void 0,action:void 0,delta:void 0}});const m=LD();let S=i.history.state.position,D=i.history.state.position,j,M;const B=[];typeof document<"u"&&document.addEventListener("ionBackButton",L=>{L.detail.register(0,R=>{i.history.go(-1),R()})}),i.history.listen((L,R,F)=>{l={delta:F.delta,action:F.type==="pop"&&F.delta>=1?"push":F.type,direction:F.direction===""?"forward":F.direction}});const u=(L,R)=>{const F=m.current(S,D);if(F&&F.pushedByRoute){const P=m.findLastLocation(F);P?(M=Object.assign(Object.assign({},P),{routerAction:"pop",routerDirection:"back",routerAnimation:R||F.routerAnimation}),F.lastPathname===F.pushedByRoute||P.pathname===F.pushedByRoute&&!F.tab&&!P.tab?r.back():r.go(P.position-F.position)):p(L,"pop","back",R)}else p(L,"pop","back",R)},p=(L,R,F,P,H)=>{C(R,F,P,H),R==="push"?r.push(L):r.replace(L)},w=(L,R,F,P)=>{let H;if(M)if(M.routerAction==="replace")H=m.current(S,D);else if(M.routerAction==="pop")H=m.current(S,D+1),R==="replace"&&m.clearHistory();else{const te=M.routerDirection==="root"?D:D-1;H=m.current(S,te)}else H=j;if(H||(H={pathname:"",search:""}),H.pathname+H.search!==L.fullPath){if(!M){if(R==="replace")M={routerAction:"replace",routerDirection:"none"};else if(R==="pop"){const ne=m.current(S,D-P);if(ne&&ne.pushedByRoute){const X=m.findLastLocation(ne,P);M=Object.assign(Object.assign({},X),{routerAction:"pop",routerDirection:"back"})}else M={routerAction:"pop",routerDirection:"none"}}M||(M={routerAction:"push",routerDirection:F||"forward"})}let te;if(M!=null&&M.id)te=Object.assign(Object.assign({},M),{lastPathname:H.pathname});else{const ne=M.routerAction==="push"&&M.routerDirection==="forward";if(te=Object.assign(Object.assign({id:e2("routeInfo")},M),{lastPathname:H.pathname,pathname:L.path,search:L.fullPath&&L.fullPath.split("?")[1]||"",params:L.params&&L.params,prevRouteLastPathname:H.lastPathname}),ne)te.pushedByRoute=H.pathname!==""?H.pathname:void 0;else if(te.routerAction==="pop"){const X=m.findLastLocation(te);te.pushedByRoute=X==null?void 0:X.pushedByRoute}else if(te.routerAction==="push"&&te.tab!==H.tab){const X=m.getCurrentRouteInfoForTab(te.tab);te.pushedByRoute=X==null?void 0:X.pushedByRoute}else if(te.routerAction==="replace"){const X=m.current(S,D),z=X==null?void 0:X.pushedByRoute,se=z!==void 0&&z!==te.pathname?z:te.pushedByRoute;te.lastPathname=(X==null?void 0:X.pathname)||te.lastPathname,te.pushedByRoute=se,te.routerDirection=(X==null?void 0:X.routerDirection)||te.routerDirection,te.routerAnimation=(X==null?void 0:X.routerAnimation)||te.routerAnimation,te.prevRouteLastPathname=X==null?void 0:X.lastPathname}}te.position=D,te.delta=P;const ee=m.size(),de=D-S,ie=ee===de&&ee>0&&R==="replace";ee>de||ie?(te.routerAction==="push"||te.routerAction==="replace")&&P===void 0&&(m.clearHistory(te),m.add(te)):m.add(te),m.size()===1&&(S=te.position),j=te}M=void 0,B.forEach(te=>te(j))},A=()=>j,b=(L=1)=>m.canGoBack(L,S,D),d=L=>{const{routerAnimation:R,routerDirection:F,routerLink:P}=L;C("push",F,R),r.push(P)},g=L=>{const R=m.getFirstRouteInfoForTab(L);R&&r.go(R.position-D)},y=(L,R)=>{if(!R)return;const F=m.getCurrentRouteInfoForTab(L),[P]=R.split("?");F?(M=Object.assign(Object.assign({},M),{routerAction:"push",routerDirection:"none",tab:L}),F.pathname===P?r.push({path:F.pathname,query:yA(F.search)}):r.push({path:P,query:yA(F.search)})):p(P,"push","none",void 0,L)},f=L=>{const R=Object.assign({},m.current(S,D));R.tab!==L&&(R.tab=L,m.update(R));const F=m.findLastLocation(R);R.pushedByRoute!==R.lastPathname&&(F==null?void 0:F.tab)!==L&&(R.pushedByRoute=void 0,m.update(R))},E=L=>{B.push(L)},C=(L="push",R="forward",F,P)=>{M={routerAction:L,routerDirection:R,routerAnimation:F,tab:P}};return{handleNavigate:p,getLeavingRouteInfo:()=>m.current(S,D),handleNavigateBack:u,handleSetCurrentTab:f,getCurrentRouteInfo:A,canGoBack:b,navigate:d,resetTab:g,changeTab:y,registerHistoryChangeListener:E,goBack:L=>{C("pop","back",L),r.back()},goForward:L=>{C("push","forward",L),r.forward()}}},PD=i=>{const r={},l=()=>Object.keys(r).length,m=f=>{delete r[f]},S=f=>r[f],D=(f,E)=>{f.ionPageElement=E,f.ionRoute=!0,f.matchedRoute.instances={default:f.vueComponentRef.value}},j=(f,E)=>p(f.pathname,E,!1),M=(f,E,C=!0)=>p(f.lastPathname,E,C),B=(f,E)=>p(f,E,!1),u=(f,E)=>E.find(C=>{if(C.pathname===f)return C}),p=(f,E,C=!1)=>{const v=x=>{if(C&&!x.ionRoute||f==="")return!1;const L=i.resolve(f).matched.find(R=>R===x.matchedRoute);if(L)return L.path.includes(":")&&f!==x.pathname?!1:x};if(E){const x=r[E];if(!x)return;const T=i?x.find(v):u(f,x);if(T)return T}else for(const x in r){const T=r[x],L=u(f,T);if(L)return L}};return{unmountLeavingViews:(f,E,C=1)=>{const v=r[f];if(!v)return;const x=v.findIndex(T=>T===E);for(let T=x+1;T<x-C;T++){const L=v[T];L.mount=!1,L.ionPageElement=void 0,L.ionRoute=!1,L.matchedRoute.instances={}}},mountIntermediaryViews:(f,E,C=1)=>{const v=r[f];if(!v)return;const x=v.findIndex(T=>T===E);for(let T=x+1;T<x+C;T++)v[T].mount=!0},clear:m,findViewItemByRouteInfo:j,findLeavingViewItemByRouteInfo:M,findViewItemByPathname:B,createViewItem:(f,E,C,v,x)=>({id:e2("viewItem"),pathname:v.pathname,outletId:f,matchedRoute:C,ionPageElement:x,vueComponent:E,vueComponentRef:bc(),ionRoute:!1,mount:!1,exact:v.pathname===C.path,params:v.params,vueComponentData:{}}),getChildrenToRender:f=>r[f]?r[f].filter(v=>v.mount):[],add:f=>{const{outletId:E}=f;r[E]?r[E].push(f):r[E]=[f]},remove:(f,E)=>{if(!E)throw Error("outletId required");const C=r[E];C&&(r[E]=C.filter(v=>v.id!==f.id))},registerIonPage:D,getViewStack:S,size:l}},OD=i=>{const r=Object.assign({},i);delete r.tabsPrefix;const l=w5(r),m=DD(i,l),S=PD(l),D=l.install.bind(l);l.install=M=>{M.provide("navManager",m),M.provide("viewStacks",S),D(M)};const j=l.isReady.bind(l);return l.isReady=()=>j(),l},kD=i=>n5(i),FD="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 480H48a32 32 0 01-32-32V112a32 32 0 0132-32h16a32 32 0 0132 32v336a32 32 0 01-32 32zM240 176a32 32 0 00-32-32h-64a32 32 0 00-32 32v28a4 4 0 004 4h120a4 4 0 004-4zM112 448a32 32 0 0032 32h64a32 32 0 0032-32v-30a2 2 0 00-2-2H114a2 2 0 00-2 2z'/><rect x='112' y='240' width='128' height='144' rx='2' ry='2'/><path d='M320 480h-32a32 32 0 01-32-32V64a32 32 0 0132-32h32a32 32 0 0132 32v384a32 32 0 01-32 32zM495.89 445.45l-32.23-340c-1.48-15.65-16.94-27-34.53-25.31l-31.85 3c-17.59 1.67-30.65 15.71-29.17 31.36l32.23 340c1.48 15.65 16.94 27 34.53 25.31l31.85-3c17.59-1.67 30.65-15.71 29.17-31.36z'/></svg>",UD="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm-50.22 116.82C218.45 151.39 236.28 144 256 144s37.39 7.44 50.11 20.94c12.89 13.68 19.16 32.06 17.68 51.82C320.83 256 290.43 288 256 288s-64.89-32-67.79-71.25c-1.47-19.92 4.79-38.36 17.57-51.93zM256 432a175.49 175.49 0 01-126-53.22 122.91 122.91 0 0135.14-33.44C190.63 329 222.89 320 256 320s65.37 9 90.83 25.34A122.87 122.87 0 01382 378.78 175.45 175.45 0 01256 432z'/></svg>",ND="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M258.9 48C141.92 46.42 46.42 141.92 48 258.9c1.56 112.19 92.91 203.54 205.1 205.1 117 1.6 212.48-93.9 210.88-210.88C462.44 140.91 371.09 49.56 258.9 48zm126.42 327.25a4 4 0 01-6.14-.32 124.27 124.27 0 00-32.35-29.59C321.37 329 289.11 320 256 320s-65.37 9-90.83 25.34a124.24 124.24 0 00-32.35 29.58 4 4 0 01-6.14.32A175.32 175.32 0 0180 259c-1.63-97.31 78.22-178.76 175.57-179S432 158.81 432 256a175.32 175.32 0 01-46.68 119.25z'/><path d='M256 144c-19.72 0-37.55 7.39-50.22 20.82s-19 32-17.57 51.93C191.11 256 221.52 288 256 288s64.83-32 67.79-71.24c1.48-19.74-4.8-38.14-17.68-51.82C293.39 151.44 275.59 144 256 144z'/></svg>",GD="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='48'/><path d='M470.39 300l-.47-.38-31.56-24.75a16.11 16.11 0 01-6.1-13.33v-11.56a16 16 0 016.11-13.22L469.92 212l.47-.38a26.68 26.68 0 005.9-34.06l-42.71-73.9a1.59 1.59 0 01-.13-.22A26.86 26.86 0 00401 92.14l-.35.13-37.1 14.93a15.94 15.94 0 01-14.47-1.29q-4.92-3.1-10-5.86a15.94 15.94 0 01-8.19-11.82l-5.59-39.59-.12-.72A27.22 27.22 0 00298.76 26h-85.52a26.92 26.92 0 00-26.45 22.39l-.09.56-5.57 39.67a16 16 0 01-8.13 11.82 175.21 175.21 0 00-10 5.82 15.92 15.92 0 01-14.43 1.27l-37.13-15-.35-.14a26.87 26.87 0 00-32.48 11.34l-.13.22-42.77 73.95a26.71 26.71 0 005.9 34.1l.47.38 31.56 24.75a16.11 16.11 0 016.1 13.33v11.56a16 16 0 01-6.11 13.22L42.08 300l-.47.38a26.68 26.68 0 00-5.9 34.06l42.71 73.9a1.59 1.59 0 01.13.22 26.86 26.86 0 0032.45 11.3l.35-.13 37.07-14.93a15.94 15.94 0 0114.47 1.29q4.92 3.11 10 5.86a15.94 15.94 0 018.19 11.82l5.56 39.59.12.72A27.22 27.22 0 00213.24 486h85.52a26.92 26.92 0 0026.45-22.39l.09-.56 5.57-39.67a16 16 0 018.18-11.82c3.42-1.84 6.76-3.79 10-5.82a15.92 15.92 0 0114.43-1.27l37.13 14.95.35.14a26.85 26.85 0 0032.48-11.34 2.53 2.53 0 01.13-.22l42.71-73.89a26.7 26.7 0 00-5.89-34.11zm-134.48-40.24a80 80 0 11-83.66-83.67 80.21 80.21 0 0183.66 83.67z'/></svg>",t2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M480 448h-12a4 4 0 01-4-4V273.51a4 4 0 00-5.24-3.86 104.92 104.92 0 01-28.32 4.78c-1.18 0-2.3.05-3.4.05a108.22 108.22 0 01-52.85-13.64 8.23 8.23 0 00-8 0 108.18 108.18 0 01-52.84 13.64 106.11 106.11 0 01-52.46-13.79 8.21 8.21 0 00-8.09 0 108.14 108.14 0 01-53.16 13.8 106.19 106.19 0 01-52.77-14 8.25 8.25 0 00-8.16 0 106.19 106.19 0 01-52.77 14c-1.09 0-2.19 0-3.37-.05h-.06a104.91 104.91 0 01-29.28-5.09 4 4 0 00-5.23 3.8V444a4 4 0 01-4 4H32.5c-8.64 0-16.1 6.64-16.48 15.28A16 16 0 0032 480h447.5c8.64 0 16.1-6.64 16.48-15.28A16 16 0 00480 448zm-256-68a4 4 0 01-4 4h-88a4 4 0 01-4-4v-64a12 12 0 0112-12h72a12 12 0 0112 12zm156 68h-72a4 4 0 01-4-4V316a12 12 0 0112-12h56a12 12 0 0112 12v128a4 4 0 01-4 4zM492.57 170.28l-42.92-98.49C438.41 47.62 412.74 32 384.25 32H127.7c-28.49 0-54.16 15.62-65.4 39.79l-42.92 98.49c-9 19.41 2.89 39.34 2.9 39.35l.28.45c.49.78 1.36 2 1.89 2.78.05.06.09.13.14.2l5 6.05a7.45 7.45 0 00.6.65l5 4.83.42.36a69.65 69.65 0 009.39 6.78v.05a74 74 0 0036 10.67h2.47a76.08 76.08 0 0051.89-20.31l.33-.31a7.94 7.94 0 0110.89 0l.33.31a77.3 77.3 0 00104.46 0 8 8 0 0110.87 0 77.31 77.31 0 00104.21.23 7.88 7.88 0 0110.71 0 76.81 76.81 0 0052.31 20.08h2.49a71.35 71.35 0 0035-10.7c.95-.57 1.86-1.17 2.78-1.77A71.33 71.33 0 00488 212.17l1.74-2.63q.26-.4.48-.84c1.66-3.38 10.56-20.76 2.35-38.42z'/></svg>",QD="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 118a22 22 0 01-22-22V48a22 22 0 0144 0v48a22 22 0 01-22 22zM256 486a22 22 0 01-22-22v-48a22 22 0 0144 0v48a22 22 0 01-22 22zM369.14 164.86a22 22 0 01-15.56-37.55l33.94-33.94a22 22 0 0131.11 31.11l-33.94 33.94a21.93 21.93 0 01-15.55 6.44zM108.92 425.08a22 22 0 01-15.55-37.56l33.94-33.94a22 22 0 1131.11 31.11l-33.94 33.94a21.94 21.94 0 01-15.56 6.45zM464 278h-48a22 22 0 010-44h48a22 22 0 010 44zM96 278H48a22 22 0 010-44h48a22 22 0 010 44zM403.08 425.08a21.94 21.94 0 01-15.56-6.45l-33.94-33.94a22 22 0 0131.11-31.11l33.94 33.94a22 22 0 01-15.55 37.56zM142.86 164.86a21.89 21.89 0 01-15.55-6.44l-33.94-33.94a22 22 0 0131.11-31.11l33.94 33.94a22 22 0 01-15.56 37.55zM256 358a102 102 0 11102-102 102.12 102.12 0 01-102 102z'/></svg>",HD="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-miterlimit='10' d='M256 48v48M256 416v48M403.08 108.92l-33.94 33.94M142.86 369.14l-33.94 33.94M464 256h-48M96 256H48M403.08 403.08l-33.94-33.94M142.86 142.86l-33.94-33.94' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='256' r='80' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",VD="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M464 80h-60.1a4 4 0 01-4-4V63.92a32 32 0 00-32-31.92l-223.79.26a32 32 0 00-31.94 31.93V76a4 4 0 01-4 4H48a16 16 0 00-16 16v16c0 54.53 30 112.45 76.52 125.35a7.82 7.82 0 015.55 5.9c5.77 26.89 23.52 52.5 51.41 73.61 20.91 15.83 45.85 27.5 68.27 32.48a8 8 0 016.25 7.8V444a4 4 0 01-4 4h-59.55c-8.61 0-16 6.62-16.43 15.23A16 16 0 00176 480h159.55c8.61 0 16-6.62 16.43-15.23A16 16 0 00336 448h-60a4 4 0 01-4-4v-86.86a8 8 0 016.25-7.8c22.42-5 47.36-16.65 68.27-32.48 27.89-21.11 45.64-46.72 51.41-73.61a7.82 7.82 0 015.55-5.9C450 224.45 480 166.53 480 112V96a16 16 0 00-16-16zM112 198.22a4 4 0 01-6 3.45c-10.26-6.11-17.75-15.37-22.14-21.89-11.91-17.69-19-40.67-19.79-63.63a4 4 0 014-4.15h40a4 4 0 014 4c-.02 27.45-.07 58.87-.07 82.22zm316.13-18.44c-4.39 6.52-11.87 15.78-22.13 21.89a4 4 0 01-6-3.46c0-26.51 0-56.63-.05-82.21a4 4 0 014-4h40a4 4 0 014 4.15c-.79 22.96-7.9 45.94-19.81 63.63z'/></svg>",zD=Jr({__name:"TabsPage",setup(i){return(r,l)=>(Al(),pc(Kn(Af),null,{default:ui(()=>[Fn(Kn(MD),null,{default:ui(()=>[Fn(Kn(XE)),Fn(Kn(SD),{slot:"bottom"},{default:ui(()=>[Fn(Kn(Bb),{tab:"tab1",href:"/inventory"},{default:ui(()=>[Fn(Kn(bd),{"aria-hidden":"true",icon:Kn(FD)},null,8,["icon"]),Fn(Kn(Ku),null,{default:ui(()=>l[0]||(l[0]=[Zo("Inventory")])),_:1})]),_:1}),Fn(Kn(Bb),{tab:"tab2",href:"/shop"},{default:ui(()=>[Fn(Kn(bd),{"aria-hidden":"true",icon:Kn(t2)},null,8,["icon"]),Fn(Kn(Ku),null,{default:ui(()=>l[1]||(l[1]=[Zo("Shop")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}});var jD={exports:{}};(function(i,r){var l={};(function(S,D){i.exports=D()})(self,()=>(()=>{var m={"./node_modules/an-array/index.js":M=>{var B=Object.prototype.toString;M.exports=u;function u(p){return p.BYTES_PER_ELEMENT&&B.call(p.buffer)==="[object ArrayBuffer]"||Array.isArray(p)}},"./node_modules/as-number/index.js":M=>{M.exports=function(u,p){return typeof u=="number"?u:typeof p=="number"?p:0}},"./node_modules/base64-js/index.js":(M,B)=>{B.byteLength=y,B.toByteArray=E,B.fromByteArray=x;for(var u=[],p=[],w=typeof Uint8Array<"u"?Uint8Array:Array,A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=0,d=A.length;b<d;++b)u[b]=A[b],p[A.charCodeAt(b)]=b;p[45]=62,p[95]=63;function g(T){var L=T.length;if(L%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=T.indexOf("=");R===-1&&(R=L);var F=R===L?0:4-R%4;return[R,F]}function y(T){var L=g(T),R=L[0],F=L[1];return(R+F)*3/4-F}function f(T,L,R){return(L+R)*3/4-R}function E(T){var L,R=g(T),F=R[0],P=R[1],H=new w(f(T,F,P)),$=0,te=P>0?F-4:F,ee;for(ee=0;ee<te;ee+=4)L=p[T.charCodeAt(ee)]<<18|p[T.charCodeAt(ee+1)]<<12|p[T.charCodeAt(ee+2)]<<6|p[T.charCodeAt(ee+3)],H[$++]=L>>16&255,H[$++]=L>>8&255,H[$++]=L&255;return P===2&&(L=p[T.charCodeAt(ee)]<<2|p[T.charCodeAt(ee+1)]>>4,H[$++]=L&255),P===1&&(L=p[T.charCodeAt(ee)]<<10|p[T.charCodeAt(ee+1)]<<4|p[T.charCodeAt(ee+2)]>>2,H[$++]=L>>8&255,H[$++]=L&255),H}function C(T){return u[T>>18&63]+u[T>>12&63]+u[T>>6&63]+u[T&63]}function v(T,L,R){for(var F,P=[],H=L;H<R;H+=3)F=(T[H]<<16&16711680)+(T[H+1]<<8&65280)+(T[H+2]&255),P.push(C(F));return P.join("")}function x(T){for(var L,R=T.length,F=R%3,P=[],H=16383,$=0,te=R-F;$<te;$+=H)P.push(v(T,$,$+H>te?te:$+H));return F===1?(L=T[R-1],P.push(u[L>>2]+u[L<<4&63]+"==")):F===2&&(L=(T[R-2]<<8)+T[R-1],P.push(u[L>>10]+u[L>>4&63]+u[L<<2&63]+"=")),P.join("")}},"./node_modules/buffer-equal/index.js":(M,B,u)=>{var p=u("./node_modules/buffer/index.js").Buffer;M.exports=function(w,A){if(p.isBuffer(w)&&p.isBuffer(A)){if(typeof w.equals=="function")return w.equals(A);if(w.length!==A.length)return!1;for(var b=0;b<w.length;b++)if(w[b]!==A[b])return!1;return!0}}},"./node_modules/buffer/index.js":(M,B,u)=>{/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const p=u("./node_modules/base64-js/index.js"),w=u("./node_modules/ieee754/index.js"),A=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;B.Buffer=y,B.SlowBuffer=H,B.INSPECT_MAX_BYTES=50;const b=2147483647;B.kMaxLength=b,y.TYPED_ARRAY_SUPPORT=d(),!y.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{const J=new Uint8Array(1),k={foo:function(){return 42}};return Object.setPrototypeOf(k,Uint8Array.prototype),Object.setPrototypeOf(J,k),J.foo()===42}catch(J){return!1}}Object.defineProperty(y.prototype,"parent",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.buffer}}),Object.defineProperty(y.prototype,"offset",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.byteOffset}});function g(J){if(J>b)throw new RangeError('The value "'+J+'" is invalid for option "size"');const k=new Uint8Array(J);return Object.setPrototypeOf(k,y.prototype),k}function y(J,k,G){if(typeof J=="number"){if(typeof k=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(J)}return f(J,k,G)}y.poolSize=8192;function f(J,k,G){if(typeof J=="string")return x(J,k);if(ArrayBuffer.isView(J))return L(J);if(J==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof J);if(fe(J,ArrayBuffer)||J&&fe(J.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(fe(J,SharedArrayBuffer)||J&&fe(J.buffer,SharedArrayBuffer)))return R(J,k,G);if(typeof J=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const le=J.valueOf&&J.valueOf();if(le!=null&&le!==J)return y.from(le,k,G);const ge=F(J);if(ge)return ge;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof J[Symbol.toPrimitive]=="function")return y.from(J[Symbol.toPrimitive]("string"),k,G);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof J)}y.from=function(J,k,G){return f(J,k,G)},Object.setPrototypeOf(y.prototype,Uint8Array.prototype),Object.setPrototypeOf(y,Uint8Array);function E(J){if(typeof J!="number")throw new TypeError('"size" argument must be of type number');if(J<0)throw new RangeError('The value "'+J+'" is invalid for option "size"')}function C(J,k,G){return E(J),J<=0?g(J):k!==void 0?typeof G=="string"?g(J).fill(k,G):g(J).fill(k):g(J)}y.alloc=function(J,k,G){return C(J,k,G)};function v(J){return E(J),g(J<0?0:P(J)|0)}y.allocUnsafe=function(J){return v(J)},y.allocUnsafeSlow=function(J){return v(J)};function x(J,k){if((typeof k!="string"||k==="")&&(k="utf8"),!y.isEncoding(k))throw new TypeError("Unknown encoding: "+k);const G=$(J,k)|0;let le=g(G);const ge=le.write(J,k);return ge!==G&&(le=le.slice(0,ge)),le}function T(J){const k=J.length<0?0:P(J.length)|0,G=g(k);for(let le=0;le<k;le+=1)G[le]=J[le]&255;return G}function L(J){if(fe(J,Uint8Array)){const k=new Uint8Array(J);return R(k.buffer,k.byteOffset,k.byteLength)}return T(J)}function R(J,k,G){if(k<0||J.byteLength<k)throw new RangeError('"offset" is outside of buffer bounds');if(J.byteLength<k+(G||0))throw new RangeError('"length" is outside of buffer bounds');let le;return k===void 0&&G===void 0?le=new Uint8Array(J):G===void 0?le=new Uint8Array(J,k):le=new Uint8Array(J,k,G),Object.setPrototypeOf(le,y.prototype),le}function F(J){if(y.isBuffer(J)){const k=P(J.length)|0,G=g(k);return G.length===0||J.copy(G,0,0,k),G}if(J.length!==void 0)return typeof J.length!="number"||Ie(J.length)?g(0):T(J);if(J.type==="Buffer"&&Array.isArray(J.data))return T(J.data)}function P(J){if(J>=b)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b.toString(16)+" bytes");return J|0}function H(J){return+J!=J&&(J=0),y.alloc(+J)}y.isBuffer=function(k){return k!=null&&k._isBuffer===!0&&k!==y.prototype},y.compare=function(k,G){if(fe(k,Uint8Array)&&(k=y.from(k,k.offset,k.byteLength)),fe(G,Uint8Array)&&(G=y.from(G,G.offset,G.byteLength)),!y.isBuffer(k)||!y.isBuffer(G))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===G)return 0;let le=k.length,ge=G.length;for(let De=0,Ve=Math.min(le,ge);De<Ve;++De)if(k[De]!==G[De]){le=k[De],ge=G[De];break}return le<ge?-1:ge<le?1:0},y.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(k,G){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return y.alloc(0);let le;if(G===void 0)for(G=0,le=0;le<k.length;++le)G+=k[le].length;const ge=y.allocUnsafe(G);let De=0;for(le=0;le<k.length;++le){let Ve=k[le];if(fe(Ve,Uint8Array))De+Ve.length>ge.length?(y.isBuffer(Ve)||(Ve=y.from(Ve)),Ve.copy(ge,De)):Uint8Array.prototype.set.call(ge,Ve,De);else if(y.isBuffer(Ve))Ve.copy(ge,De);else throw new TypeError('"list" argument must be an Array of Buffers');De+=Ve.length}return ge};function $(J,k){if(y.isBuffer(J))return J.length;if(ArrayBuffer.isView(J)||fe(J,ArrayBuffer))return J.byteLength;if(typeof J!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof J);const G=J.length,le=arguments.length>2&&arguments[2]===!0;if(!le&&G===0)return 0;let ge=!1;for(;;)switch(k){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return En(J).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G*2;case"hex":return G>>>1;case"base64":return mt(J).length;default:if(ge)return le?-1:En(J).length;k=(""+k).toLowerCase(),ge=!0}}y.byteLength=$;function te(J,k,G){let le=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((G===void 0||G>this.length)&&(G=this.length),G<=0)||(G>>>=0,k>>>=0,G<=k))return"";for(J||(J="utf8");;)switch(J){case"hex":return qe(this,k,G);case"utf8":case"utf-8":return Re(this,k,G);case"ascii":return Xe(this,k,G);case"latin1":case"binary":return Fe(this,k,G);case"base64":return be(this,k,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return rt(this,k,G);default:if(le)throw new TypeError("Unknown encoding: "+J);J=(J+"").toLowerCase(),le=!0}}y.prototype._isBuffer=!0;function ee(J,k,G){const le=J[k];J[k]=J[G],J[G]=le}y.prototype.swap16=function(){const k=this.length;if(k%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let G=0;G<k;G+=2)ee(this,G,G+1);return this},y.prototype.swap32=function(){const k=this.length;if(k%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let G=0;G<k;G+=4)ee(this,G,G+3),ee(this,G+1,G+2);return this},y.prototype.swap64=function(){const k=this.length;if(k%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let G=0;G<k;G+=8)ee(this,G,G+7),ee(this,G+1,G+6),ee(this,G+2,G+5),ee(this,G+3,G+4);return this},y.prototype.toString=function(){const k=this.length;return k===0?"":arguments.length===0?Re(this,0,k):te.apply(this,arguments)},y.prototype.toLocaleString=y.prototype.toString,y.prototype.equals=function(k){if(!y.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k?!0:y.compare(this,k)===0},y.prototype.inspect=function(){let k="";const G=B.INSPECT_MAX_BYTES;return k=this.toString("hex",0,G).replace(/(.{2})/g,"$1 ").trim(),this.length>G&&(k+=" ... "),"<Buffer "+k+">"},A&&(y.prototype[A]=y.prototype.inspect),y.prototype.compare=function(k,G,le,ge,De){if(fe(k,Uint8Array)&&(k=y.from(k,k.offset,k.byteLength)),!y.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(G===void 0&&(G=0),le===void 0&&(le=k?k.length:0),ge===void 0&&(ge=0),De===void 0&&(De=this.length),G<0||le>k.length||ge<0||De>this.length)throw new RangeError("out of range index");if(ge>=De&&G>=le)return 0;if(ge>=De)return-1;if(G>=le)return 1;if(G>>>=0,le>>>=0,ge>>>=0,De>>>=0,this===k)return 0;let Ve=De-ge,kt=le-G;const Yt=Math.min(Ve,kt),Gt=this.slice(ge,De),Vt=k.slice(G,le);for(let un=0;un<Yt;++un)if(Gt[un]!==Vt[un]){Ve=Gt[un],kt=Vt[un];break}return Ve<kt?-1:kt<Ve?1:0};function de(J,k,G,le,ge){if(J.length===0)return-1;if(typeof G=="string"?(le=G,G=0):G>2147483647?G=2147483647:G<-2147483648&&(G=-2147483648),G=+G,Ie(G)&&(G=ge?0:J.length-1),G<0&&(G=J.length+G),G>=J.length){if(ge)return-1;G=J.length-1}else if(G<0)if(ge)G=0;else return-1;if(typeof k=="string"&&(k=y.from(k,le)),y.isBuffer(k))return k.length===0?-1:ie(J,k,G,le,ge);if(typeof k=="number")return k=k&255,typeof Uint8Array.prototype.indexOf=="function"?ge?Uint8Array.prototype.indexOf.call(J,k,G):Uint8Array.prototype.lastIndexOf.call(J,k,G):ie(J,[k],G,le,ge);throw new TypeError("val must be string, number or Buffer")}function ie(J,k,G,le,ge){let De=1,Ve=J.length,kt=k.length;if(le!==void 0&&(le=String(le).toLowerCase(),le==="ucs2"||le==="ucs-2"||le==="utf16le"||le==="utf-16le")){if(J.length<2||k.length<2)return-1;De=2,Ve/=2,kt/=2,G/=2}function Yt(Vt,un){return De===1?Vt[un]:Vt.readUInt16BE(un*De)}let Gt;if(ge){let Vt=-1;for(Gt=G;Gt<Ve;Gt++)if(Yt(J,Gt)===Yt(k,Vt===-1?0:Gt-Vt)){if(Vt===-1&&(Vt=Gt),Gt-Vt+1===kt)return Vt*De}else Vt!==-1&&(Gt-=Gt-Vt),Vt=-1}else for(G+kt>Ve&&(G=Ve-kt),Gt=G;Gt>=0;Gt--){let Vt=!0;for(let un=0;un<kt;un++)if(Yt(J,Gt+un)!==Yt(k,un)){Vt=!1;break}if(Vt)return Gt}return-1}y.prototype.includes=function(k,G,le){return this.indexOf(k,G,le)!==-1},y.prototype.indexOf=function(k,G,le){return de(this,k,G,le,!0)},y.prototype.lastIndexOf=function(k,G,le){return de(this,k,G,le,!1)};function ne(J,k,G,le){G=Number(G)||0;const ge=J.length-G;le?(le=Number(le),le>ge&&(le=ge)):le=ge;const De=k.length;le>De/2&&(le=De/2);let Ve;for(Ve=0;Ve<le;++Ve){const kt=parseInt(k.substr(Ve*2,2),16);if(Ie(kt))return Ve;J[G+Ve]=kt}return Ve}function X(J,k,G,le){return pe(En(k,J.length-G),J,G,le)}function z(J,k,G,le){return pe(Dn(k),J,G,le)}function se(J,k,G,le){return pe(mt(k),J,G,le)}function ae(J,k,G,le){return pe(Bn(k,J.length-G),J,G,le)}y.prototype.write=function(k,G,le,ge){if(G===void 0)ge="utf8",le=this.length,G=0;else if(le===void 0&&typeof G=="string")ge=G,le=this.length,G=0;else if(isFinite(G))G=G>>>0,isFinite(le)?(le=le>>>0,ge===void 0&&(ge="utf8")):(ge=le,le=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const De=this.length-G;if((le===void 0||le>De)&&(le=De),k.length>0&&(le<0||G<0)||G>this.length)throw new RangeError("Attempt to write outside buffer bounds");ge||(ge="utf8");let Ve=!1;for(;;)switch(ge){case"hex":return ne(this,k,G,le);case"utf8":case"utf-8":return X(this,k,G,le);case"ascii":case"latin1":case"binary":return z(this,k,G,le);case"base64":return se(this,k,G,le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,k,G,le);default:if(Ve)throw new TypeError("Unknown encoding: "+ge);ge=(""+ge).toLowerCase(),Ve=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function be(J,k,G){return k===0&&G===J.length?p.fromByteArray(J):p.fromByteArray(J.slice(k,G))}function Re(J,k,G){G=Math.min(J.length,G);const le=[];let ge=k;for(;ge<G;){const De=J[ge];let Ve=null,kt=De>239?4:De>223?3:De>191?2:1;if(ge+kt<=G){let Yt,Gt,Vt,un;switch(kt){case 1:De<128&&(Ve=De);break;case 2:Yt=J[ge+1],(Yt&192)===128&&(un=(De&31)<<6|Yt&63,un>127&&(Ve=un));break;case 3:Yt=J[ge+1],Gt=J[ge+2],(Yt&192)===128&&(Gt&192)===128&&(un=(De&15)<<12|(Yt&63)<<6|Gt&63,un>2047&&(un<55296||un>57343)&&(Ve=un));break;case 4:Yt=J[ge+1],Gt=J[ge+2],Vt=J[ge+3],(Yt&192)===128&&(Gt&192)===128&&(Vt&192)===128&&(un=(De&15)<<18|(Yt&63)<<12|(Gt&63)<<6|Vt&63,un>65535&&un<1114112&&(Ve=un))}}Ve===null?(Ve=65533,kt=1):Ve>65535&&(Ve-=65536,le.push(Ve>>>10&1023|55296),Ve=56320|Ve&1023),le.push(Ve),ge+=kt}return Ke(le)}const ke=4096;function Ke(J){const k=J.length;if(k<=ke)return String.fromCharCode.apply(String,J);let G="",le=0;for(;le<k;)G+=String.fromCharCode.apply(String,J.slice(le,le+=ke));return G}function Xe(J,k,G){let le="";G=Math.min(J.length,G);for(let ge=k;ge<G;++ge)le+=String.fromCharCode(J[ge]&127);return le}function Fe(J,k,G){let le="";G=Math.min(J.length,G);for(let ge=k;ge<G;++ge)le+=String.fromCharCode(J[ge]);return le}function qe(J,k,G){const le=J.length;(!k||k<0)&&(k=0),(!G||G<0||G>le)&&(G=le);let ge="";for(let De=k;De<G;++De)ge+=ve[J[De]];return ge}function rt(J,k,G){const le=J.slice(k,G);let ge="";for(let De=0;De<le.length-1;De+=2)ge+=String.fromCharCode(le[De]+le[De+1]*256);return ge}y.prototype.slice=function(k,G){const le=this.length;k=~~k,G=G===void 0?le:~~G,k<0?(k+=le,k<0&&(k=0)):k>le&&(k=le),G<0?(G+=le,G<0&&(G=0)):G>le&&(G=le),G<k&&(G=k);const ge=this.subarray(k,G);return Object.setPrototypeOf(ge,y.prototype),ge};function it(J,k,G){if(J%1!==0||J<0)throw new RangeError("offset is not uint");if(J+k>G)throw new RangeError("Trying to access beyond buffer length")}y.prototype.readUintLE=y.prototype.readUIntLE=function(k,G,le){k=k>>>0,G=G>>>0,le||it(k,G,this.length);let ge=this[k],De=1,Ve=0;for(;++Ve<G&&(De*=256);)ge+=this[k+Ve]*De;return ge},y.prototype.readUintBE=y.prototype.readUIntBE=function(k,G,le){k=k>>>0,G=G>>>0,le||it(k,G,this.length);let ge=this[k+--G],De=1;for(;G>0&&(De*=256);)ge+=this[k+--G]*De;return ge},y.prototype.readUint8=y.prototype.readUInt8=function(k,G){return k=k>>>0,G||it(k,1,this.length),this[k]},y.prototype.readUint16LE=y.prototype.readUInt16LE=function(k,G){return k=k>>>0,G||it(k,2,this.length),this[k]|this[k+1]<<8},y.prototype.readUint16BE=y.prototype.readUInt16BE=function(k,G){return k=k>>>0,G||it(k,2,this.length),this[k]<<8|this[k+1]},y.prototype.readUint32LE=y.prototype.readUInt32LE=function(k,G){return k=k>>>0,G||it(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+this[k+3]*16777216},y.prototype.readUint32BE=y.prototype.readUInt32BE=function(k,G){return k=k>>>0,G||it(k,4,this.length),this[k]*16777216+(this[k+1]<<16|this[k+2]<<8|this[k+3])},y.prototype.readBigUInt64LE=Me(function(k){k=k>>>0,gt(k,"offset");const G=this[k],le=this[k+7];(G===void 0||le===void 0)&&Kt(k,this.length-8);const ge=G+this[++k]*2**8+this[++k]*2**16+this[++k]*2**24,De=this[++k]+this[++k]*2**8+this[++k]*2**16+le*2**24;return BigInt(ge)+(BigInt(De)<<BigInt(32))}),y.prototype.readBigUInt64BE=Me(function(k){k=k>>>0,gt(k,"offset");const G=this[k],le=this[k+7];(G===void 0||le===void 0)&&Kt(k,this.length-8);const ge=G*2**24+this[++k]*2**16+this[++k]*2**8+this[++k],De=this[++k]*2**24+this[++k]*2**16+this[++k]*2**8+le;return(BigInt(ge)<<BigInt(32))+BigInt(De)}),y.prototype.readIntLE=function(k,G,le){k=k>>>0,G=G>>>0,le||it(k,G,this.length);let ge=this[k],De=1,Ve=0;for(;++Ve<G&&(De*=256);)ge+=this[k+Ve]*De;return De*=128,ge>=De&&(ge-=Math.pow(2,8*G)),ge},y.prototype.readIntBE=function(k,G,le){k=k>>>0,G=G>>>0,le||it(k,G,this.length);let ge=G,De=1,Ve=this[k+--ge];for(;ge>0&&(De*=256);)Ve+=this[k+--ge]*De;return De*=128,Ve>=De&&(Ve-=Math.pow(2,8*G)),Ve},y.prototype.readInt8=function(k,G){return k=k>>>0,G||it(k,1,this.length),this[k]&128?(255-this[k]+1)*-1:this[k]},y.prototype.readInt16LE=function(k,G){k=k>>>0,G||it(k,2,this.length);const le=this[k]|this[k+1]<<8;return le&32768?le|4294901760:le},y.prototype.readInt16BE=function(k,G){k=k>>>0,G||it(k,2,this.length);const le=this[k+1]|this[k]<<8;return le&32768?le|4294901760:le},y.prototype.readInt32LE=function(k,G){return k=k>>>0,G||it(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},y.prototype.readInt32BE=function(k,G){return k=k>>>0,G||it(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},y.prototype.readBigInt64LE=Me(function(k){k=k>>>0,gt(k,"offset");const G=this[k],le=this[k+7];(G===void 0||le===void 0)&&Kt(k,this.length-8);const ge=this[k+4]+this[k+5]*2**8+this[k+6]*2**16+(le<<24);return(BigInt(ge)<<BigInt(32))+BigInt(G+this[++k]*256+this[++k]*65536+this[++k]*16777216)}),y.prototype.readBigInt64BE=Me(function(k){k=k>>>0,gt(k,"offset");const G=this[k],le=this[k+7];(G===void 0||le===void 0)&&Kt(k,this.length-8);const ge=(G<<24)+this[++k]*2**16+this[++k]*2**8+this[++k];return(BigInt(ge)<<BigInt(32))+BigInt(this[++k]*16777216+this[++k]*65536+this[++k]*256+le)}),y.prototype.readFloatLE=function(k,G){return k=k>>>0,G||it(k,4,this.length),w.read(this,k,!0,23,4)},y.prototype.readFloatBE=function(k,G){return k=k>>>0,G||it(k,4,this.length),w.read(this,k,!1,23,4)},y.prototype.readDoubleLE=function(k,G){return k=k>>>0,G||it(k,8,this.length),w.read(this,k,!0,52,8)},y.prototype.readDoubleBE=function(k,G){return k=k>>>0,G||it(k,8,this.length),w.read(this,k,!1,52,8)};function Ct(J,k,G,le,ge,De){if(!y.isBuffer(J))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>ge||k<De)throw new RangeError('"value" argument is out of bounds');if(G+le>J.length)throw new RangeError("Index out of range")}y.prototype.writeUintLE=y.prototype.writeUIntLE=function(k,G,le,ge){if(k=+k,G=G>>>0,le=le>>>0,!ge){const kt=Math.pow(2,8*le)-1;Ct(this,k,G,le,kt,0)}let De=1,Ve=0;for(this[G]=k&255;++Ve<le&&(De*=256);)this[G+Ve]=k/De&255;return G+le},y.prototype.writeUintBE=y.prototype.writeUIntBE=function(k,G,le,ge){if(k=+k,G=G>>>0,le=le>>>0,!ge){const kt=Math.pow(2,8*le)-1;Ct(this,k,G,le,kt,0)}let De=le-1,Ve=1;for(this[G+De]=k&255;--De>=0&&(Ve*=256);)this[G+De]=k/Ve&255;return G+le},y.prototype.writeUint8=y.prototype.writeUInt8=function(k,G,le){return k=+k,G=G>>>0,le||Ct(this,k,G,1,255,0),this[G]=k&255,G+1},y.prototype.writeUint16LE=y.prototype.writeUInt16LE=function(k,G,le){return k=+k,G=G>>>0,le||Ct(this,k,G,2,65535,0),this[G]=k&255,this[G+1]=k>>>8,G+2},y.prototype.writeUint16BE=y.prototype.writeUInt16BE=function(k,G,le){return k=+k,G=G>>>0,le||Ct(this,k,G,2,65535,0),this[G]=k>>>8,this[G+1]=k&255,G+2},y.prototype.writeUint32LE=y.prototype.writeUInt32LE=function(k,G,le){return k=+k,G=G>>>0,le||Ct(this,k,G,4,4294967295,0),this[G+3]=k>>>24,this[G+2]=k>>>16,this[G+1]=k>>>8,this[G]=k&255,G+4},y.prototype.writeUint32BE=y.prototype.writeUInt32BE=function(k,G,le){return k=+k,G=G>>>0,le||Ct(this,k,G,4,4294967295,0),this[G]=k>>>24,this[G+1]=k>>>16,this[G+2]=k>>>8,this[G+3]=k&255,G+4};function Nt(J,k,G,le,ge){Pt(k,le,ge,J,G,7);let De=Number(k&BigInt(4294967295));J[G++]=De,De=De>>8,J[G++]=De,De=De>>8,J[G++]=De,De=De>>8,J[G++]=De;let Ve=Number(k>>BigInt(32)&BigInt(4294967295));return J[G++]=Ve,Ve=Ve>>8,J[G++]=Ve,Ve=Ve>>8,J[G++]=Ve,Ve=Ve>>8,J[G++]=Ve,G}function xe(J,k,G,le,ge){Pt(k,le,ge,J,G,7);let De=Number(k&BigInt(4294967295));J[G+7]=De,De=De>>8,J[G+6]=De,De=De>>8,J[G+5]=De,De=De>>8,J[G+4]=De;let Ve=Number(k>>BigInt(32)&BigInt(4294967295));return J[G+3]=Ve,Ve=Ve>>8,J[G+2]=Ve,Ve=Ve>>8,J[G+1]=Ve,Ve=Ve>>8,J[G]=Ve,G+8}y.prototype.writeBigUInt64LE=Me(function(k,G=0){return Nt(this,k,G,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeBigUInt64BE=Me(function(k,G=0){return xe(this,k,G,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeIntLE=function(k,G,le,ge){if(k=+k,G=G>>>0,!ge){const Yt=Math.pow(2,8*le-1);Ct(this,k,G,le,Yt-1,-Yt)}let De=0,Ve=1,kt=0;for(this[G]=k&255;++De<le&&(Ve*=256);)k<0&&kt===0&&this[G+De-1]!==0&&(kt=1),this[G+De]=(k/Ve>>0)-kt&255;return G+le},y.prototype.writeIntBE=function(k,G,le,ge){if(k=+k,G=G>>>0,!ge){const Yt=Math.pow(2,8*le-1);Ct(this,k,G,le,Yt-1,-Yt)}let De=le-1,Ve=1,kt=0;for(this[G+De]=k&255;--De>=0&&(Ve*=256);)k<0&&kt===0&&this[G+De+1]!==0&&(kt=1),this[G+De]=(k/Ve>>0)-kt&255;return G+le},y.prototype.writeInt8=function(k,G,le){return k=+k,G=G>>>0,le||Ct(this,k,G,1,127,-128),k<0&&(k=255+k+1),this[G]=k&255,G+1},y.prototype.writeInt16LE=function(k,G,le){return k=+k,G=G>>>0,le||Ct(this,k,G,2,32767,-32768),this[G]=k&255,this[G+1]=k>>>8,G+2},y.prototype.writeInt16BE=function(k,G,le){return k=+k,G=G>>>0,le||Ct(this,k,G,2,32767,-32768),this[G]=k>>>8,this[G+1]=k&255,G+2},y.prototype.writeInt32LE=function(k,G,le){return k=+k,G=G>>>0,le||Ct(this,k,G,4,2147483647,-2147483648),this[G]=k&255,this[G+1]=k>>>8,this[G+2]=k>>>16,this[G+3]=k>>>24,G+4},y.prototype.writeInt32BE=function(k,G,le){return k=+k,G=G>>>0,le||Ct(this,k,G,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[G]=k>>>24,this[G+1]=k>>>16,this[G+2]=k>>>8,this[G+3]=k&255,G+4},y.prototype.writeBigInt64LE=Me(function(k,G=0){return Nt(this,k,G,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),y.prototype.writeBigInt64BE=Me(function(k,G=0){return xe(this,k,G,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Te(J,k,G,le,ge,De){if(G+le>J.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function je(J,k,G,le,ge){return k=+k,G=G>>>0,ge||Te(J,k,G,4),w.write(J,k,G,le,23,4),G+4}y.prototype.writeFloatLE=function(k,G,le){return je(this,k,G,!0,le)},y.prototype.writeFloatBE=function(k,G,le){return je(this,k,G,!1,le)};function ot(J,k,G,le,ge){return k=+k,G=G>>>0,ge||Te(J,k,G,8),w.write(J,k,G,le,52,8),G+8}y.prototype.writeDoubleLE=function(k,G,le){return ot(this,k,G,!0,le)},y.prototype.writeDoubleBE=function(k,G,le){return ot(this,k,G,!1,le)},y.prototype.copy=function(k,G,le,ge){if(!y.isBuffer(k))throw new TypeError("argument should be a Buffer");if(le||(le=0),!ge&&ge!==0&&(ge=this.length),G>=k.length&&(G=k.length),G||(G=0),ge>0&&ge<le&&(ge=le),ge===le||k.length===0||this.length===0)return 0;if(G<0)throw new RangeError("targetStart out of bounds");if(le<0||le>=this.length)throw new RangeError("Index out of range");if(ge<0)throw new RangeError("sourceEnd out of bounds");ge>this.length&&(ge=this.length),k.length-G<ge-le&&(ge=k.length-G+le);const De=ge-le;return this===k&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(G,le,ge):Uint8Array.prototype.set.call(k,this.subarray(le,ge),G),De},y.prototype.fill=function(k,G,le,ge){if(typeof k=="string"){if(typeof G=="string"?(ge=G,G=0,le=this.length):typeof le=="string"&&(ge=le,le=this.length),ge!==void 0&&typeof ge!="string")throw new TypeError("encoding must be a string");if(typeof ge=="string"&&!y.isEncoding(ge))throw new TypeError("Unknown encoding: "+ge);if(k.length===1){const Ve=k.charCodeAt(0);(ge==="utf8"&&Ve<128||ge==="latin1")&&(k=Ve)}}else typeof k=="number"?k=k&255:typeof k=="boolean"&&(k=Number(k));if(G<0||this.length<G||this.length<le)throw new RangeError("Out of range index");if(le<=G)return this;G=G>>>0,le=le===void 0?this.length:le>>>0,k||(k=0);let De;if(typeof k=="number")for(De=G;De<le;++De)this[De]=k;else{const Ve=y.isBuffer(k)?k:y.from(k,ge),kt=Ve.length;if(kt===0)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for(De=0;De<le-G;++De)this[De+G]=Ve[De%kt]}return this};const Je={};function ut(J,k,G){Je[J]=class extends G{constructor(){super(),Object.defineProperty(this,"message",{value:k.apply(this,arguments),writable:!0,configurable:!0}),this.name="".concat(this.name," [").concat(J,"]"),this.stack,delete this.name}get code(){return J}set code(ge){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ge,writable:!0})}toString(){return"".concat(this.name," [").concat(J,"]: ").concat(this.message)}}}ut("ERR_BUFFER_OUT_OF_BOUNDS",function(J){return J?"".concat(J," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),ut("ERR_INVALID_ARG_TYPE",function(J,k){return'The "'.concat(J,'" argument must be of type number. Received type ').concat(typeof k)},TypeError),ut("ERR_OUT_OF_RANGE",function(J,k,G){let le='The value of "'.concat(J,'" is out of range.'),ge=G;return Number.isInteger(G)&&Math.abs(G)>4294967296?ge=Lt(String(G)):typeof G=="bigint"&&(ge=String(G),(G>BigInt(2)**BigInt(32)||G<-(BigInt(2)**BigInt(32)))&&(ge=Lt(ge)),ge+="n"),le+=" It must be ".concat(k,". Received ").concat(ge),le},RangeError);function Lt(J){let k="",G=J.length;const le=J[0]==="-"?1:0;for(;G>=le+4;G-=3)k="_".concat(J.slice(G-3,G)).concat(k);return"".concat(J.slice(0,G)).concat(k)}function _t(J,k,G){gt(k,"offset"),(J[k]===void 0||J[k+G]===void 0)&&Kt(k,J.length-(G+1))}function Pt(J,k,G,le,ge,De){if(J>G||J<k){const Ve=typeof k=="bigint"?"n":"";let kt;throw k===0||k===BigInt(0)?kt=">= 0".concat(Ve," and < 2").concat(Ve," ** ").concat((De+1)*8).concat(Ve):kt=">= -(2".concat(Ve," ** ").concat((De+1)*8-1).concat(Ve,") and < 2 ** ").concat((De+1)*8-1).concat(Ve),new Je.ERR_OUT_OF_RANGE("value",kt,J)}_t(le,ge,De)}function gt(J,k){if(typeof J!="number")throw new Je.ERR_INVALID_ARG_TYPE(k,"number",J)}function Kt(J,k,G){throw Math.floor(J)!==J?(gt(J,G),new Je.ERR_OUT_OF_RANGE("offset","an integer",J)):k<0?new Je.ERR_BUFFER_OUT_OF_BOUNDS:new Je.ERR_OUT_OF_RANGE("offset",">= 0 and <= ".concat(k),J)}const Qt=/[^+/0-9A-Za-z-_]/g;function Xt(J){if(J=J.split("=")[0],J=J.trim().replace(Qt,""),J.length<2)return"";for(;J.length%4!==0;)J=J+"=";return J}function En(J,k){k=k||1/0;let G;const le=J.length;let ge=null;const De=[];for(let Ve=0;Ve<le;++Ve){if(G=J.charCodeAt(Ve),G>55295&&G<57344){if(!ge){if(G>56319){(k-=3)>-1&&De.push(239,191,189);continue}else if(Ve+1===le){(k-=3)>-1&&De.push(239,191,189);continue}ge=G;continue}if(G<56320){(k-=3)>-1&&De.push(239,191,189),ge=G;continue}G=(ge-55296<<10|G-56320)+65536}else ge&&(k-=3)>-1&&De.push(239,191,189);if(ge=null,G<128){if((k-=1)<0)break;De.push(G)}else if(G<2048){if((k-=2)<0)break;De.push(G>>6|192,G&63|128)}else if(G<65536){if((k-=3)<0)break;De.push(G>>12|224,G>>6&63|128,G&63|128)}else if(G<1114112){if((k-=4)<0)break;De.push(G>>18|240,G>>12&63|128,G>>6&63|128,G&63|128)}else throw new Error("Invalid code point")}return De}function Dn(J){const k=[];for(let G=0;G<J.length;++G)k.push(J.charCodeAt(G)&255);return k}function Bn(J,k){let G,le,ge;const De=[];for(let Ve=0;Ve<J.length&&!((k-=2)<0);++Ve)G=J.charCodeAt(Ve),le=G>>8,ge=G%256,De.push(ge),De.push(le);return De}function mt(J){return p.toByteArray(Xt(J))}function pe(J,k,G,le){let ge;for(ge=0;ge<le&&!(ge+G>=k.length||ge>=J.length);++ge)k[ge+G]=J[ge];return ge}function fe(J,k){return J instanceof k||J!=null&&J.constructor!=null&&J.constructor.name!=null&&J.constructor.name===k.name}function Ie(J){return J!==J}const ve=function(){const J="0123456789abcdef",k=new Array(256);for(let G=0;G<16;++G){const le=G*16;for(let ge=0;ge<16;++ge)k[le+ge]=J[G]+J[ge]}return k}();function Me(J){return typeof BigInt>"u"?Be:J}function Be(){throw new Error("BigInt not supported")}},"./node_modules/css-loader/dist/runtime/api.js":M=>{M.exports=function(B){var u=[];return u.toString=function(){return this.map(function(w){var A="",b=typeof w[5]<"u";return w[4]&&(A+="@supports (".concat(w[4],") {")),w[2]&&(A+="@media ".concat(w[2]," {")),b&&(A+="@layer".concat(w[5].length>0?" ".concat(w[5]):""," {")),A+=B(w),b&&(A+="}"),w[2]&&(A+="}"),w[4]&&(A+="}"),A}).join("")},u.i=function(w,A,b,d,g){typeof w=="string"&&(w=[[null,w,void 0]]);var y={};if(b)for(var f=0;f<this.length;f++){var E=this[f][0];E!=null&&(y[E]=!0)}for(var C=0;C<w.length;C++){var v=[].concat(w[C]);b&&y[v[0]]||(typeof g<"u"&&(typeof v[5]>"u"||(v[1]="@layer".concat(v[5].length>0?" ".concat(v[5]):""," {").concat(v[1],"}")),v[5]=g),A&&(v[2]&&(v[1]="@media ".concat(v[2]," {").concat(v[1],"}")),v[2]=A),d&&(v[4]?(v[1]="@supports (".concat(v[4],") {").concat(v[1],"}"),v[4]=d):v[4]="".concat(d)),u.push(v))}},u}},"./node_modules/css-loader/dist/runtime/getUrl.js":M=>{M.exports=function(B,u){return u||(u={}),B&&(B=String(B.__esModule?B.default:B),/^['"].*['"]$/.test(B)&&(B=B.slice(1,-1)),u.hash&&(B+=u.hash),/["'() \t\n]|(%20)/.test(B)||u.needQuotes?'"'.concat(B.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):B)}},"./node_modules/css-loader/dist/runtime/sourceMaps.js":M=>{M.exports=function(B){var u=B[1],p=B[3];if(!p)return u;if(typeof btoa=="function"){var w=btoa(unescape(encodeURIComponent(JSON.stringify(p)))),A="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(w),b="/*# ".concat(A," */");return[u].concat([b]).join("\n")}return[u].join("\n")}},"./node_modules/debug/src/browser.js":(M,B,u)=>{B.formatArgs=w,B.save=A,B.load=b,B.useColors=p,B.storage=d(),B.destroy=(()=>{let y=!1;return()=>{y||(y=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),B.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function p(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function w(y){if(y[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+y[0]+(this.useColors?"%c ":" ")+"+"+M.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;y.splice(1,0,f,"color: inherit");let E=0,C=0;y[0].replace(/%[a-zA-Z%]/g,v=>{v!=="%%"&&(E++,v==="%c"&&(C=E))}),y.splice(C,0,f)}B.log=console.debug||console.log||(()=>{});function A(y){try{y?B.storage.setItem("debug",y):B.storage.removeItem("debug")}catch(f){}}function b(){let y;try{y=B.storage.getItem("debug")}catch(f){}return!y&&typeof process<"u"&&"env"in process&&(y=l.DEBUG),y}function d(){try{return localStorage}catch(y){}}M.exports=u("./node_modules/debug/src/common.js")(B);const{formatters:g}=M.exports;g.j=function(y){try{return JSON.stringify(y)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}},"./node_modules/debug/src/common.js":(M,B,u)=>{function p(w){b.debug=b,b.default=b,b.coerce=C,b.disable=y,b.enable=g,b.enabled=f,b.humanize=u("./node_modules/ms/index.js"),b.destroy=v,Object.keys(w).forEach(x=>{b[x]=w[x]}),b.names=[],b.skips=[],b.formatters={};function A(x){let T=0;for(let L=0;L<x.length;L++)T=(T<<5)-T+x.charCodeAt(L),T|=0;return b.colors[Math.abs(T)%b.colors.length]}b.selectColor=A;function b(x){let T,L=null,R,F;function P(...H){if(!P.enabled)return;const $=P,te=Number(new Date),ee=te-(T||te);$.diff=ee,$.prev=T,$.curr=te,T=te,H[0]=b.coerce(H[0]),typeof H[0]!="string"&&H.unshift("%O");let de=0;H[0]=H[0].replace(/%([a-zA-Z%])/g,(ne,X)=>{if(ne==="%%")return"%";de++;const z=b.formatters[X];if(typeof z=="function"){const se=H[de];ne=z.call($,se),H.splice(de,1),de--}return ne}),b.formatArgs.call($,H),($.log||b.log).apply($,H)}return P.namespace=x,P.useColors=b.useColors(),P.color=b.selectColor(x),P.extend=d,P.destroy=b.destroy,Object.defineProperty(P,"enabled",{enumerable:!0,configurable:!1,get:()=>L!==null?L:(R!==b.namespaces&&(R=b.namespaces,F=b.enabled(x)),F),set:H=>{L=H}}),typeof b.init=="function"&&b.init(P),P}function d(x,T){const L=b(this.namespace+(typeof T>"u"?":":T)+x);return L.log=this.log,L}function g(x){b.save(x),b.namespaces=x,b.names=[],b.skips=[];let T;const L=(typeof x=="string"?x:"").split(/[\s,]+/),R=L.length;for(T=0;T<R;T++)L[T]&&(x=L[T].replace(/\*/g,".*?"),x[0]==="-"?b.skips.push(new RegExp("^"+x.slice(1)+"$")):b.names.push(new RegExp("^"+x+"$")))}function y(){const x=[...b.names.map(E),...b.skips.map(E).map(T=>"-"+T)].join(",");return b.enable(""),x}function f(x){if(x[x.length-1]==="*")return!0;let T,L;for(T=0,L=b.skips.length;T<L;T++)if(b.skips[T].test(x))return!1;for(T=0,L=b.names.length;T<L;T++)if(b.names[T].test(x))return!0;return!1}function E(x){return x.toString().substring(2,x.toString().length-2).replace(/\.\*\?$/,"*")}function C(x){return x instanceof Error?x.stack||x.message:x}function v(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return b.enable(b.load()),b}M.exports=p},"./node_modules/deep-assign/index.js":(M,B,u)=>{var p=u("./node_modules/is-obj/index.js"),w=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;function b(y){if(y==null)throw new TypeError("Sources cannot be null or undefined");return Object(y)}function d(y,f,E){var C=f[E];if(C!=null){if(w.call(y,E)&&(y[E]===void 0||y[E]===null))throw new TypeError("Cannot convert undefined or null to object ("+E+")");!w.call(y,E)||!p(C)?y[E]=C:y[E]=g(Object(y[E]),f[E])}}function g(y,f){if(y===f)return y;f=Object(f);for(var E in f)w.call(f,E)&&d(y,f,E);if(Object.getOwnPropertySymbols)for(var C=Object.getOwnPropertySymbols(f),v=0;v<C.length;v++)A.call(f,C[v])&&d(y,f,C[v]);return y}M.exports=function(f){f=b(f);for(var E=1;E<arguments.length;E++)g(f,arguments[E]);return f}},"./node_modules/dtype/index.js":M=>{M.exports=function(B){switch(B){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},"./node_modules/global/window.js":(M,B,u)=>{var p;typeof window<"u"?p=window:typeof u.g<"u"?p=u.g:typeof self<"u"?p=self:p={},M.exports=p},"./node_modules/ieee754/index.js":(M,B)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */B.read=function(u,p,w,A,b){var d,g,y=b*8-A-1,f=(1<<y)-1,E=f>>1,C=-7,v=w?b-1:0,x=w?-1:1,T=u[p+v];for(v+=x,d=T&(1<<-C)-1,T>>=-C,C+=y;C>0;d=d*256+u[p+v],v+=x,C-=8);for(g=d&(1<<-C)-1,d>>=-C,C+=A;C>0;g=g*256+u[p+v],v+=x,C-=8);if(d===0)d=1-E;else{if(d===f)return g?NaN:(T?-1:1)*(1/0);g=g+Math.pow(2,A),d=d-E}return(T?-1:1)*g*Math.pow(2,d-A)},B.write=function(u,p,w,A,b,d){var g,y,f,E=d*8-b-1,C=(1<<E)-1,v=C>>1,x=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=A?0:d-1,L=A?1:-1,R=p<0||p===0&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(y=isNaN(p)?1:0,g=C):(g=Math.floor(Math.log(p)/Math.LN2),p*(f=Math.pow(2,-g))<1&&(g--,f*=2),g+v>=1?p+=x/f:p+=x*Math.pow(2,1-v),p*f>=2&&(g++,f/=2),g+v>=C?(y=0,g=C):g+v>=1?(y=(p*f-1)*Math.pow(2,b),g=g+v):(y=p*Math.pow(2,v-1)*Math.pow(2,b),g=0));b>=8;u[w+T]=y&255,T+=L,y/=256,b-=8);for(g=g<<b|y,E+=b;E>0;u[w+T]=g&255,T+=L,g/=256,E-=8);u[w+T-L]|=R*128}},"./node_modules/is-buffer/index.js":M=>{/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */M.exports=function(p){return p!=null&&(B(p)||u(p)||!!p._isBuffer)};function B(p){return!!p.constructor&&typeof p.constructor.isBuffer=="function"&&p.constructor.isBuffer(p)}function u(p){return typeof p.readFloatLE=="function"&&typeof p.slice=="function"&&B(p.slice(0,0))}},"./node_modules/is-function/index.js":M=>{M.exports=u;var B=Object.prototype.toString;function u(p){if(!p)return!1;var w=B.call(p);return w==="[object Function]"||typeof p=="function"&&w!=="[object RegExp]"||typeof window<"u"&&(p===window.setTimeout||p===window.alert||p===window.confirm||p===window.prompt)}},"./node_modules/is-obj/index.js":M=>{M.exports=function(B){var u=typeof B;return B!==null&&(u==="object"||u==="function")}},"./node_modules/layout-bmfont-text/index.js":(M,B,u)=>{var p=u("./node_modules/word-wrapper/index.js"),w=u("./node_modules/xtend/immutable.js"),A=u("./node_modules/as-number/index.js"),b=["x","e","a","o","n","s","r","c","u","m","v","w","z"],d=["m","w"],g=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],y=9,f=32,E=0,C=1,v=2;M.exports=function(ie){return new x(ie)};function x(de){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(de)}x.prototype.update=function(de){if(de=w({measure:this._measure},de),this._opt=de,this._opt.tabSize=A(this._opt.tabSize,4),!de.font)throw new Error("must provide a valid bitmap font");var ie=this.glyphs,ne=de.text||"",X=de.font;this._setupSpaceGlyphs(X);var z=p.lines(ne,de),se=de.width||0;ie.length=0;var ae=z.reduce(function(Ct,Nt){return Math.max(Ct,Nt.width,se)},0),be=0,Re=0,ke=A(de.lineHeight,X.common.lineHeight),Ke=X.common.base,Xe=ke-Ke,Fe=de.letterSpacing||0,qe=ke*z.length-Xe,rt=te(this._opt.align);Re-=qe,this._width=ae,this._height=qe,this._descender=ke-Ke,this._baseline=Ke,this._xHeight=F(X),this._capHeight=H(X),this._lineHeight=ke,this._ascender=ke-Xe-this._xHeight;var it=this;z.forEach(function(Ct,Nt){for(var xe=Ct.start,Te=Ct.end,je=Ct.width,ot,Je=xe;Je<Te;Je++){var ut=ne.charCodeAt(Je),Lt=it.getGlyph(X,ut);if(Lt){ot&&(be+=$(X,ot.id,Lt.id));var _t=be;rt===C?_t+=(ae-je)/2:rt===v&&(_t+=ae-je),ie.push({position:[_t,Re],data:Lt,index:Je,line:Nt}),be+=Lt.xadvance+Fe,ot=Lt}}Re+=ke,be=0}),this._linesTotal=z.length},x.prototype._setupSpaceGlyphs=function(de){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,!(!de.chars||de.chars.length===0)){var ie=R(de,f)||P(de)||de.chars[0],ne=this._opt.tabSize*ie.xadvance;this._fallbackSpaceGlyph=ie,this._fallbackTabGlyph=w(ie,{x:0,y:0,xadvance:ne,id:y,xoffset:0,yoffset:0,width:0,height:0})}},x.prototype.getGlyph=function(de,ie){var ne=R(de,ie);return ne||(ie===y?this._fallbackTabGlyph:ie===f?this._fallbackSpaceGlyph:null)},x.prototype.computeMetrics=function(de,ie,ne,X){var z=this._opt.letterSpacing||0,se=this._opt.font,ae=0,be=0,Re=0,ke,Ke;if(!se.chars||se.chars.length===0)return{start:ie,end:ie,width:0};ne=Math.min(de.length,ne);for(var Xe=ie;Xe<ne;Xe++){var Fe=de.charCodeAt(Xe),ke=this.getGlyph(se,Fe);if(ke){ke.xoffset;var qe=Ke?$(se,Ke.id,ke.id):0;ae+=qe;var rt=ae+ke.xadvance+z,it=ae+ke.width;if(it>=X||rt>=X)break;ae=rt,be=it,Ke=ke}Re++}return Ke&&(be+=Ke.xoffset),{start:ie,end:ie+Re,width:be}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach(T);function T(de){Object.defineProperty(x.prototype,de,{get:L(de),configurable:!0})}function L(de){return new Function(["return function "+de+"() {","  return this._"+de,"}"].join("\n"))()}function R(de,ie){if(!de.chars||de.chars.length===0)return null;var ne=ee(de.chars,ie);return ne>=0?de.chars[ne]:null}function F(de){for(var ie=0;ie<b.length;ie++){var ne=b[ie].charCodeAt(0),X=ee(de.chars,ne);if(X>=0)return de.chars[X].height}return 0}function P(de){for(var ie=0;ie<d.length;ie++){var ne=d[ie].charCodeAt(0),X=ee(de.chars,ne);if(X>=0)return de.chars[X]}return 0}function H(de){for(var ie=0;ie<g.length;ie++){var ne=g[ie].charCodeAt(0),X=ee(de.chars,ne);if(X>=0)return de.chars[X].height}return 0}function $(de,ie,ne){if(!de.kernings||de.kernings.length===0)return 0;for(var X=de.kernings,z=0;z<X.length;z++){var se=X[z];if(se.first===ie&&se.second===ne)return se.amount}return 0}function te(de){return de==="center"?C:de==="right"?v:E}function ee(de,ie,ne){ne=ne||0;for(var X=ne;X<de.length;X++)if(de[X].id===ie)return X;return-1}},"./node_modules/load-bmfont/browser.js":(M,B,u)=>{var p=u("./node_modules/buffer/index.js").Buffer,w=u("./node_modules/xhr/index.js"),A=function(){},b=u("./node_modules/parse-bmfont-ascii/index.js"),d=u("./node_modules/parse-bmfont-xml/lib/browser.js"),g=u("./node_modules/parse-bmfont-binary/index.js"),y=u("./node_modules/load-bmfont/lib/is-binary.js"),f=u("./node_modules/xtend/immutable.js"),E=function(){return self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}();M.exports=function(x,T){T=typeof T=="function"?T:A,typeof x=="string"?x={uri:x}:x||(x={});var L=x.binary;L&&(x=v(x)),w(x,function(R,F,P){if(R)return T(R);if(!/^2/.test(F.statusCode))return T(new Error("http status code: "+F.statusCode));if(!P)return T(new Error("no body result"));var H=!1;if(C(P)){var $=new Uint8Array(P);P=p.from($,"binary")}y(P)&&(H=!0,typeof P=="string"&&(P=p.from(P,"binary"))),H||(p.isBuffer(P)&&(P=P.toString(x.encoding)),P=P.trim());var te;try{var ee=F.headers["content-type"];H?te=g(P):/json/.test(ee)||P.charAt(0)==="{"?te=JSON.parse(P):/xml/.test(ee)||P.charAt(0)==="<"?te=d(P):te=b(P)}catch(de){T(new Error("error parsing font "+de.message)),T=A}T(null,te)})};function C(x){var T=Object.prototype.toString;return T.call(x)==="[object ArrayBuffer]"}function v(x){if(E)return f(x,{responseType:"arraybuffer"});if(typeof self.XMLHttpRequest>"u")throw new Error("your browser does not support XHR loading");var T=new self.XMLHttpRequest;return T.overrideMimeType("text/plain; charset=x-user-defined"),f({xhr:T},x)}},"./node_modules/load-bmfont/lib/is-binary.js":(M,B,u)=>{var p=u("./node_modules/buffer/index.js").Buffer,w=u("./node_modules/buffer-equal/index.js"),A=p.from([66,77,70,3]);M.exports=function(b){return typeof b=="string"?b.substring(0,3)==="BMF":b.length>4&&w(b.slice(0,4),A)}},"./node_modules/ms/index.js":M=>{var B=1e3,u=B*60,p=u*60,w=p*24,A=w*7,b=w*365.25;M.exports=function(E,C){C=C||{};var v=typeof E;if(v==="string"&&E.length>0)return d(E);if(v==="number"&&isFinite(E))return C.long?y(E):g(E);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(E))};function d(E){if(E=String(E),!(E.length>100)){var C=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(E);if(C){var v=parseFloat(C[1]),x=(C[2]||"ms").toLowerCase();switch(x){case"years":case"year":case"yrs":case"yr":case"y":return v*b;case"weeks":case"week":case"w":return v*A;case"days":case"day":case"d":return v*w;case"hours":case"hour":case"hrs":case"hr":case"h":return v*p;case"minutes":case"minute":case"mins":case"min":case"m":return v*u;case"seconds":case"second":case"secs":case"sec":case"s":return v*B;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return v;default:return}}}}function g(E){var C=Math.abs(E);return C>=w?Math.round(E/w)+"d":C>=p?Math.round(E/p)+"h":C>=u?Math.round(E/u)+"m":C>=B?Math.round(E/B)+"s":E+"ms"}function y(E){var C=Math.abs(E);return C>=w?f(E,C,w,"day"):C>=p?f(E,C,p,"hour"):C>=u?f(E,C,u,"minute"):C>=B?f(E,C,B,"second"):E+" ms"}function f(E,C,v,x){var T=C>=v*1.5;return Math.round(E/v)+" "+x+(T?"s":"")}},"./node_modules/parse-bmfont-ascii/index.js":M=>{M.exports=function(A){if(!A)throw new Error("no data provided");A=A.toString().trim();var b={pages:[],chars:[],kernings:[]},d=A.split(/\r\n?|\n/g);if(d.length===0)throw new Error("no data in BMFont file");for(var g=0;g<d.length;g++){var y=B(d[g],g);if(y)if(y.key==="page"){if(typeof y.data.id!="number")throw new Error("malformed file at line "+g+" -- needs page id=N");if(typeof y.data.file!="string")throw new Error("malformed file at line "+g+' -- needs page file="path"');b.pages[y.data.id]=y.data.file}else y.key==="chars"||y.key==="kernings"||(y.key==="char"?b.chars.push(y.data):y.key==="kerning"?b.kernings.push(y.data):b[y.key]=y.data)}return b};function B(w,A){if(w=w.replace(/\t+/g," ").trim(),!w)return null;var b=w.indexOf(" ");if(b===-1)throw new Error("no named row at line "+A);var d=w.substring(0,b);w=w.substring(b+1),w=w.replace(/letter=[\'\"]\S+[\'\"]/gi,""),w=w.split("="),w=w.map(function(C){return C.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var g=[],y=0;y<w.length;y++){var f=w[y];y===0?g.push({key:f[0],data:""}):y===w.length-1?g[g.length-1].data=u(f[0]):(g[g.length-1].data=u(f[0]),g.push({key:f[1],data:""}))}var E={key:d,data:{}};return g.forEach(function(C){E.data[C.key]=C.data}),E}function u(w){return!w||w.length===0?"":w.indexOf('"')===0||w.indexOf("'")===0?w.substring(1,w.length-1):w.indexOf(",")!==-1?p(w):parseInt(w,10)}function p(w){return w.split(",").map(function(A){return parseInt(A,10)})}},"./node_modules/parse-bmfont-binary/index.js":M=>{var B=[66,77,70];M.exports=function(E){if(E.length<6)throw new Error("invalid buffer length for BMFont");var C=B.every(function(R,F){return E.readUInt8(F)===R});if(!C)throw new Error("BMFont missing BMF byte header");var v=3,x=E.readUInt8(v++);if(x>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var T={kernings:[],chars:[]},L=0;L<5;L++)v+=u(T,E,v);return T};function u(f,E,C){if(C>E.length-1)return 0;var v=E.readUInt8(C++),x=E.readInt32LE(C);switch(C+=4,v){case 1:f.info=p(E,C);break;case 2:f.common=w(E,C);break;case 3:f.pages=A(E,C,x);break;case 4:f.chars=b(E,C,x);break;case 5:f.kernings=d(E,C,x);break}return 5+x}function p(f,E){var C={};C.size=f.readInt16LE(E);var v=f.readUInt8(E+2);return C.smooth=v>>7&1,C.unicode=v>>6&1,C.italic=v>>5&1,C.bold=v>>4&1,v>>3&1&&(C.fixedHeight=1),C.charset=f.readUInt8(E+3)||"",C.stretchH=f.readUInt16LE(E+4),C.aa=f.readUInt8(E+6),C.padding=[f.readInt8(E+7),f.readInt8(E+8),f.readInt8(E+9),f.readInt8(E+10)],C.spacing=[f.readInt8(E+11),f.readInt8(E+12)],C.outline=f.readUInt8(E+13),C.face=y(f,E+14),C}function w(f,E){var C={};return C.lineHeight=f.readUInt16LE(E),C.base=f.readUInt16LE(E+2),C.scaleW=f.readUInt16LE(E+4),C.scaleH=f.readUInt16LE(E+6),C.pages=f.readUInt16LE(E+8),f.readUInt8(E+10),C.packed=0,C.alphaChnl=f.readUInt8(E+11),C.redChnl=f.readUInt8(E+12),C.greenChnl=f.readUInt8(E+13),C.blueChnl=f.readUInt8(E+14),C}function A(f,E,C){for(var v=[],x=g(f,E),T=x.length+1,L=C/T,R=0;R<L;R++)v[R]=f.slice(E,E+x.length).toString("utf8"),E+=T;return v}function b(f,E,C){for(var v=[],x=C/20,T=0;T<x;T++){var L={},R=T*20;L.id=f.readUInt32LE(E+0+R),L.x=f.readUInt16LE(E+4+R),L.y=f.readUInt16LE(E+6+R),L.width=f.readUInt16LE(E+8+R),L.height=f.readUInt16LE(E+10+R),L.xoffset=f.readInt16LE(E+12+R),L.yoffset=f.readInt16LE(E+14+R),L.xadvance=f.readInt16LE(E+16+R),L.page=f.readUInt8(E+18+R),L.chnl=f.readUInt8(E+19+R),v[T]=L}return v}function d(f,E,C){for(var v=[],x=C/10,T=0;T<x;T++){var L={},R=T*10;L.first=f.readUInt32LE(E+0+R),L.second=f.readUInt32LE(E+4+R),L.amount=f.readInt16LE(E+8+R),v[T]=L}return v}function g(f,E){for(var C=E;C<f.length&&f[C]!==0;C++);return f.slice(E,C)}function y(f,E){return g(f,E).toString("utf8")}},"./node_modules/parse-bmfont-xml/lib/browser.js":(M,B,u)=>{var p=u("./node_modules/parse-bmfont-xml/lib/parse-attribs.js"),w=u("./node_modules/xml-parse-from-string/index.js"),A={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};M.exports=function(f){f=f.toString();var E=w(f),C={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(P){var H=E.getElementsByTagName(P)[0];H&&(C[P]=p(b(H)))});var v=E.getElementsByTagName("pages")[0];if(!v)throw new Error("malformed file -- no <pages> element");for(var x=v.getElementsByTagName("page"),T=0;T<x.length;T++){var L=x[T],R=parseInt(L.getAttribute("id"),10),F=L.getAttribute("file");if(isNaN(R))throw new Error('malformed file -- page "id" attribute is NaN');if(!F)throw new Error('malformed file -- needs page "file" attribute');C.pages[parseInt(R,10)]=F}return["chars","kernings"].forEach(function(P){var H=E.getElementsByTagName(P)[0];if(H)for(var $=P.substring(0,P.length-1),te=H.getElementsByTagName($),ee=0;ee<te.length;ee++){var de=te[ee];C[P].push(p(b(de)))}}),C};function b(y){var f=d(y);return f.reduce(function(E,C){var v=g(C.nodeName);return E[v]=C.nodeValue,E},{})}function d(y){for(var f=[],E=0;E<y.attributes.length;E++)f.push(y.attributes[E]);return f}function g(y){return A[y.toLowerCase()]||y}},"./node_modules/parse-bmfont-xml/lib/parse-attribs.js":M=>{var B="chasrset";M.exports=function(w){B in w&&(w.charset=w[B],delete w[B]);for(var A in w)A==="face"||A==="charset"||(A==="padding"||A==="spacing"?w[A]=u(w[A]):w[A]=parseInt(w[A],10));return w};function u(p){return p.split(",").map(function(w){return parseInt(w,10)})}},"./node_modules/parse-headers/parse-headers.js":M=>{var B=function(p){return p.replace(/^\s+|\s+$/g,"")},u=function(p){return Object.prototype.toString.call(p)==="[object Array]"};M.exports=function(p){if(!p)return{};for(var w={},A=B(p).split("\n"),b=0;b<A.length;b++){var d=A[b],g=d.indexOf(":"),y=B(d.slice(0,g)).toLowerCase(),f=B(d.slice(g+1));typeof w[y]>"u"?w[y]=f:u(w[y])?w[y].push(f):w[y]=[w[y],f]}return w}},"./node_modules/quad-indices/index.js":(M,B,u)=>{var p=u("./node_modules/dtype/index.js"),w=u("./node_modules/an-array/index.js"),A=u("./node_modules/is-buffer/index.js"),b=[0,2,3],d=[2,1,3];M.exports=function(y,f){(!y||!(w(y)||A(y)))&&(f=y||{},y=null),typeof f=="number"?f={count:f}:f=f||{};for(var E=typeof f.type=="string"?f.type:"uint16",C=typeof f.count=="number"?f.count:1,v=f.start||0,x=f.clockwise!==!1?b:d,T=x[0],L=x[1],R=x[2],F=C*6,P=y||new(p(E))(F),H=0,$=0;H<F;H+=6,$+=4){var te=H+v;P[te+0]=$+0,P[te+1]=$+1,P[te+2]=$+2,P[te+3]=$+T,P[te+4]=$+L,P[te+5]=$+R}return P}},"./node_modules/super-animejs/lib/anime.es.js":(M,B,u)=>{u.r(B),u.d(B,{default:()=>fo});var p={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},w={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},A=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],b={CSS:{},springs:{}};function d(Ee,Pe,Ye){return Math.min(Math.max(Ee,Pe),Ye)}function g(Ee,Pe){return Ee.indexOf(Pe)>-1}function y(Ee,Pe){return Ee.apply(null,Pe)}var f=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,E=/^rgb/,C=/^hsl/,v={arr:function(Ee){return Array.isArray(Ee)},obj:function(Ee){return g(Object.prototype.toString.call(Ee),"Object")},pth:function(Ee){return v.obj(Ee)&&Ee.hasOwnProperty("totalLength")},svg:function(Ee){return Ee instanceof SVGElement},inp:function(Ee){return Ee instanceof HTMLInputElement},dom:function(Ee){return Ee.nodeType||v.svg(Ee)},str:function(Ee){return typeof Ee=="string"},fnc:function(Ee){return typeof Ee=="function"},und:function(Ee){return typeof Ee>"u"},hex:function(Ee){return f.test(Ee)},rgb:function(Ee){return E.test(Ee)},hsl:function(Ee){return C.test(Ee)},col:function(Ee){return v.hex(Ee)||v.rgb(Ee)||v.hsl(Ee)},key:function(Ee){return!p.hasOwnProperty(Ee)&&!w.hasOwnProperty(Ee)&&Ee!=="targets"&&Ee!=="keyframes"}},x=/\(([^)]+)\)/;function T(Ee){var Pe=x.exec(Ee);return Pe?Pe[1].split(",").map(function(Ye){return parseFloat(Ye)}):[]}function L(Ee,Pe){var Ye=T(Ee),ft=d(v.und(Ye[0])?1:Ye[0],.1,100),st=d(v.und(Ye[1])?100:Ye[1],.1,100),bt=d(v.und(Ye[2])?10:Ye[2],.1,100),Ot=d(v.und(Ye[3])?0:Ye[3],.1,100),gn=Math.sqrt(st/ft),rn=bt/(2*Math.sqrt(st*ft)),yt=rn<1?gn*Math.sqrt(1-rn*rn):0,wn=1,Ln=rn<1?(rn*gn+-Ot)/yt:-Ot+gn;function Un(Zn){var Vn=Pe?Pe*Zn/1e3:Zn;return rn<1?Vn=Math.exp(-Vn*rn*gn)*(wn*Math.cos(yt*Vn)+Ln*Math.sin(yt*Vn)):Vn=(wn+Ln*Vn)*Math.exp(-Vn*gn),Zn===0||Zn===1?Zn:1-Vn}function Pi(){var Zn=b.springs[Ee];if(Zn)return Zn;for(var Vn=1/6,fi=0,ji=0;;)if(fi+=Vn,Un(fi)===1){if(ji++,ji>=16)break}else ji=0;var Er=fi*Vn*1e3;return b.springs[Ee]=Er,Er}return Pe?Un:Pi}function R(Ee,Pe){Ee===void 0&&(Ee=1),Pe===void 0&&(Pe=.5);var Ye=d(Ee,1,10),ft=d(Pe,.1,2);return function(st){return st===0||st===1?st:-Ye*Math.pow(2,10*(st-1))*Math.sin((st-1-ft/(Math.PI*2)*Math.asin(1/Ye))*(Math.PI*2)/ft)}}function F(Ee){return Ee===void 0&&(Ee=10),function(Pe){return Math.round(Pe*Ee)*(1/Ee)}}var P=function(){var Ee=11,Pe=1/(Ee-1);function Ye(wn,Ln){return 1-3*Ln+3*wn}function ft(wn,Ln){return 3*Ln-6*wn}function st(wn){return 3*wn}function bt(wn,Ln,Un){return((Ye(Ln,Un)*wn+ft(Ln,Un))*wn+st(Ln))*wn}function Ot(wn,Ln,Un){return 3*Ye(Ln,Un)*wn*wn+2*ft(Ln,Un)*wn+st(Ln)}function gn(wn,Ln,Un,Pi,Zn){var Vn,fi,ji=0;do fi=Ln+(Un-Ln)/2,Vn=bt(fi,Pi,Zn)-wn,Vn>0?Un=fi:Ln=fi;while(Math.abs(Vn)>1e-7&&++ji<10);return fi}function rn(wn,Ln,Un,Pi){for(var Zn=0;Zn<4;++Zn){var Vn=Ot(Ln,Un,Pi);if(Vn===0)return Ln;var fi=bt(Ln,Un,Pi)-wn;Ln-=fi/Vn}return Ln}function yt(wn,Ln,Un,Pi){if(!(0<=wn&&wn<=1&&0<=Un&&Un<=1))return;var Zn=new Float32Array(Ee);if(wn!==Ln||Un!==Pi)for(var Vn=0;Vn<Ee;++Vn)Zn[Vn]=bt(Vn*Pe,wn,Un);function fi(ji){for(var Er=0,sn=1,ei=Ee-1;sn!==ei&&Zn[sn]<=ji;++sn)Er+=Pe;--sn;var hr=(ji-Zn[sn])/(Zn[sn+1]-Zn[sn]),Ai=Er+hr*Pe,W=Ot(Ai,wn,Un);return W>=.001?rn(ji,Ai,wn,Un):W===0?Ai:gn(ji,Er,Er+Pe,wn,Un)}return function(ji){return wn===Ln&&Un===Pi||ji===0||ji===1?ji:bt(fi(ji),Ln,Pi)}}return yt}(),H=function(){var Ee=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],Pe={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],R],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(Ot,gn){return function(rn){return 1-R(Ot,gn)(1-rn)}}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(Ot,gn){return function(rn){return rn<.5?R(Ot,gn)(rn*2)/2:1-R(Ot,gn)(rn*-2+2)/2}}]},Ye={linear:[.25,.25,.75,.75]};for(var ft in Pe)for(var st=0,bt=Pe[ft].length;st<bt;st++)Ye["ease"+ft+Ee[st]]=Pe[ft][st];return Ye}();function $(Ee,Pe){if(v.fnc(Ee))return Ee;var Ye=Ee.split("(")[0],ft=H[Ye],st=T(Ee);switch(Ye){case"spring":return L(Ee,Pe);case"cubicBezier":return y(P,st);case"steps":return y(F,st);default:return v.fnc(ft)?y(ft,st):y(P,ft)}}function te(Ee){try{var Pe=document.querySelectorAll(Ee);return Pe}catch(Ye){return}}var ee=[];function de(Ee,Pe){for(var Ye=ee,ft=Ee.length,st=arguments.length>=2?arguments[1]:void 0,bt=0;bt<ft;bt++)if(bt in Ee){var Ot=Ee[bt];Pe.call(st,Ot,bt,Ee)&&Ye.push(Ot)}return ee=Ee,ee.length=0,Ye}function ie(Ee,Pe){Pe||(Pe=[]);for(var Ye=0,ft=Ee.length;Ye<ft;Ye++){var st=Ee[Ye];Array.isArray(st)?ie(st,Pe):Pe.push(st)}return Pe}function ne(Ee){return v.arr(Ee)?Ee:(v.str(Ee)&&(Ee=te(Ee)||Ee),Ee instanceof NodeList||Ee instanceof HTMLCollection?[].slice.call(Ee):[Ee])}function X(Ee,Pe){return Ee.some(function(Ye){return Ye===Pe})}function z(Ee){var Pe={};for(var Ye in Ee)Pe[Ye]=Ee[Ye];return Pe}function se(Ee,Pe){var Ye=z(Ee);for(var ft in Ee)Ye[ft]=Pe.hasOwnProperty(ft)?Pe[ft]:Ee[ft];return Ye}function ae(Ee,Pe){var Ye=z(Ee);for(var ft in Pe)Ye[ft]=v.und(Ee[ft])?Pe[ft]:Ee[ft];return Ye}var be=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g;function Re(Ee){var Pe=be.exec(Ee);return Pe?"rgba("+Pe[1]+",1)":Ee}var ke=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Ke=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;function Xe(Ee){var Pe=Ee.replace(ke,function(Ot,gn,rn,yt){return gn+gn+rn+rn+yt+yt}),Ye=Ke.exec(Pe),ft=parseInt(Ye[1],16),st=parseInt(Ye[2],16),bt=parseInt(Ye[3],16);return"rgba("+ft+","+st+","+bt+",1)"}var Fe=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g,qe=/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g;function rt(Ee){var Pe=Fe.exec(Ee)||qe.exec(Ee),Ye=parseInt(Pe[1],10)/360,ft=parseInt(Pe[2],10)/100,st=parseInt(Pe[3],10)/100,bt=Pe[4]||1;function Ot(Un,Pi,Zn){return Zn<0&&(Zn+=1),Zn>1&&(Zn-=1),Zn<.16666666666666666?Un+(Pi-Un)*6*Zn:Zn<.5?Pi:Zn<.6666666666666666?Un+(Pi-Un)*(.6666666666666666-Zn)*6:Un}var gn,rn,yt;if(ft==0)gn=rn=yt=st;else{var wn=st<.5?st*(1+ft):st+ft-st*ft,Ln=2*st-wn;gn=Ot(Ln,wn,Ye+.3333333333333333),rn=Ot(Ln,wn,Ye),yt=Ot(Ln,wn,Ye-.3333333333333333)}return"rgba("+gn*255+","+rn*255+","+yt*255+","+bt+")"}function it(Ee){if(v.rgb(Ee))return Re(Ee);if(v.hex(Ee))return Xe(Ee);if(v.hsl(Ee))return rt(Ee)}var Ct=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/;function Nt(Ee){var Pe=Ct.exec(Ee);if(Pe)return Pe[2]}function xe(Ee){if(g(Ee,"translate")||Ee==="perspective")return"px";if(g(Ee,"rotate")||g(Ee,"skew"))return"deg"}function Te(Ee,Pe){return v.fnc(Ee)?Ee(Pe.target,Pe.id,Pe.total):Ee}function je(Ee,Pe){return Ee.getAttribute(Pe)}function ot(Ee,Pe,Ye){var ft=Nt(Pe);if(X([Ye,"deg","rad","turn"],ft))return Pe;var st=b.CSS[Pe+Ye];if(!v.und(st))return st;var bt=100,Ot=document.createElement(Ee.tagName),gn=Ee.parentNode&&Ee.parentNode!==document?Ee.parentNode:document.body;gn.appendChild(Ot),Ot.style.position="absolute",Ot.style.width=bt+Ye;var rn=bt/Ot.offsetWidth;gn.removeChild(Ot);var yt=rn*parseFloat(Pe);return b.CSS[Pe+Ye]=yt,yt}function Je(Ee,Pe,Ye){if(Pe in Ee.style){var ft=Pe.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),st=Ee.style[Pe]||getComputedStyle(Ee).getPropertyValue(ft)||"0";return Ye?ot(Ee,st,Ye):st}}function ut(Ee,Pe){if(v.dom(Ee)&&!v.inp(Ee)&&(je(Ee,Pe)||v.svg(Ee)&&Ee[Pe]))return"attribute";if(v.dom(Ee)&&X(A,Pe))return"transform";if(v.dom(Ee)&&Pe!=="transform"&&Je(Ee,Pe))return"css";if(Ee[Pe]!=null)return"object"}var Lt=/(\w+)\(([^)]*)\)/g;function _t(Ee){if(v.dom(Ee)){for(var Pe=Ee.style.transform||"",Ye=new Map,ft;ft=Lt.exec(Pe);)Ye.set(ft[1],ft[2]);return Ye}}function Pt(Ee,Pe,Ye,ft){var st=g(Pe,"scale")?1:0+xe(Pe),bt=_t(Ee).get(Pe)||st;return Ye&&(Ye.transforms.list.set(Pe,bt),Ye.transforms.last=Pe),ft?ot(Ee,bt,ft):bt}function gt(Ee,Pe,Ye,ft){switch(ut(Ee,Pe)){case"transform":return Pt(Ee,Pe,ft,Ye);case"css":return Je(Ee,Pe,Ye);case"attribute":return je(Ee,Pe);default:return Ee[Pe]||0}}var Kt=/^(\*=|\+=|-=)/;function Qt(Ee,Pe){var Ye=Kt.exec(Ee);if(!Ye)return Ee;var ft=Nt(Ee)||0,st=parseFloat(Pe),bt=parseFloat(Ee.replace(Ye[0],""));switch(Ye[0][0]){case"+":return st+bt+ft;case"-":return st-bt+ft;case"*":return st*bt+ft}}var Xt=/\s/g;function En(Ee,Pe){if(v.col(Ee))return it(Ee);var Ye=Nt(Ee),ft=Ye?Ee.substr(0,Ee.length-Ye.length):Ee;return Pe&&!Xt.test(Ee)?ft+Pe:ft}function Dn(Ee,Pe){return Math.sqrt(Math.pow(Pe.x-Ee.x,2)+Math.pow(Pe.y-Ee.y,2))}function Bn(Ee){return Math.PI*2*je(Ee,"r")}function mt(Ee){return je(Ee,"width")*2+je(Ee,"height")*2}function pe(Ee){return Dn({x:je(Ee,"x1"),y:je(Ee,"y1")},{x:je(Ee,"x2"),y:je(Ee,"y2")})}function fe(Ee){for(var Pe=Ee.points,Ye=0,ft,st=0;st<Pe.numberOfItems;st++){var bt=Pe.getItem(st);st>0&&(Ye+=Dn(ft,bt)),ft=bt}return Ye}function Ie(Ee){var Pe=Ee.points;return fe(Ee)+Dn(Pe.getItem(Pe.numberOfItems-1),Pe.getItem(0))}function ve(Ee){if(Ee.getTotalLength)return Ee.getTotalLength();switch(Ee.tagName.toLowerCase()){case"circle":return Bn(Ee);case"rect":return mt(Ee);case"line":return pe(Ee);case"polyline":return fe(Ee);case"polygon":return Ie(Ee)}}function Me(Ee){var Pe=ve(Ee);return Ee.setAttribute("stroke-dasharray",Pe),Pe}function Be(Ee){for(var Pe=Ee.parentNode;v.svg(Pe)&&(Pe=Pe.parentNode,!!v.svg(Pe.parentNode)););return Pe}function J(Ee,Pe){var Ye=Pe||{},ft=Ye.el||Be(Ee),st=ft.getBoundingClientRect(),bt=je(ft,"viewBox"),Ot=st.width,gn=st.height,rn=Ye.viewBox||(bt?bt.split(" "):[0,0,Ot,gn]);return{el:ft,viewBox:rn,x:rn[0]/1,y:rn[1]/1,w:Ot/rn[2],h:gn/rn[3]}}function k(Ee,Pe){var Ye=v.str(Ee)?te(Ee)[0]:Ee,ft=Pe||100;return function(st){return{property:st,el:Ye,svg:J(Ye),totalLength:ve(Ye)*(ft/100)}}}function G(Ee,Pe){function Ye(gn){gn===void 0&&(gn=0);var rn=Pe+gn>=1?Pe+gn:0;return Ee.el.getPointAtLength(rn)}var ft=J(Ee.el,Ee.svg),st=Ye(),bt=Ye(-1),Ot=Ye(1);switch(Ee.property){case"x":return(st.x-ft.x)*ft.w;case"y":return(st.y-ft.y)*ft.h;case"angle":return Math.atan2(Ot.y-bt.y,Ot.x-bt.x)*180/Math.PI}}var le=/-?\d*\.?\d+/g;function ge(Ee,Pe){var Ye=En(v.pth(Ee)?Ee.totalLength:Ee,Pe)+"";return{original:Ye,numbers:Ye.match(le)?Ye.match(le).map(Number):[0],strings:v.str(Ee)||Pe?Ye.split(le):[]}}function De(Ee){var Pe=Ee?ie(v.arr(Ee)?Ee.map(ne):ne(Ee)):[];return de(Pe,function(Ye,ft,st){return st.indexOf(Ye)===ft})}function Ve(Ee){var Pe=De(Ee);return Pe.map(function(Ye,ft){return{target:Ye,id:ft,total:Pe.length,transforms:{list:_t(Ye)}}})}var kt=/^spring/;function Yt(Ee,Pe){var Ye=z(Pe);if(kt.test(Ye.easing)&&(Ye.duration=L(Ye.easing)),v.arr(Ee)){var ft=Ee.length,st=ft===2&&!v.obj(Ee[0]);st?Ee={value:Ee}:v.fnc(Pe.duration)||(Ye.duration=Pe.duration/ft)}var bt=v.arr(Ee)?Ee:[Ee];return bt.map(function(Ot,gn){var rn=v.obj(Ot)&&!v.pth(Ot)?Ot:{value:Ot};return v.und(rn.delay)&&(rn.delay=gn?0:Pe.delay),v.und(rn.endDelay)&&(rn.endDelay=gn===bt.length-1?Pe.endDelay:0),rn}).map(function(Ot){return ae(Ot,Ye)})}function Gt(Ee){for(var Pe=de(ie(Ee.map(function(bt){return Object.keys(bt)})),function(bt){return v.key(bt)}).reduce(function(bt,Ot){return bt.indexOf(Ot)<0&&bt.push(Ot),bt},[]),Ye={},ft=function(bt){var Ot=Pe[bt];Ye[Ot]=Ee.map(function(gn){var rn={};for(var yt in gn)v.key(yt)?yt==Ot&&(rn.value=gn[yt]):rn[yt]=gn[yt];return rn})},st=0;st<Pe.length;st++)ft(st);return Ye}function Vt(Ee,Pe){var Ye=[],ft=Pe.keyframes;ft&&(Pe=ae(Gt(ft),Pe));for(var st in Pe)v.key(st)&&Ye.push({name:st,tweens:Yt(Pe[st],Ee)});return Ye}function un(Ee,Pe){var Ye={};for(var ft in Ee){var st=Te(Ee[ft],Pe);v.arr(st)&&(st=st.map(function(bt){return Te(bt,Pe)}),st.length===1&&(st=st[0])),Ye[ft]=st}return Ye.duration=parseFloat(Ye.duration),Ye.delay=parseFloat(Ye.delay),Ye}function ar(Ee,Pe){var Ye;return Ee.tweens.map(function(ft){var st=un(ft,Pe),bt=st.value,Ot=v.arr(bt)?bt[1]:bt,gn=Nt(Ot),rn=gt(Pe.target,Ee.name,gn,Pe),yt=Ye?Ye.to.original:rn,wn=v.arr(bt)?bt[0]:yt,Ln=Nt(wn)||Nt(rn),Un=gn||Ln;return v.und(Ot)&&(Ot=yt),st.from=ge(wn,Un),st.to=ge(Qt(Ot,wn),Un),st.start=Ye?Ye.end:0,st.end=st.start+st.delay+st.duration+st.endDelay,st.easing=$(st.easing,st.duration),st.isPath=v.pth(bt),st.isColor=v.col(st.from.original),st.isColor&&(st.round=1),Ye=st,st})}var Rn={css:function(Ee,Pe,Ye){return Ee.style[Pe]=Ye},attribute:function(Ee,Pe,Ye){return Ee.setAttribute(Pe,Ye)},object:function(Ee,Pe,Ye){return Ee[Pe]=Ye},transform:function(Ee,Pe,Ye,ft,st){if(ft.list.set(Pe,Ye),Pe===ft.last||st){var bt="";ft.list.forEach(function(Ot,gn){bt+=gn+"("+Ot+") "}),Ee.style.transform=bt}}};function Zi(Ee,Pe){for(var Ye=Ve(Ee),ft=0,st=Ye.length;ft<st;ft++){var bt=Ye[ft];for(var Ot in Pe){var gn=Te(Pe[Ot],bt),rn=bt.target,yt=Nt(gn),wn=gt(rn,Ot,yt,bt),Ln=yt||Nt(wn),Un=Qt(En(gn,Ln),wn),Pi=ut(rn,Ot);Rn[Pi](rn,Ot,Un,bt.transforms,!0)}}}function vi(Ee,Pe){var Ye=ut(Ee.target,Pe.name);if(Ye){var ft=ar(Pe,Ee),st=ft[ft.length-1];return{type:Ye,property:Pe.name,animatable:Ee,tweens:ft,duration:st.end,delay:ft[0].delay,endDelay:st.endDelay}}}function Li(Ee,Pe){return de(ie(Ee.map(function(Ye){return Pe.map(function(ft){return vi(Ye,ft)})})),function(Ye){return!v.und(Ye)})}function bs(Ee,Pe){var Ye=Ee.length,ft=function(bt){return bt.timelineOffset?bt.timelineOffset:0},st={};return st.duration=Ye?Math.max.apply(Math,Ee.map(function(bt){return ft(bt)+bt.duration})):Pe.duration,st.delay=Ye?Math.min.apply(Math,Ee.map(function(bt){return ft(bt)+bt.delay})):Pe.delay,st.endDelay=Ye?st.duration-Math.max.apply(Math,Ee.map(function(bt){return ft(bt)+bt.duration-bt.endDelay})):Pe.endDelay,st}var er=0;function Qs(Ee){var Pe=se(p,Ee),Ye=se(w,Ee),ft=Vt(Ye,Ee),st=Ve(Ee.targets),bt=Li(st,ft),Ot=bs(bt,Ye),gn=er;return er++,ae(Pe,{id:gn,children:[],animatables:st,animations:bt,duration:Ot.duration,delay:Ot.delay,endDelay:Ot.endDelay})}var br=[],cs=[],Hs,Wr=function(){function Ee(){Hs=requestAnimationFrame(Pe)}function Pe(Ye){var ft=br.length;if(ft){for(var st=0;st<ft;){var bt=br[st];if(!bt.paused)bt.tick(Ye);else{var Ot=br.indexOf(bt);Ot>-1&&(br.splice(Ot,1),ft=br.length)}st++}Ee()}else Hs=cancelAnimationFrame(Hs)}return Ee}();function tr(){if(document.hidden){for(var Ee=0,Pe=br.length;Ee<Pe;Ee++)activeInstance[Ee].pause();cs=br.slice(0),br=[]}else for(var Ye=0,ft=cs.length;Ye<ft;Ye++)cs[Ye].play()}document.addEventListener("visibilitychange",tr);function Di(Ee){Ee===void 0&&(Ee={});var Pe=0,Ye=0,ft=0,st,bt=0,Ot=null;function gn(){return window.Promise&&new Promise(function(sn){return Ot=sn})}var rn=gn(),yt=Qs(Ee);function wn(){yt.reversed=!yt.reversed;for(var sn=0,ei=st.length;sn<ei;sn++)st[sn].reversed=yt.reversed}function Ln(sn){return yt.reversed?yt.duration-sn:sn}function Un(){Pe=0,Ye=Ln(yt.currentTime)*(1/Di.speed)}function Pi(sn,ei){ei&&ei.seek(sn-ei.timelineOffset)}function Zn(sn){if(yt.reversePlayback)for(var hr=bt;hr--;)Pi(sn,st[hr]);else for(var ei=0;ei<bt;ei++)Pi(sn,st[ei])}function Vn(sn){for(var ei=0,hr=yt.animations,Ai=hr.length;ei<Ai;){var W=hr[ei],q=W.animatable,re=W.tweens,ue=re.length-1,Ce=re[ue];ue&&(Ce=de(re,function(nr){return sn<nr.end})[0]||Ce);for(var Qe=d(sn-Ce.start-Ce.delay,0,Ce.duration)/Ce.duration,We=isNaN(Qe)?1:Ce.easing(Qe),wt=Ce.to.strings,Et=Ce.round,tt=[],pt=Ce.to.numbers.length,Dt=void 0,ln=0;ln<pt;ln++){var bn=void 0,Pn=Ce.to.numbers[ln],Xn=Ce.from.numbers[ln]||0;Ce.isPath?bn=G(Ce.value,We*Pn):bn=Xn+We*(Pn-Xn),Et&&(Ce.isColor&&ln>2||(bn=Math.round(bn*Et)/Et)),tt.push(bn)}var Gn=wt.length;if(!Gn)Dt=tt[0];else{Dt=wt[0];for(var kn=0;kn<Gn;kn++){wt[kn];var bi=wt[kn+1],Oi=tt[kn];isNaN(Oi)||(bi?Dt+=Oi+bi:Dt+=Oi+" ")}}Rn[W.type](q.target,W.property,Dt,q.transforms),W.currentValue=Dt,ei++}}function fi(sn){yt[sn]&&!yt.passThrough&&yt[sn](yt)}function ji(){yt.remaining&&yt.remaining!==!0&&yt.remaining--}function Er(sn){var ei=yt.duration,hr=yt.delay,Ai=ei-yt.endDelay,W=Ln(sn);yt.progress=d(W/ei*100,0,100),yt.reversePlayback=W<yt.currentTime,st&&Zn(W),!yt.began&&yt.currentTime>0&&(yt.began=!0,fi("begin"),fi("loopBegin")),W<=hr&&yt.currentTime!==0&&Vn(0),(W>=Ai&&yt.currentTime!==ei||!ei)&&Vn(ei),W>hr&&W<Ai?(yt.changeBegan||(yt.changeBegan=!0,yt.changeCompleted=!1,fi("changeBegin")),fi("change"),Vn(W)):yt.changeBegan&&(yt.changeCompleted=!0,yt.changeBegan=!1,fi("changeComplete")),yt.currentTime=d(W,0,ei),yt.began&&fi("update"),sn>=ei&&(Ye=0,ji(),yt.remaining?(Pe=ft,fi("loopComplete"),fi("loopBegin"),yt.direction==="alternate"&&wn()):(yt.paused=!0,yt.completed||(yt.completed=!0,fi("loopComplete"),fi("complete"),"Promise"in window&&(Ot(),rn=gn()))))}return yt.reset=function(){var sn=yt.direction;yt.passThrough=!1,yt.currentTime=0,yt.progress=0,yt.paused=!0,yt.began=!1,yt.changeBegan=!1,yt.completed=!1,yt.changeCompleted=!1,yt.reversePlayback=!1,yt.reversed=sn==="reverse",yt.remaining=yt.loop,st=yt.children,bt=st.length;for(var ei=bt;ei--;)yt.children[ei].reset();(yt.reversed&&yt.loop!==!0||sn==="alternate"&&yt.loop===1)&&yt.remaining++,Vn(0)},yt.set=function(sn,ei){return Zi(sn,ei),yt},yt.tick=function(sn){ft=sn,Pe||(Pe=ft),Er((ft+(Ye-Pe))*Di.speed)},yt.seek=function(sn){Er(Ln(sn))},yt.pause=function(){yt.paused=!0,Un()},yt.play=function(){yt.paused&&(yt.paused=!1,br.push(yt),Un(),Hs||Wr())},yt.reverse=function(){wn(),Un()},yt.restart=function(){yt.reset(),yt.play()},yt.finished=rn,yt.reset(),yt.autoplay&&yt.play(),yt}function yr(Ee,Pe){for(var Ye=Pe.length;Ye--;)X(Ee,Pe[Ye].animatable.target)&&Pe.splice(Ye,1)}function Io(Ee){for(var Pe=De(Ee),Ye=br.length;Ye--;){var ft=br[Ye],st=ft.animations,bt=ft.children;yr(Pe,st);for(var Ot=bt.length;Ot--;){var gn=bt[Ot],rn=gn.animations;yr(Pe,rn),!rn.length&&!gn.children.length&&bt.splice(Ot,1)}!st.length&&!bt.length&&ft.pause()}}function Is(Ee,Pe){Pe===void 0&&(Pe={});var Ye=Pe.direction||"normal",ft=Pe.easing?$(Pe.easing):null,st=Pe.grid,bt=Pe.axis,Ot=Pe.from||0,gn=Ot==="first",rn=Ot==="center",yt=Ot==="last",wn=v.arr(Ee),Ln=parseFloat(wn?Ee[0]:Ee),Un=wn?parseFloat(Ee[1]):0,Pi=Nt(wn?Ee[1]:Ee)||0,Zn=Pe.start||0+(wn?Ln:0),Vn=[],fi=0;return function(ji,Er,sn){if(gn&&(Ot=0),rn&&(Ot=(sn-1)/2),yt&&(Ot=sn-1),!Vn.length){for(var ei=0;ei<sn;ei++){if(!st)Vn.push(Math.abs(Ot-ei));else{var hr=rn?(st[0]-1)/2:Ot%st[0],Ai=rn?(st[1]-1)/2:Math.floor(Ot/st[0]),W=ei%st[0],q=Math.floor(ei/st[0]),re=hr-W,ue=Ai-q,Ce=Math.sqrt(re*re+ue*ue);bt==="x"&&(Ce=-re),bt==="y"&&(Ce=-ue),Vn.push(Ce)}fi=Math.max.apply(Math,Vn)}ft&&(Vn=Vn.map(function(We){return ft(We/fi)*fi})),Ye==="reverse"&&(Vn=Vn.map(function(We){return bt?We<0?We*-1:-We:Math.abs(fi-We)}))}var Qe=wn?(Un-Ln)/fi:Ln;return Zn+Qe*(Math.round(Vn[Er]*100)/100)+Pi}}function na(Ee){Ee===void 0&&(Ee={});var Pe=Di(Ee);return Pe.duration=0,Pe.add=function(Ye,ft){var st=br.indexOf(Pe),bt=Pe.children;st>-1&&br.splice(st,1);function Ot(Un){Un.passThrough=!0}for(var gn=0;gn<bt.length;gn++)Ot(bt[gn]);var rn=ae(Ye,se(w,Ee));rn.targets=rn.targets||Ee.targets;var yt=Pe.duration;rn.autoplay=!1,rn.direction=Pe.direction,rn.timelineOffset=v.und(ft)?yt:Qt(ft,yt),Ot(Pe),Pe.seek(rn.timelineOffset);var wn=Di(rn);Ot(wn),bt.push(wn);var Ln=bs(bt,Ee);return Pe.delay=Ln.delay,Pe.endDelay=Ln.endDelay,Pe.duration=Ln.duration,Pe.seek(0),Pe.reset(),Pe.autoplay&&Pe.play(),Pe},Pe}Di.version="3.0.0",Di.speed=1,Di.running=br,Di.remove=Io,Di.get=gt,Di.set=Zi,Di.convertPx=ot,Di.path=k,Di.setDashoffset=Me,Di.stagger=Is,Di.timeline=na,Di.easing=$,Di.penner=H,Di.random=function(Ee,Pe){return Math.floor(Math.random()*(Pe-Ee+1))+Ee};const fo=Di},"./node_modules/three-bmfont-text/index.js":(M,B,u)=>{var p=u("./node_modules/layout-bmfont-text/index.js"),w=u("./node_modules/quad-indices/index.js"),A=u("./node_modules/three-bmfont-text/lib/vertices.js"),b=u("./node_modules/three-bmfont-text/lib/utils.js");M.exports=function(y){return new d(y)};class d extends THREE.BufferGeometry{constructor(y){super(),typeof y=="string"&&(y={text:y}),this._opt=Object.assign({},y),y&&this.update(y)}update(y){if(typeof y=="string"&&(y={text:y}),y=Object.assign({},this._opt,y),!y.font)throw new TypeError("must specify a { font } in options");this.layout=p(y);var f=y.flipY!==!1,E=y.font,C=E.common.scaleW,v=E.common.scaleH,x=this.layout.glyphs.filter(function(P){var H=P.data;return H.width*H.height>0});this.visibleGlyphs=x;var T=A.positions(x),L=A.uvs(x,C,v,f),R=w([],{clockwise:!0,type:"uint16",count:x.length});if(this.setIndex(R),this.setAttribute("position",new THREE.BufferAttribute(T,2)),this.setAttribute("uv",new THREE.BufferAttribute(L,2)),!y.multipage&&"page"in this.attributes)this.removeAttribute("page");else if(y.multipage){var F=A.pages(x);this.setAttribute("page",new THREE.BufferAttribute(F,1))}this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere()}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new THREE.Sphere);var y=this.attributes.position.array,f=this.attributes.position.itemSize;if(!y||!f||y.length<2){this.boundingSphere.radius=0,this.boundingSphere.center.set(0,0,0);return}b.computeSphere(y,this.boundingSphere),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new THREE.Box3);var y=this.boundingBox,f=this.attributes.position.array,E=this.attributes.position.itemSize;if(!f||!E||f.length<2){y.makeEmpty();return}b.computeBox(f,y)}}},"./node_modules/three-bmfont-text/lib/utils.js":M=>{var B=2,u={min:[0,0],max:[0,0]};function p(w){var A=w.length/B;u.min[0]=w[0],u.min[1]=w[1],u.max[0]=w[0],u.max[1]=w[1];for(var b=0;b<A;b++){var d=w[b*B+0],g=w[b*B+1];u.min[0]=Math.min(d,u.min[0]),u.min[1]=Math.min(g,u.min[1]),u.max[0]=Math.max(d,u.max[0]),u.max[1]=Math.max(g,u.max[1])}}M.exports.computeBox=function(w,A){p(w),A.min.set(u.min[0],u.min[1],0),A.max.set(u.max[0],u.max[1],0)},M.exports.computeSphere=function(w,A){p(w);var b=u.min[0],d=u.min[1],g=u.max[0],y=u.max[1],f=g-b,E=y-d,C=Math.sqrt(f*f+E*E);A.center.set(b+f/2,d+E/2,0),A.radius=C/2}},"./node_modules/three-bmfont-text/lib/vertices.js":M=>{M.exports.pages=function(u){var p=new Float32Array(u.length*4*1),w=0;return u.forEach(function(A){var b=A.data.page||0;p[w++]=b,p[w++]=b,p[w++]=b,p[w++]=b}),p},M.exports.uvs=function(u,p,w,A){var b=new Float32Array(u.length*4*2),d=0;return u.forEach(function(g){var y=g.data,f=y.x+y.width,E=y.y+y.height,C=y.x/p,v=y.y/w,x=f/p,T=E/w;A&&(v=(w-y.y)/w,T=(w-E)/w),b[d++]=C,b[d++]=v,b[d++]=C,b[d++]=T,b[d++]=x,b[d++]=T,b[d++]=x,b[d++]=v}),b},M.exports.positions=function(u){var p=new Float32Array(u.length*4*2),w=0;return u.forEach(function(A){var b=A.data,d=A.position[0]+b.xoffset,g=A.position[1]+b.yoffset,y=b.width,f=b.height;p[w++]=d,p[w++]=g,p[w++]=d,p[w++]=g+f,p[w++]=d+y,p[w++]=g+f,p[w++]=d+y,p[w++]=g}),p}},"./node_modules/webvr-polyfill/build/webvr-polyfill.js":function(M,B,u){/**
 * @license
 * webvr-polyfill
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * cardboard-vr-display
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * webvr-polyfill-dpdb 
 * Copyright (c) 2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * wglu-preserve-state
 * Copyright (c) 2016, Brandon Jones.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *//**
 * @license
 * nosleep.js
 * Copyright (c) 2017, Rich Tibbett
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(p,w){M.exports=w()})(this,function(){var p=typeof window<"u"?window:typeof u.g<"u"?u.g:typeof self<"u"?self:{};function w(R){return R&&R.__esModule&&Object.prototype.hasOwnProperty.call(R,"default")?R.default:R}function A(R,F){return F={exports:{}},R(F,F.exports),F.exports}var b=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},d=function(F,P){for(var H=0,$=F.length;H<$;H++)P[H]=F[H]},g=function(F,P){for(var H in P)P.hasOwnProperty(H)&&(F[H]=P[H]);return F},y=A(function(R,F){/**
 * @license
 * cardboard-vr-display
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * gl-preserve-state
 * Copyright (c) 2016, Brandon Jones.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *//**
 * @license
 * webvr-polyfill-dpdb
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * nosleep.js
 * Copyright (c) 2017, Rich Tibbett
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(P,H){R.exports=H()})(p,function(){var P=function(W,q){if(!(W instanceof q))throw new TypeError("Cannot call a class as a function")},H=function(){function W(q,re){for(var ue=0;ue<re.length;ue++){var Ce=re[ue];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(q,Ce.key,Ce)}}return function(q,re,ue){return re&&W(q.prototype,re),ue&&W(q,ue),q}}(),$=function(){function W(q,re){var ue=[],Ce=!0,Qe=!1,We=void 0;try{for(var wt=q[Symbol.iterator](),Et;!(Ce=(Et=wt.next()).done)&&(ue.push(Et.value),!(re&&ue.length===re));Ce=!0);}catch(tt){Qe=!0,We=tt}finally{try{!Ce&&wt.return&&wt.return()}finally{if(Qe)throw We}}return ue}return function(q,re){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return W(q,re);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),te=.001,ee=1,de=function(q,re){return"data:"+q+","+encodeURIComponent(re)},ie=function(q,re,ue){return q+(re-q)*ue},ne=function(){var W=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return W}}(),X=function(){var W=navigator.userAgent.indexOf("Version")!==-1&&navigator.userAgent.indexOf("Android")!==-1&&navigator.userAgent.indexOf("Chrome")!==-1;return function(){return W}}(),z=function(){var W=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return function(){return W}}(),se=function(){var W=navigator.userAgent.indexOf("Firefox")!==-1&&navigator.userAgent.indexOf("Android")!==-1;return function(){return W}}(),ae=function(){var W=navigator.userAgent.match(/.*Chrome\/([0-9]+)/),q=W?parseInt(W[1],10):null;return function(){return q}}(),be=function(){var W=!1;return W=ne()&&z()&&navigator.userAgent.indexOf("13_4")!==-1,function(){return W}}(),Re=function(){var W=!1;if(ae()===65){var q=navigator.userAgent.match(/.*Chrome\/([0-9\.]*)/);if(q){var re=q[1].split("."),ue=$(re,4);ue[0],ue[1];var Ce=ue[2],Qe=ue[3];W=parseInt(Ce,10)===3325&&parseInt(Qe,10)<148}}return function(){return W}}(),ke=function(){var W=navigator.userAgent.indexOf("R7 Build")!==-1;return function(){return W}}(),Ke=function(){var q=window.orientation==90||window.orientation==-90;return ke()?!q:q},Xe=function(q){return!(isNaN(q)||q<=te||q>ee)},Fe=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},qe=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},rt=function(q){if(X())return!1;if(q.requestFullscreen)q.requestFullscreen();else if(q.webkitRequestFullscreen)q.webkitRequestFullscreen();else if(q.mozRequestFullScreen)q.mozRequestFullScreen();else if(q.msRequestFullscreen)q.msRequestFullscreen();else return!1;return!0},it=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.msExitFullscreen)document.msExitFullscreen();else return!1;return!0},Ct=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},Nt=function(q,re,ue,Ce){var Qe=q.createShader(q.VERTEX_SHADER);q.shaderSource(Qe,re),q.compileShader(Qe);var We=q.createShader(q.FRAGMENT_SHADER);q.shaderSource(We,ue),q.compileShader(We);var wt=q.createProgram();q.attachShader(wt,Qe),q.attachShader(wt,We);for(var Et in Ce)q.bindAttribLocation(wt,Ce[Et],Et);return q.linkProgram(wt),q.deleteShader(Qe),q.deleteShader(We),wt},xe=function(q,re){for(var ue={},Ce=q.getProgramParameter(re,q.ACTIVE_UNIFORMS),Qe="",We=0;We<Ce;We++){var wt=q.getActiveUniform(re,We);Qe=wt.name.replace("[0]",""),ue[Qe]=q.getUniformLocation(re,Qe)}return ue},Te=function(q,re,ue,Ce,Qe,We,wt){var Et=1/(re-ue),tt=1/(Ce-Qe),pt=1/(We-wt);return q[0]=-2*Et,q[1]=0,q[2]=0,q[3]=0,q[4]=0,q[5]=-2*tt,q[6]=0,q[7]=0,q[8]=0,q[9]=0,q[10]=2*pt,q[11]=0,q[12]=(re+ue)*Et,q[13]=(Qe+Ce)*tt,q[14]=(wt+We)*pt,q[15]=1,q},je=function(){var q=!1;return function(re){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(re)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(re.substr(0,4)))&&(q=!0)}(navigator.userAgent||navigator.vendor||window.opera),q},ot=function(q,re){for(var ue in re)re.hasOwnProperty(ue)&&(q[ue]=re[ue]);return q},Je=function(q){if(ne()){var re=q.style.width,ue=q.style.height;q.style.width=parseInt(re)+1+"px",q.style.height=parseInt(ue)+"px",setTimeout(function(){q.style.width=re,q.style.height=ue},100)}window.canvas=q},ut=function(){var W=Math.PI/180,q=Math.PI*.25;function re(tt,pt,Dt,ln){var bn=Math.tan(pt?pt.upDegrees*W:q),Pn=Math.tan(pt?pt.downDegrees*W:q),Xn=Math.tan(pt?pt.leftDegrees*W:q),Gn=Math.tan(pt?pt.rightDegrees*W:q),kn=2/(Xn+Gn),bi=2/(bn+Pn);return tt[0]=kn,tt[1]=0,tt[2]=0,tt[3]=0,tt[4]=0,tt[5]=bi,tt[6]=0,tt[7]=0,tt[8]=-((Xn-Gn)*kn*.5),tt[9]=(bn-Pn)*bi*.5,tt[10]=ln/(Dt-ln),tt[11]=-1,tt[12]=0,tt[13]=0,tt[14]=ln*Dt/(Dt-ln),tt[15]=0,tt}function ue(tt,pt,Dt){var ln=pt[0],bn=pt[1],Pn=pt[2],Xn=pt[3],Gn=ln+ln,kn=bn+bn,bi=Pn+Pn,Oi=ln*Gn,nr=ln*kn,Wi=ln*bi,xr=bn*kn,Cr=bn*bi,wr=Pn*bi,Sr=Xn*Gn,ur=Xn*kn,Nr=Xn*bi;return tt[0]=1-(xr+wr),tt[1]=nr+Nr,tt[2]=Wi-ur,tt[3]=0,tt[4]=nr-Nr,tt[5]=1-(Oi+wr),tt[6]=Cr+Sr,tt[7]=0,tt[8]=Wi+ur,tt[9]=Cr-Sr,tt[10]=1-(Oi+xr),tt[11]=0,tt[12]=Dt[0],tt[13]=Dt[1],tt[14]=Dt[2],tt[15]=1,tt}function Ce(tt,pt,Dt){var ln=Dt[0],bn=Dt[1],Pn=Dt[2],Xn,Gn,kn,bi,Oi,nr,Wi,xr,Cr,wr,Sr,ur;return pt===tt?(tt[12]=pt[0]*ln+pt[4]*bn+pt[8]*Pn+pt[12],tt[13]=pt[1]*ln+pt[5]*bn+pt[9]*Pn+pt[13],tt[14]=pt[2]*ln+pt[6]*bn+pt[10]*Pn+pt[14],tt[15]=pt[3]*ln+pt[7]*bn+pt[11]*Pn+pt[15]):(Xn=pt[0],Gn=pt[1],kn=pt[2],bi=pt[3],Oi=pt[4],nr=pt[5],Wi=pt[6],xr=pt[7],Cr=pt[8],wr=pt[9],Sr=pt[10],ur=pt[11],tt[0]=Xn,tt[1]=Gn,tt[2]=kn,tt[3]=bi,tt[4]=Oi,tt[5]=nr,tt[6]=Wi,tt[7]=xr,tt[8]=Cr,tt[9]=wr,tt[10]=Sr,tt[11]=ur,tt[12]=Xn*ln+Oi*bn+Cr*Pn+pt[12],tt[13]=Gn*ln+nr*bn+wr*Pn+pt[13],tt[14]=kn*ln+Wi*bn+Sr*Pn+pt[14],tt[15]=bi*ln+xr*bn+ur*Pn+pt[15]),tt}function Qe(tt,pt){var Dt=pt[0],ln=pt[1],bn=pt[2],Pn=pt[3],Xn=pt[4],Gn=pt[5],kn=pt[6],bi=pt[7],Oi=pt[8],nr=pt[9],Wi=pt[10],xr=pt[11],Cr=pt[12],wr=pt[13],Sr=pt[14],ur=pt[15],Nr=Dt*Gn-ln*Xn,Ts=Dt*kn-bn*Xn,Vs=Dt*bi-Pn*Xn,Zs=ln*kn-bn*Gn,To=ln*bi-Pn*Gn,Bo=bn*bi-Pn*kn,Ro=Oi*wr-nr*Cr,po=Oi*Sr-Wi*Cr,mo=Oi*ur-xr*Cr,Zr=nr*Sr-Wi*wr,Ao=nr*ur-xr*wr,Kr=Wi*ur-xr*Sr,yi=Nr*Kr-Ts*Ao+Vs*Zr+Zs*mo-To*po+Bo*Ro;return yi?(yi=1/yi,tt[0]=(Gn*Kr-kn*Ao+bi*Zr)*yi,tt[1]=(bn*Ao-ln*Kr-Pn*Zr)*yi,tt[2]=(wr*Bo-Sr*To+ur*Zs)*yi,tt[3]=(Wi*To-nr*Bo-xr*Zs)*yi,tt[4]=(kn*mo-Xn*Kr-bi*po)*yi,tt[5]=(Dt*Kr-bn*mo+Pn*po)*yi,tt[6]=(Sr*Vs-Cr*Bo-ur*Ts)*yi,tt[7]=(Oi*Bo-Wi*Vs+xr*Ts)*yi,tt[8]=(Xn*Ao-Gn*mo+bi*Ro)*yi,tt[9]=(ln*mo-Dt*Ao-Pn*Ro)*yi,tt[10]=(Cr*To-wr*Vs+ur*Nr)*yi,tt[11]=(nr*Vs-Oi*To-xr*Nr)*yi,tt[12]=(Gn*po-Xn*Zr-kn*Ro)*yi,tt[13]=(Dt*Zr-ln*po+bn*Ro)*yi,tt[14]=(wr*Ts-Cr*Zs-Sr*Nr)*yi,tt[15]=(Oi*Zs-nr*Ts+Wi*Nr)*yi,tt):null}var We=new Float32Array([0,0,0,1]),wt=new Float32Array([0,0,0]);function Et(tt,pt,Dt,ln,bn,Pn){re(tt,ln||null,Pn.depthNear,Pn.depthFar);var Xn=Dt.orientation||We,Gn=Dt.position||wt;ue(pt,Xn,Gn),bn&&Ce(pt,pt,bn),Qe(pt,pt)}return function(tt,pt,Dt){return!tt||!pt?!1:(tt.pose=pt,tt.timestamp=pt.timestamp,Et(tt.leftProjectionMatrix,tt.leftViewMatrix,pt,Dt._getFieldOfView("left"),Dt._getEyeOffset("left"),Dt),Et(tt.rightProjectionMatrix,tt.rightViewMatrix,pt,Dt._getFieldOfView("right"),Dt._getEyeOffset("right"),Dt),!0)}}(),Lt=function(){var q=window.self!==window.top,re=_t(document.referrer),ue=_t(window.location.href);return q&&re!==ue},_t=function(q){var re,ue=q.indexOf("://");ue!==-1?re=ue+3:re=0;var Ce=q.indexOf("/",re);return Ce===-1&&(Ce=q.length),q.substring(0,Ce)},Pt=function(q){if(q.w>1)return console.warn("getQuaternionAngle: w > 1"),0;var re=2*Math.acos(q.w);return re},gt=function(){var W={};return function(q,re){W[q]===void 0&&(console.warn("webvr-polyfill: "+re),W[q]=!0)}}(),Kt=function(q,re){var ue=re?"Please use "+re+" instead.":"";gt(q,q+" has been deprecated. This may not work on native WebVR displays. "+ue)};function Qt(W,q,re){if(!q){re(W);return}for(var ue=[],Ce=null,Qe=0;Qe<q.length;++Qe){var We=q[Qe];switch(We){case W.TEXTURE_BINDING_2D:case W.TEXTURE_BINDING_CUBE_MAP:var wt=q[++Qe];if(wt<W.TEXTURE0||wt>W.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),ue.push(null,null);break}Ce||(Ce=W.getParameter(W.ACTIVE_TEXTURE)),W.activeTexture(wt),ue.push(W.getParameter(We),null);break;case W.ACTIVE_TEXTURE:Ce=W.getParameter(W.ACTIVE_TEXTURE),ue.push(null);break;default:ue.push(W.getParameter(We));break}}re(W);for(var Qe=0;Qe<q.length;++Qe){var We=q[Qe],Et=ue[Qe];switch(We){case W.ACTIVE_TEXTURE:break;case W.ARRAY_BUFFER_BINDING:W.bindBuffer(W.ARRAY_BUFFER,Et);break;case W.COLOR_CLEAR_VALUE:W.clearColor(Et[0],Et[1],Et[2],Et[3]);break;case W.COLOR_WRITEMASK:W.colorMask(Et[0],Et[1],Et[2],Et[3]);break;case W.CURRENT_PROGRAM:W.useProgram(Et);break;case W.ELEMENT_ARRAY_BUFFER_BINDING:W.bindBuffer(W.ELEMENT_ARRAY_BUFFER,Et);break;case W.FRAMEBUFFER_BINDING:W.bindFramebuffer(W.FRAMEBUFFER,Et);break;case W.RENDERBUFFER_BINDING:W.bindRenderbuffer(W.RENDERBUFFER,Et);break;case W.TEXTURE_BINDING_2D:var wt=q[++Qe];if(wt<W.TEXTURE0||wt>W.TEXTURE31)break;W.activeTexture(wt),W.bindTexture(W.TEXTURE_2D,Et);break;case W.TEXTURE_BINDING_CUBE_MAP:var wt=q[++Qe];if(wt<W.TEXTURE0||wt>W.TEXTURE31)break;W.activeTexture(wt),W.bindTexture(W.TEXTURE_CUBE_MAP,Et);break;case W.VIEWPORT:W.viewport(Et[0],Et[1],Et[2],Et[3]);break;case W.BLEND:case W.CULL_FACE:case W.DEPTH_TEST:case W.SCISSOR_TEST:case W.STENCIL_TEST:Et?W.enable(We):W.disable(We);break;default:console.log("No GL restore behavior for 0x"+We.toString(16));break}Ce&&W.activeTexture(Ce)}}var Xt=Qt,En=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join("\n"),Dn=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");function Bn(W,q,re,ue){this.gl=W,this.cardboardUI=q,this.bufferScale=re,this.dirtySubmitFrameBindings=ue,this.ctxAttribs=W.getContextAttributes(),this.instanceExt=W.getExtension("ANGLE_instanced_arrays"),this.meshWidth=20,this.meshHeight=20,this.bufferWidth=W.drawingBufferWidth,this.bufferHeight=W.drawingBufferHeight,this.realBindFramebuffer=W.bindFramebuffer,this.realEnable=W.enable,this.realDisable=W.disable,this.realColorMask=W.colorMask,this.realClearColor=W.clearColor,this.realViewport=W.viewport,ne()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(W.canvas.__proto__,"width"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(W.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=Nt(W,En,Dn,this.attribs),this.uniforms=xe(W,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=W.createBuffer(),this.indexBuffer=W.createBuffer(),this.indexCount=0,this.renderTarget=W.createTexture(),this.framebuffer=W.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=W.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=W.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=W.createRenderbuffer()),this.patch(),this.onResize()}Bn.prototype.destroy=function(){var W=this.gl;this.unpatch(),W.deleteProgram(this.program),W.deleteBuffer(this.vertexBuffer),W.deleteBuffer(this.indexBuffer),W.deleteTexture(this.renderTarget),W.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&W.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&W.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&W.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},Bn.prototype.onResize=function(){var W=this.gl,q=this,re=[W.RENDERBUFFER_BINDING,W.TEXTURE_BINDING_2D,W.TEXTURE0];Xt(W,re,function(ue){q.realBindFramebuffer.call(ue,ue.FRAMEBUFFER,null),q.scissorTest&&q.realDisable.call(ue,ue.SCISSOR_TEST),q.realColorMask.call(ue,!0,!0,!0,!0),q.realViewport.call(ue,0,0,ue.drawingBufferWidth,ue.drawingBufferHeight),q.realClearColor.call(ue,0,0,0,1),ue.clear(ue.COLOR_BUFFER_BIT),q.realBindFramebuffer.call(ue,ue.FRAMEBUFFER,q.framebuffer),ue.bindTexture(ue.TEXTURE_2D,q.renderTarget),ue.texImage2D(ue.TEXTURE_2D,0,q.ctxAttribs.alpha?ue.RGBA:ue.RGB,q.bufferWidth,q.bufferHeight,0,q.ctxAttribs.alpha?ue.RGBA:ue.RGB,ue.UNSIGNED_BYTE,null),ue.texParameteri(ue.TEXTURE_2D,ue.TEXTURE_MAG_FILTER,ue.LINEAR),ue.texParameteri(ue.TEXTURE_2D,ue.TEXTURE_MIN_FILTER,ue.LINEAR),ue.texParameteri(ue.TEXTURE_2D,ue.TEXTURE_WRAP_S,ue.CLAMP_TO_EDGE),ue.texParameteri(ue.TEXTURE_2D,ue.TEXTURE_WRAP_T,ue.CLAMP_TO_EDGE),ue.framebufferTexture2D(ue.FRAMEBUFFER,ue.COLOR_ATTACHMENT0,ue.TEXTURE_2D,q.renderTarget,0),q.ctxAttribs.depth&&q.ctxAttribs.stencil?(ue.bindRenderbuffer(ue.RENDERBUFFER,q.depthStencilBuffer),ue.renderbufferStorage(ue.RENDERBUFFER,ue.DEPTH_STENCIL,q.bufferWidth,q.bufferHeight),ue.framebufferRenderbuffer(ue.FRAMEBUFFER,ue.DEPTH_STENCIL_ATTACHMENT,ue.RENDERBUFFER,q.depthStencilBuffer)):q.ctxAttribs.depth?(ue.bindRenderbuffer(ue.RENDERBUFFER,q.depthBuffer),ue.renderbufferStorage(ue.RENDERBUFFER,ue.DEPTH_COMPONENT16,q.bufferWidth,q.bufferHeight),ue.framebufferRenderbuffer(ue.FRAMEBUFFER,ue.DEPTH_ATTACHMENT,ue.RENDERBUFFER,q.depthBuffer)):q.ctxAttribs.stencil&&(ue.bindRenderbuffer(ue.RENDERBUFFER,q.stencilBuffer),ue.renderbufferStorage(ue.RENDERBUFFER,ue.STENCIL_INDEX8,q.bufferWidth,q.bufferHeight),ue.framebufferRenderbuffer(ue.FRAMEBUFFER,ue.STENCIL_ATTACHMENT,ue.RENDERBUFFER,q.stencilBuffer)),!ue.checkFramebufferStatus(ue.FRAMEBUFFER)===ue.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),q.realBindFramebuffer.call(ue,ue.FRAMEBUFFER,q.lastBoundFramebuffer),q.scissorTest&&q.realEnable.call(ue,ue.SCISSOR_TEST),q.realColorMask.apply(ue,q.colorMask),q.realViewport.apply(ue,q.viewport),q.realClearColor.apply(ue,q.clearColor)}),this.cardboardUI&&this.cardboardUI.onResize()},Bn.prototype.patch=function(){if(!this.isPatched){var W=this,q=this.gl.canvas,re=this.gl;ne()||(q.width=Fe()*this.bufferScale,q.height=qe()*this.bufferScale,Object.defineProperty(q,"width",{configurable:!0,enumerable:!0,get:function(){return W.bufferWidth},set:function(Ce){W.bufferWidth=Ce,W.realCanvasWidth.set.call(q,Ce),W.onResize()}}),Object.defineProperty(q,"height",{configurable:!0,enumerable:!0,get:function(){return W.bufferHeight},set:function(Ce){W.bufferHeight=Ce,W.realCanvasHeight.set.call(q,Ce),W.onResize()}})),this.lastBoundFramebuffer=re.getParameter(re.FRAMEBUFFER_BINDING),this.lastBoundFramebuffer==null&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(re.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(ue,Ce){W.lastBoundFramebuffer=Ce||W.framebuffer,W.realBindFramebuffer.call(re,ue,W.lastBoundFramebuffer)},this.cullFace=re.getParameter(re.CULL_FACE),this.depthTest=re.getParameter(re.DEPTH_TEST),this.blend=re.getParameter(re.BLEND),this.scissorTest=re.getParameter(re.SCISSOR_TEST),this.stencilTest=re.getParameter(re.STENCIL_TEST),re.enable=function(ue){switch(ue){case re.CULL_FACE:W.cullFace=!0;break;case re.DEPTH_TEST:W.depthTest=!0;break;case re.BLEND:W.blend=!0;break;case re.SCISSOR_TEST:W.scissorTest=!0;break;case re.STENCIL_TEST:W.stencilTest=!0;break}W.realEnable.call(re,ue)},re.disable=function(ue){switch(ue){case re.CULL_FACE:W.cullFace=!1;break;case re.DEPTH_TEST:W.depthTest=!1;break;case re.BLEND:W.blend=!1;break;case re.SCISSOR_TEST:W.scissorTest=!1;break;case re.STENCIL_TEST:W.stencilTest=!1;break}W.realDisable.call(re,ue)},this.colorMask=re.getParameter(re.COLOR_WRITEMASK),re.colorMask=function(ue,Ce,Qe,We){W.colorMask[0]=ue,W.colorMask[1]=Ce,W.colorMask[2]=Qe,W.colorMask[3]=We,W.realColorMask.call(re,ue,Ce,Qe,We)},this.clearColor=re.getParameter(re.COLOR_CLEAR_VALUE),re.clearColor=function(ue,Ce,Qe,We){W.clearColor[0]=ue,W.clearColor[1]=Ce,W.clearColor[2]=Qe,W.clearColor[3]=We,W.realClearColor.call(re,ue,Ce,Qe,We)},this.viewport=re.getParameter(re.VIEWPORT),re.viewport=function(ue,Ce,Qe,We){W.viewport[0]=ue,W.viewport[1]=Ce,W.viewport[2]=Qe,W.viewport[3]=We,W.realViewport.call(re,ue,Ce,Qe,We)},this.isPatched=!0,Je(q)}},Bn.prototype.unpatch=function(){if(this.isPatched){var W=this.gl,q=this.gl.canvas;ne()||(Object.defineProperty(q,"width",this.realCanvasWidth),Object.defineProperty(q,"height",this.realCanvasHeight)),q.width=this.bufferWidth,q.height=this.bufferHeight,W.bindFramebuffer=this.realBindFramebuffer,W.enable=this.realEnable,W.disable=this.realDisable,W.colorMask=this.realColorMask,W.clearColor=this.realClearColor,W.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&W.bindFramebuffer(W.FRAMEBUFFER,null),this.isPatched=!1,setTimeout(function(){Je(q)},1)}},Bn.prototype.setTextureBounds=function(W,q){W||(W=[0,0,.5,1]),q||(q=[.5,0,.5,1]),this.viewportOffsetScale[0]=W[0],this.viewportOffsetScale[1]=W[1],this.viewportOffsetScale[2]=W[2],this.viewportOffsetScale[3]=W[3],this.viewportOffsetScale[4]=q[0],this.viewportOffsetScale[5]=q[1],this.viewportOffsetScale[6]=q[2],this.viewportOffsetScale[7]=q[3]},Bn.prototype.submitFrame=function(){var W=this.gl,q=this,re=[];if(this.dirtySubmitFrameBindings||re.push(W.CURRENT_PROGRAM,W.ARRAY_BUFFER_BINDING,W.ELEMENT_ARRAY_BUFFER_BINDING,W.TEXTURE_BINDING_2D,W.TEXTURE0),Xt(W,re,function(Ce){q.realBindFramebuffer.call(Ce,Ce.FRAMEBUFFER,null);var Qe=0,We=0;q.instanceExt&&(Qe=Ce.getVertexAttrib(q.attribs.position,q.instanceExt.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE),We=Ce.getVertexAttrib(q.attribs.texCoord,q.instanceExt.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE)),q.cullFace&&q.realDisable.call(Ce,Ce.CULL_FACE),q.depthTest&&q.realDisable.call(Ce,Ce.DEPTH_TEST),q.blend&&q.realDisable.call(Ce,Ce.BLEND),q.scissorTest&&q.realDisable.call(Ce,Ce.SCISSOR_TEST),q.stencilTest&&q.realDisable.call(Ce,Ce.STENCIL_TEST),q.realColorMask.call(Ce,!0,!0,!0,!0),q.realViewport.call(Ce,0,0,Ce.drawingBufferWidth,Ce.drawingBufferHeight),(q.ctxAttribs.alpha||ne())&&(q.realClearColor.call(Ce,0,0,0,1),Ce.clear(Ce.COLOR_BUFFER_BIT)),Ce.useProgram(q.program),Ce.bindBuffer(Ce.ELEMENT_ARRAY_BUFFER,q.indexBuffer),Ce.bindBuffer(Ce.ARRAY_BUFFER,q.vertexBuffer),Ce.enableVertexAttribArray(q.attribs.position),Ce.enableVertexAttribArray(q.attribs.texCoord),Ce.vertexAttribPointer(q.attribs.position,2,Ce.FLOAT,!1,20,0),Ce.vertexAttribPointer(q.attribs.texCoord,3,Ce.FLOAT,!1,20,8),q.instanceExt&&(Qe!=0&&q.instanceExt.vertexAttribDivisorANGLE(q.attribs.position,0),We!=0&&q.instanceExt.vertexAttribDivisorANGLE(q.attribs.texCoord,0)),Ce.activeTexture(Ce.TEXTURE0),Ce.uniform1i(q.uniforms.diffuse,0),Ce.bindTexture(Ce.TEXTURE_2D,q.renderTarget),Ce.uniform4fv(q.uniforms.viewportOffsetScale,q.viewportOffsetScale),Ce.drawElements(Ce.TRIANGLES,q.indexCount,Ce.UNSIGNED_SHORT,0),q.cardboardUI&&q.cardboardUI.renderNoState(),q.realBindFramebuffer.call(q.gl,Ce.FRAMEBUFFER,q.framebuffer),q.ctxAttribs.preserveDrawingBuffer||(q.realClearColor.call(Ce,0,0,0,0),Ce.clear(Ce.COLOR_BUFFER_BIT)),q.dirtySubmitFrameBindings||q.realBindFramebuffer.call(Ce,Ce.FRAMEBUFFER,q.lastBoundFramebuffer),q.cullFace&&q.realEnable.call(Ce,Ce.CULL_FACE),q.depthTest&&q.realEnable.call(Ce,Ce.DEPTH_TEST),q.blend&&q.realEnable.call(Ce,Ce.BLEND),q.scissorTest&&q.realEnable.call(Ce,Ce.SCISSOR_TEST),q.stencilTest&&q.realEnable.call(Ce,Ce.STENCIL_TEST),q.realColorMask.apply(Ce,q.colorMask),q.realViewport.apply(Ce,q.viewport),(q.ctxAttribs.alpha||!q.ctxAttribs.preserveDrawingBuffer)&&q.realClearColor.apply(Ce,q.clearColor),q.instanceExt&&(Qe!=0&&q.instanceExt.vertexAttribDivisorANGLE(q.attribs.position,Qe),We!=0&&q.instanceExt.vertexAttribDivisorANGLE(q.attribs.texCoord,We))}),ne()){var ue=W.canvas;(ue.width!=q.bufferWidth||ue.height!=q.bufferHeight)&&(q.bufferWidth=ue.width,q.bufferHeight=ue.height,q.onResize())}},Bn.prototype.updateDeviceInfo=function(W){var q=this.gl,re=this,ue=[q.ARRAY_BUFFER_BINDING,q.ELEMENT_ARRAY_BUFFER_BINDING];Xt(q,ue,function(Ce){var Qe=re.computeMeshVertices_(re.meshWidth,re.meshHeight,W);if(Ce.bindBuffer(Ce.ARRAY_BUFFER,re.vertexBuffer),Ce.bufferData(Ce.ARRAY_BUFFER,Qe,Ce.STATIC_DRAW),!re.indexCount){var We=re.computeMeshIndices_(re.meshWidth,re.meshHeight);Ce.bindBuffer(Ce.ELEMENT_ARRAY_BUFFER,re.indexBuffer),Ce.bufferData(Ce.ELEMENT_ARRAY_BUFFER,We,Ce.STATIC_DRAW),re.indexCount=We.length}})},Bn.prototype.computeMeshVertices_=function(W,q,re){for(var ue=new Float32Array(2*W*q*5),Ce=re.getLeftEyeVisibleTanAngles(),Qe=re.getLeftEyeNoLensTanAngles(),We=re.getLeftEyeVisibleScreenRect(Qe),wt=0,Et=0;Et<2;Et++){for(var tt=0;tt<q;tt++)for(var pt=0;pt<W;pt++,wt++){var Dt=pt/(W-1),ln=tt/(q-1),bn=Dt,Pn=ln,Xn=ie(Ce[0],Ce[2],Dt),Gn=ie(Ce[3],Ce[1],ln),kn=Math.sqrt(Xn*Xn+Gn*Gn),bi=re.distortion.distortInverse(kn),Oi=Xn*bi/kn,nr=Gn*bi/kn;Dt=(Oi-Qe[0])/(Qe[2]-Qe[0]),ln=(nr-Qe[3])/(Qe[1]-Qe[3]),Dt=(We.x+Dt*We.width-.5)*2,ln=(We.y+ln*We.height-.5)*2,ue[wt*5+0]=Dt,ue[wt*5+1]=ln,ue[wt*5+2]=bn,ue[wt*5+3]=Pn,ue[wt*5+4]=Et}var Wi=Ce[2]-Ce[0];Ce[0]=-(Wi+Ce[0]),Ce[2]=Wi-Ce[2],Wi=Qe[2]-Qe[0],Qe[0]=-(Wi+Qe[0]),Qe[2]=Wi-Qe[2],We.x=1-(We.x+We.width)}return ue},Bn.prototype.computeMeshIndices_=function(W,q){for(var re=new Uint16Array(2*(W-1)*(q-1)*6),ue=W/2,Ce=q/2,Qe=0,We=0,wt=0;wt<2;wt++)for(var Et=0;Et<q;Et++)for(var tt=0;tt<W;tt++,Qe++)tt==0||Et==0||(tt<=ue==Et<=Ce?(re[We++]=Qe,re[We++]=Qe-W-1,re[We++]=Qe-W,re[We++]=Qe-W-1,re[We++]=Qe,re[We++]=Qe-1):(re[We++]=Qe-1,re[We++]=Qe-W,re[We++]=Qe,re[We++]=Qe-W,re[We++]=Qe-1,re[We++]=Qe-W-1));return re},Bn.prototype.getOwnPropertyDescriptor_=function(W,q){var re=Object.getOwnPropertyDescriptor(W,q);return(re.get===void 0||re.set===void 0)&&(re.configurable=!0,re.enumerable=!0,re.get=function(){return this.getAttribute(q)},re.set=function(ue){this.setAttribute(q,ue)}),re};var mt=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join("\n"),pe=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join("\n"),fe=Math.PI/180,Ie=60,ve=12,Me=20,Be=1,J=.75,k=.3125,G=4,le=28,ge=1.5;function De(W){this.gl=W,this.attribs={position:0},this.program=Nt(W,mt,pe,this.attribs),this.uniforms=xe(W,this.program),this.vertexBuffer=W.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}De.prototype.destroy=function(){var W=this.gl;this.listener&&W.canvas.removeEventListener("click",this.listener,!1),W.deleteProgram(this.program),W.deleteBuffer(this.vertexBuffer)},De.prototype.listen=function(W,q){var re=this.gl.canvas;this.listener=function(ue){var Ce=re.clientWidth/2,Qe=le*ge;ue.clientX>Ce-Qe&&ue.clientX<Ce+Qe&&ue.clientY>re.clientHeight-Qe?W(ue):ue.clientX<Qe&&ue.clientY<Qe&&q(ue)},re.addEventListener("click",this.listener,!1)},De.prototype.onResize=function(){var W=this.gl,q=this,re=[W.ARRAY_BUFFER_BINDING];Xt(W,re,function(ue){var Ce=[],Qe=ue.drawingBufferWidth/2,We=Math.max(screen.width,screen.height)*window.devicePixelRatio,wt=ue.drawingBufferWidth/We,Et=wt*window.devicePixelRatio,tt=G*Et/2,pt=le*ge*Et,Dt=le*Et/2,ln=(le*ge-le)*Et;Ce.push(Qe-tt,pt),Ce.push(Qe-tt,ue.drawingBufferHeight),Ce.push(Qe+tt,pt),Ce.push(Qe+tt,ue.drawingBufferHeight),q.gearOffset=Ce.length/2;function bn(bi,Oi){var nr=(90-bi)*fe,Wi=Math.cos(nr),xr=Math.sin(nr);Ce.push(k*Wi*Dt+Qe,k*xr*Dt+Dt),Ce.push(Oi*Wi*Dt+Qe,Oi*xr*Dt+Dt)}for(var Pn=0;Pn<=6;Pn++){var Xn=Pn*Ie;bn(Xn,Be),bn(Xn+ve,Be),bn(Xn+Me,J),bn(Xn+(Ie-Me),J),bn(Xn+(Ie-ve),Be)}q.gearVertexCount=Ce.length/2-q.gearOffset,q.arrowOffset=Ce.length/2;function Gn(bi,Oi){Ce.push(ln+bi,ue.drawingBufferHeight-ln-Oi)}var kn=tt/Math.sin(45*fe);Gn(0,Dt),Gn(Dt,0),Gn(Dt+kn,kn),Gn(kn,Dt+kn),Gn(kn,Dt-kn),Gn(0,Dt),Gn(Dt,Dt*2),Gn(Dt+kn,Dt*2-kn),Gn(kn,Dt-kn),Gn(0,Dt),Gn(kn,Dt-tt),Gn(le*Et,Dt-tt),Gn(kn,Dt+tt),Gn(le*Et,Dt+tt),q.arrowVertexCount=Ce.length/2-q.arrowOffset,ue.bindBuffer(ue.ARRAY_BUFFER,q.vertexBuffer),ue.bufferData(ue.ARRAY_BUFFER,new Float32Array(Ce),ue.STATIC_DRAW)})},De.prototype.render=function(){var W=this.gl,q=this,re=[W.CULL_FACE,W.DEPTH_TEST,W.BLEND,W.SCISSOR_TEST,W.STENCIL_TEST,W.COLOR_WRITEMASK,W.VIEWPORT,W.CURRENT_PROGRAM,W.ARRAY_BUFFER_BINDING];Xt(W,re,function(ue){ue.disable(ue.CULL_FACE),ue.disable(ue.DEPTH_TEST),ue.disable(ue.BLEND),ue.disable(ue.SCISSOR_TEST),ue.disable(ue.STENCIL_TEST),ue.colorMask(!0,!0,!0,!0),ue.viewport(0,0,ue.drawingBufferWidth,ue.drawingBufferHeight),q.renderNoState()})},De.prototype.renderNoState=function(){var W=this.gl;W.useProgram(this.program),W.bindBuffer(W.ARRAY_BUFFER,this.vertexBuffer),W.enableVertexAttribArray(this.attribs.position),W.vertexAttribPointer(this.attribs.position,2,W.FLOAT,!1,8,0),W.uniform4f(this.uniforms.color,1,1,1,1),Te(this.projMat,0,W.drawingBufferWidth,0,W.drawingBufferHeight,.1,1024),W.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),W.drawArrays(W.TRIANGLE_STRIP,0,4),W.drawArrays(W.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),W.drawArrays(W.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)};function Ve(W){this.coefficients=W}Ve.prototype.distortInverse=function(W){for(var q=0,re=1,ue=W-this.distort(q);Math.abs(re-q)>1e-4;){var Ce=W-this.distort(re),Qe=re-Ce*((re-q)/(Ce-ue));q=re,re=Qe,ue=Ce}return re},Ve.prototype.distort=function(W){for(var q=W*W,re=0,ue=0;ue<this.coefficients.length;ue++)re=q*(re+this.coefficients[ue]);return(re+1)*W};var kt=Math.PI/180,Yt=180/Math.PI,Gt=function(q,re,ue){this.x=q||0,this.y=re||0,this.z=ue||0};Gt.prototype={constructor:Gt,set:function(q,re,ue){return this.x=q,this.y=re,this.z=ue,this},copy:function(q){return this.x=q.x,this.y=q.y,this.z=q.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var q=this.length();if(q!==0){var re=1/q;this.multiplyScalar(re)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(q){this.x*=q,this.y*=q,this.z*=q},applyQuaternion:function(q){var re=this.x,ue=this.y,Ce=this.z,Qe=q.x,We=q.y,wt=q.z,Et=q.w,tt=Et*re+We*Ce-wt*ue,pt=Et*ue+wt*re-Qe*Ce,Dt=Et*Ce+Qe*ue-We*re,ln=-Qe*re-We*ue-wt*Ce;return this.x=tt*Et+ln*-Qe+pt*-wt-Dt*-We,this.y=pt*Et+ln*-We+Dt*-Qe-tt*-wt,this.z=Dt*Et+ln*-wt+tt*-We-pt*-Qe,this},dot:function(q){return this.x*q.x+this.y*q.y+this.z*q.z},crossVectors:function(q,re){var ue=q.x,Ce=q.y,Qe=q.z,We=re.x,wt=re.y,Et=re.z;return this.x=Ce*Et-Qe*wt,this.y=Qe*We-ue*Et,this.z=ue*wt-Ce*We,this}};var Vt=function(q,re,ue,Ce){this.x=q||0,this.y=re||0,this.z=ue||0,this.w=Ce!==void 0?Ce:1};Vt.prototype={constructor:Vt,set:function(q,re,ue,Ce){return this.x=q,this.y=re,this.z=ue,this.w=Ce,this},copy:function(q){return this.x=q.x,this.y=q.y,this.z=q.z,this.w=q.w,this},setFromEulerXYZ:function(q,re,ue){var Ce=Math.cos(q/2),Qe=Math.cos(re/2),We=Math.cos(ue/2),wt=Math.sin(q/2),Et=Math.sin(re/2),tt=Math.sin(ue/2);return this.x=wt*Qe*We+Ce*Et*tt,this.y=Ce*Et*We-wt*Qe*tt,this.z=Ce*Qe*tt+wt*Et*We,this.w=Ce*Qe*We-wt*Et*tt,this},setFromEulerYXZ:function(q,re,ue){var Ce=Math.cos(q/2),Qe=Math.cos(re/2),We=Math.cos(ue/2),wt=Math.sin(q/2),Et=Math.sin(re/2),tt=Math.sin(ue/2);return this.x=wt*Qe*We+Ce*Et*tt,this.y=Ce*Et*We-wt*Qe*tt,this.z=Ce*Qe*tt-wt*Et*We,this.w=Ce*Qe*We+wt*Et*tt,this},setFromAxisAngle:function(q,re){var ue=re/2,Ce=Math.sin(ue);return this.x=q.x*Ce,this.y=q.y*Ce,this.z=q.z*Ce,this.w=Math.cos(ue),this},multiply:function(q){return this.multiplyQuaternions(this,q)},multiplyQuaternions:function(q,re){var ue=q.x,Ce=q.y,Qe=q.z,We=q.w,wt=re.x,Et=re.y,tt=re.z,pt=re.w;return this.x=ue*pt+We*wt+Ce*tt-Qe*Et,this.y=Ce*pt+We*Et+Qe*wt-ue*tt,this.z=Qe*pt+We*tt+ue*Et-Ce*wt,this.w=We*pt-ue*wt-Ce*Et-Qe*tt,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var q=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return q===0?(this.x=0,this.y=0,this.z=0,this.w=1):(q=1/q,this.x=this.x*q,this.y=this.y*q,this.z=this.z*q,this.w=this.w*q),this},slerp:function(q,re){if(re===0)return this;if(re===1)return this.copy(q);var ue=this.x,Ce=this.y,Qe=this.z,We=this.w,wt=We*q.w+ue*q.x+Ce*q.y+Qe*q.z;if(wt<0?(this.w=-q.w,this.x=-q.x,this.y=-q.y,this.z=-q.z,wt=-wt):this.copy(q),wt>=1)return this.w=We,this.x=ue,this.y=Ce,this.z=Qe,this;var Et=Math.acos(wt),tt=Math.sqrt(1-wt*wt);if(Math.abs(tt)<.001)return this.w=.5*(We+this.w),this.x=.5*(ue+this.x),this.y=.5*(Ce+this.y),this.z=.5*(Qe+this.z),this;var pt=Math.sin((1-re)*Et)/tt,Dt=Math.sin(re*Et)/tt;return this.w=We*pt+this.w*Dt,this.x=ue*pt+this.x*Dt,this.y=Ce*pt+this.y*Dt,this.z=Qe*pt+this.z*Dt,this},setFromUnitVectors:function(){var W,q,re=1e-6;return function(ue,Ce){return W===void 0&&(W=new Gt),q=ue.dot(Ce)+1,q<re?(q=0,Math.abs(ue.x)>Math.abs(ue.z)?W.set(-ue.y,ue.x,0):W.set(0,-ue.z,ue.y)):W.crossVectors(ue,Ce),this.x=W.x,this.y=W.y,this.z=W.z,this.w=q,this.normalize(),this}}()};function un(W){this.width=W.width||Fe(),this.height=W.height||qe(),this.widthMeters=W.widthMeters,this.heightMeters=W.heightMeters,this.bevelMeters=W.bevelMeters}var ar=new un({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),Rn=new un({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),Zi={CardboardV1:new Li({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new Li({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};function vi(W,q){this.viewer=Zi.CardboardV2,this.updateDeviceParams(W),this.distortion=new Ve(this.viewer.distortionCoefficients);for(var re=0;re<q.length;re++){var ue=q[re];Zi[ue.id]=new Li(ue)}}vi.prototype.updateDeviceParams=function(W){this.device=this.determineDevice_(W)||this.device},vi.prototype.getDevice=function(){return this.device},vi.prototype.setViewer=function(W){this.viewer=W,this.distortion=new Ve(this.viewer.distortionCoefficients)},vi.prototype.determineDevice_=function(W){if(!W)return ne()?(console.warn("Using fallback iOS device measurements."),Rn):(console.warn("Using fallback Android device measurements."),ar);var q=.0254,re=q/W.xdpi,ue=q/W.ydpi,Ce=Fe(),Qe=qe();return new un({widthMeters:re*Ce,heightMeters:ue*Qe,bevelMeters:W.bevelMm*.001})},vi.prototype.getDistortedFieldOfViewLeftEye=function(){var W=this.viewer,q=this.device,re=this.distortion,ue=W.screenLensDistance,Ce=(q.widthMeters-W.interLensDistance)/2,Qe=W.interLensDistance/2,We=W.baselineLensDistance-q.bevelMeters,wt=q.heightMeters-We,Et=Yt*Math.atan(re.distort(Ce/ue)),tt=Yt*Math.atan(re.distort(Qe/ue)),pt=Yt*Math.atan(re.distort(We/ue)),Dt=Yt*Math.atan(re.distort(wt/ue));return{leftDegrees:Math.min(Et,W.fov),rightDegrees:Math.min(tt,W.fov),downDegrees:Math.min(pt,W.fov),upDegrees:Math.min(Dt,W.fov)}},vi.prototype.getLeftEyeVisibleTanAngles=function(){var W=this.viewer,q=this.device,re=this.distortion,ue=Math.tan(-kt*W.fov),Ce=Math.tan(kt*W.fov),Qe=Math.tan(kt*W.fov),We=Math.tan(-kt*W.fov),wt=q.widthMeters/4,Et=q.heightMeters/2,tt=W.baselineLensDistance-q.bevelMeters-Et,pt=W.interLensDistance/2-wt,Dt=-tt,ln=W.screenLensDistance,bn=re.distort((pt-wt)/ln),Pn=re.distort((Dt+Et)/ln),Xn=re.distort((pt+wt)/ln),Gn=re.distort((Dt-Et)/ln),kn=new Float32Array(4);return kn[0]=Math.max(ue,bn),kn[1]=Math.min(Ce,Pn),kn[2]=Math.min(Qe,Xn),kn[3]=Math.max(We,Gn),kn},vi.prototype.getLeftEyeNoLensTanAngles=function(){var W=this.viewer,q=this.device,re=this.distortion,ue=new Float32Array(4),Ce=re.distortInverse(Math.tan(-kt*W.fov)),Qe=re.distortInverse(Math.tan(kt*W.fov)),We=re.distortInverse(Math.tan(kt*W.fov)),wt=re.distortInverse(Math.tan(-kt*W.fov)),Et=q.widthMeters/4,tt=q.heightMeters/2,pt=W.baselineLensDistance-q.bevelMeters-tt,Dt=W.interLensDistance/2-Et,ln=-pt,bn=W.screenLensDistance,Pn=(Dt-Et)/bn,Xn=(ln+tt)/bn,Gn=(Dt+Et)/bn,kn=(ln-tt)/bn;return ue[0]=Math.max(Ce,Pn),ue[1]=Math.min(Qe,Xn),ue[2]=Math.min(We,Gn),ue[3]=Math.max(wt,kn),ue},vi.prototype.getLeftEyeVisibleScreenRect=function(W){var q=this.viewer,re=this.device,ue=q.screenLensDistance,Ce=(re.widthMeters-q.interLensDistance)/2,Qe=q.baselineLensDistance-re.bevelMeters,We=(W[0]*ue+Ce)/re.widthMeters,wt=(W[1]*ue+Qe)/re.heightMeters,Et=(W[2]*ue+Ce)/re.widthMeters,tt=(W[3]*ue+Qe)/re.heightMeters;return{x:We,y:tt,width:Et-We,height:wt-tt}},vi.prototype.getFieldOfViewLeftEye=function(W){return W?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},vi.prototype.getFieldOfViewRightEye=function(W){var q=this.getFieldOfViewLeftEye(W);return{leftDegrees:q.rightDegrees,rightDegrees:q.leftDegrees,upDegrees:q.upDegrees,downDegrees:q.downDegrees}},vi.prototype.getUndistortedFieldOfViewLeftEye=function(){var W=this.getUndistortedParams_();return{leftDegrees:Yt*Math.atan(W.outerDist),rightDegrees:Yt*Math.atan(W.innerDist),downDegrees:Yt*Math.atan(W.bottomDist),upDegrees:Yt*Math.atan(W.topDist)}},vi.prototype.getUndistortedViewportLeftEye=function(){var W=this.getUndistortedParams_(),q=this.viewer,re=this.device,ue=q.screenLensDistance,Ce=re.widthMeters/ue,Qe=re.heightMeters/ue,We=re.width/Ce,wt=re.height/Qe,Et=Math.round((W.eyePosX-W.outerDist)*We),tt=Math.round((W.eyePosY-W.bottomDist)*wt);return{x:Et,y:tt,width:Math.round((W.eyePosX+W.innerDist)*We)-Et,height:Math.round((W.eyePosY+W.topDist)*wt)-tt}},vi.prototype.getUndistortedParams_=function(){var W=this.viewer,q=this.device,re=this.distortion,ue=W.screenLensDistance,Ce=W.interLensDistance/2/ue,Qe=q.widthMeters/ue,We=q.heightMeters/ue,wt=Qe/2-Ce,Et=(W.baselineLensDistance-q.bevelMeters)/ue,tt=W.fov,pt=re.distortInverse(Math.tan(kt*tt)),Dt=Math.min(wt,pt),ln=Math.min(Ce,pt),bn=Math.min(Et,pt),Pn=Math.min(We-Et,pt);return{outerDist:Dt,innerDist:ln,topDist:Pn,bottomDist:bn,eyePosX:wt,eyePosY:Et}};function Li(W){this.id=W.id,this.label=W.label,this.fov=W.fov,this.interLensDistance=W.interLensDistance,this.baselineLensDistance=W.baselineLensDistance,this.screenLensDistance=W.screenLensDistance,this.distortionCoefficients=W.distortionCoefficients,this.inverseCoefficients=W.inverseCoefficients}vi.Viewers=Zi;var bs=1,er="2019-11-09T17:36:14Z",Qs=[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_X00PD/*"},{ua:"ASUS_X00PD"}],dpi:245,bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_X008D/*"},{ua:"ASUS_X008D"}],dpi:282,bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2 XL/*"},{ua:"Pixel 2 XL"}],dpi:537.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3 XL/*"},{ua:"Pixel 3 XL"}],dpi:[558.5,553.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3/*"},{ua:"Pixel 3"}],dpi:442.4,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2/*"},{ua:"Pixel 2"}],dpi:441,bw:3,ac:500},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/BLN-L24/*"},{ua:"HONORBLN-L24"}],dpi:480,bw:4,ac:500},{type:"android",rules:[{mdmh:"Huawei/*/BKL-L09/*"},{ua:"BKL-L09"}],dpi:403,bw:3.47,ac:500},{type:"android",rules:[{mdmh:"LENOVO/*/Lenovo PB2-690Y/*"},{ua:"Lenovo PB2-690Y"}],dpi:[457.2,454.713],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/G5/*"},{ua:"Moto G (5) Plus"}],dpi:[403.4,403],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1001/*"},{ua:"ONE E1001"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1003/*"},{ua:"ONE E1003"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2001/*"},{ua:"ONE A2001"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2003/*"},{ua:"ONE A2003"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3000/*"},{ua:"ONEPLUS A3000"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3003/*"},{ua:"ONEPLUS A3003"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3010/*"},{ua:"ONEPLUS A3010"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A5000/*"},{ua:"ONEPLUS A5000 "}],dpi:[403.411,399.737],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A5010/*"},{ua:"ONEPLUS A5010"}],dpi:[403,400],bw:2,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6000/*"},{ua:"ONEPLUS A6000"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6003/*"},{ua:"ONEPLUS A6003"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6010/*"},{ua:"ONEPLUS A6010"}],dpi:401,bw:2,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6013/*"},{ua:"ONEPLUS A6013"}],dpi:401,bw:2,ac:500},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920P/*"},{ua:"SM-N920P"}],dpi:[386.3655,390.144],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G950F/*"},{ua:"SM-G950F"}],dpi:[562.707,565.293],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955U/*"},{ua:"SM-G955U"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955F/*"},{ua:"SM-G955F"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G960F/*"},{ua:"SM-G960F"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G9600/*"},{ua:"SM-G9600"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960T/*"},{ua:"SM-G960T"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960N/*"},{ua:"SM-G960N"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960U/*"},{ua:"SM-G960U"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G9608/*"},{ua:"SM-G9608"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960FD/*"},{ua:"SM-G960FD"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960W/*"},{ua:"SM-G960W"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G965F/*"},{ua:"SM-G965F"}],dpi:529,bw:2,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Fly/*/IQ4412/*"},{ua:"IQ4412"}],dpi:307.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"BENEVE/*/VR518/*"},{ua:"VR518"}],dpi:480,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2436]}],dpi:458,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/EML-L29/*"},{ua:"EML-L29"}],dpi:428,bw:3.45,ac:500},{type:"android",rules:[{mdmh:"Nokia/*/Nokia 7.1/*"},{ua:"Nokia 7.1"}],dpi:[432,431.9],bw:3,ac:500},{type:"ios",rules:[{res:[1242,2688]}],dpi:458,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G570M/*"},{ua:"SM-G570M"}],dpi:320,bw:3.684,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G970F/*"},{ua:"SM-G970F"}],dpi:438,bw:2.281,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G973F/*"},{ua:"SM-G973F"}],dpi:550,bw:2.002,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G975F/*"},{ua:"SM-G975F"}],dpi:522,bw:2.054,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G977F/*"},{ua:"SM-G977F"}],dpi:505,bw:2.334,ac:500},{type:"ios",rules:[{res:[828,1792]}],dpi:326,bw:5,ac:500}],br={format:bs,last_updated:er,devices:Qs};function cs(W,q){if(this.dpdb=br,this.recalculateDeviceParams_(),W){this.onDeviceParamsUpdated=q;var re=new XMLHttpRequest,ue=this;re.open("GET",W,!0),re.addEventListener("load",function(){ue.loading=!1,re.status>=200&&re.status<=299?(ue.dpdb=JSON.parse(re.response),ue.recalculateDeviceParams_()):console.error("Error loading online DPDB!")}),re.send()}}cs.prototype.getDeviceParams=function(){return this.deviceParams},cs.prototype.recalculateDeviceParams_=function(){var W=this.calcDeviceParams_();W?(this.deviceParams=W,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},cs.prototype.calcDeviceParams_=function(){var W=this.dpdb;if(!W)return console.error("DPDB not available."),null;if(W.format!=1)return console.error("DPDB has unexpected format version."),null;if(!W.devices||!W.devices.length)return console.error("DPDB does not have a devices section."),null;var q=navigator.userAgent||navigator.vendor||window.opera,re=Fe(),ue=qe();if(!W.devices)return console.error("DPDB has no devices section."),null;for(var Ce=0;Ce<W.devices.length;Ce++){var Qe=W.devices[Ce];if(!Qe.rules){console.warn("Device["+Ce+"] has no rules section.");continue}if(Qe.type!="ios"&&Qe.type!="android"){console.warn("Device["+Ce+"] has invalid type.");continue}if(ne()==(Qe.type=="ios")){for(var We=!1,wt=0;wt<Qe.rules.length;wt++){var Et=Qe.rules[wt];if(this.ruleMatches_(Et,q,re,ue)){We=!0;break}}if(We){var tt=Qe.dpi[0]||Qe.dpi,pt=Qe.dpi[1]||Qe.dpi;return new Hs({xdpi:tt,ydpi:pt,bevelMm:Qe.bw})}}}return console.warn("No DPDB device match."),null},cs.prototype.ruleMatches_=function(W,q,re,ue){if(!W.ua&&!W.res||(W.ua&&W.ua.substring(0,2)==="SM"&&(W.ua=W.ua.substring(0,7)),W.ua&&q.indexOf(W.ua)<0))return!1;if(W.res){if(!W.res[0]||!W.res[1])return!1;var Ce=W.res[0],Qe=W.res[1];if(Math.min(re,ue)!=Math.min(Ce,Qe)||Math.max(re,ue)!=Math.max(Ce,Qe))return!1}return!0};function Hs(W){this.xdpi=W.xdpi,this.ydpi=W.ydpi,this.bevelMm=W.bevelMm}function Wr(W,q){this.set(W,q)}Wr.prototype.set=function(W,q){this.sample=W,this.timestampS=q},Wr.prototype.copy=function(W){this.set(W.sample,W.timestampS)};function tr(W,q){this.kFilter=W,this.isDebug=q,this.currentAccelMeasurement=new Wr,this.currentGyroMeasurement=new Wr,this.previousGyroMeasurement=new Wr,ne()?this.filterQ=new Vt(-1,0,0,1):this.filterQ=new Vt(1,0,0,1),this.previousFilterQ=new Vt,this.previousFilterQ.copy(this.filterQ),this.accelQ=new Vt,this.isOrientationInitialized=!1,this.estimatedGravity=new Gt,this.measuredGravity=new Gt,this.gyroIntegralQ=new Vt}tr.prototype.addAccelMeasurement=function(W,q){this.currentAccelMeasurement.set(W,q)},tr.prototype.addGyroMeasurement=function(W,q){this.currentGyroMeasurement.set(W,q);var re=q-this.previousGyroMeasurement.timestampS;Xe(re)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},tr.prototype.run_=function(){if(!this.isOrientationInitialized){this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),this.isOrientationInitialized=!0;return}var W=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,q=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,W);this.gyroIntegralQ.multiply(q),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(q);var re=new Vt;re.copy(this.filterQ),re.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(re),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var ue=new Vt;ue.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),ue.inverse(),this.isDebug&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",Yt*Pt(ue),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var Ce=new Vt;Ce.copy(this.filterQ),Ce.multiply(ue),this.filterQ.slerp(Ce,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},tr.prototype.getOrientation=function(){return this.filterQ},tr.prototype.accelToQuaternion_=function(W){var q=new Gt;q.copy(W),q.normalize();var re=new Vt;return re.setFromUnitVectors(new Gt(0,0,-1),q),re.inverse(),re},tr.prototype.gyroToQuaternionDelta_=function(W,q){var re=new Vt,ue=new Gt;return ue.copy(W),ue.normalize(),re.setFromAxisAngle(ue,W.length()*q),re};function Di(W,q){this.predictionTimeS=W,this.isDebug=q,this.previousQ=new Vt,this.previousTimestampS=null,this.deltaQ=new Vt,this.outQ=new Vt}Di.prototype.getPrediction=function(W,q,re){if(!this.previousTimestampS)return this.previousQ.copy(W),this.previousTimestampS=re,W;var ue=new Gt;ue.copy(q),ue.normalize();var Ce=q.length();if(Ce<kt*20)return this.isDebug&&console.log("Moving slowly, at %s deg/s: no prediction",(Yt*Ce).toFixed(1)),this.outQ.copy(W),this.previousQ.copy(W),this.outQ;var Qe=Ce*this.predictionTimeS;return this.deltaQ.setFromAxisAngle(ue,Qe),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(W),this.previousTimestampS=re,this.outQ};function yr(W,q,re,ue){this.yawOnly=re,this.accelerometer=new Gt,this.gyroscope=new Gt,this.filter=new tr(W,ue),this.posePredictor=new Di(q,ue),this.isFirefoxAndroid=se(),this.isIOS=ne();var Ce=ae();this.isDeviceMotionInRadians=!this.isIOS&&Ce&&Ce<66,this.isWithoutDeviceMotion=Re()||be(),this.filterToWorldQ=new Vt,ne()?this.filterToWorldQ.setFromAxisAngle(new Gt(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new Gt(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new Vt,this.worldToScreenQ=new Vt,this.originalPoseAdjustQ=new Vt,this.originalPoseAdjustQ.setFromAxisAngle(new Gt(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),Ke()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new Vt,this.orientationOut_=new Float32Array(4),this.start()}yr.prototype.getPosition=function(){return null},yr.prototype.getOrientation=function(){var W=void 0;if(this.isWithoutDeviceMotion&&this._deviceOrientationQ){this.deviceOrientationFixQ=this.deviceOrientationFixQ||function(){var Ce=new Vt().setFromAxisAngle(new Gt(0,0,-1),0),Qe=new Vt;return window.orientation===-90?Qe.setFromAxisAngle(new Gt(0,1,0),Math.PI/-2):Qe.setFromAxisAngle(new Gt(0,1,0),Math.PI/2),Ce.multiply(Qe)}(),this.deviceOrientationFilterToWorldQ=this.deviceOrientationFilterToWorldQ||function(){var Ce=new Vt;return Ce.setFromAxisAngle(new Gt(1,0,0),-Math.PI/2),Ce}(),W=this._deviceOrientationQ;var re=new Vt;return re.copy(W),re.multiply(this.deviceOrientationFilterToWorldQ),re.multiply(this.resetQ),re.multiply(this.worldToScreenQ),re.multiplyQuaternions(this.deviceOrientationFixQ,re),this.yawOnly&&(re.x=0,re.z=0,re.normalize()),this.orientationOut_[0]=re.x,this.orientationOut_[1]=re.y,this.orientationOut_[2]=re.z,this.orientationOut_[3]=re.w,this.orientationOut_}else{var q=this.filter.getOrientation();W=this.posePredictor.getPrediction(q,this.gyroscope,this.previousTimestampS)}var re=new Vt;return re.copy(this.filterToWorldQ),re.multiply(this.resetQ),re.multiply(W),re.multiply(this.worldToScreenQ),this.yawOnly&&(re.x=0,re.z=0,re.normalize()),this.orientationOut_[0]=re.x,this.orientationOut_[1]=re.y,this.orientationOut_[2]=re.z,this.orientationOut_[3]=re.w,this.orientationOut_},yr.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),Ke()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ)},yr.prototype.onDeviceOrientation_=function(W){this._deviceOrientationQ=this._deviceOrientationQ||new Vt;var q=W.alpha,re=W.beta,ue=W.gamma;q=(q||0)*Math.PI/180,re=(re||0)*Math.PI/180,ue=(ue||0)*Math.PI/180,this._deviceOrientationQ.setFromEulerYXZ(re,q,-ue)},yr.prototype.onDeviceMotion_=function(W){this.updateDeviceMotion_(W)},yr.prototype.updateDeviceMotion_=function(W){var q=W.accelerationIncludingGravity,re=W.rotationRate,ue=W.timeStamp/1e3,Ce=ue-this.previousTimestampS;if(Ce<0){gt("fusion-pose-sensor:invalid:non-monotonic","Invalid timestamps detected: non-monotonic timestamp from devicemotion"),this.previousTimestampS=ue;return}else if(Ce<=te||Ce>ee){gt("fusion-pose-sensor:invalid:outside-threshold","Invalid timestamps detected: Timestamp from devicemotion outside expected range."),this.previousTimestampS=ue;return}this.accelerometer.set(-q.x,-q.y,-q.z),re&&(ke()?this.gyroscope.set(-re.beta,re.alpha,re.gamma):this.gyroscope.set(re.alpha,re.beta,re.gamma),this.isDeviceMotionInRadians||this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addGyroMeasurement(this.gyroscope,ue)),this.filter.addAccelMeasurement(this.accelerometer,ue),this.previousTimestampS=ue},yr.prototype.onOrientationChange_=function(W){this.setScreenTransform_()},yr.prototype.onMessage_=function(W){var q=W.data;if(!(!q||!q.type)){var re=q.type.toLowerCase();re==="devicemotion"&&this.updateDeviceMotion_(q.deviceMotionEvent)}},yr.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new Gt(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new Gt(0,0,1),Math.PI/2);break}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},yr.prototype.start=function(){this.onDeviceMotionCallback_=this.onDeviceMotion_.bind(this),this.onOrientationChangeCallback_=this.onOrientationChange_.bind(this),this.onMessageCallback_=this.onMessage_.bind(this),this.onDeviceOrientationCallback_=this.onDeviceOrientation_.bind(this),ne()&&Lt()&&window.addEventListener("message",this.onMessageCallback_),window.addEventListener("orientationchange",this.onOrientationChangeCallback_),this.isWithoutDeviceMotion?window.addEventListener("deviceorientation",this.onDeviceOrientationCallback_):window.addEventListener("devicemotion",this.onDeviceMotionCallback_)},yr.prototype.stop=function(){window.removeEventListener("devicemotion",this.onDeviceMotionCallback_),window.removeEventListener("deviceorientation",this.onDeviceOrientationCallback_),window.removeEventListener("orientationchange",this.onOrientationChangeCallback_),window.removeEventListener("message",this.onMessageCallback_)};var Io=60,Is=new Gt(1,0,0),na=new Gt(0,0,1),fo=new Vt;fo.setFromAxisAngle(Is,-Math.PI/2),fo.multiply(new Vt().setFromAxisAngle(na,Math.PI/2));var Ee=function(){function W(q){P(this,W),this.config=q,this.sensor=null,this.fusionSensor=null,this._out=new Float32Array(4),this.api=null,this.errors=[],this._sensorQ=new Vt,this._outQ=new Vt,this._onSensorRead=this._onSensorRead.bind(this),this._onSensorError=this._onSensorError.bind(this),this.init()}return H(W,[{key:"init",value:function(){var re=null;try{re=new RelativeOrientationSensor({frequency:Io,referenceFrame:"screen"}),re.addEventListener("error",this._onSensorError)}catch(ue){this.errors.push(ue),ue.name==="SecurityError"?(console.error("Cannot construct sensors due to the Feature Policy"),console.warn('Attempting to fall back using "devicemotion"; however this will fail in the future without correct permissions.'),this.useDeviceMotion()):ue.name==="ReferenceError"?this.useDeviceMotion():console.error(ue)}re&&(this.api="sensor",this.sensor=re,this.sensor.addEventListener("reading",this._onSensorRead),this.sensor.start())}},{key:"useDeviceMotion",value:function(){this.api="devicemotion",this.fusionSensor=new yr(this.config.K_FILTER,this.config.PREDICTION_TIME_S,this.config.YAW_ONLY,this.config.DEBUG),this.sensor&&(this.sensor.removeEventListener("reading",this._onSensorRead),this.sensor.removeEventListener("error",this._onSensorError),this.sensor=null)}},{key:"getOrientation",value:function(){if(this.fusionSensor)return this.fusionSensor.getOrientation();if(!this.sensor||!this.sensor.quaternion)return this._out[0]=this._out[1]=this._out[2]=0,this._out[3]=1,this._out;var re=this.sensor.quaternion;this._sensorQ.set(re[0],re[1],re[2],re[3]);var ue=this._outQ;return ue.copy(fo),ue.multiply(this._sensorQ),this.config.YAW_ONLY&&(ue.x=ue.z=0,ue.normalize()),this._out[0]=ue.x,this._out[1]=ue.y,this._out[2]=ue.z,this._out[3]=ue.w,this._out}},{key:"_onSensorError",value:function(re){this.errors.push(re.error),re.error.name==="NotAllowedError"?console.error("Permission to access sensor was denied"):re.error.name==="NotReadableError"?console.error("Sensor could not be read"):console.error(re.error),this.useDeviceMotion()}},{key:"_onSensorRead",value:function(){}}]),W}(),Pe="<svg width='198' height='240' viewBox='0 0 198 240' xmlns='http://www.w3.org/2000/svg'><g fill='none' fill-rule='evenodd'><path d='M149.625 109.527l6.737 3.891v.886c0 .177.013.36.038.549.01.081.02.162.027.242.14 1.415.974 2.998 2.105 3.999l5.72 5.062.081-.09s4.382-2.53 5.235-3.024l25.97 14.993v54.001c0 .771-.386 1.217-.948 1.217-.233 0-.495-.076-.772-.236l-23.967-13.838-.014.024-27.322 15.775-.85-1.323c-4.731-1.529-9.748-2.74-14.951-3.61a.27.27 0 0 0-.007.024l-5.067 16.961-7.891 4.556-.037-.063v27.59c0 .772-.386 1.217-.948 1.217-.232 0-.495-.076-.772-.236l-42.473-24.522c-.95-.549-1.72-1.877-1.72-2.967v-1.035l-.021.047a5.111 5.111 0 0 0-1.816-.399 5.682 5.682 0 0 0-.546.001 13.724 13.724 0 0 1-1.918-.041c-1.655-.153-3.2-.6-4.404-1.296l-46.576-26.89.005.012-10.278-18.75c-1.001-1.827-.241-4.216 1.698-5.336l56.011-32.345a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.659 3.227 1.853l.005-.003.227.413-.006.004a9.63 9.63 0 0 0 1.477 2.018l.277.27c1.914 1.85 4.468 2.801 7.113 2.801 1.949 0 3.948-.517 5.775-1.572.013 0 7.319-4.219 7.319-4.219a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.658 3.226 1.853l3.25 5.928.022-.018 6.785 3.917-.105-.182 46.881-26.965m0-1.635c-.282 0-.563.073-.815.218l-46.169 26.556-5.41-3.124-3.005-5.481c-.913-1.667-2.699-2.702-4.66-2.703-1.011 0-2.02.274-2.917.792a3825 3825 0 0 1-7.275 4.195l-.044.024a9.937 9.937 0 0 1-4.957 1.353c-2.292 0-4.414-.832-5.976-2.342l-.252-.245a7.992 7.992 0 0 1-1.139-1.534 1.379 1.379 0 0 0-.06-.122l-.227-.414a1.718 1.718 0 0 0-.095-.154c-.938-1.574-2.673-2.545-4.571-2.545-1.011 0-2.02.274-2.917.792L3.125 155.502c-2.699 1.559-3.738 4.94-2.314 7.538l10.278 18.75c.177.323.448.563.761.704l46.426 26.804c1.403.81 3.157 1.332 5.072 1.508a15.661 15.661 0 0 0 2.146.046 4.766 4.766 0 0 1 .396 0c.096.004.19.011.283.022.109 1.593 1.159 3.323 2.529 4.114l42.472 24.522c.524.302 1.058.455 1.59.455 1.497 0 2.583-1.2 2.583-2.852v-26.562l7.111-4.105a1.64 1.64 0 0 0 .749-.948l4.658-15.593c4.414.797 8.692 1.848 12.742 3.128l.533.829a1.634 1.634 0 0 0 2.193.531l26.532-15.317L193 192.433c.523.302 1.058.455 1.59.455 1.497 0 2.583-1.199 2.583-2.852v-54.001c0-.584-.312-1.124-.818-1.416l-25.97-14.993a1.633 1.633 0 0 0-1.636.001c-.606.351-2.993 1.73-4.325 2.498l-4.809-4.255c-.819-.725-1.461-1.933-1.561-2.936a7.776 7.776 0 0 0-.033-.294 2.487 2.487 0 0 1-.023-.336v-.886c0-.584-.312-1.123-.817-1.416l-6.739-3.891a1.633 1.633 0 0 0-.817-.219' fill='#455A64'/><path d='M96.027 132.636l46.576 26.891c1.204.695 1.979 1.587 2.242 2.541l-.01.007-81.374 46.982h-.001c-1.654-.152-3.199-.6-4.403-1.295l-46.576-26.891 83.546-48.235' fill='#FAFAFA'/><path d='M63.461 209.174c-.008 0-.015 0-.022-.002-1.693-.156-3.228-.609-4.441-1.309l-46.576-26.89a.118.118 0 0 1 0-.203l83.546-48.235a.117.117 0 0 1 .117 0l46.576 26.891c1.227.708 2.021 1.612 2.296 2.611a.116.116 0 0 1-.042.124l-.021.016-81.375 46.981a.11.11 0 0 1-.058.016zm-50.747-28.303l46.401 26.79c1.178.68 2.671 1.121 4.32 1.276l81.272-46.922c-.279-.907-1.025-1.73-2.163-2.387l-46.517-26.857-83.313 48.1z' fill='#607D8B'/><path d='M148.327 165.471a5.85 5.85 0 0 1-.546.001c-1.894-.083-3.302-1.038-3.145-2.132a2.693 2.693 0 0 0-.072-1.105l-81.103 46.822c.628.058 1.272.073 1.918.042.182-.009.364-.009.546-.001 1.894.083 3.302 1.038 3.145 2.132l79.257-45.759' fill='#FFF'/><path d='M69.07 211.347a.118.118 0 0 1-.115-.134c.045-.317-.057-.637-.297-.925-.505-.61-1.555-1.022-2.738-1.074a5.966 5.966 0 0 0-.535.001 14.03 14.03 0 0 1-1.935-.041.117.117 0 0 1-.103-.092.116.116 0 0 1 .055-.126l81.104-46.822a.117.117 0 0 1 .171.07c.104.381.129.768.074 1.153-.045.316.057.637.296.925.506.61 1.555 1.021 2.739 1.073.178.008.357.008.535-.001a.117.117 0 0 1 .064.218l-79.256 45.759a.114.114 0 0 1-.059.016zm-3.405-2.372c.089 0 .177.002.265.006 1.266.056 2.353.488 2.908 1.158.227.274.35.575.36.882l78.685-45.429c-.036 0-.072-.001-.107-.003-1.267-.056-2.354-.489-2.909-1.158-.282-.34-.402-.724-.347-1.107a2.604 2.604 0 0 0-.032-.91L63.846 208.97a13.91 13.91 0 0 0 1.528.012c.097-.005.194-.007.291-.007z' fill='#607D8B'/><path d='M2.208 162.134c-1.001-1.827-.241-4.217 1.698-5.337l56.011-32.344c1.939-1.12 4.324-.546 5.326 1.281l.232.41a9.344 9.344 0 0 0 1.47 2.021l.278.27c3.325 3.214 8.583 3.716 12.888 1.23l7.319-4.22c1.94-1.119 4.324-.546 5.325 1.282l3.25 5.928-83.519 48.229-10.278-18.75z' fill='#FAFAFA'/><path d='M12.486 181.001a.112.112 0 0 1-.031-.005.114.114 0 0 1-.071-.056L2.106 162.19c-1.031-1.88-.249-4.345 1.742-5.494l56.01-32.344a4.328 4.328 0 0 1 2.158-.588c1.415 0 2.65.702 3.311 1.882.01.008.018.017.024.028l.227.414a.122.122 0 0 1 .013.038 9.508 9.508 0 0 0 1.439 1.959l.275.266c1.846 1.786 4.344 2.769 7.031 2.769 1.977 0 3.954-.538 5.717-1.557a.148.148 0 0 1 .035-.013l7.284-4.206a4.321 4.321 0 0 1 2.157-.588c1.427 0 2.672.716 3.329 1.914l3.249 5.929a.116.116 0 0 1-.044.157l-83.518 48.229a.116.116 0 0 1-.059.016zm49.53-57.004c-.704 0-1.41.193-2.041.557l-56.01 32.345c-1.882 1.086-2.624 3.409-1.655 5.179l10.221 18.645 83.317-48.112-3.195-5.829c-.615-1.122-1.783-1.792-3.124-1.792a4.08 4.08 0 0 0-2.04.557l-7.317 4.225a.148.148 0 0 1-.035.013 11.7 11.7 0 0 1-5.801 1.569c-2.748 0-5.303-1.007-7.194-2.835l-.278-.27a9.716 9.716 0 0 1-1.497-2.046.096.096 0 0 1-.013-.037l-.191-.347a.11.11 0 0 1-.023-.029c-.615-1.123-1.783-1.793-3.124-1.793z' fill='#607D8B'/><path d='M42.434 155.808c-2.51-.001-4.697-1.258-5.852-3.365-1.811-3.304-.438-7.634 3.059-9.654l12.291-7.098a7.599 7.599 0 0 1 3.789-1.033c2.51 0 4.697 1.258 5.852 3.365 1.811 3.304.439 7.634-3.059 9.654l-12.291 7.098a7.606 7.606 0 0 1-3.789 1.033zm13.287-20.683a7.128 7.128 0 0 0-3.555.971l-12.291 7.098c-3.279 1.893-4.573 5.942-2.883 9.024 1.071 1.955 3.106 3.122 5.442 3.122a7.13 7.13 0 0 0 3.556-.97l12.291-7.098c3.279-1.893 4.572-5.942 2.883-9.024-1.072-1.955-3.106-3.123-5.443-3.123z' fill='#607D8B'/><path d='M149.588 109.407l6.737 3.89v.887c0 .176.013.36.037.549.011.081.02.161.028.242.14 1.415.973 2.998 2.105 3.999l7.396 6.545c.177.156.358.295.541.415 1.579 1.04 2.95.466 3.062-1.282.049-.784.057-1.595.023-2.429l-.003-.16v-1.151l25.987 15.003v54c0 1.09-.77 1.53-1.72.982l-42.473-24.523c-.95-.548-1.72-1.877-1.72-2.966v-34.033' fill='#FAFAFA'/><path d='M194.553 191.25c-.257 0-.54-.085-.831-.253l-42.472-24.521c-.981-.567-1.779-1.943-1.779-3.068v-34.033h.234v34.033c0 1.051.745 2.336 1.661 2.866l42.473 24.521c.424.245.816.288 1.103.122.285-.164.442-.52.442-1.002v-53.933l-25.753-14.868.003 1.106c.034.832.026 1.654-.024 2.439-.054.844-.396 1.464-.963 1.746-.619.309-1.45.173-2.28-.373a5.023 5.023 0 0 1-.553-.426l-7.397-6.544c-1.158-1.026-1.999-2.625-2.143-4.076a9.624 9.624 0 0 0-.027-.238 4.241 4.241 0 0 1-.038-.564v-.82l-6.68-3.856.117-.202 6.738 3.89.058.034v.954c0 .171.012.351.036.533.011.083.021.165.029.246.138 1.395.948 2.935 2.065 3.923l7.397 6.545c.173.153.35.289.527.406.758.499 1.504.63 2.047.359.49-.243.786-.795.834-1.551.05-.778.057-1.591.024-2.417l-.004-.163v-1.355l.175.1 25.987 15.004.059.033v54.068c0 .569-.198.996-.559 1.204a1.002 1.002 0 0 1-.506.131' fill='#607D8B'/><path d='M145.685 163.161l24.115 13.922-25.978 14.998-1.462-.307c-6.534-2.17-13.628-3.728-21.019-4.616-4.365-.524-8.663 1.096-9.598 3.62a2.746 2.746 0 0 0-.011 1.928c1.538 4.267 4.236 8.363 7.995 12.135l.532.845-25.977 14.997-24.115-13.922 75.518-43.6' fill='#FFF'/><path d='M94.282 220.818l-.059-.033-24.29-14.024.175-.101 75.577-43.634.058.033 24.29 14.024-26.191 15.122-.045-.01-1.461-.307c-6.549-2.174-13.613-3.725-21.009-4.614a13.744 13.744 0 0 0-1.638-.097c-3.758 0-7.054 1.531-7.837 3.642a2.62 2.62 0 0 0-.01 1.848c1.535 4.258 4.216 8.326 7.968 12.091l.016.021.526.835.006.01.064.102-.105.061-25.977 14.998-.058.033zm-23.881-14.057l23.881 13.788 24.802-14.32c.546-.315.846-.489 1.017-.575l-.466-.74c-3.771-3.787-6.467-7.881-8.013-12.168a2.851 2.851 0 0 1 .011-2.008c.815-2.199 4.203-3.795 8.056-3.795.557 0 1.117.033 1.666.099 7.412.891 14.491 2.445 21.041 4.621.836.175 1.215.254 1.39.304l25.78-14.884-23.881-13.788-75.284 43.466z' fill='#607D8B'/><path d='M167.23 125.979v50.871l-27.321 15.773-6.461-14.167c-.91-1.996-3.428-1.738-5.624.574a10.238 10.238 0 0 0-2.33 4.018l-6.46 21.628-27.322 15.774v-50.871l75.518-43.6' fill='#FFF'/><path d='M91.712 220.567a.127.127 0 0 1-.059-.016.118.118 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.519-43.6a.117.117 0 0 1 .175.101v50.871c0 .041-.023.08-.059.1l-27.321 15.775a.118.118 0 0 1-.094.01.12.12 0 0 1-.071-.063l-6.46-14.168c-.375-.822-1.062-1.275-1.934-1.275-1.089 0-2.364.686-3.5 1.881a10.206 10.206 0 0 0-2.302 3.972l-6.46 21.627a.118.118 0 0 1-.054.068L91.77 220.551a.12.12 0 0 1-.058.016zm.117-50.92v50.601l27.106-15.65 6.447-21.583a10.286 10.286 0 0 1 2.357-4.065c1.18-1.242 2.517-1.954 3.669-1.954.969 0 1.731.501 2.146 1.411l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M168.543 126.213v50.87l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.624.574a10.248 10.248 0 0 0-2.33 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6' fill='#FFF'/><path d='M93.025 220.8a.123.123 0 0 1-.059-.015.12.12 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.518-43.6a.112.112 0 0 1 .117 0c.036.02.059.059.059.1v50.871a.116.116 0 0 1-.059.101l-27.321 15.774a.111.111 0 0 1-.094.01.115.115 0 0 1-.071-.062l-6.46-14.168c-.375-.823-1.062-1.275-1.935-1.275-1.088 0-2.363.685-3.499 1.881a10.19 10.19 0 0 0-2.302 3.971l-6.461 21.628a.108.108 0 0 1-.053.067l-27.322 15.775a.12.12 0 0 1-.058.015zm.117-50.919v50.6l27.106-15.649 6.447-21.584a10.293 10.293 0 0 1 2.357-4.065c1.179-1.241 2.516-1.954 3.668-1.954.969 0 1.732.502 2.147 1.412l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M169.8 177.083l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.625.574a10.246 10.246 0 0 0-2.329 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6v50.87z' fill='#FAFAFA'/><path d='M94.282 220.917a.234.234 0 0 1-.234-.233v-50.871c0-.083.045-.161.117-.202l75.518-43.601a.234.234 0 1 1 .35.202v50.871a.233.233 0 0 1-.116.202l-27.322 15.775a.232.232 0 0 1-.329-.106l-6.461-14.168c-.36-.789-.992-1.206-1.828-1.206-1.056 0-2.301.672-3.415 1.844a10.099 10.099 0 0 0-2.275 3.924l-6.46 21.628a.235.235 0 0 1-.107.136l-27.322 15.774a.23.23 0 0 1-.116.031zm.233-50.969v50.331l26.891-15.525 6.434-21.539a10.41 10.41 0 0 1 2.384-4.112c1.201-1.265 2.569-1.991 3.753-1.991 1.018 0 1.818.526 2.253 1.48l6.354 13.934 26.982-15.578v-50.331l-75.051 43.331z' fill='#607D8B'/><path d='M109.894 199.943c-1.774 0-3.241-.725-4.244-2.12a.224.224 0 0 1 .023-.294.233.233 0 0 1 .301-.023c.78.547 1.705.827 2.75.827 1.323 0 2.754-.439 4.256-1.306 5.311-3.067 9.631-10.518 9.631-16.611 0-1.927-.442-3.56-1.278-4.724a.232.232 0 0 1 .323-.327c1.671 1.172 2.591 3.381 2.591 6.219 0 6.242-4.426 13.863-9.865 17.003-1.574.908-3.084 1.356-4.488 1.356zm-2.969-1.542c.813.651 1.82.877 2.968.877h.001c1.321 0 2.753-.327 4.254-1.194 5.311-3.067 9.632-10.463 9.632-16.556 0-1.979-.463-3.599-1.326-4.761.411 1.035.625 2.275.625 3.635 0 6.243-4.426 13.883-9.865 17.023-1.574.909-3.084 1.317-4.49 1.317-.641 0-1.243-.149-1.799-.341z' fill='#607D8B'/><path d='M113.097 197.23c5.384-3.108 9.748-10.636 9.748-16.814 0-2.051-.483-3.692-1.323-4.86-1.784-1.252-4.374-1.194-7.257.47-5.384 3.108-9.748 10.636-9.748 16.814 0 2.051.483 3.692 1.323 4.86 1.784 1.252 4.374 1.194 7.257-.47' fill='#FAFAFA'/><path d='M108.724 198.614c-1.142 0-2.158-.213-3.019-.817-.021-.014-.04.014-.055-.007-.894-1.244-1.367-2.948-1.367-4.973 0-6.242 4.426-13.864 9.865-17.005 1.574-.908 3.084-1.363 4.49-1.363 1.142 0 2.158.309 3.018.913a.23.23 0 0 1 .056.056c.894 1.244 1.367 2.972 1.367 4.997 0 6.243-4.426 13.783-9.865 16.923-1.574.909-3.084 1.276-4.49 1.276zm-2.718-1.109c.774.532 1.688.776 2.718.776 1.323 0 2.754-.413 4.256-1.28 5.311-3.066 9.631-10.505 9.631-16.598 0-1.909-.434-3.523-1.255-4.685-.774-.533-1.688-.799-2.718-.799-1.323 0-2.755.441-4.256 1.308-5.311 3.066-9.631 10.506-9.631 16.599 0 1.909.434 3.517 1.255 4.679z' fill='#607D8B'/><path d='M149.318 114.262l-9.984 8.878 15.893 11.031 5.589-6.112-11.498-13.797' fill='#FAFAFA'/><path d='M169.676 120.84l-9.748 5.627c-3.642 2.103-9.528 2.113-13.147.024-3.62-2.089-3.601-5.488.041-7.591l9.495-5.608-6.729-3.885-81.836 47.071 45.923 26.514 3.081-1.779c.631-.365.869-.898.618-1.39-2.357-4.632-2.593-9.546-.683-14.262 5.638-13.92 24.509-24.815 48.618-28.07 8.169-1.103 16.68-.967 24.704.394.852.145 1.776.008 2.407-.357l3.081-1.778-25.825-14.91' fill='#FAFAFA'/><path d='M113.675 183.459a.47.47 0 0 1-.233-.062l-45.924-26.515a.468.468 0 0 1 .001-.809l81.836-47.071a.467.467 0 0 1 .466 0l6.729 3.885a.467.467 0 0 1-.467.809l-6.496-3.75-80.9 46.533 44.988 25.973 2.848-1.644c.192-.111.62-.409.435-.773-2.416-4.748-2.658-9.814-.7-14.65 2.806-6.927 8.885-13.242 17.582-18.263 8.657-4.998 19.518-8.489 31.407-10.094 8.198-1.107 16.79-.97 24.844.397.739.125 1.561.007 2.095-.301l2.381-1.374-25.125-14.506a.467.467 0 0 1 .467-.809l25.825 14.91a.467.467 0 0 1 0 .809l-3.081 1.779c-.721.417-1.763.575-2.718.413-7.963-1.351-16.457-1.486-24.563-.392-11.77 1.589-22.512 5.039-31.065 9.977-8.514 4.916-14.456 11.073-17.183 17.805-1.854 4.578-1.623 9.376.666 13.875.37.725.055 1.513-.8 2.006l-3.081 1.78a.476.476 0 0 1-.234.062' fill='#455A64'/><path d='M153.316 128.279c-2.413 0-4.821-.528-6.652-1.586-1.818-1.049-2.82-2.461-2.82-3.975 0-1.527 1.016-2.955 2.861-4.02l9.493-5.607a.233.233 0 1 1 .238.402l-9.496 5.609c-1.696.979-2.628 2.263-2.628 3.616 0 1.34.918 2.608 2.585 3.571 3.549 2.049 9.343 2.038 12.914-.024l9.748-5.628a.234.234 0 0 1 .234.405l-9.748 5.628c-1.858 1.072-4.296 1.609-6.729 1.609' fill='#607D8B'/><path d='M113.675 182.992l-45.913-26.508M113.675 183.342a.346.346 0 0 1-.175-.047l-45.913-26.508a.35.35 0 1 1 .35-.607l45.913 26.508a.35.35 0 0 1-.175.654' fill='#455A64'/><path d='M67.762 156.484v54.001c0 1.09.77 2.418 1.72 2.967l42.473 24.521c.95.549 1.72.11 1.72-.98v-54.001' fill='#FAFAFA'/><path d='M112.727 238.561c-.297 0-.62-.095-.947-.285l-42.473-24.521c-1.063-.613-1.895-2.05-1.895-3.27v-54.001a.35.35 0 1 1 .701 0v54.001c0 .96.707 2.18 1.544 2.663l42.473 24.522c.344.198.661.243.87.122.206-.119.325-.411.325-.799v-54.001a.35.35 0 1 1 .7 0v54.001c0 .655-.239 1.154-.675 1.406a1.235 1.235 0 0 1-.623.162' fill='#455A64'/><path d='M112.86 147.512h-.001c-2.318 0-4.499-.522-6.142-1.471-1.705-.984-2.643-2.315-2.643-3.749 0-1.445.952-2.791 2.68-3.788l12.041-6.953c1.668-.962 3.874-1.493 6.212-1.493 2.318 0 4.499.523 6.143 1.472 1.704.984 2.643 2.315 2.643 3.748 0 1.446-.952 2.791-2.68 3.789l-12.042 6.952c-1.668.963-3.874 1.493-6.211 1.493zm12.147-16.753c-2.217 0-4.298.497-5.861 1.399l-12.042 6.952c-1.502.868-2.33 1.998-2.33 3.182 0 1.173.815 2.289 2.293 3.142 1.538.889 3.596 1.378 5.792 1.378h.001c2.216 0 4.298-.497 5.861-1.399l12.041-6.953c1.502-.867 2.33-1.997 2.33-3.182 0-1.172-.814-2.288-2.292-3.142-1.539-.888-3.596-1.377-5.793-1.377z' fill='#607D8B'/><path d='M165.63 123.219l-5.734 3.311c-3.167 1.828-8.286 1.837-11.433.02-3.147-1.817-3.131-4.772.036-6.601l5.734-3.31 11.397 6.58' fill='#FAFAFA'/><path d='M154.233 117.448l9.995 5.771-4.682 2.704c-1.434.827-3.352 1.283-5.399 1.283-2.029 0-3.923-.449-5.333-1.263-1.29-.744-2-1.694-2-2.674 0-.991.723-1.955 2.036-2.713l5.383-3.108m0-.809l-5.734 3.31c-3.167 1.829-3.183 4.784-.036 6.601 1.568.905 3.623 1.357 5.684 1.357 2.077 0 4.159-.46 5.749-1.377l5.734-3.311-11.397-6.58M145.445 179.667c-1.773 0-3.241-.85-4.243-2.245-.067-.092-.057-.275.023-.356.08-.081.207-.12.3-.055.781.548 1.706.812 2.751.811 1.322 0 2.754-.446 4.256-1.313 5.31-3.066 9.631-10.522 9.631-16.615 0-1.927-.442-3.562-1.279-4.726a.235.235 0 0 1 .024-.301.232.232 0 0 1 .3-.027c1.67 1.172 2.59 3.38 2.59 6.219 0 6.242-4.425 13.987-9.865 17.127-1.573.908-3.083 1.481-4.488 1.481zM142.476 178c.814.651 1.82 1.002 2.969 1.002 1.322 0 2.753-.452 4.255-1.32 5.31-3.065 9.631-10.523 9.631-16.617 0-1.98-.463-3.63-1.325-4.793.411 1.035.624 2.26.624 3.62 0 6.242-4.425 13.875-9.865 17.015-1.573.909-3.084 1.376-4.489 1.376a5.49 5.49 0 0 1-1.8-.283z' fill='#607D8B'/><path d='M148.648 176.704c5.384-3.108 9.748-10.636 9.748-16.813 0-2.052-.483-3.693-1.322-4.861-1.785-1.252-4.375-1.194-7.258.471-5.383 3.108-9.748 10.636-9.748 16.813 0 2.051.484 3.692 1.323 4.86 1.785 1.253 4.374 1.195 7.257-.47' fill='#FAFAFA'/><path d='M144.276 178.276c-1.143 0-2.158-.307-3.019-.911a.217.217 0 0 1-.055-.054c-.895-1.244-1.367-2.972-1.367-4.997 0-6.241 4.425-13.875 9.865-17.016 1.573-.908 3.084-1.369 4.489-1.369 1.143 0 2.158.307 3.019.91a.24.24 0 0 1 .055.055c.894 1.244 1.367 2.971 1.367 4.997 0 6.241-4.425 13.875-9.865 17.016-1.573.908-3.084 1.369-4.489 1.369zm-2.718-1.172c.773.533 1.687.901 2.718.901 1.322 0 2.754-.538 4.256-1.405 5.31-3.066 9.631-10.567 9.631-16.661 0-1.908-.434-3.554-1.256-4.716-.774-.532-1.688-.814-2.718-.814-1.322 0-2.754.433-4.256 1.3-5.31 3.066-9.631 10.564-9.631 16.657 0 1.91.434 3.576 1.256 4.738z' fill='#607D8B'/><path d='M150.72 172.361l-.363-.295a24.105 24.105 0 0 0 2.148-3.128 24.05 24.05 0 0 0 1.977-4.375l.443.149a24.54 24.54 0 0 1-2.015 4.46 24.61 24.61 0 0 1-2.19 3.189M115.917 191.514l-.363-.294a24.174 24.174 0 0 0 2.148-3.128 24.038 24.038 0 0 0 1.976-4.375l.443.148a24.48 24.48 0 0 1-2.015 4.461 24.662 24.662 0 0 1-2.189 3.188M114 237.476V182.584 237.476' fill='#607D8B'/><g><path d='M81.822 37.474c.017-.135-.075-.28-.267-.392-.327-.188-.826-.21-1.109-.045l-6.012 3.471c-.131.076-.194.178-.191.285.002.132.002.461.002.578v.043l-.007.128-6.591 3.779c-.001 0-2.077 1.046-2.787 5.192 0 0-.912 6.961-.898 19.745.015 12.57.606 17.07 1.167 21.351.22 1.684 3.001 2.125 3.001 2.125.331.04.698-.027 1.08-.248l75.273-43.551c1.808-1.069 2.667-3.719 3.056-6.284 1.213-7.99 1.675-32.978-.275-39.878-.196-.693-.51-1.083-.868-1.282l-2.086-.79c-.727.028-1.416.467-1.534.535L82.032 37.072l-.21.402' fill='#FFF'/><path d='M144.311 1.701l2.085.79c.358.199.672.589.868 1.282 1.949 6.9 1.487 31.887.275 39.878-.39 2.565-1.249 5.215-3.056 6.284L69.21 93.486a1.78 1.78 0 0 1-.896.258l-.183-.011c0 .001-2.782-.44-3.003-2.124-.56-4.282-1.151-8.781-1.165-21.351-.015-12.784.897-19.745.897-19.745.71-4.146 2.787-5.192 2.787-5.192l6.591-3.779.007-.128v-.043c0-.117 0-.446-.002-.578-.003-.107.059-.21.191-.285l6.012-3.472a.98.98 0 0 1 .481-.11c.218 0 .449.053.627.156.193.112.285.258.268.392l.211-.402 60.744-34.836c.117-.068.806-.507 1.534-.535m0-.997l-.039.001c-.618.023-1.283.244-1.974.656l-.021.012-60.519 34.706a2.358 2.358 0 0 0-.831-.15c-.365 0-.704.084-.98.244l-6.012 3.471c-.442.255-.699.69-.689 1.166l.001.15-6.08 3.487c-.373.199-2.542 1.531-3.29 5.898l-.006.039c-.009.07-.92 7.173-.906 19.875.014 12.62.603 17.116 1.172 21.465l.002.015c.308 2.355 3.475 2.923 3.836 2.98l.034.004c.101.013.204.019.305.019a2.77 2.77 0 0 0 1.396-.392l75.273-43.552c1.811-1.071 2.999-3.423 3.542-6.997 1.186-7.814 1.734-33.096-.301-40.299-.253-.893-.704-1.527-1.343-1.882l-.132-.062-2.085-.789a.973.973 0 0 0-.353-.065' fill='#455A64'/><path d='M128.267 11.565l1.495.434-56.339 32.326' fill='#FFF'/><path d='M74.202 90.545a.5.5 0 0 1-.25-.931l18.437-10.645a.499.499 0 1 1 .499.864L74.451 90.478l-.249.067M75.764 42.654l-.108-.062.046-.171 5.135-2.964.17.045-.045.171-5.135 2.964-.063.017M70.52 90.375V46.421l.063-.036L137.84 7.554v43.954l-.062.036L70.52 90.375zm.25-43.811v43.38l66.821-38.579V7.985L70.77 46.564z' fill='#607D8B'/><path d='M86.986 83.182c-.23.149-.612.384-.849.523l-11.505 6.701c-.237.139-.206.252.068.252h.565c.275 0 .693-.113.93-.252L87.7 83.705c.237-.139.428-.253.425-.256a11.29 11.29 0 0 1-.006-.503c0-.274-.188-.377-.418-.227l-.715.463' fill='#607D8B'/><path d='M75.266 90.782H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.236-.138.615-.371.844-.519l.715-.464a.488.488 0 0 1 .266-.089c.172 0 .345.13.345.421 0 .214.001.363.003.437l.006.004-.004.069c-.003.075-.003.075-.486.356l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.108.866-.234l11.505-6.702c.168-.098.294-.173.361-.214-.004-.084-.004-.218-.004-.437l-.095-.171-.131.049-.714.463c-.232.15-.616.386-.854.525l-11.505 6.702-.029.018z' fill='#607D8B'/><path d='M75.266 89.871H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.258-.151.694-.268.993-.268h.565c.2 0 .316.056.346.166.03.11-.043.217-.215.317l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.107.866-.234l11.505-6.702.03-.018-.035-.001h-.565c-.252 0-.649.108-.867.234l-11.505 6.702-.029.018zM74.37 90.801v-1.247 1.247' fill='#607D8B'/><path d='M68.13 93.901c-.751-.093-1.314-.737-1.439-1.376-.831-4.238-1.151-8.782-1.165-21.352-.015-12.784.897-19.745.897-19.745.711-4.146 2.787-5.192 2.787-5.192l74.859-43.219c.223-.129 2.487-1.584 3.195.923 1.95 6.9 1.488 31.887.275 39.878-.389 2.565-1.248 5.215-3.056 6.283L69.21 93.653c-.382.221-.749.288-1.08.248 0 0-2.781-.441-3.001-2.125-.561-4.281-1.152-8.781-1.167-21.351-.014-12.784.898-19.745.898-19.745.71-4.146 2.787-5.191 2.787-5.191l6.598-3.81.871-.119 6.599-3.83.046-.461L68.13 93.901' fill='#FAFAFA'/><path d='M68.317 94.161l-.215-.013h-.001l-.244-.047c-.719-.156-2.772-.736-2.976-2.292-.568-4.34-1.154-8.813-1.168-21.384-.014-12.654.891-19.707.9-19.777.725-4.231 2.832-5.338 2.922-5.382l6.628-3.827.87-.119 6.446-3.742.034-.334a.248.248 0 0 1 .273-.223.248.248 0 0 1 .223.272l-.059.589-6.752 3.919-.87.118-6.556 3.785c-.031.016-1.99 1.068-2.666 5.018-.007.06-.908 7.086-.894 19.702.014 12.539.597 16.996 1.161 21.305.091.691.689 1.154 1.309 1.452a1.95 1.95 0 0 1-.236-.609c-.781-3.984-1.155-8.202-1.17-21.399-.014-12.653.891-19.707.9-19.777.725-4.231 2.832-5.337 2.922-5.382-.004.001 74.444-42.98 74.846-43.212l.028-.017c.904-.538 1.72-.688 2.36-.433.555.221.949.733 1.172 1.52 2.014 7.128 1.46 32.219.281 39.983-.507 3.341-1.575 5.515-3.175 6.462L69.335 93.869a2.023 2.023 0 0 1-1.018.292zm-.147-.507c.293.036.604-.037.915-.217l75.273-43.551c1.823-1.078 2.602-3.915 2.934-6.106 1.174-7.731 1.731-32.695-.268-39.772-.178-.631-.473-1.032-.876-1.192-.484-.193-1.166-.052-1.921.397l-.034.021-74.858 43.218c-.031.017-1.989 1.069-2.666 5.019-.007.059-.908 7.085-.894 19.702.015 13.155.386 17.351 1.161 21.303.09.461.476.983 1.037 1.139.114.025.185.037.196.039h.001z' fill='#455A64'/><path d='M69.317 68.982c.489-.281.885-.056.885.505 0 .56-.396 1.243-.885 1.525-.488.282-.884.057-.884-.504 0-.56.396-1.243.884-1.526' fill='#FFF'/><path d='M68.92 71.133c-.289 0-.487-.228-.487-.625 0-.56.396-1.243.884-1.526a.812.812 0 0 1 .397-.121c.289 0 .488.229.488.626 0 .56-.396 1.243-.885 1.525a.812.812 0 0 1-.397.121m.794-2.459a.976.976 0 0 0-.49.147c-.548.317-.978 1.058-.978 1.687 0 .486.271.812.674.812a.985.985 0 0 0 .491-.146c.548-.317.978-1.057.978-1.687 0-.486-.272-.813-.675-.813' fill='#8097A2'/><path d='M68.92 70.947c-.271 0-.299-.307-.299-.439 0-.491.361-1.116.79-1.363a.632.632 0 0 1 .303-.096c.272 0 .301.306.301.438 0 .491-.363 1.116-.791 1.364a.629.629 0 0 1-.304.096m.794-2.086a.812.812 0 0 0-.397.121c-.488.283-.884.966-.884 1.526 0 .397.198.625.487.625a.812.812 0 0 0 .397-.121c.489-.282.885-.965.885-1.525 0-.397-.199-.626-.488-.626' fill='#8097A2'/><path d='M69.444 85.35c.264-.152.477-.031.477.272 0 .303-.213.67-.477.822-.263.153-.477.031-.477-.271 0-.302.214-.671.477-.823' fill='#FFF'/><path d='M69.23 86.51c-.156 0-.263-.123-.263-.337 0-.302.214-.671.477-.823a.431.431 0 0 1 .214-.066c.156 0 .263.124.263.338 0 .303-.213.67-.477.822a.431.431 0 0 1-.214.066m.428-1.412c-.1 0-.203.029-.307.09-.32.185-.57.618-.57.985 0 .309.185.524.449.524a.63.63 0 0 0 .308-.09c.32-.185.57-.618.57-.985 0-.309-.185-.524-.45-.524' fill='#8097A2'/><path d='M69.23 86.322l-.076-.149c0-.235.179-.544.384-.661l.12-.041.076.151c0 .234-.179.542-.383.66l-.121.04m.428-1.038a.431.431 0 0 0-.214.066c-.263.152-.477.521-.477.823 0 .214.107.337.263.337a.431.431 0 0 0 .214-.066c.264-.152.477-.519.477-.822 0-.214-.107-.338-.263-.338' fill='#8097A2'/><path d='M139.278 7.769v43.667L72.208 90.16V46.493l67.07-38.724' fill='#455A64'/><path d='M72.083 90.375V46.421l.063-.036 67.257-38.831v43.954l-.062.036-67.258 38.831zm.25-43.811v43.38l66.821-38.579V7.985L72.333 46.564z' fill='#607D8B'/></g><path d='M125.737 88.647l-7.639 3.334V84l-11.459 4.713v8.269L99 100.315l13.369 3.646 13.368-15.314' fill='#455A64'/></g></svg>";function Ye(){this.loadIcon_();var W=document.createElement("div"),We=W.style;We.position="fixed",We.top=0,We.right=0,We.bottom=0,We.left=0,We.backgroundColor="gray",We.fontFamily="sans-serif",We.zIndex=1e6;var q=document.createElement("img");q.src=this.icon;var We=q.style;We.marginLeft="25%",We.marginTop="25%",We.width="50%",W.appendChild(q);var re=document.createElement("div"),We=re.style;We.textAlign="center",We.fontSize="16px",We.lineHeight="24px",We.margin="24px 25%",We.width="50%",re.innerHTML="Place your phone into your Cardboard viewer.",W.appendChild(re);var ue=document.createElement("div"),We=ue.style;We.backgroundColor="#CFD8DC",We.position="fixed",We.bottom=0,We.width="100%",We.height="48px",We.padding="14px 24px",We.boxSizing="border-box",We.color="#656A6B",W.appendChild(ue);var Ce=document.createElement("div");Ce.style.float="left",Ce.innerHTML="No Cardboard viewer?";var Qe=document.createElement("a");Qe.href="https://www.google.com/get/cardboard/get-cardboard/",Qe.innerHTML="get one",Qe.target="_blank";var We=Qe.style;We.float="right",We.fontWeight=600,We.textTransform="uppercase",We.borderLeft="1px solid gray",We.paddingLeft="24px",We.textDecoration="none",We.color="#656A6B",ue.appendChild(Ce),ue.appendChild(Qe),this.overlay=W,this.text=re,this.hide()}Ye.prototype.show=function(W){!W&&!this.overlay.parentElement?document.body.appendChild(this.overlay):W&&(this.overlay.parentElement&&this.overlay.parentElement!=W&&this.overlay.parentElement.removeChild(this.overlay),W.appendChild(this.overlay)),this.overlay.style.display="block";var q=this.overlay.querySelector("img"),re=q.style;Ke()?(re.width="20%",re.marginLeft="40%",re.marginTop="3%"):(re.width="50%",re.marginLeft="25%",re.marginTop="25%")},Ye.prototype.hide=function(){this.overlay.style.display="none"},Ye.prototype.showTemporarily=function(W,q){this.show(q),this.timer=setTimeout(this.hide.bind(this),W)},Ye.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},Ye.prototype.update=function(){this.disableShowTemporarily(),!Ke()&&je()?this.show():this.hide()},Ye.prototype.loadIcon_=function(){this.icon=de("image/svg+xml",Pe)};var ft="CardboardV1",st="WEBVR_CARDBOARD_VIEWER",bt="webvr-polyfill-viewer-selector";function Ot(W){try{this.selectedKey=localStorage.getItem(st)}catch(q){console.error("Failed to load viewer profile: %s",q)}this.selectedKey||(this.selectedKey=W||ft),this.dialog=this.createDialog_(vi.Viewers),this.root=null,this.onChangeCallbacks_=[]}Ot.prototype.show=function(W){this.root=W,W.appendChild(this.dialog);var q=this.dialog.querySelector("#"+this.selectedKey);q.checked=!0,this.dialog.style.display="block"},Ot.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},Ot.prototype.getCurrentViewer=function(){return vi.Viewers[this.selectedKey]},Ot.prototype.getSelectedKey_=function(){var W=this.dialog.querySelector("input[name=field]:checked");return W?W.id:null},Ot.prototype.onChange=function(W){this.onChangeCallbacks_.push(W)},Ot.prototype.fireOnChange_=function(W){for(var q=0;q<this.onChangeCallbacks_.length;q++)this.onChangeCallbacks_[q](W)},Ot.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),!this.selectedKey||!vi.Viewers[this.selectedKey]){console.error("ViewerSelector.onSave_: this should never happen!");return}this.fireOnChange_(vi.Viewers[this.selectedKey]);try{localStorage.setItem(st,this.selectedKey)}catch(W){console.error("Failed to save viewer profile: %s",W)}this.hide()},Ot.prototype.createDialog_=function(W){var q=document.createElement("div");q.classList.add(bt),q.style.display="none";var re=document.createElement("div"),Qe=re.style;Qe.position="fixed",Qe.left=0,Qe.top=0,Qe.width="100%",Qe.height="100%",Qe.background="rgba(0, 0, 0, 0.3)",re.addEventListener("click",this.hide.bind(this));var ue=280,Ce=document.createElement("div"),Qe=Ce.style;Qe.boxSizing="border-box",Qe.position="fixed",Qe.top="24px",Qe.left="50%",Qe.marginLeft=-ue/2+"px",Qe.width=ue+"px",Qe.padding="24px",Qe.overflow="hidden",Qe.background="#fafafa",Qe.fontFamily="'Roboto', sans-serif",Qe.boxShadow="0px 5px 20px #666",Ce.appendChild(this.createH1_("Select your viewer"));for(var We in W)Ce.appendChild(this.createChoice_(We,W[We].label));return Ce.appendChild(this.createButton_("Save",this.onSave_.bind(this))),q.appendChild(re),q.appendChild(Ce),q},Ot.prototype.createH1_=function(W){var q=document.createElement("h1"),re=q.style;return re.color="black",re.fontSize="20px",re.fontWeight="bold",re.marginTop=0,re.marginBottom="24px",q.innerHTML=W,q},Ot.prototype.createChoice_=function(W,q){var re=document.createElement("div");re.style.marginTop="8px",re.style.color="black";var ue=document.createElement("input");ue.style.fontSize="30px",ue.setAttribute("id",W),ue.setAttribute("type","radio"),ue.setAttribute("value",W),ue.setAttribute("name","field");var Ce=document.createElement("label");return Ce.style.marginLeft="4px",Ce.setAttribute("for",W),Ce.innerHTML=q,re.appendChild(ue),re.appendChild(Ce),re},Ot.prototype.createButton_=function(W,q){var re=document.createElement("button");re.innerHTML=W;var ue=re.style;return ue.float="right",ue.textTransform="uppercase",ue.color="#1094f7",ue.fontSize="14px",ue.letterSpacing=0,ue.border=0,ue.background="none",ue.marginTop="16px",re.addEventListener("click",q),re};var gn=typeof window<"u"?window:typeof p<"u"?p:typeof self<"u"?self:{};function rn(W){return W&&W.__esModule&&Object.prototype.hasOwnProperty.call(W,"default")?W.default:W}function yt(W,q){return q={exports:{}},W(q,q.exports),q.exports}var wn=yt(function(W,q){(function(ue,Ce){W.exports=Ce()})(gn,function(){return function(re){var ue={};function Ce(Qe){if(ue[Qe])return ue[Qe].exports;var We=ue[Qe]={i:Qe,l:!1,exports:{}};return re[Qe].call(We.exports,We,We.exports,Ce),We.l=!0,We.exports}return Ce.m=re,Ce.c=ue,Ce.d=function(Qe,We,wt){Ce.o(Qe,We)||Object.defineProperty(Qe,We,{configurable:!1,enumerable:!0,get:wt})},Ce.n=function(Qe){var We=Qe&&Qe.__esModule?function(){return Qe.default}:function(){return Qe};return Ce.d(We,"a",We),We},Ce.o=function(Qe,We){return Object.prototype.hasOwnProperty.call(Qe,We)},Ce.p="",Ce(Ce.s=0)}([function(re,ue,Ce){var Qe=function(){function pt(Dt,ln){for(var bn=0;bn<ln.length;bn++){var Pn=ln[bn];Pn.enumerable=Pn.enumerable||!1,Pn.configurable=!0,"value"in Pn&&(Pn.writable=!0),Object.defineProperty(Dt,Pn.key,Pn)}}return function(Dt,ln,bn){return ln&&pt(Dt.prototype,ln),bn&&pt(Dt,bn),Dt}}();function We(pt,Dt){if(!(pt instanceof Dt))throw new TypeError("Cannot call a class as a function")}var wt=Ce(1),Et=typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,tt=function(){function pt(){We(this,pt),Et?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("playsinline",""),this.noSleepVideo.setAttribute("src",wt),this.noSleepVideo.addEventListener("timeupdate",(function(Dt){this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())}).bind(this)))}return Qe(pt,[{key:"enable",value:function(){Et?(this.disable(),this.noSleepTimer=window.setInterval(function(){window.location.href="/",window.setTimeout(window.stop,0)},15e3)):this.noSleepVideo.play()}},{key:"disable",value:function(){Et?this.noSleepTimer&&(window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),pt}();re.exports=tt},function(re,ue,Ce){re.exports="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="}])})}),Ln=rn(wn),Un=1e3,Pi=[0,0,.5,1],Zn=[.5,0,.5,1],Vn=window.requestAnimationFrame,fi=window.cancelAnimationFrame;function ji(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null}function Er(W){Object.defineProperties(this,{hasPosition:{writable:!1,enumerable:!0,value:W.hasPosition},hasExternalDisplay:{writable:!1,enumerable:!0,value:W.hasExternalDisplay},canPresent:{writable:!1,enumerable:!0,value:W.canPresent},maxLayers:{writable:!1,enumerable:!0,value:W.maxLayers},hasOrientation:{enumerable:!0,get:function(){return Kt("VRDisplayCapabilities.prototype.hasOrientation","VRDisplay.prototype.getFrameData"),W.hasOrientation}}})}function sn(W){W=W||{};var q="wakelock"in W?W.wakelock:!0;this.isPolyfilled=!0,this.displayId=Un++,this.displayName="",this.depthNear=.01,this.depthFar=1e4,this.isPresenting=!1,Object.defineProperty(this,"isConnected",{get:function(){return Kt("VRDisplay.prototype.isConnected","VRDisplayCapabilities.prototype.hasExternalDisplay"),!1}}),this.capabilities=new Er({hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1}),this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.originalParent_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,q&&je()&&(this.wakelock_=new Ln)}sn.prototype.getFrameData=function(W){return ut(W,this._getPose(),this)},sn.prototype.getPose=function(){return Kt("VRDisplay.prototype.getPose","VRDisplay.prototype.getFrameData"),this._getPose()},sn.prototype.resetPose=function(){return Kt("VRDisplay.prototype.resetPose"),this._resetPose()},sn.prototype.getImmediatePose=function(){return Kt("VRDisplay.prototype.getImmediatePose","VRDisplay.prototype.getFrameData"),this._getPose()},sn.prototype.requestAnimationFrame=function(W){return Vn(W)},sn.prototype.cancelAnimationFrame=function(W){return fi(W)},sn.prototype.wrapForFullscreen=function(W){if(ne())return W;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement("div");var q=["height: "+Math.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.fullscreenWrapper_.setAttribute("style",q.join("; ")+";"),this.fullscreenWrapper_.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.fullscreenElement_==W)return this.fullscreenWrapper_;if(this.fullscreenElement_&&(this.originalParent_?this.originalParent_.appendChild(this.fullscreenElement_):this.fullscreenElement_.parentElement.removeChild(this.fullscreenElement_)),this.fullscreenElement_=W,this.originalParent_=W.parentElement,this.originalParent_||document.body.appendChild(W),!this.fullscreenWrapper_.parentElement){var re=this.fullscreenElement_.parentElement;re.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),re.removeChild(this.fullscreenElement_)}this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute("style");var ue=this;function Ce(){if(ue.fullscreenElement_){var Qe=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];ue.fullscreenElement_.setAttribute("style",Qe.join("; ")+";")}}return Ce(),this.fullscreenWrapper_},sn.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var W=this.fullscreenElement_;this.fullscreenElementCachedStyle_?W.setAttribute("style",this.fullscreenElementCachedStyle_):W.removeAttribute("style"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var q=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(W),this.originalParent_===q?q.insertBefore(W,this.fullscreenWrapper_):this.originalParent_&&this.originalParent_.appendChild(W),q.removeChild(this.fullscreenWrapper_),W}},sn.prototype.requestPresent=function(W){var q=this.isPresenting,re=this;return W instanceof Array||(Kt("VRDisplay.prototype.requestPresent with non-array argument","an array of VRLayers as the first argument"),W=[W]),new Promise(function(ue,Ce){if(!re.capabilities.canPresent){Ce(new Error("VRDisplay is not capable of presenting."));return}if(W.length==0||W.length>re.capabilities.maxLayers){Ce(new Error("Invalid number of layers."));return}var Qe=W[0];if(!Qe.source){ue();return}var We=Qe.leftBounds||Pi,wt=Qe.rightBounds||Zn;if(q){var Et=re.layer_;Et.source!==Qe.source&&(Et.source=Qe.source);for(var tt=0;tt<4;tt++)Et.leftBounds[tt]=We[tt],Et.rightBounds[tt]=wt[tt];re.wrapForFullscreen(re.layer_.source),re.updatePresent_(),ue();return}if(re.layer_={predistorted:Qe.predistorted,source:Qe.source,leftBounds:We.slice(0),rightBounds:wt.slice(0)},re.waitingForPresent_=!1,re.layer_&&re.layer_.source){var pt=re.wrapForFullscreen(re.layer_.source),Dt=function(){var Pn=Ct();re.isPresenting=pt===Pn,re.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch(function(Xn){console.error("screen.orientation.lock() failed due to",Xn.message)}),re.waitingForPresent_=!1,re.beginPresent_(),ue()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),re.removeFullscreenWrapper(),re.disableWakeLock(),re.endPresent_(),re.removeFullscreenListeners_()),re.fireVRDisplayPresentChange_()},ln=function(){re.waitingForPresent_&&(re.removeFullscreenWrapper(),re.removeFullscreenListeners_(),re.disableWakeLock(),re.waitingForPresent_=!1,re.isPresenting=!1,Ce(new Error("Unable to present.")))};re.addFullscreenListeners_(pt,Dt,ln),rt(pt)?(re.enableWakeLock(),re.waitingForPresent_=!0):(ne()||X())&&(re.enableWakeLock(),re.isPresenting=!0,re.beginPresent_(),re.fireVRDisplayPresentChange_(),ue())}!re.waitingForPresent_&&!ne()&&(it(),Ce(new Error("Unable to present.")))})},sn.prototype.exitPresent=function(){var W=this.isPresenting,q=this;return this.isPresenting=!1,this.layer_=null,this.disableWakeLock(),new Promise(function(re,ue){W?(!it()&&ne()&&(q.endPresent_(),q.fireVRDisplayPresentChange_()),X()&&(q.removeFullscreenWrapper(),q.removeFullscreenListeners_(),q.endPresent_(),q.fireVRDisplayPresentChange_()),re()):ue(new Error("Was not presenting to VRDisplay."))})},sn.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},sn.prototype.fireVRDisplayPresentChange_=function(){var W=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});window.dispatchEvent(W)},sn.prototype.fireVRDisplayConnect_=function(){var W=new CustomEvent("vrdisplayconnect",{detail:{display:this}});window.dispatchEvent(W)},sn.prototype.addFullscreenListeners_=function(W,q,re){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=W,this.fullscreenChangeHandler_=q,this.fullscreenErrorHandler_=re,q&&(document.fullscreenEnabled?W.addEventListener("fullscreenchange",q,!1):document.webkitFullscreenEnabled?W.addEventListener("webkitfullscreenchange",q,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",q,!1):document.msFullscreenEnabled&&W.addEventListener("msfullscreenchange",q,!1)),re&&(document.fullscreenEnabled?W.addEventListener("fullscreenerror",re,!1):document.webkitFullscreenEnabled?W.addEventListener("webkitfullscreenerror",re,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenerror",re,!1):document.msFullscreenEnabled&&W.addEventListener("msfullscreenerror",re,!1))},sn.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var W=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var q=this.fullscreenChangeHandler_;W.removeEventListener("fullscreenchange",q,!1),W.removeEventListener("webkitfullscreenchange",q,!1),document.removeEventListener("mozfullscreenchange",q,!1),W.removeEventListener("msfullscreenchange",q,!1)}if(this.fullscreenErrorHandler_){var re=this.fullscreenErrorHandler_;W.removeEventListener("fullscreenerror",re,!1),W.removeEventListener("webkitfullscreenerror",re,!1),document.removeEventListener("mozfullscreenerror",re,!1),W.removeEventListener("msfullscreenerror",re,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},sn.prototype.enableWakeLock=function(){this.wakelock_&&this.wakelock_.enable()},sn.prototype.disableWakeLock=function(){this.wakelock_&&this.wakelock_.disable()},sn.prototype.beginPresent_=function(){},sn.prototype.endPresent_=function(){},sn.prototype.submitFrame=function(W){},sn.prototype.getEyeParameters=function(W){return null};var ei={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},hr={LEFT:"left",RIGHT:"right"};function Ai(W){var q=ot({},ei);W=ot(q,W||{}),sn.call(this,{wakelock:W.MOBILE_WAKE_LOCK}),this.config=W,this.displayName="Cardboard VRDisplay",this.capabilities=new Er({hasPosition:!1,hasOrientation:!0,hasExternalDisplay:!1,canPresent:!0,maxLayers:1}),this.stageParameters=null,this.bufferScale_=this.config.BUFFER_SCALE,this.poseSensor_=new Ee(this.config),this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new cs(this.config.DPDB_URL,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new vi(this.dpdb_.getDeviceParams(),W.ADDITIONAL_VIEWERS),this.viewerSelector_=new Ot(W.DEFAULT_VIEWER),this.viewerSelector_.onChange(this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),this.config.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new Ye),ne()&&window.addEventListener("resize",this.onResize_.bind(this))}return Ai.prototype=Object.create(sn.prototype),Ai.prototype._getPose=function(){return{position:null,orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},Ai.prototype._resetPose=function(){this.poseSensor_.resetPose&&this.poseSensor_.resetPose()},Ai.prototype._getFieldOfView=function(W){var q;if(W==hr.LEFT)q=this.deviceInfo_.getFieldOfViewLeftEye();else if(W==hr.RIGHT)q=this.deviceInfo_.getFieldOfViewRightEye();else return console.error("Invalid eye provided: %s",W),null;return q},Ai.prototype._getEyeOffset=function(W){var q;if(W==hr.LEFT)q=[-this.deviceInfo_.viewer.interLensDistance*.5,0,0];else if(W==hr.RIGHT)q=[this.deviceInfo_.viewer.interLensDistance*.5,0,0];else return console.error("Invalid eye provided: %s",W),null;return q},Ai.prototype.getEyeParameters=function(W){var q=this._getEyeOffset(W),re=this._getFieldOfView(W),ue={offset:q,renderWidth:this.deviceInfo_.device.width*.5*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_};return Object.defineProperty(ue,"fieldOfView",{enumerable:!0,get:function(){return Kt("VRFieldOfView","VRFrameData's projection matrices"),re}}),ue},Ai.prototype.onDeviceParamsUpdated_=function(W){this.config.DEBUG&&console.log("DPDB reported that device params were updated."),this.deviceInfo_.updateDeviceParams(W),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},Ai.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},Ai.prototype.beginPresent_=function(){var W=this.layer_.source.getContext("webgl");W||(W=this.layer_.source.getContext("experimental-webgl")),W||(W=this.layer_.source.getContext("webgl2")),W&&(this.layer_.predistorted?this.config.CARDBOARD_UI_DISABLED||(W.canvas.width=Fe()*this.bufferScale_,W.canvas.height=qe()*this.bufferScale_,this.cardboardUI_=new De(W)):(this.config.CARDBOARD_UI_DISABLED||(this.cardboardUI_=new De(W)),this.distorter_=new Bn(W,this.cardboardUI_,this.config.BUFFER_SCALE,this.config.DIRTY_SUBMIT_FRAME_BINDINGS),this.distorter_.updateDeviceInfo(this.deviceInfo_)),this.cardboardUI_&&this.cardboardUI_.listen((function(q){this.viewerSelector_.show(this.layer_.source.parentElement),q.stopPropagation(),q.preventDefault()}).bind(this),(function(q){this.exitPresent(),q.stopPropagation(),q.preventDefault()}).bind(this)),this.rotateInstructions_&&(Ke()&&je()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},Ai.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener("orientationchange",this.orientationHandler),window.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},Ai.prototype.updatePresent_=function(){this.endPresent_(),this.beginPresent_()},Ai.prototype.submitFrame=function(W){if(this.distorter_)this.updateBounds_(),this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var q=this.layer_.source.getContext("webgl");q||(q=this.layer_.source.getContext("experimental-webgl")),q||(q=this.layer_.source.getContext("webgl2"));var re=q.canvas;(re.width!=this.lastWidth||re.height!=this.lastHeight)&&this.cardboardUI_.onResize(),this.lastWidth=re.width,this.lastHeight=re.height,this.cardboardUI_.render()}},Ai.prototype.onOrientationChange_=function(W){this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},Ai.prototype.onResize_=function(W){if(this.layer_){var q=this.layer_.source.getContext("webgl");q||(q=this.layer_.source.getContext("experimental-webgl")),q||(q=this.layer_.source.getContext("webgl2"));var re=["position: absolute","top: 0","left: 0","width: 100vw","height: 100vh","border: 0","margin: 0","padding: 0px","box-sizing: content-box"];q.canvas.setAttribute("style",re.join("; ")+";"),Je(q.canvas)}},Ai.prototype.onViewerChanged_=function(W){this.deviceInfo_.setViewer(W),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},Ai.prototype.fireVRDisplayDeviceParamsChange_=function(){var W=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(W)},Ai.VRFrameData=ji,Ai.VRDisplay=sn,Ai})}),f=w(y),E="0.10.12",C={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",PROVIDE_MOBILE_VRDISPLAY:!0,MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1};function v(R){this.config=g(g({},C),R),this.polyfillDisplays=[],this.enabled=!1,this.hasNative="getVRDisplays"in navigator,this.native={},this.native.getVRDisplays=navigator.getVRDisplays,this.native.VRFrameData=window.VRFrameData,this.native.VRDisplay=window.VRDisplay,(!this.hasNative||this.config.PROVIDE_MOBILE_VRDISPLAY&&b())&&(this.enable(),this.getVRDisplays().then(function(F){F&&F[0]&&F[0].fireVRDisplayConnect_&&F[0].fireVRDisplayConnect_()}))}v.prototype.getPolyfillDisplays=function(){if(this._polyfillDisplaysPopulated)return this.polyfillDisplays;if(b()){var R=new f({ADDITIONAL_VIEWERS:this.config.ADDITIONAL_VIEWERS,DEFAULT_VIEWER:this.config.DEFAULT_VIEWER,MOBILE_WAKE_LOCK:this.config.MOBILE_WAKE_LOCK,DEBUG:this.config.DEBUG,DPDB_URL:this.config.DPDB_URL,CARDBOARD_UI_DISABLED:this.config.CARDBOARD_UI_DISABLED,K_FILTER:this.config.K_FILTER,PREDICTION_TIME_S:this.config.PREDICTION_TIME_S,ROTATE_INSTRUCTIONS_DISABLED:this.config.ROTATE_INSTRUCTIONS_DISABLED,YAW_ONLY:this.config.YAW_ONLY,BUFFER_SCALE:this.config.BUFFER_SCALE,DIRTY_SUBMIT_FRAME_BINDINGS:this.config.DIRTY_SUBMIT_FRAME_BINDINGS});this.polyfillDisplays.push(R)}return this._polyfillDisplaysPopulated=!0,this.polyfillDisplays},v.prototype.enable=function(){if(this.enabled=!0,this.hasNative&&this.native.VRFrameData){var R=this.native.VRFrameData,F=new this.native.VRFrameData,P=this.native.VRDisplay.prototype.getFrameData;window.VRDisplay.prototype.getFrameData=function(H){if(H instanceof R){P.call(this,H);return}P.call(this,F),H.pose=F.pose,d(F.leftProjectionMatrix,H.leftProjectionMatrix),d(F.rightProjectionMatrix,H.rightProjectionMatrix),d(F.leftViewMatrix,H.leftViewMatrix),d(F.rightViewMatrix,H.rightViewMatrix)}}navigator.getVRDisplays=this.getVRDisplays.bind(this),window.VRDisplay=f.VRDisplay,window.VRFrameData=f.VRFrameData},v.prototype.getVRDisplays=function(){var R=this;return this.config,this.hasNative?this.native.getVRDisplays.call(navigator).then(function(F){return F.length>0?F:R.getPolyfillDisplays()}):Promise.resolve(this.getPolyfillDisplays())},v.version=E,v.VRFrameData=f.VRFrameData,v.VRDisplay=f.VRDisplay;var x=Object.freeze({default:v}),T=x&&v||x;typeof p<"u"&&p.window&&(p.document||(p.document=p.window.document),p.navigator||(p.navigator=p.window.navigator));var L=T;return L})},"./node_modules/word-wrapper/index.js":M=>{var B=/\n/,u="\n",p=/\s/;M.exports=function(y,f){var E=M.exports.lines(y,f);return E.map(function(C){return y.substring(C.start,C.end)}).join("\n")},M.exports.lines=function(f,E){if(E=E||{},E.width===0&&E.mode!=="nowrap")return[];f=f||"";var C=typeof E.width=="number"?E.width:Number.MAX_VALUE,v=Math.max(0,E.start||0),x=typeof E.end=="number"?E.end:f.length,T=E.mode,L=E.measure||g;return T==="pre"?b(L,f,v,x,C):d(L,f,v,x,C,T)};function w(y,f,E,C){var v=y.indexOf(f,E);return v===-1||v>C?C:v}function A(y){return p.test(y)}function b(y,f,E,C,v){for(var x=[],T=E,L=E;L<C&&L<f.length;L++){var R=f.charAt(L),F=B.test(R);if(F||L===C-1){var P=F?L:L+1,H=y(f,T,P,v);x.push(H),T=L+1}}return x}function d(y,f,E,C,v,x){var T=[],L=v;for(x==="nowrap"&&(L=Number.MAX_VALUE);E<C&&E<f.length;){for(var R=w(f,u,E,C);E<R&&A(f.charAt(E));)E++;var F=y(f,E,R,L),P=E+(F.end-F.start),H=P+u.length;if(P<R){for(;P>E&&!A(f.charAt(P));)P--;if(P===E)H>E+u.length&&H--,P=H;else for(H=P;P>E&&A(f.charAt(P-u.length));)P--}if(P>=E){var $=y(f,E,P,L);T.push($)}E=H}return T}function g(y,f,E,C){var v=Math.min(C,E-f);return{start:f,end:f+v}}},"./node_modules/xhr/index.js":(M,B,u)=>{var p=u("./node_modules/global/window.js"),w=u("./node_modules/is-function/index.js"),A=u("./node_modules/parse-headers/parse-headers.js"),b=u("./node_modules/xtend/immutable.js");M.exports=f,M.exports.default=f,f.XMLHttpRequest=p.XMLHttpRequest||v,f.XDomainRequest="withCredentials"in new f.XMLHttpRequest?f.XMLHttpRequest:p.XDomainRequest,d(["get","put","post","patch","head","delete"],function(x){f[x==="delete"?"del":x]=function(T,L,R){return L=y(T,L,R),L.method=x.toUpperCase(),E(L)}});function d(x,T){for(var L=0;L<x.length;L++)T(x[L])}function g(x){for(var T in x)if(x.hasOwnProperty(T))return!1;return!0}function y(x,T,L){var R=x;return w(T)?(L=T,typeof x=="string"&&(R={uri:x})):R=b(T,{uri:x}),R.callback=L,R}function f(x,T,L){return T=y(x,T,L),E(T)}function E(x){if(typeof x.callback>"u")throw new Error("callback argument missing");var T=!1,L=function(ke,Ke,Xe){T||(T=!0,x.callback(ke,Ke,Xe))};function R(){$.readyState===4&&setTimeout(H,0)}function F(){var Re=void 0;if($.response?Re=$.response:Re=$.responseText||C($),se)try{Re=JSON.parse(Re)}catch(ke){}return Re}function P(Re){return clearTimeout(ae),Re instanceof Error||(Re=new Error(""+(Re||"Unknown XMLHttpRequest Error"))),Re.statusCode=0,L(Re,be)}function H(){if(!ee){var Re;clearTimeout(ae),x.useXDR&&$.status===void 0?Re=200:Re=$.status===1223?204:$.status;var ke=be,Ke=null;return Re!==0?(ke={body:F(),statusCode:Re,method:ie,headers:{},url:de,rawRequest:$},$.getAllResponseHeaders&&(ke.headers=A($.getAllResponseHeaders()))):Ke=new Error("Internal XMLHttpRequest Error"),L(Ke,ke,ke.body)}}var $=x.xhr||null;$||(x.cors||x.useXDR?$=new f.XDomainRequest:$=new f.XMLHttpRequest);var te,ee,de=$.url=x.uri||x.url,ie=$.method=x.method||"GET",ne=x.body||x.data,X=$.headers=x.headers||{},z=!!x.sync,se=!1,ae,be={body:void 0,headers:{},statusCode:0,method:ie,url:de,rawRequest:$};if("json"in x&&x.json!==!1&&(se=!0,X.accept||X.Accept||(X.Accept="application/json"),ie!=="GET"&&ie!=="HEAD"&&(X["content-type"]||X["Content-Type"]||(X["Content-Type"]="application/json"),ne=JSON.stringify(x.json===!0?ne:x.json))),$.onreadystatechange=R,$.onload=H,$.onerror=P,$.onprogress=function(){},$.onabort=function(){ee=!0},$.ontimeout=P,$.open(ie,de,!z,x.username,x.password),z||($.withCredentials=!!x.withCredentials),!z&&x.timeout>0&&(ae=setTimeout(function(){if(!ee){ee=!0,$.abort("timeout");var Re=new Error("XMLHttpRequest timeout");Re.code="ETIMEDOUT",P(Re)}},x.timeout)),$.setRequestHeader)for(te in X)X.hasOwnProperty(te)&&$.setRequestHeader(te,X[te]);else if(x.headers&&!g(x.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in x&&($.responseType=x.responseType),"beforeSend"in x&&typeof x.beforeSend=="function"&&x.beforeSend($),$.send(ne||null),$}function C(x){try{if(x.responseType==="document")return x.responseXML;var T=x.responseXML&&x.responseXML.documentElement.nodeName==="parsererror";if(x.responseType===""&&!T)return x.responseXML}catch(L){}return null}function v(){}},"./node_modules/xml-parse-from-string/index.js":M=>{M.exports=function(){return typeof self.DOMParser<"u"?function(u){var p=new self.DOMParser;return p.parseFromString(u,"application/xml")}:typeof self.ActiveXObject<"u"&&new self.ActiveXObject("Microsoft.XMLDOM")?function(u){var p=new self.ActiveXObject("Microsoft.XMLDOM");return p.async="false",p.loadXML(u),p}:function(u){var p=document.createElement("div");return p.innerHTML=u,p}}()},"./node_modules/xtend/immutable.js":M=>{M.exports=u;var B=Object.prototype.hasOwnProperty;function u(){for(var p={},w=0;w<arguments.length;w++){var A=arguments[w];for(var b in A)B.call(A,b)&&(p[b]=A[b])}return p}},"./src/components/anchored.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/utils/index.js"),A=w.debug("components:anchored:warn");M.exports.Component=p("anchored",{schema:{persistent:{default:!1}},init:function(){var d=this.el.sceneEl,g=d.getAttribute("webxr"),y=g.optionalFeatures;y.indexOf("anchors")===-1&&(y.push("anchors"),this.el.sceneEl.setAttribute("webxr",g)),this.auxQuaternion=new THREE.Quaternion,this.onEnterVR=this.onEnterVR.bind(this),this.el.sceneEl.addEventListener("enter-vr",this.onEnterVR)},onEnterVR:function(){this.anchor=void 0,this.requestPersistentAnchorPending=this.data.persistent,this.requestAnchorPending=!this.data.persistent},tick:function(){var d=this.el.sceneEl,g=d.renderer.xr,y,f,E,C=this.el.object3D;!d.is("ar-mode")&&!d.is("vr-mode")||(!this.anchor&&this.requestPersistentAnchorPending&&this.restorePersistentAnchor(),!this.anchor&&this.requestAnchorPending&&this.createAnchor(),this.anchor&&(y=d.frame,f=g.getReferenceSpace(),E=y.getPose(this.anchor.anchorSpace,f),C.matrix.elements=E.transform.matrix,C.matrix.decompose(C.position,C.rotation,C.scale)))},createAnchor:async function(g,y){var f=this.el.sceneEl,E=f.renderer.xr,C,v,x,T,L=this.el.object3D;if(g=g||L.position,y=y||this.auxQuaternion.setFromEuler(L.rotation),!b(f)){A("This browser doesn't support the WebXR anchors module");return}this.anchor&&this.deleteAnchor(),C=f.frame,v=E.getReferenceSpace(),x=new XRRigidTransform({x:g.x,y:g.y,z:g.z},{x:y.x,y:y.y,z:y.z,w:y.w}),this.requestAnchorPending=!1,T=await C.createAnchor(x,v),this.data.persistent&&(this.el.id?(this.persistentHandle=await T.requestPersistentHandle(),localStorage.setItem(this.el.id,this.persistentHandle)):A("The anchor won't be persisted because the entity has no assigned id.")),f.object3D.attach(this.el.object3D),this.anchor=T},restorePersistentAnchor:async function(){var g=this.el.sceneEl.renderer.xr,y=g.getSession(),f=y.persistentAnchors,E;if(this.requestPersistentAnchorPending=!1,!this.el.id){A("The entity associated to the persistent anchor cannot be retrieved because it doesn't have an assigned id."),this.requestAnchorPending=!0;return}if(f){E=localStorage.getItem(this.el.id);for(var C=0;C<f.length;++C)if(E===f[C]){this.anchor=await y.restorePersistentAnchor(f[C]),this.anchor&&(this.persistentHandle=f[C]);break}this.anchor||(this.requestAnchorPending=!0)}else this.requestPersistentAnchorPending=!0},deleteAnchor:function(){var d,g,y=this.anchor;y&&(d=this.el.sceneEl.renderer.xr,g=d.getSession(),y.delete(),this.el.sceneEl.object3D.add(this.el.object3D),this.persistentHandle&&g.deletePersistentAnchor(this.persistentHandle),this.anchor=void 0)}});function b(d){var g=d.renderer.xr,y=g.getSession();return y&&y.restorePersistentAnchor}},"./src/components/animation.js":(M,B,u)=>{var p=u("./node_modules/super-animejs/lib/anime.es.js").default,w=u("./src/core/component.js").components,A=u("./src/core/component.js").registerComponent,b=u("./src/lib/three.js"),d=u("./src/utils/index.js"),g=new b.Color,y=new b.Color,f=d.entity.getComponentProperty,E=d.entity.setComponentProperty,C={},v="color",x="position",T="rotation",L="scale",R="components",F="object3D";M.exports.Component=A("animation",{schema:{autoplay:{default:!0},delay:{default:0},dir:{default:""},dur:{default:1e3},easing:{default:"easeInQuad"},elasticity:{default:400},enabled:{default:!0},from:{default:""},loop:{default:0,parse:function(X){return X===!0||X==="true"?!0:X===!1||X==="false"?!1:parseInt(X,10)}},property:{default:""},startEvents:{type:"array"},pauseEvents:{type:"array"},resumeEvents:{type:"array"},round:{default:!1},to:{default:""},type:{default:""},isRawProperty:{default:!1}},multiple:!0,init:function(){var X=this;this.eventDetail={name:this.attrName},this.time=0,this.animation=null,this.animationIsPlaying=!1,this.onStartEvent=this.onStartEvent.bind(this),this.beginAnimation=this.beginAnimation.bind(this),this.pauseAnimation=this.pauseAnimation.bind(this),this.resumeAnimation=this.resumeAnimation.bind(this),this.fromColor={},this.toColor={},this.targets={},this.targetsArray=[],this.updateConfigForDefault=this.updateConfigForDefault.bind(this),this.updateConfigForRawColor=this.updateConfigForRawColor.bind(this),this.config={complete:function(){X.animationIsPlaying=!1,X.el.emit("animationcomplete",X.eventDetail,!1),X.id&&X.el.emit("animationcomplete__"+X.id,X.eventDetail,!1)}}},update:function(X){var z=this.config,se=this.data;this.animationIsPlaying=!1,this.data.enabled&&se.property&&(z.autoplay=!1,z.direction=se.dir,z.duration=se.dur,z.easing=se.easing,z.elasticity=se.elasticity,z.loop=se.loop,z.round=se.round,this.createAndStartAnimation())},tick:function(X,z){this.animationIsPlaying&&(this.time+=z,this.animation.tick(this.time))},remove:function(){this.pauseAnimation(),this.removeEventListeners()},pause:function(){this.paused=!0,this.pausedWasPlaying=this.animationIsPlaying,this.pauseAnimation(),this.removeEventListeners()},play:function(){this.paused&&(this.paused=!1,this.addEventListeners(),this.pausedWasPlaying&&(this.resumeAnimation(),this.pausedWasPlaying=!1))},createAndStartAnimation:function(){var X=this.data;if(this.updateConfig(),this.animationIsPlaying=!1,this.animation=p(this.config),this.animation.began=!0,this.removeEventListeners(),this.addEventListeners(),!(!X.autoplay||X.startEvents&&X.startEvents.length)){if(X.delay){setTimeout(this.beginAnimation,X.delay);return}this.beginAnimation()}},beginAnimation:function(){this.updateConfig(),this.animation.began=!0,this.time=0,this.animationIsPlaying=!0,this.stopRelatedAnimations(),this.el.emit("animationbegin",this.eventDetail,!1)},pauseAnimation:function(){this.animationIsPlaying=!1},resumeAnimation:function(){this.animationIsPlaying=!0},onStartEvent:function(){if(this.data.enabled){if(this.updateConfig(),this.animation&&this.animation.pause(),this.animation=p(this.config),this.data.delay){setTimeout(this.beginAnimation,this.data.delay);return}this.beginAnimation()}},updateConfigForRawColor:function(){var X=this.config,z=this.data,se=this.el,ae,be,Re;if(!this.waitComponentInitRawProperty(this.updateConfigForRawColor)){ae=z.from===""?ee(se,z.property):z.from,Re=z.to,this.setColorConfig(ae,Re),ae=this.fromColor,Re=this.toColor,this.targetsArray.length=0,this.targetsArray.push(ae),X.targets=this.targetsArray;for(be in Re)X[be]=Re[be];X.update=function(){var ke={};return function(Ke){var Xe;Xe=Ke.animatables[0].target,!(Xe.r===ke.r&&Xe.g===ke.g&&Xe.b===ke.b)&&de(se,z.property,Xe,z.type)}}()}},updateConfigForDefault:function(){var X=this.config,z=this.data,se=this.el,ae,be,Re,ke;this.waitComponentInitRawProperty(this.updateConfigForDefault)||(z.from===""?ae=ne(z)?ee(se,z.property):f(se,z.property):ae=z.from,ke=z.to,Re=!isNaN(ae||ke),Re?(ae=parseFloat(ae),ke=parseFloat(ke)):(ae=ae&&ae.toString(),ke=ke&&ke.toString()),be=z.to==="true"||z.to==="false"||z.to===!0||z.to===!1,be&&(ae=z.from==="true"||z.from===!0?1:0,ke=z.to==="true"||z.to===!0?1:0),this.targets.aframeProperty=ae,X.targets=this.targets,X.aframeProperty=ke,X.update=function(){var Ke;return function(Xe){var Fe;Fe=Xe.animatables[0].target.aframeProperty,Fe!==Ke&&(Ke=Fe,be&&(Fe=Fe>=1),ne(z)?de(se,z.property,Fe,z.type):E(se,z.property,Fe))}}())},updateConfigForVector:function(){var X=this.config,z=this.data,se=this.el,ae,be,Re;be=z.from!==""?d.coordinates.parse(z.from):f(se,z.property),Re=d.coordinates.parse(z.to),z.property===T&&(H(be),H(Re)),this.targetsArray.length=0,this.targetsArray.push(be),X.targets=this.targetsArray;for(ae in Re)X[ae]=Re[ae];if(z.property===x||z.property===T||z.property===L){X.update=function(){var ke={};return function(Ke){var Xe=Ke.animatables[0].target;Xe.x===ke.x&&Xe.y===ke.y&&Xe.z===ke.z||(ke.x=Xe.x,ke.y=Xe.y,ke.z=Xe.z,se.object3D[z.property].set(Xe.x,Xe.y,Xe.z))}}();return}X.update=function(){var ke={};return function(Ke){var Xe=Ke.animatables[0].target;Xe.x===ke.x&&Xe.y===ke.y&&Xe.z===ke.z||(ke.x=Xe.x,ke.y=Xe.y,ke.z=Xe.z,E(se,z.property,Xe))}}()},updateConfig:function(){var X;X=P(this.el,this.data.property),ne(this.data)&&this.data.type===v?this.updateConfigForRawColor():X==="vec2"||X==="vec3"||X==="vec4"?this.updateConfigForVector():this.updateConfigForDefault()},waitComponentInitRawProperty:function(X){var z,se=this.data,ae=this.el,be=this;return se.from!==""||!se.property.startsWith(R)||(z=ie(se.property)[1],ae.components[z])?!1:(ae.addEventListener("componentinitialized",function Re(ke){ke.detail.name===z&&(X(),be.animation=p(be.config),ae.removeEventListener("componentinitialized",Re))}),!0)},stopRelatedAnimations:function(){var X,z;for(z in this.el.components)X=this.el.components[z],z!==this.attrName&&X.name==="animation"&&X.animationIsPlaying&&X.data.property===this.data.property&&(X.animationIsPlaying=!1)},addEventListeners:function(){var X=this.data,z=this.el;$(z,X.startEvents,this.onStartEvent),$(z,X.pauseEvents,this.pauseAnimation),$(z,X.resumeEvents,this.resumeAnimation)},removeEventListeners:function(){var X=this.data,z=this.el;te(z,X.startEvents,this.onStartEvent),te(z,X.pauseEvents,this.pauseAnimation),te(z,X.resumeEvents,this.resumeAnimation)},setColorConfig:function(X,z){g.set(X),y.set(z),X=this.fromColor,z=this.toColor,X.r=g.r,X.g=g.g,X.b=g.b,z.r=y.r,z.g=y.g,z.b=y.b}});function P(X,z){var se,ae,be,Re;return be=z.split("."),ae=be[0],Re=be[1],se=X.components[ae]||w[ae],!se||Re&&!se.schema[Re]?null:Re?se.schema[Re].type:se.schema.type}function H(X){X.x=b.MathUtils.degToRad(X.x),X.y=b.MathUtils.degToRad(X.y),X.z=b.MathUtils.degToRad(X.z)}function $(X,z,se){var ae;for(ae=0;ae<z.length;ae++)X.addEventListener(z[ae],se)}function te(X,z,se){var ae;for(ae=0;ae<z.length;ae++)X.removeEventListener(z[ae],se)}function ee(X,z){var se,ae,be;for(ae=ie(z),be=X,se=0;se<ae.length;se++)be=be[ae[se]];if(be===void 0)throw console.log(X),new Error("[animation] property ("+z+") could not be found");return be}function de(X,z,se,ae){var be,Re,ke,Ke;for(z.startsWith("object3D.rotation")&&(se=b.MathUtils.degToRad(se)),Re=ie(z),Ke=X,be=0;be<Re.length-1;be++)Ke=Ke[Re[be]];if(ke=Re[Re.length-1],ae===v){"r"in Ke[ke]?(Ke[ke].r=se.r,Ke[ke].g=se.g,Ke[ke].b=se.b):(Ke[ke].x=se.r,Ke[ke].y=se.g,Ke[ke].z=se.b);return}Ke[ke]=se}function ie(X){return X in C||(C[X]=X.split(".")),C[X]}function ne(X){return X.isRawProperty||X.property.startsWith(R)||X.property.startsWith(F)}},"./src/components/camera.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/lib/three.js");M.exports.Component=p("camera",{schema:{active:{default:!0},far:{default:1e4},fov:{default:80,min:0},near:{default:.005,min:0},spectator:{default:!1},zoom:{default:1,min:0}},init:function(){var A,b=this.el;A=this.camera=new w.PerspectiveCamera,b.setObject3D("camera",A)},update:function(A){var b=this.data,d=this.camera;d.aspect=b.aspect||window.innerWidth/window.innerHeight,d.far=b.far,d.fov=b.fov,d.near=b.near,d.zoom=b.zoom,d.updateProjectionMatrix(),this.updateActiveCamera(A),this.updateSpectatorCamera(A)},updateActiveCamera:function(A){var b=this.data,d=this.el,g=this.system;A&&A.active===b.active||b.spectator||(b.active&&g.activeCameraEl!==d?g.setActiveCamera(d):!b.active&&g.activeCameraEl===d&&g.disableActiveCamera())},updateSpectatorCamera:function(A){var b=this.data,d=this.el,g=this.system;A&&A.spectator===b.spectator||(b.spectator&&g.spectatorCameraEl!==d?g.setSpectatorCamera(d):!b.spectator&&g.spectatorCameraEl===d&&g.disableSpectatorCamera())},remove:function(){this.el.removeObject3D("camera")}})},"./src/components/cursor.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/utils/index.js"),A={CLICK:"click",FUSING:"fusing",MOUSEENTER:"mouseenter",MOUSEDOWN:"mousedown",MOUSELEAVE:"mouseleave",MOUSEUP:"mouseup"},b={FUSING:"cursor-fusing",HOVERING:"cursor-hovering",HOVERED:"cursor-hovered"},d={DOWN:["mousedown","touchstart"],UP:["mouseup","touchend"]},g={DOWN:["selectstart"],UP:["selectend"]},y="a-mouse-cursor-hover";M.exports.Component=p("cursor",{dependencies:["raycaster"],schema:{downEvents:{default:[]},fuse:{default:w.device.isMobile()},fuseTimeout:{default:1500,min:0},mouseCursorStylesEnabled:{default:!0},upEvents:{default:[]},rayOrigin:{default:"entity",oneOf:["mouse","entity","xrselect"]}},after:["tracked-controls"],multiple:!0,init:function(){var f=this;this.fuseTimeout=void 0,this.cursorDownEl=null,this.intersectedEl=null,this.canvasBounds=document.body.getBoundingClientRect(),this.isCursorDown=!1,this.activeXRInput=null,this.updateCanvasBounds=w.debounce(function(){f.canvasBounds=f.el.sceneEl.canvas.getBoundingClientRect()},500),this.eventDetail={},this.intersectedEventDetail={cursorEl:this.el},this.onCursorDown=this.onCursorDown.bind(this),this.onCursorUp=this.onCursorUp.bind(this),this.onIntersection=this.onIntersection.bind(this),this.onIntersectionCleared=this.onIntersectionCleared.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onEnterVR=this.onEnterVR.bind(this)},update:function(f){this.data.rayOrigin!==f.rayOrigin&&this.updateMouseEventListeners()},tick:function(){var f=this.el.sceneEl.frame,E=this.activeXRInput;this.data.rayOrigin==="xrselect"&&f&&E&&this.onMouseMove({frame:f,inputSource:E,type:"fakeselectevent"})},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){var f=this.el;f.removeState(b.HOVERING),f.removeState(b.FUSING),clearTimeout(this.fuseTimeout),this.intersectedEl&&this.intersectedEl.removeState(b.HOVERED),this.removeEventListeners()},addEventListeners:function(){var f,E=this.data,C=this.el,v=this;function x(){f=C.sceneEl.canvas,!(E.downEvents.length||E.upEvents.length)&&(d.DOWN.forEach(function(T){f.addEventListener(T,v.onCursorDown,{passive:!1})}),d.UP.forEach(function(T){f.addEventListener(T,v.onCursorUp,{passive:!1})}))}f=C.sceneEl.canvas,f?x():C.sceneEl.addEventListener("render-target-loaded",x),E.downEvents.forEach(function(T){C.addEventListener(T,v.onCursorDown)}),E.upEvents.forEach(function(T){C.addEventListener(T,v.onCursorUp)}),C.addEventListener("raycaster-intersection",this.onIntersection),C.addEventListener("raycaster-closest-entity-changed",this.onIntersection),C.addEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),C.sceneEl.addEventListener("rendererresize",this.updateCanvasBounds),C.sceneEl.addEventListener("enter-vr",this.onEnterVR),window.addEventListener("resize",this.updateCanvasBounds),window.addEventListener("scroll",this.updateCanvasBounds),this.updateMouseEventListeners()},removeEventListeners:function(){var f,E=this.data,C=this.el,v=this;f=C.sceneEl.canvas,f&&!E.downEvents.length&&!E.upEvents.length&&(d.DOWN.forEach(function(x){f.removeEventListener(x,v.onCursorDown)}),d.UP.forEach(function(x){f.removeEventListener(x,v.onCursorUp)})),E.downEvents.forEach(function(x){C.removeEventListener(x,v.onCursorDown)}),E.upEvents.forEach(function(x){C.removeEventListener(x,v.onCursorUp)}),C.removeEventListener("raycaster-intersection",this.onIntersection),C.removeEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),f.removeEventListener("mousemove",this.onMouseMove),f.removeEventListener("touchstart",this.onMouseMove),f.removeEventListener("touchmove",this.onMouseMove),C.sceneEl.removeEventListener("rendererresize",this.updateCanvasBounds),C.sceneEl.removeEventListener("enter-vr",this.onEnterVR),window.removeEventListener("resize",this.updateCanvasBounds),window.removeEventListener("scroll",this.updateCanvasBounds)},updateMouseEventListeners:function(){var f,E=this.el;f=E.sceneEl.canvas,f.removeEventListener("mousemove",this.onMouseMove),f.removeEventListener("touchmove",this.onMouseMove),E.setAttribute("raycaster","useWorldCoordinates",!1),this.data.rayOrigin==="mouse"&&(f.addEventListener("mousemove",this.onMouseMove),f.addEventListener("touchmove",this.onMouseMove,{passive:!1}),E.setAttribute("raycaster","useWorldCoordinates",!0),this.updateCanvasBounds())},onMouseMove:function(){var f=new THREE.Vector3,E=new THREE.Vector2,C=new THREE.Vector3,v={origin:C,direction:f};return function(x){var T=this.canvasBounds,L=this.el.sceneEl.camera,R,F,P,H,$,te,ee,de;L.parent.updateMatrixWorld(),x.type==="touchmove"||x.type==="touchstart"?F=x.touches.item(0):F=x,R=F.clientX-T.left,P=F.clientY-T.top,E.x=R/T.width*2-1,E.y=-(P/T.height)*2+1,this.data.rayOrigin==="xrselect"&&(x.type==="selectstart"||x.type==="fakeselectevent")?(H=x.frame,$=x.inputSource,te=this.el.renderer.xr.getReferenceSpace(),ee=H.getPose($.targetRaySpace,te),de=ee.transform,f.set(0,0,-1),f.applyQuaternion(de.orientation),C.copy(de.position)):x.type==="fakeselectout"?(f.set(0,1,0),C.set(0,9999,0)):L&&L.isPerspectiveCamera?(C.setFromMatrixPosition(L.matrixWorld),f.set(E.x,E.y,.5).unproject(L).sub(C).normalize()):L&&L.isOrthographicCamera?(C.set(E.x,E.y,(L.near+L.far)/(L.near-L.far)).unproject(L),f.set(0,0,-1).transformDirection(L.matrixWorld)):console.error("AFRAME.Raycaster: Unsupported camera type: "+L.type),this.el.setAttribute("raycaster",v),x.type==="touchmove"&&x.preventDefault()}}(),onCursorDown:function(f){this.isCursorDown=!0,this.data.rayOrigin==="mouse"&&f.type==="touchstart"&&(this.onMouseMove(f),this.el.components.raycaster.checkIntersections(),f.preventDefault()),this.data.rayOrigin==="xrselect"&&f.type==="selectstart"&&(this.activeXRInput=f.inputSource,this.onMouseMove(f),this.el.components.raycaster.checkIntersections(),this.el.components.raycaster.intersectedEls.length&&this.el.sceneEl.components["ar-hit-test"]!==void 0&&this.el.sceneEl.getAttribute("ar-hit-test").enabled&&(this.el.sceneEl.setAttribute("ar-hit-test","enabled",!1),this.reenableARHitTest=!0)),this.twoWayEmit(A.MOUSEDOWN,f),this.cursorDownEl=this.intersectedEl},onCursorUp:function(f){if(this.isCursorDown){this.isCursorDown=!1;var E=this.data;this.twoWayEmit(A.MOUSEUP,f),this.reenableARHitTest===!0&&(this.el.sceneEl.setAttribute("ar-hit-test","enabled",!0),this.reenableARHitTest=void 0),this.cursorDownEl&&this.cursorDownEl!==this.intersectedEl&&(this.intersectedEventDetail.intersection=null,this.cursorDownEl.emit(A.MOUSEUP,this.intersectedEventDetail)),(!E.fuse||E.rayOrigin==="mouse"||E.rayOrigin==="xrselect")&&this.intersectedEl&&this.cursorDownEl===this.intersectedEl&&this.twoWayEmit(A.CLICK,f),E.rayOrigin==="xrselect"&&this.activeXRInput===f.inputSource&&this.onMouseMove({type:"fakeselectout"}),this.activeXRInput=null,this.cursorDownEl=null,f.type==="touchend"&&f.preventDefault()}},onIntersection:function(f){var E,C=this.el,v,x,T;v=f.detail.els[0]===C?1:0,T=f.detail.intersections[v],x=f.detail.els[v],x&&this.intersectedEl!==x&&(this.intersectedEl&&(E=this.el.components.raycaster.getIntersection(this.intersectedEl),E&&E.distance<=T.distance)||(this.clearCurrentIntersection(!0),this.setIntersection(x,T)))},onIntersectionCleared:function(f){var E=f.detail.clearedEls;E.indexOf(this.intersectedEl)!==-1&&this.clearCurrentIntersection()},onEnterVR:function(){this.clearCurrentIntersection(!0);var f=this.el.sceneEl.xrSession,E=this;f&&this.data.rayOrigin!=="mouse"&&(g.DOWN.forEach(function(C){f.addEventListener(C,E.onCursorDown)}),g.UP.forEach(function(C){f.addEventListener(C,E.onCursorUp)}))},setIntersection:function(f,E){var C=this.el,v=this.data,x=this;this.intersectedEl!==f&&(this.intersectedEl=f,C.addState(b.HOVERING),f.addState(b.HOVERED),this.twoWayEmit(A.MOUSEENTER),this.data.mouseCursorStylesEnabled&&this.data.rayOrigin==="mouse"&&this.el.sceneEl.canvas.classList.add(y),!(v.fuseTimeout===0||!v.fuse||v.rayOrigin==="xrselect"||v.rayOrigin==="mouse")&&(C.addState(b.FUSING),this.twoWayEmit(A.FUSING),this.fuseTimeout=setTimeout(function(){C.removeState(b.FUSING),x.twoWayEmit(A.CLICK)},v.fuseTimeout)))},clearCurrentIntersection:function(f){var E,C,v,x=this.el;this.intersectedEl&&(this.intersectedEl.removeState(b.HOVERED),x.removeState(b.HOVERING),x.removeState(b.FUSING),this.twoWayEmit(A.MOUSELEAVE),this.data.mouseCursorStylesEnabled&&this.data.rayOrigin==="mouse"&&this.el.sceneEl.canvas.classList.remove(y),this.intersectedEl=null,clearTimeout(this.fuseTimeout),f!==!0&&(v=this.el.components.raycaster.intersections,v.length!==0&&(E=v[0].object.el===x?1:0,C=v[E],C&&this.setIntersection(C.object.el,C))))},twoWayEmit:function(f,E){var C=this.el,v=this.intersectedEl,x;function T(L,R){E instanceof MouseEvent?L.mouseEvent=E:typeof TouchEvent<"u"&&E instanceof TouchEvent&&(L.touchEvent=E)}x=this.el.components.raycaster.getIntersection(v),this.eventDetail.intersectedEl=v,this.eventDetail.intersection=x,T(this.eventDetail),C.emit(f,this.eventDetail),v&&(this.intersectedEventDetail.intersection=x,T(this.intersectedEventDetail),v.emit(f,this.intersectedEventDetail))}})},"./src/components/generic-tracked-controller-controls.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/utils/tracked-controls.js"),A=w.checkControllerPresentAndSetup,b=w.emitIfAxesChanged,d=w.onButtonEvent,g="generic",y={axes:{touchpad:[0,1],thumbstick:[2,3]},buttons:["trigger","squeeze","touchpad","thumbstick"]};M.exports.Component=p("generic-tracked-controller-controls",{schema:{hand:{default:""},defaultModel:{default:!0},defaultModelColor:{default:"gray"},orientationOffset:{type:"vec3"},disabled:{default:!1}},after:["tracked-controls"],mapping:y,bindMethods:function(){this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},init:function(){var f=this;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(E){d(E.detail.id,"down",f)},this.onButtonUp=function(E){d(E.detail.id,"up",f)},this.onButtonTouchStart=function(E){d(E.detail.id,"touchstart",f)},this.onButtonTouchEnd=function(E){d(E.detail.id,"touchend",f)},this.controllerPresent=!1,this.wasControllerConnected=!1,this.lastControllerCheck=0,this.bindMethods(),this.el.addEventListener("controllerconnected",function(E){E.detail.name!==f.name&&(f.wasControllerConnected=!0,f.removeEventListeners(),f.removeControllersUpdateListener())})},addEventListeners:function(){var f=this.el;f.addEventListener("buttonchanged",this.onButtonChanged),f.addEventListener("buttondown",this.onButtonDown),f.addEventListener("buttonup",this.onButtonUp),f.addEventListener("touchstart",this.onButtonTouchStart),f.addEventListener("touchend",this.onButtonTouchEnd),f.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var f=this.el;f.removeEventListener("buttonchanged",this.onButtonChanged),f.removeEventListener("buttondown",this.onButtonDown),f.removeEventListener("buttonup",this.onButtonUp),f.removeEventListener("touchstart",this.onButtonTouchStart),f.removeEventListener("touchend",this.onButtonTouchEnd),f.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var f=this.data,E=f.hand?f.hand:void 0;A(this,g,{hand:E,iterateControllerProfiles:!0})},play:function(){this.wasControllerConnected||(this.checkIfControllerPresent(),this.addControllersUpdateListener())},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var f=this.el,E=this.data;if(this.el.components["tracked-controls"]){this.removeEventListeners();return}f.setAttribute("tracked-controls",{hand:E.hand,idPrefix:g,orientationOffset:E.orientationOffset,iterateControllerProfiles:!0}),this.data.defaultModel&&this.initDefaultModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.wasControllerConnected&&this.checkIfControllerPresent()},onButtonChanged:function(f){var E=this.mapping.buttons[f.detail.id];E&&this.el.emit(E+"changed",f.detail.state)},onAxisMoved:function(f){b(this,this.mapping.axes,f)},initDefaultModel:function(){var f=this.modelEl=document.createElement("a-entity");f.setAttribute("geometry",{primitive:"sphere",radius:.03}),f.setAttribute("material",{color:this.data.color}),this.el.appendChild(f),this.el.emit("controllermodelready",{name:"generic-tracked-controller-controls",model:this.modelEl,rayOrigin:{origin:{x:0,y:0,z:-.01},direction:{x:0,y:0,z:-1}}})}})},"./src/components/geometry.js":(M,B,u)=>{var p=u("./src/core/geometry.js").geometries,w=u("./src/core/geometry.js").geometryNames,A=u("./src/core/component.js").registerComponent,b=u("./src/lib/three.js"),d=new b.BufferGeometry;M.exports.Component=A("geometry",{schema:{buffer:{default:!0},primitive:{default:"box",oneOf:w,schemaChange:!0},skipCache:{default:!1}},init:function(){this.geometry=null},update:function(g){var y=this.data,f=this.el,E,C=this.system;this.geometry&&(C.unuseGeometry(g),this.geometry=null),this.geometry=C.getOrCreateGeometry(y),E=f.getObject3D("mesh"),E?E.geometry=this.geometry:(E=new b.Mesh,E.geometry=this.geometry,this.el.getAttribute("material")||(E.material=new b.MeshStandardMaterial({color:Math.random()*16777215,metalness:0,roughness:.5})),f.setObject3D("mesh",E))},remove:function(){this.system.unuseGeometry(this.data),this.el.getObject3D("mesh").geometry=d,this.geometry=null},updateSchema:function(g){var y=this.oldData&&this.oldData.primitive,f=g.primitive,E=p[f]&&p[f].schema;if(!E)throw new Error("Unknown geometry schema `"+f+"`");y&&y===f||this.extendSchema(E)}})},"./src/components/gltf-model.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/lib/three.js"),A=u("./src/utils/index.js"),b=A.debug("components:gltf-model:warn");M.exports.Component=p("gltf-model",{schema:{type:"model"},init:function(){var d=this,g=this.system.getDRACOLoader(),y=this.system.getMeshoptDecoder(),f=this.system.getKTX2Loader();this.model=null,this.loader=new w.GLTFLoader,g&&this.loader.setDRACOLoader(g),y?this.ready=y.then(function(E){d.loader.setMeshoptDecoder(E)}):this.ready=Promise.resolve(),f&&this.loader.setKTX2Loader(f)},update:function(){var d=this,g=this.el,y=this.data;y&&(this.remove(),this.ready.then(function(){d.loader.load(y,function(E){d.model=E.scene||E.scenes[0],d.model.animations=E.animations,g.setObject3D("mesh",d.model),g.emit("model-loaded",{format:"gltf",model:d.model})},void 0,function(E){var C=E&&E.message?E.message:"Failed to load glTF model";b(C),g.emit("model-error",{format:"gltf",src:y})})}))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},"./src/components/grabbable.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent;p("grabbable",{init:function(){this.el.setAttribute("obb-collider","centerModel: true")}})},"./src/components/hand-controls.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/constants/index.js").AFRAME_CDN_ROOT,A={toonLeft:w+"controllers/hands/leftHand.glb",toonRight:w+"controllers/hands/rightHand.glb",lowPolyLeft:w+"controllers/hands/leftHandLow.glb",lowPolyRight:w+"controllers/hands/rightHandLow.glb",highPolyLeft:w+"controllers/hands/leftHandHigh.glb",highPolyRight:w+"controllers/hands/rightHandHigh.glb"},b={open:"Open",point:"Point",pointThumb:"Point + Thumb",fist:"Fist",hold:"Hold",thumbUp:"Thumb Up"},d={};d[b.fist]="grip",d[b.thumbUp]="pistol",d[b.point]="pointing",M.exports.Component=p("hand-controls",{schema:{color:{default:"white",type:"color"},hand:{default:"left"},handModelStyle:{default:"lowPoly",oneOf:["lowPoly","highPoly","toon"]}},after:["tracked-controls"],init:function(){var f=this,E=this.el;this.pressedButtons={},this.touchedButtons={},this.loader=new THREE.GLTFLoader,this.loader.setCrossOrigin("anonymous"),this.onGripDown=function(){f.handleButton("grip","down")},this.onGripUp=function(){f.handleButton("grip","up")},this.onTrackpadDown=function(){f.handleButton("trackpad","down")},this.onTrackpadUp=function(){f.handleButton("trackpad","up")},this.onTrackpadTouchStart=function(){f.handleButton("trackpad","touchstart")},this.onTrackpadTouchEnd=function(){f.handleButton("trackpad","touchend")},this.onTriggerDown=function(){f.handleButton("trigger","down")},this.onTriggerUp=function(){f.handleButton("trigger","up")},this.onTriggerTouchStart=function(){f.handleButton("trigger","touchstart")},this.onTriggerTouchEnd=function(){f.handleButton("trigger","touchend")},this.onGripTouchStart=function(){f.handleButton("grip","touchstart")},this.onGripTouchEnd=function(){f.handleButton("grip","touchend")},this.onThumbstickDown=function(){f.handleButton("thumbstick","down")},this.onThumbstickUp=function(){f.handleButton("thumbstick","up")},this.onAorXTouchStart=function(){f.handleButton("AorX","touchstart")},this.onAorXTouchEnd=function(){f.handleButton("AorX","touchend")},this.onBorYTouchStart=function(){f.handleButton("BorY","touchstart")},this.onBorYTouchEnd=function(){f.handleButton("BorY","touchend")},this.onSurfaceTouchStart=function(){f.handleButton("surface","touchstart")},this.onSurfaceTouchEnd=function(){f.handleButton("surface","touchend")},this.onControllerConnected=this.onControllerConnected.bind(this),this.onControllerDisconnected=this.onControllerDisconnected.bind(this),E.addEventListener("controllerconnected",this.onControllerConnected),E.addEventListener("controllerdisconnected",this.onControllerDisconnected),E.object3D.visible=!1},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},tick:function(f,E){var C=this.el.getObject3D("mesh");!C||!C.mixer||C.mixer.update(E/1e3)},onControllerConnected:function(){this.el.object3D.visible=!0},onControllerDisconnected:function(){this.el.object3D.visible=!1},addEventListeners:function(){var f=this.el;f.addEventListener("gripdown",this.onGripDown),f.addEventListener("gripup",this.onGripUp),f.addEventListener("trackpaddown",this.onTrackpadDown),f.addEventListener("trackpadup",this.onTrackpadUp),f.addEventListener("trackpadtouchstart",this.onTrackpadTouchStart),f.addEventListener("trackpadtouchend",this.onTrackpadTouchEnd),f.addEventListener("triggerdown",this.onTriggerDown),f.addEventListener("triggerup",this.onTriggerUp),f.addEventListener("triggertouchstart",this.onTriggerTouchStart),f.addEventListener("triggertouchend",this.onTriggerTouchEnd),f.addEventListener("griptouchstart",this.onGripTouchStart),f.addEventListener("griptouchend",this.onGripTouchEnd),f.addEventListener("thumbstickdown",this.onThumbstickDown),f.addEventListener("thumbstickup",this.onThumbstickUp),f.addEventListener("abuttontouchstart",this.onAorXTouchStart),f.addEventListener("abuttontouchend",this.onAorXTouchEnd),f.addEventListener("bbuttontouchstart",this.onBorYTouchStart),f.addEventListener("bbuttontouchend",this.onBorYTouchEnd),f.addEventListener("xbuttontouchstart",this.onAorXTouchStart),f.addEventListener("xbuttontouchend",this.onAorXTouchEnd),f.addEventListener("ybuttontouchstart",this.onBorYTouchStart),f.addEventListener("ybuttontouchend",this.onBorYTouchEnd),f.addEventListener("surfacetouchstart",this.onSurfaceTouchStart),f.addEventListener("surfacetouchend",this.onSurfaceTouchEnd)},removeEventListeners:function(){var f=this.el;f.removeEventListener("gripdown",this.onGripDown),f.removeEventListener("gripup",this.onGripUp),f.removeEventListener("trackpaddown",this.onTrackpadDown),f.removeEventListener("trackpadup",this.onTrackpadUp),f.removeEventListener("trackpadtouchstart",this.onTrackpadTouchStart),f.removeEventListener("trackpadtouchend",this.onTrackpadTouchEnd),f.removeEventListener("triggerdown",this.onTriggerDown),f.removeEventListener("triggerup",this.onTriggerUp),f.removeEventListener("triggertouchstart",this.onTriggerTouchStart),f.removeEventListener("triggertouchend",this.onTriggerTouchEnd),f.removeEventListener("griptouchstart",this.onGripTouchStart),f.removeEventListener("griptouchend",this.onGripTouchEnd),f.removeEventListener("thumbstickdown",this.onThumbstickDown),f.removeEventListener("thumbstickup",this.onThumbstickUp),f.removeEventListener("abuttontouchstart",this.onAorXTouchStart),f.removeEventListener("abuttontouchend",this.onAorXTouchEnd),f.removeEventListener("bbuttontouchstart",this.onBorYTouchStart),f.removeEventListener("bbuttontouchend",this.onBorYTouchEnd),f.removeEventListener("xbuttontouchstart",this.onAorXTouchStart),f.removeEventListener("xbuttontouchend",this.onAorXTouchEnd),f.removeEventListener("ybuttontouchstart",this.onBorYTouchStart),f.removeEventListener("ybuttontouchend",this.onBorYTouchEnd),f.removeEventListener("surfacetouchstart",this.onSurfaceTouchStart),f.removeEventListener("surfacetouchend",this.onSurfaceTouchEnd)},update:function(f){var E,C=this.el,v=this.data.hand,x=this.data.handModelStyle,T=this.data.color,L=this;if(E={hand:v,model:!1},v!==f){var R=A[x+v.charAt(0).toUpperCase()+v.slice(1)];this.loader.load(R,function(F){var P=F.scene.children[0],H=v==="left"?Math.PI/2:-Math.PI/2,$=C.sceneEl.hasWebXR?-Math.PI/2:0;P.mixer=new THREE.AnimationMixer(P),L.clips=F.animations,C.setObject3D("mesh",P),P.traverse(function(te){te.isMesh&&(te.material.color=new THREE.Color(T))}),P.position.set(0,0,0),P.rotation.set($,0,H),C.setAttribute("magicleap-controls",E),C.setAttribute("vive-controls",E),C.setAttribute("oculus-touch-controls",E),C.setAttribute("pico-controls",E),C.setAttribute("windows-motion-controls",E),C.setAttribute("hp-mixed-reality-controls",E)})}},remove:function(){this.el.removeObject3D("mesh")},handleButton:function(f,E){var C,v=E==="down",x=E==="touchstart";if(E.indexOf("touch")===0){if(x===this.touchedButtons[f])return;this.touchedButtons[f]=x}else{if(v===this.pressedButtons[f])return;this.pressedButtons[f]=v}C=this.gesture,this.gesture=this.determineGesture(),this.gesture!==C&&(this.animateGesture(this.gesture,C),this.emitGestureEvents(this.gesture,C))},determineGesture:function(){var f,E=this.pressedButtons.grip,C=this.pressedButtons.surface||this.touchedButtons.surface,v=this.pressedButtons.trackpad||this.touchedButtons.trackpad,x=this.pressedButtons.trigger||this.touchedButtons.trigger,T=this.touchedButtons.AorX||this.touchedButtons.BorY,L=y(this.el.components["tracked-controls"]);return L?E||x?f=b.fist:v&&(f=b.point):E?C||T||v?f=x?b.fist:b.point:f=x?b.thumbUp:b.pointThumb:x&&(f=b.hold),f},getClip:function(f){var E,C;for(C=0;C<this.clips.length;C++)if(E=this.clips[C],E.name===f)return E},animateGesture:function(f,E){if(f){this.playAnimation(f||b.open,E,!1);return}this.playAnimation(E,E,!0)},emitGestureEvents:function(f,E){var C=this.el,v;E!==f&&(v=g(E,!1),v&&C.emit(v),v=g(f,!0),v&&C.emit(v))},playAnimation:function(f,E,C){var v,x,T=this.el.getObject3D("mesh"),L;if(T){if(v=this.getClip(f),L=T.mixer.clipAction(v),C){L.paused=!1,L.timeScale=-1;return}if(L.clampWhenFinished=!0,L.loop=THREE.LoopOnce,L.repetitions=0,L.timeScale=1,L.time=0,L.weight=1,!E){T.mixer.stopAllAction(),L.play();return}v=this.getClip(E),L.reset(),L.play(),x=T.mixer.clipAction(v),x.crossFadeTo(L,.15,!0)}}});function g(f,E){var C;if(f){if(C=d[f],C==="grip")return C+(E?"close":"open");if(C==="point")return C+(E?"up":"down");if(C==="pointing"||C==="pistol")return C+(E?"start":"end")}}function y(f){var E=f&&f.controller,C=E&&(E.id&&E.id.indexOf("OpenVR ")===0||E.profiles&&E.profiles[0]&&E.profiles[0]==="htc-vive");return C}},"./src/components/hand-tracking-controls.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/core/a-entity.js").AEntity,A=u("./src/utils/tracked-controls.js"),b=A.checkControllerPresentAndSetup,d=u("./src/constants/index.js").AFRAME_CDN_ROOT,g=d+"controllers/oculus-hands/v4/left.glb",y=d+"controllers/oculus-hands/v4/right.glb",f=["wrist","thumb-metacarpal","thumb-phalanx-proximal","thumb-phalanx-distal","thumb-tip","index-finger-metacarpal","index-finger-phalanx-proximal","index-finger-phalanx-intermediate","index-finger-phalanx-distal","index-finger-tip","middle-finger-metacarpal","middle-finger-phalanx-proximal","middle-finger-phalanx-intermediate","middle-finger-phalanx-distal","middle-finger-tip","ring-finger-metacarpal","ring-finger-phalanx-proximal","ring-finger-phalanx-intermediate","ring-finger-phalanx-distal","ring-finger-tip","pinky-finger-metacarpal","pinky-finger-phalanx-proximal","pinky-finger-phalanx-intermediate","pinky-finger-phalanx-distal","pinky-finger-tip"],E=0,C=4,v=9,x=.015,T=.1;M.exports.Component=p("hand-tracking-controls",{schema:{hand:{default:"right",oneOf:["left","right"]},modelStyle:{default:"mesh",oneOf:["dots","mesh"]},modelColor:{default:"white"},modelOpacity:{default:1}},after:["tracked-controls"],bindMethods:function(){this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this)},addEventListeners:function(){this.el.addEventListener("model-loaded",this.onModelLoaded);for(var L=0;L<this.jointEls.length;++L)this.jointEls[L].object3D.visible=!0},removeEventListeners:function(){this.el.removeEventListener("model-loaded",this.onModelLoaded);for(var L=0;L<this.jointEls.length;++L)this.jointEls[L].object3D.visible=!1},init:function(){var L=this.el.sceneEl,R=L.getAttribute("webxr"),F=R.optionalFeatures;F.indexOf("hand-tracking")===-1&&(F.push("hand-tracking"),L.setAttribute("webxr",R)),this.wristObject3D=new THREE.Object3D,this.el.sceneEl.object3D.add(this.wristObject3D),this.onModelLoaded=this.onModelLoaded.bind(this),this.onChildAttached=this.onChildAttached.bind(this),this.jointEls=[],this.controllerPresent=!1,this.isPinched=!1,this.pinchEventDetail={position:new THREE.Vector3,wristRotation:new THREE.Quaternion},this.indexTipPosition=new THREE.Vector3,this.hasPoses=!1,this.jointPoses=new Float32Array(16*f.length),this.jointRadii=new Float32Array(f.length),this.bindMethods(),this.updateReferenceSpace=this.updateReferenceSpace.bind(this),this.el.sceneEl.addEventListener("enter-vr",this.updateReferenceSpace),this.el.sceneEl.addEventListener("exit-vr",this.updateReferenceSpace),this.el.addEventListener("child-attached",this.onChildAttached),this.el.object3D.visible=!1,this.wristObject3D.visible=!1},onChildAttached:function(L){this.addChildEntity(L.detail.el)},update:function(){this.updateModelMaterial()},updateModelMaterial:function(){var L=this.jointEls,R=this.skinnedMesh,F=this.data.modelOpacity!==1;R&&(this.skinnedMesh.material.color.set(this.data.modelColor),this.skinnedMesh.material.transparent=F,this.skinnedMesh.material.opacity=this.data.modelOpacity);for(var P=0;P<L.length;P++)L[P].setAttribute("material",{color:this.data.modelColor,transparent:F,opacity:this.data.modelOpacity})},updateReferenceSpace:function(){var L=this,R=this.el.sceneEl.xrSession;if(this.referenceSpace=void 0,!!R){var F=L.el.sceneEl.systems.webxr.sessionReferenceSpaceType;R.requestReferenceSpace(F).then(function(P){L.referenceSpace=P}).catch(function(P){throw L.el.sceneEl.systems.webxr.warnIfFeatureNotRequested(F,"tracked-controls-webxr uses reference space "+F),P})}},checkIfControllerPresent:function(){var L=this.data,R=L.hand?L.hand:void 0;b(this,"",{hand:R,iterateControllerProfiles:!0,handTracking:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},tick:function(){var L=this.el.sceneEl,R=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,F=L.frame,P=this.el.components["tracked-controls-webxr"],H=this.referenceSpace;!R||!F||!H||!P||(this.hasPoses=!1,R.hand&&(this.el.object3D.position.set(0,0,0),this.el.object3D.rotation.set(0,0,0),this.hasPoses=F.fillPoses(R.hand.values(),H,this.jointPoses)&&F.fillJointRadii(R.hand.values(),this.jointRadii),this.updateHandModel(),this.detectGesture(),this.updateWristObject()))},updateWristObject:function(){var L=new THREE.Matrix4;return function(){var R=this.wristObject3D;!R||!this.hasPoses||(L.fromArray(this.jointPoses,E*16),R.position.setFromMatrixPosition(L),R.quaternion.setFromRotationMatrix(L))}}(),updateHandModel:function(){this.data.modelStyle==="dots"&&this.updateHandDotsModel(),this.data.modelStyle==="mesh"&&this.updateHandMeshModel()},getBone:function(L){for(var R=this.bones,F=0;F<R.length;F++)if(R[F].name===L)return R[F];return null},updateHandMeshModel:function(){var L=new THREE.Matrix4;return function(){var R=0,F=this.jointPoses,P=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller;if(!(!P||!this.mesh)&&(this.mesh.visible=!1,!!this.hasPoses))for(var H of P.hand.values()){var $=this.getBone(H.jointName);$!=null&&(this.mesh.visible=!0,L.fromArray(F,R*16),$.position.setFromMatrixPosition(L),$.quaternion.setFromRotationMatrix(L)),R++}}}(),updateHandDotsModel:function(){for(var L=this.jointPoses,R=this.jointRadii,F=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,P,H,$=0;$<F.hand.size;$++)P=this.jointEls[$],H=P.object3D,P.object3D.visible=this.hasPoses,this.hasPoses&&(H.matrix.fromArray(L,$*16),H.matrix.decompose(H.position,H.rotation,H.scale),P.setAttribute("scale",{x:R[$],y:R[$],z:R[$]}))},detectGesture:function(){this.detectPinch()},detectPinch:function(){var L=new THREE.Vector3,R=new THREE.Matrix4;return function(){var F=this.indexTipPosition,P=this.pinchEventDetail;if(this.hasPoses){L.setFromMatrixPosition(R.fromArray(this.jointPoses,C*16)),F.setFromMatrixPosition(R.fromArray(this.jointPoses,v*16)),P.wristRotation.setFromRotationMatrix(R.fromArray(this.jointPoses,E*16));var H=F.distanceTo(L);H<x&&this.isPinched===!1&&(this.isPinched=!0,this.pinchDistance=H,P.position.copy(F).add(L).multiplyScalar(.5),this.el.emit("pinchstarted",P)),H>this.pinchDistance+this.pinchDistance*T&&this.isPinched===!0&&(this.isPinched=!1,P.position.copy(F).add(L).multiplyScalar(.5),this.el.emit("pinchended",P)),this.isPinched&&(P.position.copy(F).add(L).multiplyScalar(.5),this.el.emit("pinchmoved",P))}}}(),pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var L=this.el,R=this.data;if(L.setAttribute("tracked-controls",{id:"",hand:R.hand,iterateControllerProfiles:!0,handTrackingEnabled:!0}),this.mesh){this.mesh!==L.getObject3D("mesh")&&L.setObject3D("mesh",this.mesh);return}this.initDefaultModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){var L=this.el,R;this.checkIfControllerPresent(),R=L.components["tracked-controls"]&&L.components["tracked-controls"].controller,this.mesh&&R&&R.hand&&R.hand instanceof XRHand&&L.setObject3D("mesh",this.mesh)},initDefaultModel:function(){var L=this.data;L.modelStyle==="dots"&&this.initDotsModel(),L.modelStyle==="mesh"&&this.initMeshHandModel(),this.el.object3D.visible=!0,this.wristObject3D.visible=!0},initDotsModel:function(){if(this.jointEls.length===0){for(var L=0;L<f.length;++L){var R=this.jointEl=document.createElement("a-entity");R.setAttribute("geometry",{primitive:"sphere",radius:1}),R.object3D.visible=!1,this.el.appendChild(R),this.jointEls.push(R)}this.updateModelMaterial()}},initMeshHandModel:function(){var L=this.data.hand==="left"?g:y;this.el.setAttribute("gltf-model",L)},onModelLoaded:function(){var L=this.mesh=this.el.getObject3D("mesh").children[0],R=this.skinnedMesh=L.getObjectByProperty("type","SkinnedMesh");this.skinnedMesh&&(this.bones=R.skeleton.bones,this.el.removeObject3D("mesh"),L.position.set(0,0,0),L.rotation.set(0,0,0),R.frustumCulled=!1,R.material=new THREE.MeshStandardMaterial,this.updateModelMaterial(),this.setupChildrenEntities(),this.el.setObject3D("mesh",L))},setupChildrenEntities:function(){for(var L=this.el.children,R=0;R<L.length;++R)L[R]instanceof w&&this.addChildEntity(L[R])},addChildEntity:function(L){L instanceof w&&this.wristObject3D.add(L.object3D)}})},"./src/components/hand-tracking-grab-controls.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/lib/three.js");p("hand-tracking-grab-controls",{schema:{hand:{default:"right",oneOf:["left","right"]},color:{type:"color",default:"white"},hoverColor:{type:"color",default:"#538df1"},hoverEnabled:{default:!1}},init:function(){var A=this.el,b=this.data,d;b.hand==="right"?d="components.hand-tracking-controls.bones.3":d="components.hand-tracking-controls.bones.21",A.setAttribute("hand-tracking-controls",{hand:b.hand}),A.setAttribute("obb-collider",{trackedObject3D:d,size:.04}),this.auxMatrix=new w.Matrix4,this.auxQuaternion=new w.Quaternion,this.auxQuaternion2=new w.Quaternion,this.auxVector=new w.Vector3,this.auxVector2=new w.Vector3,this.grabbingObjectPosition=new w.Vector3,this.grabbedObjectPosition=new w.Vector3,this.grabbedObjectPositionDelta=new w.Vector3,this.grabDeltaPosition=new w.Vector3,this.grabInitialRotation=new w.Quaternion,this.onCollisionStarted=this.onCollisionStarted.bind(this),this.el.addEventListener("obbcollisionstarted",this.onCollisionStarted),this.onCollisionEnded=this.onCollisionEnded.bind(this),this.el.addEventListener("obbcollisionended",this.onCollisionEnded),this.onPinchStarted=this.onPinchStarted.bind(this),this.el.addEventListener("pinchstarted",this.onPinchStarted),this.onPinchEnded=this.onPinchEnded.bind(this),this.el.addEventListener("pinchended",this.onPinchEnded),this.onPinchMoved=this.onPinchMoved.bind(this),this.el.addEventListener("pinchmoved",this.onPinchMoved)},transferEntityOwnership:function(){for(var A,b=this.el.sceneEl.querySelectorAll("[hand-tracking-grab-controls]"),d=0;d<b.length;++d)A=b[d].components["hand-tracking-grab-controls"],A!==this&&this.grabbedEl&&this.grabbedEl===A.grabbedEl&&A.releaseGrabbedEntity();return!1},onCollisionStarted:function(A){var b=A.detail.withEl;this.collidedEl||b.getAttribute("grabbable")&&(this.collidedEl=b,this.grabbingObject3D=A.detail.trackedObject3D,this.data.hoverEnabled&&this.el.setAttribute("hand-tracking-controls","modelColor",this.data.hoverColor))},onCollisionEnded:function(){this.collidedEl=void 0,!this.grabbedEl&&(this.grabbingObject3D=void 0,this.data.hoverEnabled&&this.el.setAttribute("hand-tracking-controls","modelColor",this.data.color))},onPinchStarted:function(A){this.collidedEl&&(this.pinchPosition=A.detail.position,this.wristRotation=A.detail.wristRotation,this.grabbedEl=this.collidedEl,this.transferEntityOwnership(),this.grab())},onPinchEnded:function(){this.releaseGrabbedEntity()},onPinchMoved:function(A){this.wristRotation=A.detail.wristRotation},releaseGrabbedEntity:function(){var A=this.grabbedEl;A&&(A.object3D.updateMatrixWorld=this.originalUpdateMatrixWorld,A.object3D.matrixAutoUpdate=!0,A.object3D.matrixWorldAutoUpdate=!0,A.object3D.matrixWorld.decompose(this.auxVector,this.auxQuaternion,this.auxVector2),A.object3D.position.copy(this.auxVector),A.object3D.quaternion.copy(this.auxQuaternion),this.el.emit("grabended",{grabbedEl:A}),this.grabbedEl=void 0)},grab:function(){var A=this.grabbedEl,b;b=A.object3D.getWorldPosition(this.grabbedObjectPosition),this.grabDeltaPosition.copy(b).sub(this.pinchPosition),this.grabInitialRotation.copy(this.auxQuaternion.copy(this.wristRotation).invert()),this.originalUpdateMatrixWorld=A.object3D.updateMatrixWorld,A.object3D.updateMatrixWorld=function(){},A.object3D.updateMatrixWorldChildren=function(d){for(var g=this.children,y=0,f=g.length;y<f;y++){var E=g[y];(E.matrixWorldAutoUpdate===!0||d===!0)&&E.updateMatrixWorld(!0)}},A.object3D.matrixAutoUpdate=!1,A.object3D.matrixWorldAutoUpdate=!1,this.el.emit("grabstarted",{grabbedEl:A})},tock:function(){var A=this.auxMatrix,b=this.auxQuaternion,d=this.auxQuaternion2,g,y=this.grabbedEl;y&&(g=y.object3D,g.getWorldQuaternion(d),g.matrixWorld.identity(),A.identity(),A.makeTranslation(this.pinchPosition),g.matrixWorld.multiply(A),A.identity(),A.makeRotationFromQuaternion(b.copy(this.wristRotation).multiply(this.grabInitialRotation)),g.matrixWorld.multiply(A),A.identity(),A.makeTranslation(this.grabDeltaPosition),g.matrixWorld.multiply(A),A.identity(),A.makeRotationFromQuaternion(d),g.matrixWorld.multiply(A),A.makeScale(y.object3D.scale.x,y.object3D.scale.y,y.object3D.scale.z),g.matrixWorld.multiply(A),g.updateMatrixWorldChildren())}})},"./src/components/hide-on-enter-ar.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent;M.exports.Component=p("hide-on-enter-ar",{init:function(){var w=this;this.el.sceneEl.addEventListener("enter-vr",function(){w.el.sceneEl.is("ar-mode")&&(w.el.object3D.visible=!1)}),this.el.sceneEl.addEventListener("exit-vr",function(){w.el.object3D.visible=!0})}})},"./src/components/hide-on-enter-vr.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent;M.exports.Component=p("hide-on-enter-vr",{init:function(){var w=this;this.el.sceneEl.addEventListener("enter-vr",function(){w.el.sceneEl.is("vr-mode")&&(w.el.object3D.visible=!1)}),this.el.sceneEl.addEventListener("exit-vr",function(){w.el.object3D.visible=!0})}})},"./src/components/hp-mixed-reality-controls.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/lib/three.js"),A=u("./src/utils/tracked-controls.js"),b=A.checkControllerPresentAndSetup,d=A.emitIfAxesChanged,g=A.onButtonEvent,y="hp-mixed-reality",f=u("./src/constants/index.js").AFRAME_CDN_ROOT,E=f+"controllers/hp/mixed-reality/",C={x:0,y:0,z:.06},v={_x:Math.PI/4,_y:0,_z:0,_order:"XYZ"},x={left:{axes:{touchpad:[2,3]},buttons:["trigger","grip","none","thumbstick","xbutton","ybutton"]},right:{axes:{touchpad:[2,3]},buttons:["trigger","grip","none","thumbstick","abutton","bbutton"]}};M.exports.Component=p("hp-mixed-reality-controls",{schema:{hand:{default:"none"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:x,init:function(){var T=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(L){g(L.detail.id,"down",T,T.data.hand)},this.onButtonUp=function(L){g(L.detail.id,"up",T,T.data.hand)},this.onButtonTouchEnd=function(L){g(L.detail.id,"touchend",T,T.data.hand)},this.onButtonTouchStart=function(L){g(L.detail.id,"touchstart",T,T.data.hand)},this.previousButtonValues={},this.bindMethods()},update:function(){var T=this.data;this.controllerIndex=T.hand==="right"?0:T.hand==="left"?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var T=this.el;T.addEventListener("buttonchanged",this.onButtonChanged),T.addEventListener("buttondown",this.onButtonDown),T.addEventListener("buttonup",this.onButtonUp),T.addEventListener("touchstart",this.onButtonTouchStart),T.addEventListener("touchend",this.onButtonTouchEnd),T.addEventListener("axismove",this.onAxisMoved),T.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var T=this.el;T.removeEventListener("buttonchanged",this.onButtonChanged),T.removeEventListener("buttondown",this.onButtonDown),T.removeEventListener("buttonup",this.onButtonUp),T.removeEventListener("touchstart",this.onButtonTouchStart),T.removeEventListener("touchend",this.onButtonTouchEnd),T.removeEventListener("axismove",this.onAxisMoved),T.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var T=this.data;b(this,y,{index:this.controllerIndex,hand:T.hand})},injectTrackedControls:function(){var T=this.el,L=this.data;T.setAttribute("tracked-controls",{idPrefix:y,hand:L.hand,controller:this.controllerIndex,orientationOffset:L.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",E+this.data.hand+".glb")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(T){var L=this.mapping[this.data.hand].buttons[T.detail.id],R;L&&(L==="trigger"&&(R=T.detail.state.value,console.log("analog value of trigger press: "+R)),this.el.emit(L+"changed",T.detail.state))},onModelLoaded:function(T){var L=T.detail.model;this.data.model&&(L.position.copy(C),L.rotation.copy(v),this.el.emit("controllermodelready",{name:"hp-mixed-reality-controls",model:this.data.model,rayOrigin:new w.Vector3(0,0,0)}))},onAxisMoved:function(T){d(this,this.mapping.axes,T)}})},"./src/components/index.js":(M,B,u)=>{u("./src/components/animation.js"),u("./src/components/anchored.js"),u("./src/components/camera.js"),u("./src/components/cursor.js"),u("./src/components/geometry.js"),u("./src/components/generic-tracked-controller-controls.js"),u("./src/components/gltf-model.js"),u("./src/components/grabbable.js"),u("./src/components/hand-tracking-controls.js"),u("./src/components/hand-tracking-grab-controls.js"),u("./src/components/hand-controls.js"),u("./src/components/hide-on-enter-ar.js"),u("./src/components/hide-on-enter-vr.js"),u("./src/components/hp-mixed-reality-controls.js"),u("./src/components/layer.js"),u("./src/components/laser-controls.js"),u("./src/components/light.js"),u("./src/components/line.js"),u("./src/components/link.js"),u("./src/components/look-controls.js"),u("./src/components/magicleap-controls.js"),u("./src/components/material.js"),u("./src/components/obb-collider.js"),u("./src/components/obj-model.js"),u("./src/components/oculus-go-controls.js"),u("./src/components/oculus-touch-controls.js"),u("./src/components/pico-controls.js"),u("./src/components/position.js"),u("./src/components/raycaster.js"),u("./src/components/rotation.js"),u("./src/components/scale.js"),u("./src/components/shadow.js"),u("./src/components/sound.js"),u("./src/components/text.js"),u("./src/components/tracked-controls.js"),u("./src/components/tracked-controls-webvr.js"),u("./src/components/tracked-controls-webxr.js"),u("./src/components/visible.js"),u("./src/components/valve-index-controls.js"),u("./src/components/vive-controls.js"),u("./src/components/vive-focus-controls.js"),u("./src/components/wasd-controls.js"),u("./src/components/windows-motion-controls.js"),u("./src/components/scene/ar-hit-test.js"),u("./src/components/scene/background.js"),u("./src/components/scene/debug.js"),u("./src/components/scene/device-orientation-permission-ui.js"),u("./src/components/scene/embedded.js"),u("./src/components/scene/inspector.js"),u("./src/components/scene/fog.js"),u("./src/components/scene/keyboard-shortcuts.js"),u("./src/components/scene/pool.js"),u("./src/components/scene/real-world-meshing.js"),u("./src/components/scene/reflection.js"),u("./src/components/scene/screenshot.js"),u("./src/components/scene/stats.js"),u("./src/components/scene/xr-mode-ui.js")},"./src/components/laser-controls.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/utils/index.js");p("laser-controls",{schema:{hand:{default:"right"},model:{default:!0},defaultModelColor:{type:"color",default:"grey"}},init:function(){var A=this.config,b=this.data,d=this.el,g=this,y={hand:b.hand,model:b.model};d.setAttribute("hp-mixed-reality-controls",y),d.setAttribute("magicleap-controls",y),d.setAttribute("oculus-go-controls",y),d.setAttribute("oculus-touch-controls",y),d.setAttribute("pico-controls",y),d.setAttribute("valve-index-controls",y),d.setAttribute("vive-controls",y),d.setAttribute("vive-focus-controls",y),d.setAttribute("windows-motion-controls",y),d.setAttribute("generic-tracked-controller-controls",{hand:y.hand}),d.addEventListener("controllerconnected",f),d.addEventListener("controllerdisconnected",E),d.addEventListener("controllermodelready",function(C){f(C),g.modelReady=!0});function f(C){var v=A[C.detail.name];if(v){var x=w.extend({showLine:!0},v.raycaster||{});C.detail.rayOrigin&&(x.origin=C.detail.rayOrigin.origin,x.direction=C.detail.rayOrigin.direction,x.showLine=!0),C.detail.rayOrigin||!g.modelReady?d.setAttribute("raycaster",x):d.setAttribute("raycaster","showLine",!0),d.setAttribute("cursor",w.extend({fuse:!1},v.cursor))}}function E(C){var v=A[C.detail.name];v&&d.setAttribute("raycaster","showLine",!1)}},config:{"generic-tracked-controller-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"hp-mixed-reality-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:0,z:0}}},"magicleap-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"oculus-go-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:5e-4,z:0}}},"oculus-touch-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:0,z:0}}},"pico-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"valve-index-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"vive-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"vive-focus-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"windows-motion-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{showLine:!1}}}})},"./src/components/layer.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/utils/index.js"),A=w.debug("components:layer:warn");M.exports.Component=p("layer",{schema:{type:{default:"quad",oneOf:["quad","monocubemap","stereocubemap"]},src:{type:"map"},rotateCubemap:{default:!1},width:{default:0},height:{default:0}},init:function(){var d=this.el.sceneEl.renderer.getContext();this.quaternion=new THREE.Quaternion,this.position=new THREE.Vector3,this.bindMethods(),this.needsRedraw=!1,this.frameBuffer=d.createFramebuffer();var g=this.el.sceneEl.getAttribute("webxr"),y=g.requiredFeatures;y.indexOf("layers")===-1&&(y.push("layers"),this.el.sceneEl.setAttribute("webxr",g)),this.el.sceneEl.addEventListener("enter-vr",this.onEnterVR),this.el.sceneEl.addEventListener("exit-vr",this.onExitVR)},bindMethods:function(){this.onRequestedReferenceSpace=this.onRequestedReferenceSpace.bind(this),this.onEnterVR=this.onEnterVR.bind(this),this.onExitVR=this.onExitVR.bind(this)},update:function(d){this.data.src!==d.src&&this.updateSrc()},updateSrc:function(){var d=this.data.type;if(this.texture=void 0,d==="quad"){this.loadQuadImage();return}if(d==="monocubemap"||d==="stereocubemap"){this.loadCubeMapImages();return}},loadCubeMapImages:function(){var d,g=this.xrGLFactory,y=this.el.sceneEl.frame,f=this.data.src,E=this.data.type;this.visibilityChanged=!1,this.layer&&(E!=="monocubemap"&&E!=="stereocubemap"||(f.complete?this.pendingCubeMapUpdate=!1:this.pendingCubeMapUpdate=!0,this.loadingScreen?this.loadingScreen=!1:this.loadingScreen=!0,E==="monocubemap"?(d=g.getSubImage(this.layer,y),this.loadCubeMapImage(d.colorTexture,f,0)):(d=g.getSubImage(this.layer,y,"left"),this.loadCubeMapImage(d.colorTexture,f,0),d=g.getSubImage(this.layer,y,"right"),this.loadCubeMapImage(d.colorTexture,f,6))))},loadQuadImage:function(){var d=this.data.src,g=this;this.el.sceneEl.systems.material.loadTexture(d,{src:d},function(f){g.el.sceneEl.renderer.initTexture(f),g.texture=f,d.tagName==="VIDEO"&&setTimeout(function(){g.textureIsVideo=!0},1e3),g.layer&&(g.layer.height=g.data.height/2||g.texture.image.height/1e3,g.layer.width=g.data.width/2||g.texture.image.width/1e3,g.needsRedraw=!0),g.updateQuadPanel()})},preGenerateCubeMapTextures:function(d,g){this.data.type==="monocubemap"?this.generateCubeMapTextures(d,0,g):(this.generateCubeMapTextures(d,0,g),this.generateCubeMapTextures(d,6,g))},generateCubeMapTextures:function(d,g,y){for(var f=this.data,E=this.cubeFaceSize,C=Math.min(d.width,d.height),v=[],x,T,L=0;L<6;L++){var R=document.createElement("CANVAS");R.width=R.height=E;var F=R.getContext("2d");f.rotateCubemap&&(L===2||L===3)&&(F.save(),F.translate(E,E),F.rotate(Math.PI)),F.drawImage(d,(L+g)*C,0,C,C,0,0,E,E),F.restore(),y&&y(),v.push(R)}return f.rotateCubemap&&(x=v[0],T=v[1],v[0]=T,v[1]=x,x=v[4],T=v[5],v[4]=T,v[5]=x),y&&y(),v},loadCubeMapImage:function(d,g,y){var f=this.el.sceneEl.renderer.getContext(),E;f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,!1),f.bindTexture(f.TEXTURE_CUBE_MAP,d),!g.complete||this.loadingScreen?E=this.loadingScreenImages:E=this.generateCubeMapTextures(g,y);var C=0;E.forEach(function(v,x){f.texSubImage2D(f.TEXTURE_CUBE_MAP_POSITIVE_X+x,0,0,0,f.RGBA,f.UNSIGNED_BYTE,v),C=f.getError()}),C!==0&&console.log("renderingError, WebGL Error Code: "+C),f.bindTexture(f.TEXTURE_CUBE_MAP,null)},tick:function(){this.el.sceneEl.xrSession&&(!this.layer&&(this.el.sceneEl.is("vr-mode")||this.el.sceneEl.is("ar-mode"))&&this.initLayer(),this.updateTransform(),this.data.src.complete&&(this.pendingCubeMapUpdate||this.loadingScreen||this.visibilityChanged)&&this.loadCubeMapImages(),!(!this.needsRedraw&&!this.layer.needsRedraw&&!this.textureIsVideo)&&(this.data.type==="quad"&&this.draw(),this.needsRedraw=!1))},initLayer:function(){var d=this,g=this.data.type;if(this.el.sceneEl.xrSession.onvisibilitychange=function(y){d.visibilityChanged=y.session.visibilityState!=="hidden"},g==="quad"){this.initQuadLayer();return}if(g==="monocubemap"||g==="stereocubemap"){this.initCubeMapLayer();return}},initQuadLayer:function(){var d=this.el.sceneEl,g=d.renderer.getContext(),y=this.xrGLFactory=new XRWebGLBinding(d.xrSession,g);this.texture&&(this.layer=y.createQuadLayer({space:this.referenceSpace,viewPixelHeight:2048,viewPixelWidth:2048,height:this.data.height/2||this.texture.image.height/1e3,width:this.data.width/2||this.texture.image.width/1e3}),this.initLoadingScreenImages(),d.renderer.xr.addLayer(this.layer))},initCubeMapLayer:function(){var d=this.data.src,g=this.el.sceneEl,y=g.renderer.getContext(),f=y.getParameter(y.MAX_CUBE_MAP_TEXTURE_SIZE),E=this.cubeFaceSize=Math.min(f,Math.min(d.width,d.height)),C=this.xrGLFactory=new XRWebGLBinding(g.xrSession,y);this.layer=C.createCubeLayer({space:this.referenceSpace,viewPixelWidth:E,viewPixelHeight:E,layout:this.data.type==="monocubemap"?"mono":"stereo",isStatic:!1}),this.initLoadingScreenImages(),this.loadCubeMapImages(),g.renderer.xr.addLayer(this.layer)},initLoadingScreenImages:function(){for(var d=this.cubeFaceSize,g=this.loadingScreenImages=[],y=0;y<6;y++){var f=document.createElement("CANVAS");f.width=f.height=d;var E=f.getContext("2d");f.width=f.height=d,E.fillStyle="black",E.fillRect(0,0,d,d),y!==2&&y!==3&&(E.translate(d,0),E.scale(-1,1),E.fillStyle="white",E.font="30px Arial",E.fillText("Loading",d/2,d/2)),g.push(f)}},destroyLayer:function(){this.layer&&(this.el.sceneEl.renderer.xr.removeLayer(this.layer),this.layer.destroy(),this.layer=void 0)},toggleCompositorLayer:function(){this.enableCompositorLayer(!this.layerEnabled)},enableCompositorLayer:function(d){this.layerEnabled=d,this.quadPanelEl.object3D.visible=!this.layerEnabled},updateQuadPanel:function(){var d=this.quadPanelEl;this.quadPanelEl||(d=this.quadPanelEl=document.createElement("a-entity"),this.el.appendChild(d)),d.setAttribute("material",{shader:"flat",src:this.data.src,transparent:!0}),d.setAttribute("geometry",{primitive:"plane",height:this.data.height||this.texture.image.height/1e3,width:this.data.width||this.texture.image.height/1e3})},draw:function(){var d=this.el.sceneEl,g=this.el.sceneEl.renderer.getContext(),y=this.xrGLFactory.getSubImage(this.layer,d.frame),f=d.renderer.properties.get(this.texture).__webglTexture,E=g.getParameter(g.FRAMEBUFFER_BINDING);g.viewport(y.viewport.x,y.viewport.y,y.viewport.width,y.viewport.height),g.bindFramebuffer(g.FRAMEBUFFER,this.frameBuffer),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,y.colorTexture,0),b(g,f,y,this.data.src),g.bindFramebuffer(g.FRAMEBUFFER,E)},updateTransform:function(){var d=this.el,g=this.position,y=this.quaternion;d.object3D.updateMatrixWorld(),g.setFromMatrixPosition(d.object3D.matrixWorld),y.setFromRotationMatrix(d.object3D.matrixWorld),this.layerEnabled||g.set(0,0,1e8),this.layer.transform=new XRRigidTransform(g,y)},onEnterVR:function(){var d=this.el.sceneEl,g=d.xrSession;if(!d.hasWebXR||!XRWebGLBinding||!g){A("The layer component requires WebXR and the layers API enabled");return}g.requestReferenceSpace("local-floor").then(this.onRequestedReferenceSpace),this.layerEnabled=!0,this.quadPanelEl&&(this.quadPanelEl.object3D.visible=!1),this.data.src.play&&this.data.src.play()},onExitVR:function(){this.quadPanelEl&&(this.quadPanelEl.object3D.visible=!0),this.destroyLayer()},onRequestedReferenceSpace:function(d){this.referenceSpace=d}});function b(d,g,y,f){var E=d.createFramebuffer(),C=y.viewport.x,v=y.viewport.y,x=y.viewport.x+y.viewport.width,T=y.viewport.y+y.viewport.height;f.tagName==="VIDEO"&&(d.bindTexture(d.TEXTURE_2D,g),d.texSubImage2D(d.TEXTURE_2D,0,0,0,f.width,f.height,d.RGB,d.UNSIGNED_BYTE,f)),d.bindFramebuffer(d.READ_FRAMEBUFFER,E),d.framebufferTexture2D(d.READ_FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,g,0),d.readBuffer(d.COLOR_ATTACHMENT0),d.blitFramebuffer(0,0,f.width,f.height,C,v,x,T,d.COLOR_BUFFER_BIT,d.NEAREST),d.bindFramebuffer(d.READ_FRAMEBUFFER,null),d.deleteFramebuffer(E)}},"./src/components/light.js":(M,B,u)=>{var p=u("./src/utils/index.js"),w=p.diff,A=u("./src/utils/debug.js"),b=u("./src/core/component.js").registerComponent,d=u("./src/lib/three.js"),g=u("./src/utils/math.js"),y=d.MathUtils.degToRad,f=A("components:light:warn"),E=new d.CubeTextureLoader,C={};M.exports.Component=b("light",{schema:{angle:{default:60,if:{type:["spot"]}},color:{type:"color",if:{type:["ambient","directional","hemisphere","point","spot"]}},envMap:{default:"",if:{type:["probe"]}},groundColor:{type:"color",if:{type:["hemisphere"]}},decay:{default:1,if:{type:["point","spot"]}},distance:{default:0,min:0,if:{type:["point","spot"]}},intensity:{default:1,min:0,if:{type:["ambient","directional","hemisphere","point","spot","probe"]}},penumbra:{default:0,min:0,max:1,if:{type:["spot"]}},type:{default:"directional",oneOf:["ambient","directional","hemisphere","point","spot","probe"],schemaChange:!0},target:{type:"selector",if:{type:["spot","directional"]}},castShadow:{default:!1,if:{type:["point","spot","directional"]}},shadowBias:{default:0,if:{castShadow:!0}},shadowCameraFar:{default:500,if:{castShadow:!0}},shadowCameraFov:{default:90,if:{castShadow:!0}},shadowCameraNear:{default:.5,if:{castShadow:!0}},shadowCameraTop:{default:5,if:{castShadow:!0}},shadowCameraRight:{default:5,if:{castShadow:!0}},shadowCameraBottom:{default:-5,if:{castShadow:!0}},shadowCameraLeft:{default:-5,if:{castShadow:!0}},shadowCameraVisible:{default:!1,if:{castShadow:!0}},shadowCameraAutomatic:{default:"",if:{type:["directional"]}},shadowMapHeight:{default:512,if:{castShadow:!0}},shadowMapWidth:{default:512,if:{castShadow:!0}},shadowRadius:{default:1,if:{castShadow:!0}}},init:function(){var v=this.el;this.light=null,this.defaultTarget=null,this.system.registerLight(v)},update:function(v){var x=this.data,T=w(x,v),L=this.light,R=this;if(L&&!("type"in T)){var F=!1;Object.keys(T).forEach(function(P){var H=x[P];switch(P){case"color":{L.color.set(H);break}case"groundColor":{L.groundColor.set(H);break}case"angle":{L.angle=y(H);break}case"target":{H===null?(x.type==="spot"||x.type==="directional")&&(L.target=R.defaultTarget):H.hasLoaded?R.onSetTarget(H,L):H.addEventListener("loaded",R.onSetTarget.bind(R,H,L));break}case"envMap":R.updateProbeMap(x,L);break;case"castShadow":case"shadowBias":case"shadowCameraFar":case"shadowCameraFov":case"shadowCameraNear":case"shadowCameraTop":case"shadowCameraRight":case"shadowCameraBottom":case"shadowCameraLeft":case"shadowCameraVisible":case"shadowMapHeight":case"shadowMapWidth":case"shadowRadius":F||(R.updateShadow(),F=!0);break;case"shadowCameraAutomatic":x.shadowCameraAutomatic?R.shadowCameraAutomaticEls=Array.from(document.querySelectorAll(x.shadowCameraAutomatic)):R.shadowCameraAutomaticEls=[];break;default:L[P]=H}});return}this.setLight(this.data),this.updateShadow()},tick:function(){var v=new d.Box3,x=new d.Vector3,T=new d.Vector3,L=new d.Matrix4,R=new d.Sphere,F=new d.Vector3;return function(){if(this.data.type==="directional"&&this.light.shadow&&this.light.shadow.camera instanceof d.OrthographicCamera&&this.shadowCameraAutomaticEls.length){var P=this.light.shadow.camera;P.getWorldDirection(x),P.getWorldPosition(T),L.copy(P.matrixWorld),L.invert(),P.near=1,P.left=1e5,P.right=-1e5,P.top=-1e5,P.bottom=1e5,this.shadowCameraAutomaticEls.forEach(function(H){v.setFromObject(H.object3D),v.getBoundingSphere(R);var $=g.distanceOfPointFromPlane(T,x,R.center),te=g.nearestPointInPlane(T,x,R.center,F),ee=te.applyMatrix4(L);P.near=Math.min(-$-R.radius-1,P.near),P.left=Math.min(-R.radius+ee.x,P.left),P.right=Math.max(R.radius+ee.x,P.right),P.top=Math.max(R.radius+ee.y,P.top),P.bottom=Math.min(-R.radius+ee.y,P.bottom)}),P.updateProjectionMatrix()}}}(),setLight:function(v){var x=this.el,T=this.getLight(v);T&&(this.light&&x.removeObject3D("light"),this.light=T,this.light.el=x,x.setObject3D("light",this.light),(v.type==="spot"||v.type==="directional"||v.type==="hemisphere")&&x.getObject3D("light").translateY(-1),v.type==="spot"&&(x.setObject3D("light-target",this.defaultTarget),x.getObject3D("light-target").position.set(0,0,-1)),v.shadowCameraAutomatic?this.shadowCameraAutomaticEls=Array.from(document.querySelectorAll(v.shadowCameraAutomatic)):this.shadowCameraAutomaticEls=[])},updateShadow:function(){var v=this.el,x=this.data,T=this.light;T.castShadow=x.castShadow;var L=v.getObject3D("cameraHelper");if(x.shadowCameraVisible&&!L?v.setObject3D("cameraHelper",new d.CameraHelper(T.shadow.camera)):!x.shadowCameraVisible&&L&&v.removeObject3D("cameraHelper"),!x.castShadow)return T;T.shadow.bias=x.shadowBias,T.shadow.radius=x.shadowRadius,T.shadow.mapSize.height=x.shadowMapHeight,T.shadow.mapSize.width=x.shadowMapWidth,T.shadow.camera.near=x.shadowCameraNear,T.shadow.camera.far=x.shadowCameraFar,T.shadow.camera instanceof d.OrthographicCamera?(T.shadow.camera.top=x.shadowCameraTop,T.shadow.camera.right=x.shadowCameraRight,T.shadow.camera.bottom=x.shadowCameraBottom,T.shadow.camera.left=x.shadowCameraLeft):T.shadow.camera.fov=x.shadowCameraFov,T.shadow.camera.updateProjectionMatrix(),L&&L.update()},getLight:function(v){var x=v.angle,T=new d.Color(v.color);T=T.getHex();var L=v.decay,R=v.distance,F=new d.Color(v.groundColor);F=F.getHex();var P=v.intensity,H=v.type,$=v.target,te=null;switch(H.toLowerCase()){case"ambient":return new d.AmbientLight(T,P);case"directional":return te=new d.DirectionalLight(T,P),this.defaultTarget=te.target,$&&($.hasLoaded?this.onSetTarget($,te):$.addEventListener("loaded",this.onSetTarget.bind(this,$,te))),te;case"hemisphere":return new d.HemisphereLight(T,F,P);case"point":return new d.PointLight(T,P,R,L);case"spot":return te=new d.SpotLight(T,P,R,y(x),v.penumbra,L),this.defaultTarget=te.target,$&&($.hasLoaded?this.onSetTarget($,te):$.addEventListener("loaded",this.onSetTarget.bind(this,$,te))),te;case"probe":return te=new d.LightProbe,this.updateProbeMap(v,te),te;default:f("%s is not a valid light type. Choose from ambient, directional, hemisphere, point, spot.",H)}},updateProbeMap:function(v,x){v.envMap||x.copy(new d.LightProbe),C[v.envMap]instanceof window.Promise&&C[v.envMap].then(function(T){x.copy(T)}),C[v.envMap]instanceof d.LightProbe&&x.copy(C[v.envMap]),C[v.envMap]=new window.Promise(function(T){p.srcLoader.validateCubemapSrc(v.envMap,function(R){E.load(R,function(F){var P=d.LightProbeGenerator.fromCubeTexture(F);C[v.envMap]=P,x.copy(P)})})})},onSetTarget:function(v,x){x.target=v.object3D},remove:function(){var v=this.el;v.removeObject3D("light"),v.getObject3D("cameraHelper")&&v.removeObject3D("cameraHelper")}})},"./src/components/line.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent;M.exports.Component=p("line",{schema:{start:{type:"vec3",default:{x:0,y:0,z:0}},end:{type:"vec3",default:{x:0,y:0,z:0}},color:{type:"color",default:"#74BEC1"},opacity:{type:"number",default:1},visible:{default:!0}},multiple:!0,init:function(){var A=this.data,b,d;d=this.material=new THREE.LineBasicMaterial({color:A.color,opacity:A.opacity,transparent:A.opacity<1,visible:A.visible}),b=this.geometry=new THREE.BufferGeometry,b.setAttribute("position",new THREE.BufferAttribute(new Float32Array(6),3)),this.line=new THREE.Line(b,d),this.el.setObject3D(this.attrName,this.line)},update:function(A){var b=this.data,d=this.geometry,g=!1,y=this.material,f=d.attributes.position.array;w(b.start,A.start)||(f[0]=b.start.x,f[1]=b.start.y,f[2]=b.start.z,g=!0),w(b.end,A.end)||(f[3]=b.end.x,f[4]=b.end.y,f[5]=b.end.z,g=!0),g&&(d.attributes.position.needsUpdate=!0,d.computeBoundingSphere()),y.color.setStyle(b.color),y.opacity=b.opacity,y.transparent=b.opacity<1,y.visible=b.visible},remove:function(){this.el.removeObject3D(this.attrName,this.line)}});function w(A,b){return!A||!b?!1:A.x===b.x&&A.y===b.y&&A.z===b.z}},"./src/components/link.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/core/shader.js").registerShader,A=u("./src/lib/three.js");M.exports.Component=p("link",{schema:{backgroundColor:{default:"red",type:"color"},borderColor:{default:"white",type:"color"},highlighted:{default:!1},highlightedColor:{default:"#24CAFF",type:"color"},href:{default:""},image:{type:"asset"},on:{default:"click"},peekMode:{default:!1},title:{default:""},titleColor:{default:"white",type:"color"},visualAspectEnabled:{default:!1}},init:function(){this.navigate=this.navigate.bind(this),this.previousQuaternion=void 0,this.quaternionClone=new A.Quaternion,this.hiddenEls=[]},update:function(b){var d=this.data,g=this.el,y,f;d.visualAspectEnabled&&(this.initVisualAspect(),y=d.highlighted?d.highlightedColor:d.backgroundColor,f=d.highlighted?d.highlightedColor:d.borderColor,g.setAttribute("material","backgroundColor",y),g.setAttribute("material","strokeColor",f),d.on!==b.on&&this.updateEventListener(),b.peekMode!==void 0&&d.peekMode!==b.peekMode&&this.updatePeekMode(),!(!d.image||b.image===d.image)&&g.setAttribute("material","pano",typeof d.image=="string"?d.image:d.image.src))},updatePeekMode:function(){var b=this.el,d=this.sphereEl;this.data.peekMode?(this.hideAll(),b.getObject3D("mesh").visible=!1,d.setAttribute("visible",!0)):(this.showAll(),b.getObject3D("mesh").visible=!0,d.setAttribute("visible",!1))},play:function(){this.updateEventListener()},pause:function(){this.removeEventListener()},updateEventListener:function(){var b=this.el;b.isPlaying&&(this.removeEventListener(),b.addEventListener(this.data.on,this.navigate))},removeEventListener:function(){var b=this.data.on;b&&this.el.removeEventListener(b,this.navigate)},initVisualAspect:function(){var b=this.el,d,g,y;!this.data.visualAspectEnabled||this.visualAspectInitialized||(y=this.textEl=this.textEl||document.createElement("a-entity"),g=this.sphereEl=this.sphereEl||document.createElement("a-entity"),d=this.semiSphereEl=this.semiSphereEl||document.createElement("a-entity"),b.setAttribute("geometry",{primitive:"circle",radius:1,segments:64}),b.setAttribute("material",{shader:"portal",pano:this.data.image,side:"double"}),y.setAttribute("text",{color:this.data.titleColor,align:"center",font:"kelsonsans",value:this.data.title||this.data.href,width:4}),y.setAttribute("position","0 1.5 0"),b.appendChild(y),d.setAttribute("geometry",{primitive:"sphere",radius:1,phiStart:0,segmentsWidth:64,segmentsHeight:64,phiLength:180,thetaStart:0,thetaLength:360}),d.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),d.setAttribute("rotation","0 180 0"),d.setAttribute("position","0 0 0"),d.setAttribute("visible",!1),b.appendChild(d),g.setAttribute("geometry",{primitive:"sphere",radius:10,segmentsWidth:64,segmentsHeight:64}),g.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),g.setAttribute("visible",!1),b.appendChild(g),this.visualAspectInitialized=!0)},navigate:function(){window.location=this.data.href},tick:function(){var b=new A.Vector3,d=new A.Vector3,g=new A.Quaternion,y=new A.Vector3;return function(){var f=this.el,E=f.object3D,C=f.sceneEl.camera,v,x,T=this.textEl;if(this.data.visualAspectEnabled)if(E.updateMatrixWorld(),C.parent.updateMatrixWorld(),C.updateMatrixWorld(),E.matrix.decompose(d,g,y),d.setFromMatrixPosition(E.matrixWorld),b.setFromMatrixPosition(C.matrixWorld),x=d.distanceTo(b),x>20)this.previousQuaternion||(this.quaternionClone.copy(g),this.previousQuaternion=this.quaternionClone),E.lookAt(b);else{if(v=this.calculateCameraPortalOrientation(),x<.5){if(this.semiSphereEl.getAttribute("visible")===!0)return;T.setAttribute("text","width",1.5),v<=0?(T.setAttribute("position","0 0 0.75"),T.setAttribute("rotation","0 180 0"),this.semiSphereEl.setAttribute("rotation","0 0 0")):(T.setAttribute("position","0 0 -0.75"),T.setAttribute("rotation","0 0 0"),this.semiSphereEl.setAttribute("rotation","0 180 0")),f.getObject3D("mesh").visible=!1,this.semiSphereEl.setAttribute("visible",!0),this.peekCameraPortalOrientation=v}else v<=0?T.setAttribute("rotation","0 180 0"):T.setAttribute("rotation","0 0 0"),T.setAttribute("text","width",5),T.setAttribute("position","0 1.5 0"),f.getObject3D("mesh").visible=!0,this.semiSphereEl.setAttribute("visible",!1),this.peekCameraPortalOrientation=void 0;this.previousQuaternion&&(E.quaternion.copy(this.previousQuaternion),this.previousQuaternion=void 0)}}}(),hideAll:function(){var b=this.el,d=this.hiddenEls,g=this;d.length>0||b.sceneEl.object3D.traverse(function(y){y&&y.el&&y.el.hasAttribute("link-controls")||!y.el||y===b.sceneEl.object3D||y.el===b||y.el===g.sphereEl||y.el===b.sceneEl.cameraEl||y.el.getAttribute("visible")===!1||y.el===g.textEl||y.el===g.semiSphereEl||(y.el.setAttribute("visible",!1),d.push(y.el))})},showAll:function(){this.hiddenEls.forEach(function(b){b.setAttribute("visible",!0)}),this.hiddenEls=[]},calculateCameraPortalOrientation:function(){var b=new A.Matrix4,d=new A.Vector3,g=new A.Vector3(0,0,1),y=new A.Vector3(0,0,0);return function(){var f=this.el,E=f.sceneEl.camera;return d.set(0,0,0),g.set(0,0,1),y.set(0,0,0),f.object3D.matrixWorld.extractRotation(b),g.applyMatrix4(b),f.object3D.updateMatrixWorld(),f.object3D.localToWorld(y),E.parent.parent.updateMatrixWorld(),E.parent.updateMatrixWorld(),E.updateMatrixWorld(),E.localToWorld(d),d.sub(y).normalize(),g.normalize(),Math.sign(g.dot(d))}}(),remove:function(){this.removeEventListener()}}),w("portal",{schema:{borderEnabled:{default:1,type:"int",is:"uniform"},backgroundColor:{default:"red",type:"color",is:"uniform"},pano:{type:"map",is:"uniform"},strokeColor:{default:"white",type:"color",is:"uniform"}},vertexShader:["vec3 portalPosition;","varying vec3 vWorldPosition;","varying float vDistanceToCenter;","varying float vDistance;","void main() {","vDistanceToCenter = clamp(length(position - vec3(0.0, 0.0, 0.0)), 0.0, 1.0);","portalPosition = (modelMatrix * vec4(0.0, 0.0, 0.0, 1.0)).xyz;","vDistance = length(portalPosition - cameraPosition);","vWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;","gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI2 0.15915494","uniform sampler2D pano;","uniform vec3 strokeColor;","uniform vec3 backgroundColor;","uniform float borderEnabled;","varying float vDistanceToCenter;","varying float vDistance;","varying vec3 vWorldPosition;","void main() {","vec3 direction = normalize(vWorldPosition - cameraPosition);","vec2 sampleUV;","float borderThickness = clamp(exp(-vDistance / 50.0), 0.6, 0.95);","sampleUV.y = clamp(direction.y * 0.5  + 0.5, 0.0, 1.0);","sampleUV.x = atan(direction.z, -direction.x) * -RECIPROCAL_PI2 + 0.5;","if (vDistanceToCenter > borderThickness && borderEnabled == 1.0) {","gl_FragColor = vec4(strokeColor, 1.0);","} else {","gl_FragColor = mix(texture2D(pano, sampleUV), vec4(backgroundColor, 1.0), clamp(pow((vDistance / 15.0), 2.0), 0.0, 1.0));","}","}"].join("\n")})},"./src/components/look-controls.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/lib/three.js"),A=u("./src/utils/index.js"),b=Math.PI/2;M.exports.Component=p("look-controls",{dependencies:["position","rotation"],schema:{enabled:{default:!0},magicWindowTrackingEnabled:{default:!0},pointerLockEnabled:{default:!1},reverseMouseDrag:{default:!1},reverseTouchDrag:{default:!1},touchEnabled:{default:!0},mouseEnabled:{default:!0}},init:function(){this.deltaYaw=0,this.previousHMDPosition=new w.Vector3,this.hmdQuaternion=new w.Quaternion,this.magicWindowAbsoluteEuler=new w.Euler,this.magicWindowDeltaEuler=new w.Euler,this.position=new w.Vector3,this.magicWindowObject=new w.Object3D,this.rotation={},this.deltaRotation={},this.savedPose=null,this.pointerLocked=!1,this.setupMouseControls(),this.bindMethods(),this.previousMouseEvent={},this.setupMagicWindowControls(),this.savedPose={position:new w.Vector3,rotation:new w.Euler},(this.el.sceneEl.is("vr-mode")||this.el.sceneEl.is("ar-mode"))&&this.onEnterVR()},setupMagicWindowControls:function(){var d,g=this.data;(A.device.isMobile()||A.device.isMobileDeviceRequestingDesktopSite())&&(d=this.magicWindowControls=new w.DeviceOrientationControls(this.magicWindowObject),typeof DeviceOrientationEvent<"u"&&DeviceOrientationEvent.requestPermission&&(d.enabled=!1,this.el.sceneEl.components["device-orientation-permission-ui"].permissionGranted?d.enabled=g.magicWindowTrackingEnabled:this.el.sceneEl.addEventListener("deviceorientationpermissiongranted",function(){d.enabled=g.magicWindowTrackingEnabled})))},update:function(d){var g=this.data;g.enabled!==d.enabled&&this.updateGrabCursor(g.enabled),d&&!g.magicWindowTrackingEnabled&&d.magicWindowTrackingEnabled&&(this.magicWindowAbsoluteEuler.set(0,0,0),this.magicWindowDeltaEuler.set(0,0,0)),this.magicWindowControls&&(this.magicWindowControls.enabled=g.magicWindowTrackingEnabled),d&&!g.pointerLockEnabled!==d.pointerLockEnabled&&(this.removeEventListeners(),this.addEventListeners(),this.pointerLocked&&this.exitPointerLock())},tick:function(d){var g=this.data;g.enabled&&this.updateOrientation()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.pointerLocked&&this.exitPointerLock()},remove:function(){this.removeEventListeners(),this.pointerLocked&&this.exitPointerLock()},bindMethods:function(){this.onMouseDown=this.onMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onEnterVR=this.onEnterVR.bind(this),this.onExitVR=this.onExitVR.bind(this),this.onPointerLockChange=this.onPointerLockChange.bind(this),this.onPointerLockError=this.onPointerLockError.bind(this)},setupMouseControls:function(){this.mouseDown=!1,this.pitchObject=new w.Object3D,this.yawObject=new w.Object3D,this.yawObject.position.y=10,this.yawObject.add(this.pitchObject)},addEventListeners:function(){var d=this.el.sceneEl,g=d.canvas;if(!g){d.addEventListener("render-target-loaded",this.addEventListeners.bind(this));return}g.addEventListener("mousedown",this.onMouseDown,!1),window.addEventListener("mousemove",this.onMouseMove,!1),window.addEventListener("mouseup",this.onMouseUp,!1),g.addEventListener("touchstart",this.onTouchStart,{passive:!0}),window.addEventListener("touchmove",this.onTouchMove,{passive:!0}),window.addEventListener("touchend",this.onTouchEnd,{passive:!0}),d.addEventListener("enter-vr",this.onEnterVR),d.addEventListener("exit-vr",this.onExitVR),this.data.pointerLockEnabled&&(document.addEventListener("pointerlockchange",this.onPointerLockChange,!1),document.addEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.addEventListener("pointerlockerror",this.onPointerLockError,!1))},removeEventListeners:function(){var d=this.el.sceneEl,g=d&&d.canvas;g&&(g.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),g.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),d.removeEventListener("enter-vr",this.onEnterVR),d.removeEventListener("exit-vr",this.onExitVR),document.removeEventListener("pointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("pointerlockerror",this.onPointerLockError,!1))},updateOrientation:function(){var d=this.el.object3D,g=this.pitchObject,y=this.yawObject,f=this.el.sceneEl;(f.is("vr-mode")||f.is("ar-mode"))&&f.checkHeadsetConnected()||(this.updateMagicWindowOrientation(),d.rotation.x=this.magicWindowDeltaEuler.x+g.rotation.x,d.rotation.y=this.magicWindowDeltaEuler.y+y.rotation.y,d.rotation.z=this.magicWindowDeltaEuler.z)},updateMagicWindowOrientation:function(){var d=this.magicWindowAbsoluteEuler,g=this.magicWindowDeltaEuler;this.magicWindowControls&&this.magicWindowControls.enabled&&(this.magicWindowControls.update(),d.setFromQuaternion(this.magicWindowObject.quaternion,"YXZ"),!this.previousMagicWindowYaw&&d.y!==0&&(this.previousMagicWindowYaw=d.y),this.previousMagicWindowYaw&&(g.x=d.x,g.y+=d.y-this.previousMagicWindowYaw,g.z=d.z,this.previousMagicWindowYaw=d.y))},onMouseMove:function(d){var g,y,f,E=this.pitchObject,C=this.previousMouseEvent,v=this.yawObject;!this.data.enabled||!this.mouseDown&&!this.pointerLocked||(this.pointerLocked?(y=d.movementX||d.mozMovementX||0,f=d.movementY||d.mozMovementY||0):(y=d.screenX-C.screenX,f=d.screenY-C.screenY),this.previousMouseEvent.screenX=d.screenX,this.previousMouseEvent.screenY=d.screenY,g=this.data.reverseMouseDrag?1:-1,v.rotation.y+=y*.002*g,E.rotation.x+=f*.002*g,E.rotation.x=Math.max(-b,Math.min(b,E.rotation.x)))},onMouseDown:function(d){var g=this.el.sceneEl;if(!(!this.data.enabled||!this.data.mouseEnabled||(g.is("vr-mode")||g.is("ar-mode"))&&g.checkHeadsetConnected())&&d.button===0){var y=g&&g.canvas;this.mouseDown=!0,this.previousMouseEvent.screenX=d.screenX,this.previousMouseEvent.screenY=d.screenY,this.showGrabbingCursor(),this.data.pointerLockEnabled&&!this.pointerLocked&&(y.requestPointerLock?y.requestPointerLock():y.mozRequestPointerLock&&y.mozRequestPointerLock())}},showGrabbingCursor:function(){this.el.sceneEl.canvas.style.cursor="grabbing"},hideGrabbingCursor:function(){this.el.sceneEl.canvas.style.cursor=""},onMouseUp:function(){this.mouseDown=!1,this.hideGrabbingCursor()},onTouchStart:function(d){d.touches.length!==1||!this.data.touchEnabled||this.el.sceneEl.is("vr-mode")||this.el.sceneEl.is("ar-mode")||(this.touchStart={x:d.touches[0].pageX,y:d.touches[0].pageY},this.touchStarted=!0)},onTouchMove:function(d){var g,y=this.el.sceneEl.canvas,f,E=this.yawObject;!this.touchStarted||!this.data.touchEnabled||(f=2*Math.PI*(d.touches[0].pageX-this.touchStart.x)/y.clientWidth,g=this.data.reverseTouchDrag?1:-1,E.rotation.y-=f*.5*g,this.touchStart={x:d.touches[0].pageX,y:d.touches[0].pageY})},onTouchEnd:function(){this.touchStarted=!1},onEnterVR:function(){var d=this.el.sceneEl;d.checkHeadsetConnected()&&(this.saveCameraPose(),this.el.object3D.position.set(0,0,0),this.el.object3D.rotation.set(0,0,0),d.hasWebXR&&(this.el.object3D.matrixAutoUpdate=!1,this.el.object3D.updateMatrix()))},onExitVR:function(){this.el.sceneEl.checkHeadsetConnected()&&(this.restoreCameraPose(),this.previousHMDPosition.set(0,0,0),this.el.object3D.matrixAutoUpdate=!0)},onPointerLockChange:function(){this.pointerLocked=!!(document.pointerLockElement||document.mozPointerLockElement)},onPointerLockError:function(){this.pointerLocked=!1},exitPointerLock:function(){document.exitPointerLock(),this.pointerLocked=!1},updateGrabCursor:function(d){var g=this.el.sceneEl;function y(){g.canvas.classList.add("a-grab-cursor")}function f(){g.canvas.classList.remove("a-grab-cursor")}if(!g.canvas){d?g.addEventListener("render-target-loaded",y):g.addEventListener("render-target-loaded",f);return}if(d){y();return}f()},saveCameraPose:function(){var d=this.el;this.savedPose.position.copy(d.object3D.position),this.savedPose.rotation.copy(d.object3D.rotation),this.hasSavedPose=!0},restoreCameraPose:function(){var d=this.el,g=this.savedPose;this.hasSavedPose&&(d.object3D.position.copy(g.position),d.object3D.rotation.copy(g.rotation),this.hasSavedPose=!1)}})},"./src/components/magicleap-controls.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/utils/tracked-controls.js"),A=w.checkControllerPresentAndSetup,b=w.emitIfAxesChanged,d=w.onButtonEvent,g="magicleap",y="-one",f=g+y,E=u("./src/constants/index.js").AFRAME_CDN_ROOT,C=E+"controllers/magicleap/magicleap-one-controller.glb",v={axes:{touchpad:[0,1]},buttons:["trigger","grip","touchpad","menu"]};M.exports.Component=p("magicleap-controls",{schema:{hand:{default:"none"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:v,init:function(){var x=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(T){d(T.detail.id,"down",x)},this.onButtonUp=function(T){d(T.detail.id,"up",x)},this.onButtonTouchEnd=function(T){d(T.detail.id,"touchend",x)},this.onButtonTouchStart=function(T){d(T.detail.id,"touchstart",x)},this.previousButtonValues={},this.bindMethods()},update:function(){var x=this.data;this.controllerIndex=x.hand==="right"?0:x.hand==="left"?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var x=this.el;x.addEventListener("buttonchanged",this.onButtonChanged),x.addEventListener("buttondown",this.onButtonDown),x.addEventListener("buttonup",this.onButtonUp),x.addEventListener("touchstart",this.onButtonTouchStart),x.addEventListener("touchend",this.onButtonTouchEnd),x.addEventListener("axismove",this.onAxisMoved),x.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var x=this.el;x.removeEventListener("buttonchanged",this.onButtonChanged),x.removeEventListener("buttondown",this.onButtonDown),x.removeEventListener("buttonup",this.onButtonUp),x.removeEventListener("touchstart",this.onButtonTouchStart),x.removeEventListener("touchend",this.onButtonTouchEnd),x.removeEventListener("axismove",this.onAxisMoved),x.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var x=this.data;A(this,f,{index:this.controllerIndex,hand:x.hand})},injectTrackedControls:function(){var x=this.el,T=this.data;x.setAttribute("tracked-controls",{idPrefix:f,hand:T.hand,controller:this.controllerIndex,orientationOffset:T.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",C)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(x){var T=this.mapping.buttons[x.detail.id],L;T&&(T==="trigger"&&(L=x.detail.state.value,console.log("analog value of trigger press: "+L)),this.el.emit(T+"changed",x.detail.state))},onModelLoaded:function(x){var T=x.detail.model;T.scale.set(.01,.01,.01)},onAxisMoved:function(x){b(this,this.mapping.axes,x)},updateModel:function(x,T){},setButtonColor:function(x,T){}})},"./src/components/material.js":(M,B,u)=>{var p=u("./src/utils/index.js"),w=u("./src/core/component.js"),A=u("./src/lib/three.js"),b=u("./src/core/shader.js"),d=p.debug("components:material:error"),g=w.registerComponent,y=b.shaders,f=b.shaderNames;M.exports.Component=g("material",{schema:{alphaTest:{default:0,min:0,max:1},depthTest:{default:!0},depthWrite:{default:!0},flatShading:{default:!1},npot:{default:!1},offset:{type:"vec2",default:{x:0,y:0}},opacity:{default:1,min:0,max:1},repeat:{type:"vec2",default:{x:1,y:1}},shader:{default:"standard",oneOf:f,schemaChange:!0},side:{default:"front",oneOf:["front","back","double"]},transparent:{default:!1},vertexColorsEnabled:{default:!1},visible:{default:!0},blending:{default:"normal",oneOf:["none","normal","additive","subtractive","multiply"]},dithering:{default:!0},anisotropy:{default:0,min:0}},init:function(){this.material=null},update:function(x){var T=this.data;(!this.shader||T.shader!==x.shader)&&this.updateShader(T.shader),this.shader.update(this.data),this.updateMaterial(x)},updateSchema:function(x){var T,L,R,F;L=x&&x.shader,T=this.oldData&&this.oldData.shader,F=L||T,R=y[F]&&y[F].schema,R||d("Unknown shader schema "+F),!(T&&L===T)&&(this.extendSchema(R),this.updateBehavior())},updateBehavior:function(){var x,T=this.el.sceneEl,L=this.schema,R=this,F;function P(H,$){var te;for(te in F)F[te]=H;R.shader.update(F)}this.tick=void 0,F={};for(x in L)L[x].type==="time"&&(this.tick=P,F[x]=!0);T&&(this.tick?T.addBehavior(this):T.removeBehavior(this))},updateShader:function(x){var T=this.data,L=y[x]&&y[x].Shader,R;if(!L)throw new Error("Unknown shader "+x);R=this.shader=new L,R.el=this.el,R.init(T),this.setMaterial(R.material),this.updateSchema(T)},updateMaterial:function(x){var T=this.data,L=this.material,R;L.alphaTest=T.alphaTest,L.depthTest=T.depthTest!==!1,L.depthWrite=T.depthWrite!==!1,L.opacity=T.opacity,L.flatShading=T.flatShading,L.side=E(T.side),L.transparent=T.transparent!==!1||T.opacity<1,L.vertexColors=T.vertexColorsEnabled,L.visible=T.visible,L.blending=C(T.blending),L.dithering=T.dithering;for(R in x)break;R&&(x.alphaTest!==T.alphaTest||x.side!==T.side||x.vertexColorsEnabled!==T.vertexColorsEnabled)&&(L.needsUpdate=!0)},remove:function(){var x=new A.MeshBasicMaterial,T=this.material,L=this.el.getObject3D("mesh");L&&(L.material=x),v(T,this.system)},setMaterial:function(x){var T=this.el,L,R=this.system;this.material&&v(this.material,R),this.material=x,R.registerMaterial(x),L=T.getObject3D("mesh"),L?L.material=x:T.addEventListener("object3dset",function F(P){P.detail.type!=="mesh"||P.target!==T||(T.getObject3D("mesh").material=x,T.removeEventListener("object3dset",F))})}});function E(x){switch(x){case"back":return A.BackSide;case"double":return A.DoubleSide;default:return A.FrontSide}}function C(x){switch(x){case"none":return A.NoBlending;case"additive":return A.AdditiveBlending;case"subtractive":return A.SubtractiveBlending;case"multiply":return A.MultiplyBlending;default:return A.NormalBlending}}function v(x,T){x.dispose(),T.unregisterMaterial(x),Object.keys(x).filter(function(L){return x[L]&&x[L].isTexture}).forEach(function(L){x[L].dispose()})}},"./src/components/obb-collider.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/lib/three.js");p("obb-collider",{schema:{size:{default:0},trackedObject3D:{default:""},minimumColliderDimension:{default:.02},centerModel:{default:!1}},init:function(){this.previousScale=new w.Vector3().copy(this.el.object3D.scale),this.auxEuler=new w.Euler,this.boundingBox=new w.Box3,this.boundingBoxSize=new w.Vector3,this.updateCollider=this.updateCollider.bind(this),this.onModelLoaded=this.onModelLoaded.bind(this),this.updateBoundingBox=this.updateBoundingBox.bind(this),this.el.addEventListener("model-loaded",this.onModelLoaded),this.updateCollider(),this.system.addCollider(this.el)},remove:function(){this.system.removeCollider(this.el)},update:function(){this.data.trackedObject3D&&(this.trackedObject3DPath=this.data.trackedObject3D.split("."))},onModelLoaded:function(){this.data.centerModel&&this.centerModel(),this.updateCollider()},centerModel:function(){var A=this.el,b=A.components["gltf-model"]&&A.components["gltf-model"].model,d,g;b&&(this.el.removeObject3D("mesh"),d=new w.Box3().setFromObject(b),g=d.getCenter(new w.Vector3),b.position.x+=b.position.x-g.x,b.position.y+=b.position.y-g.y,b.position.z+=b.position.z-g.z,this.el.setObject3D("mesh",b))},updateCollider:function(){var A=this.el,b=this.boundingBoxSize,d=this.aabb=this.aabb||new w.OBB;if(this.obb=this.obb||new w.OBB,!A.hasLoaded){A.addEventListener("loaded",this.updateCollider);return}this.updateBoundingBox(),d.halfSize.copy(b).multiplyScalar(.5),this.el.sceneEl.systems["obb-collider"].data.showColliders&&this.showCollider()},showCollider:function(){this.updateColliderMesh(),this.renderColliderMesh.visible=!0},updateColliderMesh:function(){var A=this.renderColliderMesh,b=this.boundingBoxSize;if(!A){this.initColliderMesh();return}A.geometry.dispose(),A.geometry=new w.BoxGeometry(b.x,b.y,b.z)},hideCollider:function(){this.renderColliderMesh&&(this.renderColliderMesh.visible=!1)},initColliderMesh:function(){var A,b,d;A=this.boundingBoxSize,b=this.renderColliderGeometry=new w.BoxGeometry(A.x,A.y,A.z),d=this.renderColliderMesh=new w.Mesh(b,new w.MeshLambertMaterial({color:65280,side:w.DoubleSide})),d.matrixAutoUpdate=!1,d.matrixWorldAutoUpdate=!1,d.updateMatrixWorld=function(){},this.el.sceneEl.object3D.add(d)},updateBoundingBox:function(){var A=new w.Vector3,b=new w.Vector3,d=new w.Quaternion,g=new w.Quaternion,y=new w.Matrix4;return function(){var f=this.auxEuler,E=this.boundingBox,C=this.data.size,v=this.trackedObject3D||this.el.object3D,x=this.boundingBoxSize,T=this.data.minimumColliderDimension;if(C){this.boundingBoxSize.x=C,this.boundingBoxSize.y=C,this.boundingBoxSize.z=C;return}f.copy(v.rotation),v.rotation.set(0,0,0),v.parent.matrixWorld.decompose(A,d,b),y.compose(A,g,b),v.parent.matrixWorld.copy(y),E.setFromObject(v,!0),E.getSize(x),x.x=x.x<T?T:x.x,x.y=x.y<T?T:x.y,x.z=x.z<T?T:x.z,v.parent.matrixWorld.compose(A,d,b),this.el.object3D.rotation.copy(f)}}(),checkTrackedObject:function(){var A=this.trackedObject3DPath,b;if(A&&A.length&&!this.trackedObject3D){b=this.el;for(var d=0;d<A.length&&(b=b[A[d]],!!b);d++);b&&(this.trackedObject3D=b,this.updateCollider())}return this.trackedObject3D},tick:function(){var A=new w.Vector3,b=new w.Vector3,d=new w.Quaternion,g=new w.Matrix4;return function(){var y=this.obb,f=this.renderColliderMesh,E=this.checkTrackedObject()||this.el.object3D;E&&(E.updateMatrix(),E.updateMatrixWorld(!0),E.matrixWorld.decompose(A,d,b),(Math.abs(b.x-this.previousScale.x)>1e-4||Math.abs(b.y-this.previousScale.y)>1e-4||Math.abs(b.z-this.previousScale.z)>1e-4)&&this.updateCollider(),this.previousScale.copy(b),b.set(1,1,1),g.compose(A,d,b),f&&f.matrixWorld.copy(g),y.copy(this.aabb),y.applyMatrix4(g))}}()})},"./src/components/obj-model.js":(M,B,u)=>{var p=u("./src/utils/debug.js"),w=u("./src/core/component.js").registerComponent,A=u("./src/lib/three.js"),b=p("components:obj-model:warn");M.exports.Component=w("obj-model",{schema:{mtl:{type:"model"},obj:{type:"model"}},init:function(){var d=this;this.model=null,this.objLoader=new A.OBJLoader,this.mtlLoader=new A.MTLLoader(this.objLoader.manager),this.mtlLoader.crossOrigin="",this.el.addEventListener("componentinitialized",function(g){d.model&&g.detail.name==="material"&&d.applyMaterial()})},update:function(){var d=this.data;d.obj&&(this.resetMesh(),this.loadObj(d.obj,d.mtl))},remove:function(){this.resetMesh()},resetMesh:function(){this.model&&this.el.removeObject3D("mesh")},loadObj:function(d,g){var y=this,f=this.el,E=this.mtlLoader,C=this.objLoader,v=this.el.sceneEl.systems.renderer,x=g.substr(0,g.lastIndexOf("/")+1);if(g){f.hasAttribute("material")&&b("Material component properties are ignored when a .MTL is provided"),E.setResourcePath(x),E.load(g,function(T){T.preload(),C.setMaterials(T),C.load(d,function(L){y.model=L,y.model.traverse(function(R){if(R.isMesh){var F=R.material;F.map&&v.applyColorCorrection(F.map),F.emissiveMap&&v.applyColorCorrection(F.emissiveMap)}}),f.setObject3D("mesh",L),f.emit("model-loaded",{format:"obj",model:L})})});return}C.load(d,function(L){y.model=L,y.applyMaterial(),f.setObject3D("mesh",L),f.emit("model-loaded",{format:"obj",model:L})})},applyMaterial:function(){var d=this.el.components.material;d&&this.model.traverse(function(g){g instanceof A.Mesh&&(g.material=d.material)})}})},"./src/components/oculus-go-controls.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/utils/tracked-controls.js"),A=w.checkControllerPresentAndSetup,b=w.emitIfAxesChanged,d=w.onButtonEvent,g=u("./src/utils/index.js").device.isWebXRAvailable,y="oculus-go",f="Oculus Go",E=u("./src/constants/index.js").AFRAME_CDN_ROOT,C=E+"controllers/oculus/go/oculus-go-controller.gltf",v=g?y:f,x={axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},T={axes:{touchpad:[0,1]},buttons:["trigger","none","touchpad"]},L=g?T:x;M.exports.Component=p("oculus-go-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#FFFFFF"},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:L,bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},init:function(){var R=this;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(F){d(F.detail.id,"down",R)},this.onButtonUp=function(F){d(F.detail.id,"up",R)},this.onButtonTouchStart=function(F){d(F.detail.id,"touchstart",R)},this.onButtonTouchEnd=function(F){d(F.detail.id,"touchend",R)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var R=this.el;R.addEventListener("buttonchanged",this.onButtonChanged),R.addEventListener("buttondown",this.onButtonDown),R.addEventListener("buttonup",this.onButtonUp),R.addEventListener("touchstart",this.onButtonTouchStart),R.addEventListener("touchend",this.onButtonTouchEnd),R.addEventListener("model-loaded",this.onModelLoaded),R.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var R=this.el;R.removeEventListener("buttonchanged",this.onButtonChanged),R.removeEventListener("buttondown",this.onButtonDown),R.removeEventListener("buttonup",this.onButtonUp),R.removeEventListener("touchstart",this.onButtonTouchStart),R.removeEventListener("touchend",this.onButtonTouchEnd),R.removeEventListener("model-loaded",this.onModelLoaded),R.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){A(this,v,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var R=this.el,F=this.data;R.setAttribute("tracked-controls",{armModel:F.armModel,hand:F.hand,idPrefix:v,orientationOffset:F.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",C)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(R){var F=R.detail.model,P;R.target!==this.el||!this.data.model||(P=this.buttonMeshes={},P.trigger=F.getObjectByName("oculus_go_button_trigger"),P.trackpad=F.getObjectByName("oculus_go_touchpad"),P.touchpad=F.getObjectByName("oculus_go_touchpad"))},onButtonChanged:function(R){var F=this.mapping.buttons[R.detail.id];F&&this.el.emit(F+"changed",R.detail.state)},onAxisMoved:function(R){b(this,this.mapping.axes,R)},updateModel:function(R,F){this.data.model&&this.updateButtonModel(R,F)},updateButtonModel:function(R,F){var P=this.buttonMeshes;if(!(!P||!P[R])){var H,$;switch(F){case"down":H=this.data.buttonHighlightColor;break;case"touchstart":H=this.data.buttonTouchedColor;break;default:H=this.data.buttonColor}$=P[R],$.material.color.set(H)}}})},"./src/components/oculus-touch-controls.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/lib/three.js"),A=u("./src/utils/tracked-controls.js"),b=A.checkControllerPresentAndSetup,d=A.emitIfAxesChanged,g=A.onButtonEvent,y=u("./src/utils/index.js").device.isWebXRAvailable,f="oculus-touch",E="Oculus Touch",C=y?f:E,v=u("./src/constants/index.js").AFRAME_CDN_ROOT,x=v+"controllers/oculus/oculus-touch-controller-",T=v+"controllers/meta/",L={left:{modelUrl:x+"left.gltf",rayOrigin:{origin:{x:.008,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new w.Vector3(-.005,.003,-.055),modelPivotRotation:new w.Euler(0,0,0)},right:{modelUrl:x+"right.gltf",rayOrigin:{origin:{x:-.008,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new w.Vector3(.005,.003,-.055),modelPivotRotation:new w.Euler(0,0,0)}},R={left:{modelUrl:x+"left.gltf",rayOrigin:{origin:{x:.002,y:-.005,z:-.03},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new w.Vector3(-.005,.036,-.037),modelPivotRotation:new w.Euler(Math.PI/4.5,0,0)},right:{modelUrl:x+"right.gltf",rayOrigin:{origin:{x:-.002,y:-.005,z:-.03},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new w.Vector3(.005,.036,-.037),modelPivotRotation:new w.Euler(Math.PI/4.5,0,0)}},F=y?R:L,P="oculus-touch",H={"oculus-touch":F,"oculus-touch-v2":{left:{modelUrl:x+"gen2-left.gltf",rayOrigin:{origin:{x:-.006,y:-.03,z:-.04},direction:{x:0,y:-.9,z:-1}},modelPivotOffset:new w.Vector3(0,-.007,-.021),modelPivotRotation:new w.Euler(-Math.PI/4,0,0)},right:{modelUrl:x+"gen2-right.gltf",rayOrigin:{origin:{x:.006,y:-.03,z:-.04},direction:{x:0,y:-.9,z:-1}},modelPivotOffset:new w.Vector3(0,-.007,-.021),modelPivotRotation:new w.Euler(-Math.PI/4,0,0)}},"oculus-touch-v3":{left:{modelUrl:x+"v3-left.glb",rayOrigin:{origin:{x:.0065,y:-.0186,z:-.05},direction:{x:.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new w.Vector3(0,0,0),modelPivotRotation:new w.Euler(0,0,0)},right:{modelUrl:x+"v3-right.glb",rayOrigin:{origin:{x:-.0065,y:-.0186,z:-.05},direction:{x:-.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new w.Vector3(0,0,0),modelPivotRotation:new w.Euler(0,0,0)}},"meta-quest-touch-pro":{left:{modelUrl:T+"quest-touch-pro-left.glb",rayOrigin:{origin:{x:.0065,y:-.0186,z:-.05},direction:{x:.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new w.Vector3(0,0,0),modelPivotRotation:new w.Euler(0,0,0)},right:{modelUrl:T+"quest-touch-pro-right.glb",rayOrigin:{origin:{x:-.0065,y:-.0186,z:-.05},direction:{x:-.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new w.Vector3(0,0,0),modelPivotRotation:new w.Euler(0,0,0)}},"meta-quest-touch-plus":{left:{modelUrl:T+"quest-touch-plus-left.glb",rayOrigin:{origin:{x:.0065,y:-.0186,z:-.05},direction:{x:.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new w.Vector3(0,0,0),modelPivotRotation:new w.Euler(0,0,0)},right:{modelUrl:T+"quest-touch-plus-right.glb",rayOrigin:{origin:{x:-.0065,y:-.0186,z:-.05},direction:{x:-.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new w.Vector3(0,0,0),modelPivotRotation:new w.Euler(0,0,0)}}},$={left:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","abutton","bbutton","surface"]}},te={left:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","abutton","bbutton","surface"]}},ee=y?te:$;M.exports.Component=p("oculus-touch-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#999"},buttonTouchColor:{type:"color",default:"#8AB"},buttonHighlightColor:{type:"color",default:"#2DF"},model:{default:!0},controllerType:{default:"auto",oneOf:["auto","oculus-touch","oculus-touch-v2","oculus-touch-v3"]},orientationOffset:{type:"vec3",default:{x:43,y:0,z:0}}},after:["tracked-controls"],mapping:ee,bindMethods:function(){this.onButtonChanged=this.onButtonChanged.bind(this),this.onThumbstickMoved=this.onThumbstickMoved.bind(this),this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},init:function(){var ie=this;this.onButtonDown=function(ne){g(ne.detail.id,"down",ie,ie.data.hand)},this.onButtonUp=function(ne){g(ne.detail.id,"up",ie,ie.data.hand)},this.onButtonTouchStart=function(ne){g(ne.detail.id,"touchstart",ie,ie.data.hand)},this.onButtonTouchEnd=function(ne){g(ne.detail.id,"touchend",ie,ie.data.hand)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.bindMethods(),this.triggerEuler=new w.Euler},addEventListeners:function(){var ie=this.el;ie.addEventListener("buttonchanged",this.onButtonChanged),ie.addEventListener("buttondown",this.onButtonDown),ie.addEventListener("buttonup",this.onButtonUp),ie.addEventListener("touchstart",this.onButtonTouchStart),ie.addEventListener("touchend",this.onButtonTouchEnd),ie.addEventListener("axismove",this.onAxisMoved),ie.addEventListener("model-loaded",this.onModelLoaded),ie.addEventListener("thumbstickmoved",this.onThumbstickMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var ie=this.el;ie.removeEventListener("buttonchanged",this.onButtonChanged),ie.removeEventListener("buttondown",this.onButtonDown),ie.removeEventListener("buttonup",this.onButtonUp),ie.removeEventListener("touchstart",this.onButtonTouchStart),ie.removeEventListener("touchend",this.onButtonTouchEnd),ie.removeEventListener("axismove",this.onAxisMoved),ie.removeEventListener("model-loaded",this.onModelLoaded),ie.removeEventListener("thumbstickmoved",this.onThumbstickMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){b(this,C,{hand:this.data.hand,iterateControllerProfiles:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},loadModel:function(ie){var ne=this.data,X;if(ne.model){if(this.controllerObject3D){this.el.setObject3D("mesh",this.controllerObject3D);return}if(this.displayModel=H[ne.controllerType]||H[P],ne.controllerType==="auto"){var z=this.el.sceneEl.systems["tracked-controls-webvr"];if(z&&z.vrDisplay){var se=z.vrDisplay.displayName;/^Oculus Quest$/.test(se)&&(this.displayModel=H["oculus-touch-v2"])}else{X=P;for(var ae=Object.keys(H),be=0;be<ie.profiles.length;be++)if(ae.indexOf(ie.profiles[be])!==-1){X=ie.profiles[be];break}this.displayModel=H[X]}}var Re=this.displayModel[ne.hand].modelUrl;this.isTouchV3orPROorPlus=this.displayModel===H["oculus-touch-v3"]||this.displayModel===H["meta-quest-touch-pro"]||this.displayModel===H["meta-quest-touch-plus"],this.el.setAttribute("gltf-model",Re)}},injectTrackedControls:function(ie){var ne=this.data,X=f,z=ne.hand==="right"?"Oculus Touch (Right)":"Oculus Touch (Left)",se=y?X:z;this.el.setAttribute("tracked-controls",{id:se,hand:ne.hand,orientationOffset:ne.orientationOffset,handTrackingEnabled:!1,iterateControllerProfiles:!0,space:"gripSpace"}),this.loadModel(ie)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(ie){var ne=this.mapping[this.data.hand].buttons[ie.detail.id];if(ne){if(this.isTouchV3orPROorPlus)this.onButtonChangedV3orPROorPlus(ie);else{var X=this.buttonMeshes,z;(ne==="trigger"||ne==="grip")&&(z=ie.detail.state.value),X&&(ne==="trigger"&&X.trigger&&(X.trigger.rotation.x=this.originalXRotationTrigger-z*(Math.PI/26)),ne==="grip"&&X.grip&&(z*=this.data.hand==="left"?-1:1,X.grip.position.x=this.originalXPositionGrip+z*.004))}this.el.emit(ne+"changed",ie.detail.state)}},onButtonChangedV3orPROorPlus:function(ie){var ne=this.mapping[this.data.hand].buttons[ie.detail.id],X=this.buttonObjects,z;!X||!X[ne]||(z=ie.detail.state.value,X[ne].quaternion.slerpQuaternions(this.buttonRanges[ne].min.quaternion,this.buttonRanges[ne].max.quaternion,z),X[ne].position.lerpVectors(this.buttonRanges[ne].min.position,this.buttonRanges[ne].max.position,z))},onModelLoaded:function(ie){if(!(ie.target!==this.el||!this.data.model)){if(this.isTouchV3orPROorPlus)this.onTouchV3orPROorPlusModelLoaded(ie);else{var ne=this.controllerObject3D=ie.detail.model,X;X=this.buttonMeshes={},X.grip=ne.getObjectByName("buttonHand"),this.originalXPositionGrip=X.grip&&X.grip.position.x,X.trigger=ne.getObjectByName("buttonTrigger"),this.originalXRotationTrigger=X.trigger&&X.trigger.rotation.x,X.thumbstick=ne.getObjectByName("stick"),X.xbutton=ne.getObjectByName("buttonX"),X.abutton=ne.getObjectByName("buttonA"),X.ybutton=ne.getObjectByName("buttonY"),X.bbutton=ne.getObjectByName("buttonB")}for(var z in this.buttonMeshes)this.buttonMeshes[z]&&de(this.buttonMeshes[z]);this.applyOffset(ie.detail.model),this.el.emit("controllermodelready",{name:"oculus-touch-controls",model:this.data.model,rayOrigin:this.displayModel[this.data.hand].rayOrigin})}},applyOffset:function(ie){ie.position.copy(this.displayModel[this.data.hand].modelPivotOffset),ie.rotation.copy(this.displayModel[this.data.hand].modelPivotRotation)},onTouchV3orPROorPlusModelLoaded:function(ie){var ne=this.controllerObject3D=ie.detail.model,X=this.buttonObjects={},z=this.buttonMeshes={},se=this.buttonRanges={};z.grip=ne.getObjectByName("squeeze"),X.grip=ne.getObjectByName("xr_standard_squeeze_pressed_value"),se.grip={min:ne.getObjectByName("xr_standard_squeeze_pressed_min"),max:ne.getObjectByName("xr_standard_squeeze_pressed_max")},X.grip.minX=X.grip.position.x,z.thumbstick=ne.getObjectByName("thumbstick"),X.thumbstick=ne.getObjectByName("xr_standard_thumbstick_pressed_value"),se.thumbstick={min:ne.getObjectByName("xr_standard_thumbstick_pressed_min"),max:ne.getObjectByName("xr_standard_thumbstick_pressed_max")},X.thumbstickXAxis=ne.getObjectByName("xr_standard_thumbstick_xaxis_pressed_value"),se.thumbstickXAxis={min:ne.getObjectByName("xr_standard_thumbstick_xaxis_pressed_min"),max:ne.getObjectByName("xr_standard_thumbstick_xaxis_pressed_max")},X.thumbstickYAxis=ne.getObjectByName("xr_standard_thumbstick_yaxis_pressed_value"),se.thumbstickYAxis={min:ne.getObjectByName("xr_standard_thumbstick_yaxis_pressed_min"),max:ne.getObjectByName("xr_standard_thumbstick_yaxis_pressed_max")},z.trigger=ne.getObjectByName("trigger"),X.trigger=ne.getObjectByName("xr_standard_trigger_pressed_value"),se.trigger={min:ne.getObjectByName("xr_standard_trigger_pressed_min"),max:ne.getObjectByName("xr_standard_trigger_pressed_max")},se.trigger.diff={x:Math.abs(se.trigger.max.rotation.x)-Math.abs(se.trigger.min.rotation.x),y:Math.abs(se.trigger.max.rotation.y)-Math.abs(se.trigger.min.rotation.y),z:Math.abs(se.trigger.max.rotation.z)-Math.abs(se.trigger.min.rotation.z)};var ae=this.data.hand==="left"?"x":"a",be=this.data.hand==="left"?"y":"b",Re=ae+"button",ke=be+"button";z[Re]=ne.getObjectByName(ae+"_button"),X[Re]=ne.getObjectByName(ae+"_button_pressed_value"),se[Re]={min:ne.getObjectByName(ae+"_button_pressed_min"),max:ne.getObjectByName(ae+"_button_pressed_max")},z[ke]=ne.getObjectByName(be+"_button"),X[ke]=ne.getObjectByName(be+"_button_pressed_value"),se[ke]={min:ne.getObjectByName(be+"_button_pressed_min"),max:ne.getObjectByName(be+"_button_pressed_max")}},onAxisMoved:function(ie){d(this,this.mapping[this.data.hand].axes,ie)},onThumbstickMoved:function(ie){if(!(!this.buttonMeshes||!this.buttonMeshes.thumbstick)){if(this.isTouchV3orPROorPlus){this.updateThumbstickTouchV3orPROorPlus(ie);return}for(var ne in ie.detail)this.buttonObjects.thumbstick.rotation[this.axisMap[ne]]=this.buttonRanges.thumbstick.originalRotation[this.axisMap[ne]]-Math.PI/8*ie.detail[ne]*(ne==="y"||this.data.hand==="right"?-1:1)}},axisMap:{y:"x",x:"z"},updateThumbstickTouchV3orPROorPlus:function(ie){var ne=(ie.detail.x+1)/2;this.buttonObjects.thumbstickXAxis.quaternion.slerpQuaternions(this.buttonRanges.thumbstickXAxis.min.quaternion,this.buttonRanges.thumbstickXAxis.max.quaternion,ne);var X=(ie.detail.y+1)/2;this.buttonObjects.thumbstickYAxis.quaternion.slerpQuaternions(this.buttonRanges.thumbstickYAxis.min.quaternion,this.buttonRanges.thumbstickYAxis.max.quaternion,X)},updateModel:function(ie,ne){this.data.model&&this.updateButtonModel(ie,ne)},updateButtonModel:function(ie,ne){var X=this.buttonMeshes,z,se;X&&X[ie]&&(se=ne==="up"||ne==="touchend"?X[ie].originalColor||this.data.buttonColor:ne==="touchstart"?this.data.buttonTouchColor:this.data.buttonHighlightColor,z=X[ie],z.material.color.set(se))}});function de(ie){ie.traverse(function(ne){var X;ne.type==="Mesh"&&(X=ne.material.clone(),ie.originalColor=ne.material.color,ne.material.dispose(),ne.material=X)})}},"./src/components/pico-controls.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/lib/three.js"),A=u("./src/utils/tracked-controls.js"),b=A.checkControllerPresentAndSetup,d=A.emitIfAxesChanged,g=A.onButtonEvent,y="pico-4",f=u("./src/constants/index.js").AFRAME_CDN_ROOT,E=f+"controllers/pico/pico4/",C={left:{axes:{touchpad:[2,3]},buttons:["trigger","squeeze","none","thumbstick","xbutton","ybutton"]},right:{axes:{touchpad:[2,3]},buttons:["trigger","squeeze","none","thumbstick","abutton","bbutton"]}};M.exports.Component=p("pico-controls",{schema:{hand:{default:"none"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:C,init:function(){var v=this;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(x){g(x.detail.id,"down",v,v.data.hand)},this.onButtonUp=function(x){g(x.detail.id,"up",v,v.data.hand)},this.onButtonTouchEnd=function(x){g(x.detail.id,"touchend",v,v.data.hand)},this.onButtonTouchStart=function(x){g(x.detail.id,"touchstart",v,v.data.hand)},this.bindMethods()},update:function(){var v=this.data;this.controllerIndex=v.hand==="right"?0:v.hand==="left"?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var v=this.el;v.addEventListener("buttonchanged",this.onButtonChanged),v.addEventListener("buttondown",this.onButtonDown),v.addEventListener("buttonup",this.onButtonUp),v.addEventListener("touchstart",this.onButtonTouchStart),v.addEventListener("touchend",this.onButtonTouchEnd),v.addEventListener("axismove",this.onAxisMoved),v.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var v=this.el;v.removeEventListener("buttonchanged",this.onButtonChanged),v.removeEventListener("buttondown",this.onButtonDown),v.removeEventListener("buttonup",this.onButtonUp),v.removeEventListener("touchstart",this.onButtonTouchStart),v.removeEventListener("touchend",this.onButtonTouchEnd),v.removeEventListener("axismove",this.onAxisMoved),v.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var v=this.data;b(this,y,{index:this.controllerIndex,hand:v.hand})},injectTrackedControls:function(){var v=this.el,x=this.data;v.setAttribute("tracked-controls",{idPrefix:y,hand:x.hand,controller:this.controllerIndex,orientationOffset:x.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",E+this.data.hand+".glb")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(v){var x=this.mapping[this.data.hand].buttons[v.detail.id],T;x&&(x==="trigger"&&(T=v.detail.state.value,console.log("analog value of trigger press: "+T)),this.el.emit(x+"changed",v.detail.state))},onModelLoaded:function(v){v.target!==this.el||!this.data.model||this.el.emit("controllermodelready",{name:"pico-controls",model:this.data.model,rayOrigin:new w.Vector3(0,0,0)})},onAxisMoved:function(v){d(this,this.mapping.axes,v)}})},"./src/components/position.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent;M.exports.Component=p("position",{schema:{type:"vec3"},update:function(){var w=this.el.object3D,A=this.data;w.position.set(A.x,A.y,A.z)},remove:function(){this.el.object3D.position.set(0,0,0)}})},"./src/components/raycaster.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/lib/three.js"),A=u("./src/utils/index.js"),b=A.debug("components:raycaster:warn"),d=/^[\w\s-.,[\]#]*$/,g={childList:!0,attributes:!0,subtree:!0},y={INTERSECT:"raycaster-intersected",INTERSECTION:"raycaster-intersection",INTERSECT_CLEAR:"raycaster-intersected-cleared",INTERSECTION_CLEAR:"raycaster-intersection-cleared",INTERSECTION_CLOSEST_ENTITY_CHANGED:"raycaster-closest-entity-changed"};M.exports.Component=p("raycaster",{schema:{autoRefresh:{default:!0},direction:{type:"vec3",default:{x:0,y:0,z:-1}},enabled:{default:!0},far:{default:1e3},interval:{default:0},near:{default:0},objects:{default:""},origin:{type:"vec3"},showLine:{default:!1},lineColor:{default:"white"},lineOpacity:{default:1},useWorldCoordinates:{default:!1}},multiple:!0,init:function(){this.clearedIntersectedEls=[],this.unitLineEndVec3=new w.Vector3,this.intersectedEls=[],this.intersections=[],this.newIntersectedEls=[],this.newIntersections=[],this.objects=[],this.prevCheckTime=void 0,this.prevIntersectedEls=[],this.rawIntersections=[],this.raycaster=new w.Raycaster,this.updateOriginDirection(),this.setDirty=this.setDirty.bind(this),this.updateLine=this.updateLine.bind(this),this.observer=new MutationObserver(this.setDirty),this.dirty=!0,this.lineEndVec3=new w.Vector3,this.otherLineEndVec3=new w.Vector3,this.lineData={end:this.lineEndVec3},this.getIntersection=this.getIntersection.bind(this),this.intersectedDetail={el:this.el,getIntersection:this.getIntersection},this.intersectedClearedDetail={el:this.el},this.intersectionClearedDetail={clearedEls:this.clearedIntersectedEls},this.intersectionDetail={}},update:function(E){var C=this.data,v=this.el,x=this.raycaster;x.far=C.far,x.near=C.near,C.showLine&&(C.far!==E.far||C.origin!==E.origin||C.direction!==E.direction||!E.showLine)&&(this.unitLineEndVec3.copy(C.direction).normalize(),this.drawLine()),!C.showLine&&E.showLine&&v.removeAttribute("line"),C.objects!==E.objects&&!d.test(C.objects)&&b('[raycaster] Selector "'+C.objects+'" may not update automatically with DOM changes.'),C.objects||b('[raycaster] For performance, please define raycaster.objects when using raycaster or cursor components to whitelist which entities to intersect with. e.g., raycaster="objects: [data-raycastable]".'),C.autoRefresh!==E.autoRefresh&&v.isPlaying&&(C.autoRefresh?this.addEventListeners():this.removeEventListeners()),E.enabled&&!C.enabled&&this.clearAllIntersections(),this.setDirty()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){this.data.showLine&&this.el.removeAttribute("line"),this.clearAllIntersections()},addEventListeners:function(){this.data.autoRefresh&&(this.observer.observe(this.el.sceneEl,g),this.el.sceneEl.addEventListener("object3dset",this.setDirty),this.el.sceneEl.addEventListener("object3dremove",this.setDirty))},removeEventListeners:function(){this.observer.disconnect(),this.el.sceneEl.removeEventListener("object3dset",this.setDirty),this.el.sceneEl.removeEventListener("object3dremove",this.setDirty)},setDirty:function(){this.dirty=!0},refreshObjects:function(){var E=this.data,C;C=E.objects?this.el.sceneEl.querySelectorAll(E.objects):this.el.sceneEl.querySelectorAll("*"),this.objects=this.flattenObject3DMaps(C),this.dirty=!1},tock:function(E){var C=this.data,v=this.prevCheckTime;C.enabled&&(v&&E-v<C.interval||(this.prevCheckTime=E,this.checkIntersections()))},checkIntersections:function(){var E=this.clearedIntersectedEls,C=this.el,v=this.data,x,T=this.intersectedEls,L,R=this.intersections,F=this.newIntersectedEls,P=this.newIntersections,H=this.prevIntersectedEls,$=this.rawIntersections;for(this.dirty&&this.refreshObjects(),f(this.prevIntersectedEls,this.intersectedEls),this.updateOriginDirection(),$.length=0,this.raycaster.intersectObjects(this.objects,!0,$),R.length=0,T.length=0,x=0;x<$.length;x++)L=$[x],!(v.showLine&&L.object===C.getObject3D("line"))&&L.object.el&&(R.push(L),T.push(L.object.el));for(P.length=0,F.length=0,x=0;x<R.length;x++)H.indexOf(R[x].object.el)===-1&&(P.push(R[x]),F.push(R[x].object.el));for(E.length=0,x=0;x<H.length;x++)T.indexOf(H[x])===-1&&(H[x].emit(y.INTERSECT_CLEAR,this.intersectedClearedDetail),E.push(H[x]));for(E.length&&C.emit(y.INTERSECTION_CLEAR,this.intersectionClearedDetail),x=0;x<F.length;x++)F[x].emit(y.INTERSECT,this.intersectedDetail);P.length&&(this.intersectionDetail.els=F,this.intersectionDetail.intersections=P,C.emit(y.INTERSECTION,this.intersectionDetail)),(H.length===0&&R.length>0||H.length>0&&R.length===0||H.length&&R.length&&H[0]!==R[0].object.el)&&(this.intersectionDetail.els=this.intersectedEls,this.intersectionDetail.intersections=R,C.emit(y.INTERSECTION_CLOSEST_ENTITY_CHANGED,this.intersectionDetail)),v.showLine&&setTimeout(this.updateLine)},updateLine:function(){var E=this.el,C=this.intersections,v;C.length&&(C[0].object.el===E&&C[1]?v=C[1].distance:v=C[0].distance),this.drawLine(v)},getIntersection:function(E){var C,v;for(C=0;C<this.intersections.length;C++)if(v=this.intersections[C],v.object.el===E)return v;return null},updateOriginDirection:function(){var E=new w.Vector3,C=new w.Vector3;return function(){var x=this.el,T=this.data;if(T.useWorldCoordinates){this.raycaster.set(T.origin,T.direction);return}x.object3D.updateMatrixWorld(),C.setFromMatrixPosition(x.object3D.matrixWorld),(T.origin.x!==0||T.origin.y!==0||T.origin.z!==0)&&(C=x.object3D.localToWorld(C.copy(T.origin))),E.copy(T.direction).transformDirection(x.object3D.matrixWorld).normalize(),this.raycaster.set(C,E)}}(),drawLine:function(E){var C=this.data,v=this.el,x;x=this.lineData.end===this.lineEndVec3?this.otherLineEndVec3:this.lineEndVec3,E===void 0&&(E=C.far===1/0?1e3:C.far),this.lineData.start=C.origin,this.lineData.end=x.copy(this.unitLineEndVec3).multiplyScalar(E).add(C.origin),this.lineData.color=C.lineColor,this.lineData.opacity=C.lineOpacity,v.setAttribute("line",this.lineData)},flattenObject3DMaps:function(E){var C,v,x=this.objects,T=this.el.sceneEl.object3D;function L(F){return F.parent?L(F.parent):F===T}for(x.length=0,v=0;v<E.length;v++){var R=E[v];if(R.isEntity&&R.object3D&&L(R.object3D))for(C in R.object3DMap)x.push(R.getObject3D(C))}return x},clearAllIntersections:function(){var E;for(E=0;E<this.intersectedEls.length;E++)this.intersectedEls[E].emit(y.INTERSECT_CLEAR,this.intersectedClearedDetail);f(this.clearedIntersectedEls,this.intersectedEls),this.intersectedEls.length=0,this.intersections.length=0,this.el.emit(y.INTERSECTION_CLEAR,this.intersectionClearedDetail)}});function f(E,C){var v;for(E.length=C.length,v=0;v<C.length;v++)E[v]=C[v]}},"./src/components/rotation.js":(M,B,u)=>{var p=u("./src/lib/three.js").MathUtils.degToRad,w=u("./src/core/component.js").registerComponent;M.exports.Component=w("rotation",{schema:{type:"vec3"},update:function(){var A=this.data,b=this.el.object3D;b.rotation.set(p(A.x),p(A.y),p(A.z),"YXZ")},remove:function(){this.el.object3D.rotation.set(0,0,0)}})},"./src/components/scale.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent;M.exports.Component=p("scale",{schema:{type:"vec3",default:{x:1,y:1,z:1}},update:function(){var w=this.data,A=this.el.object3D;A.scale.set(w.x,w.y,w.z)},remove:function(){this.el.object3D.scale.set(1,1,1)}})},"./src/components/scene/ar-hit-test.js":(M,B,u)=>{var p="data:image/webp;base64,UklGRkQHAABXRUJQVlA4WAoAAAAQAAAA/wEA/wEAQUxQSL0DAAARDzD/ERGCjrY9sYYFfgo6aa1kJ7K0w9Lo3AadLSVeFxevQwj5kuM8RfR/Atw/C0+ozB/oUBrloFZs6ElSW88j1KA4yExNWQaqRZquIDF0JYmlq0hAuUDTFu66tng3teW7pa3cQf1V1edvur54M/Slm6Wv3Gx9zw0MXlQLntcsBN6wkHjTQuYtC4W3LTw8mGRVG57TbAROtxHfZNhInGkjc5aNwtk2Hg6Mvki14k+NkZzCwQgCxalcAv3kddRTPI1DcUrXId1FLf1uHpzaQz4tquhZVLlKesbVpqKeTj0n0F5PpXDlFN9UqmhalL/ImuZFo6KmToWLoKlddMprqlS8cKovBvHo2kTiFV2LN4msaxKZl3QNiair8xYRdDWivIvXVXmbcMqJ51UebZuFXxZt6xd4laxtciqRtA3Cv0nU1t+kEUFbI8JvCa+tvkm3FDlO/W+OR99+kWEp/YYo+tYfTVnf/K8cE/F///3vv//993eeL+a+uvjawLcX3xjYvJotBFY3kVjTRGFtE+BU2AiMbiQyhpHMWEYeBozAH5qNBYRDB5KBCaTDBKKBAZTDBoKBDjwHAN5ABeCJBsAZcAAC0YHHxAYSMYBiYgGZWEA2MYFCbCCZGAAIANFEB+AnYgMQTDQAYSJ2AN5EBZAm4gDgTDgAeSIu4DGygTIRN1CMLOCZiACykQlg4jsAycgA8AO+BxCNdJyDkcbwRirDGXGnx8w+FDPrkM3MQ9JQZMYhiiwV/RDMtIM3U1/DmXHUo+IR2kSR2ToWkQ1NIn2qf2J8LCqJKiDUiSADHY3whirhdHgZ94HKaR97PhE+twEUJUFoAcgyTct8hfSxSkShASDKdMJ/ritKHwgyQ0sD4D/miCxU5SbhOOUDTnZpccCjYP/i0bZ/8bAgtVGEoGapWIQXyzKVKLwgNJFk2rtMIgoNRJlOZF7SNSSyUEeQmbxBFKEmtYjEe8S8zOZ1AkJVCmS88FJOtF40Ksg4oUaFiygk3C8qlTVNyl8UTevCUdAE2t14PfVqU1FPp57TopKeQZWromddTQp6QOfTOEQt/ZDuipZ11w/wOiqO8dRORcc6BQEkDQMClaHcn5wV9yLbxsNZNgpn2sicYSNxuo34Js1G4FQbnuNsOPa28PCWhcKbFjJvWEi8ZiHwqgXPcxbc5db33Cx95WboSzddX7yp+vyN0+eul7ZyN7Xlu64t3jVt4c5pc4JLV5EYupJE0xUknC4nOjVlmaYpyLit53HCQ0+ScnqceNcS5dzUkd0/CwMAVlA4IGADAAAQXwCdASoAAgACP8ne6Wy/tjCpqJ/IA/A5CWlu4XYBG/Pz8AfwD8APz//f3v8E1fuHZnxKYACtfuHZnxKYACrYTb5mOslhxu843ecbvON3nG7zjd3a0VCn7G1MABVxwH/Xd25gAK1+4dmfEpe2+PHhQaj75++riG6FuYACtfuHZnxKYACRrK3q9xO8Ss3uWKnMhs/rDF1hi6wxdYYusMXWGI5QRcCFDZog5OgqNlse1NDuz/UoFa/cOzPiUwAEsAOK4/nu5eZHK2tlXxJfNYlMABWv3Dsz4bvNJ5YA/LtxJ38SmAArX7h2Z8Sk5vdZUYv7mZPiUwAFa/cOzPh21s5OgZxf1mfEpemRyFr/rM+JS9noA/LtxJ38SmAAlUJIotzAASn6TjdhK+D3Dsz4dyvB7h2Z8O2tnJ0DOL+sz4lL2nKLT4lL/+iSLOocxq639w7M34MNZdm55uJ8v8ra2cpVZnxKTq2F3PN/cNksAfl24k7+JTAASqrD37h2Z7b1W+VtbOUqsz4lJ1bC7nm/uGyWAPy7cSd/EpgAJVVh79w7M9t6rfK2tnKVWZ8Sk6thdzzf3DZLAH5duJO/iUwAEqqw9+4dme29VvlbWzlKrM+JSdWwu55v7hslgD8u3EnfxKYACVVYe/cOzPbeq3ytrZylVme0kYJ8557FLerqFrzIbPrrf3DZLAH5duJO/iUvaVMS9BoaF4p7pSDFTP1XMyfElelrM0DOL+sz4eBJ13nV1OppBGPuKb4YzXQgq9uH19uS/0+JS9t9fr6ZUlQBelDG6GMgq97otb5QMPJwtKyBTbFp8Sl7b6/X0ykkawEOsgdiE6Fi0vb/Eve6xkwsmug0Z4nGNHQO8839bpTsjpz7SWIJxKagvd1QWMa6FYT1KEw3j4XDT6vJ9Xk+nyfT5Pq8n1eEmk5dinMM/9Fcfz4Z3Dsz3KD2dw7LxBRxKrqUUGQPH/7zxr1KIfNpLEJ0MZB2ITM/0Z2EFoh12NlXnEcpYcbvON3nG7zjd5xu84vfcNIAAP7+y8ceyzbVxkakPYY4lcr72fqOnDwipv+yxC71wAADBrjKnAAAAAAAAAAAAAAw7oNGHttqWONcoFN/2WIDc2pa6WVFtFYROlsaMaTXdcOjXHz93+YxAglKa4AAAAA=",w=u("./src/core/component.js").registerComponent,A=u("./src/lib/three.js"),b=21,d=function(){var E=new A.Quaternion,C=new A.Vector3;function v(x,T,L){T.position.copy(x.transform.position),T.quaternion.copy(x.transform.orientation),C.copy(L),E.copy(x.transform.orientation),C.applyQuaternion(E),T.position.sub(C)}return v}();d.tempFakePose={transform:{orientation:new A.Quaternion,position:new A.Vector3}};function g(E,C){this.renderer=E,this.xrHitTestSource=null,E.xr.addEventListener("sessionend",(function(){this.xrHitTestSource=null}).bind(this)),E.xr.addEventListener("sessionstart",(function(){this.sessionStart(C)}).bind(this)),this.renderer.xr.isPresenting&&this.sessionStart(C)}g.prototype.previousFrameAnchors=new Set,g.prototype.anchorToObject3D=new Map;function y(E){console.warn(E.message),console.warn('Cannot requestHitTestSource Are you missing: webxr="optionalFeatures: hit-test;" from <a-scene>?')}g.prototype.sessionStart=function(C){if(this.session=this.renderer.xr.getSession(),!("requestHitTestSource"in this.session)){y({message:"No requestHitTestSource on the session."});return}C.space?this.session.requestHitTestSource(C).then((function(v){this.xrHitTestSource=v}).bind(this)).catch(y):C.profile&&this.session.requestHitTestSourceForTransientInput(C).then((function(v){this.xrHitTestSource=v,this.transient=!0}).bind(this)).catch(y)},g.prototype.anchorFromLastHitTestResult=function(E,C){var v=this.lastHitTest;if(v){var x={object3D:E,offset:C};Array.from(this.anchorToObject3D.entries()).forEach((function(T){var L=T[1].object3D,R=T[0];L===E&&(this.anchorToObject3D.delete(R),R.delete())}).bind(this)),v.createAnchor&&v.createAnchor().then((function(T){this.anchorToObject3D.set(T,x)}).bind(this)).catch(function(T){console.warn(T.message),console.warn('Cannot create anchor, are you missing: webxr="optionalFeatures: anchors;" from <a-scene>?')})}},g.prototype.doHit=function(C){if(this.renderer.xr.isPresenting){var v=this.renderer.xr.getReferenceSpace(),x=C.getViewerPose(v),T,L;if(this.xrHitTestSource&&x)return this.transient?(T=C.getHitTestResultsForTransientInput(this.xrHitTestSource),T.length>0?(L=T[0].results,L.length>0?(this.lastHitTest=L[0],L[0].getPose(v)):!1):!1):(T=C.getHitTestResults(this.xrHitTestSource),T.length>0?(this.lastHitTest=T[0],T[0].getPose(v)):!1)}},g.updateAnchorPoses=function(E,C){var v=E.trackedAnchors||g.prototype.previousFrameAnchors;g.prototype.previousFrameAnchors.forEach(function(x){v.has(x)||g.prototype.anchorToObject3D.delete(x)}),v.forEach(function(x){var T,L,R,F;try{T=E.getPose(x.anchorSpace,C)}catch(P){}if(T){if(L=g.prototype.anchorToObject3D.get(x),!L)return;R=L.offset,F=L.object3D,d(T,F,R)}})};var f;M.exports.Component=w("ar-hit-test",{schema:{target:{type:"selector"},enabled:{default:!0},src:{default:p,type:"map"},type:{default:"footprint",oneOf:["footprint","map"]},footprintDepth:{default:.1},mapSize:{type:"vec2",default:{x:.5,y:.5}}},sceneOnly:!0,init:function(){this.hitTest=null,this.imageDataArray=new Uint8ClampedArray(1048576),this.imageData=new ImageData(this.imageDataArray,512,512),this.textureCache=new Map,this.orthoCam=new A.OrthographicCamera,this.orthoCam.layers.set(b),this.textureTarget=new A.WebGLRenderTarget(512,512,{}),this.basicMaterial=new A.MeshBasicMaterial({color:0,side:A.DoubleSide}),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.context.imageSmoothingEnabled=!1,this.canvas.width=512,this.canvas.height=512,this.canvasTexture=new A.CanvasTexture(this.canvas,{alpha:!0}),this.canvasTexture.flipY=!1;var E=this.el.getAttribute("webxr"),C=E.optionalFeatures;(!C.includes("hit-test")||!C.includes("anchors"))&&(C.push("hit-test"),C.push("anchors"),this.el.setAttribute("webxr",E)),this.el.sceneEl.renderer.xr.addEventListener("sessionend",(function(){this.hitTest=null}).bind(this)),this.el.sceneEl.renderer.xr.addEventListener("sessionstart",(function(){if(this.el.is("ar-mode")){var v=this.el.sceneEl.renderer,x=this.session=v.xr.getSession();this.hasPosedOnce=!1,this.bboxMesh.visible=!1,f||(f=new Map),x.requestReferenceSpace("viewer").then((function(R){this.hitTest=new g(v,{space:R}),f.set(R,this.hitTest),this.el.emit("ar-hit-test-start")}).bind(this));var T="generic-touchscreen",L=new g(v,{profile:T});x.addEventListener("selectstart",(function(R){if(this.data.enabled===!0){var F=R.inputSource;this.bboxMesh.visible=!0,this.hasPosedOnce===!0&&(this.el.emit("ar-hit-test-select-start",{inputSource:F,position:this.bboxMesh.position,orientation:this.bboxMesh.quaternion}),F.profiles[0]===T?this.hitTest=L:(this.hitTest=f.get(F)||new g(v,{space:F.targetRaySpace}),f.set(F,this.hitTest)))}}).bind(this)),x.addEventListener("selectend",(function(R){if(!this.hitTest||this.data.enabled!==!0){this.hitTest=null;return}var F=R.inputSource,P;this.hasPosedOnce===!0&&(this.bboxMesh.visible=!1,this.data.target&&(P=this.data.target.object3D,P&&(d.tempFakePose.transform.position.copy(this.bboxMesh.position),d.tempFakePose.transform.orientation.copy(this.bboxMesh.quaternion),d(d.tempFakePose,P,this.bboxOffset),P.visible=!0,this.hitTest.anchorFromLastHitTestResult(P,this.bboxOffset))),this.el.emit("ar-hit-test-select",{inputSource:F,position:this.bboxMesh.position,orientation:this.bboxMesh.quaternion})),this.hitTest=null}).bind(this))}}).bind(this)),this.bboxOffset=new A.Vector3,this.update=this.update.bind(this),this.makeBBox()},update:function(){this.data.enabled===!1&&(this.hitTest=null,this.bboxMesh.visible=!1),this.data.target&&(this.data.target.object3D?(this.data.target.addEventListener("model-loaded",this.update),this.data.target.object3D.layers.enable(b),this.data.target.object3D.traverse(function(E){E.layers.enable(b)})):this.data.target.addEventListener("loaded",this.update,{once:!0})),this.bboxNeedsUpdate=!0},makeBBox:function(){var E=new A.PlaneGeometry(1,1),C=new A.MeshBasicMaterial({transparent:!0,color:16777215});E.rotateX(-Math.PI/2),E.rotateY(-Math.PI/2),this.bbox=new A.Box3,this.bboxMesh=new A.Mesh(E,C),this.el.setObject3D("ar-hit-test",this.bboxMesh),this.bboxMesh.visible=!1},updateFootprint:function(){var E,C=this.el.sceneEl.renderer,v,x,T=C.xr.enabled;this.bboxMesh.material.map=this.canvasTexture,this.bboxMesh.material.needsUpdate=!0,this.orthoCam.rotation.set(-Math.PI/2,0,-Math.PI/2),this.orthoCam.position.copy(this.bboxMesh.position),this.orthoCam.position.y-=this.bboxMesh.scale.y/2,this.orthoCam.near=.1,this.orthoCam.far=this.orthoCam.near+this.data.footprintDepth*this.bboxMesh.scale.y,this.orthoCam.position.y+=this.orthoCam.far,this.orthoCam.right=this.bboxMesh.scale.z/2,this.orthoCam.left=-this.bboxMesh.scale.z/2,this.orthoCam.top=this.bboxMesh.scale.x/2,this.orthoCam.bottom=-this.bboxMesh.scale.x/2,this.orthoCam.updateProjectionMatrix(),v=C.getRenderTarget(),C.setRenderTarget(this.textureTarget),C.xr.enabled=!1,x=this.el.object3D.background,this.el.object3D.overrideMaterial=this.basicMaterial,this.el.object3D.background=null,C.render(this.el.object3D,this.orthoCam),this.el.object3D.background=x,this.el.object3D.overrideMaterial=null,C.xr.enabled=T,C.setRenderTarget(v),C.readRenderTargetPixels(this.textureTarget,0,0,512,512,this.imageDataArray),this.context.putImageData(this.imageData,0,0),this.context.shadowColor="white",this.context.shadowBlur=10,this.context.drawImage(this.canvas,0,0),E=this.context.getImageData(0,0,512,512);for(var L=0;L<262144;L++)E.data[L*4+3]!==0&&E.data[L*4+3]!==255&&(E.data[L*4+3]=128);this.context.putImageData(E,0,0),this.canvasTexture.needsUpdate=!0},tick:function(){var E,C=this.el.sceneEl.frame,v=this.el.sceneEl.renderer;if(C&&g.updateAnchorPoses(C,v.xr.getReferenceSpace()),this.bboxNeedsUpdate){if(this.bboxNeedsUpdate=!1,!this.data.target||this.data.type==="map"){var x;this.textureCache.has(this.data.src)?x=this.textureCache.get(this.data.src):(x=new A.TextureLoader().load(this.data.src),this.textureCache.set(this.data.src,x)),this.bboxMesh.material.map=x,this.bboxMesh.material.needsUpdate=!0}this.data.target&&this.data.target.object3D?(this.bbox.setFromObject(this.data.target.object3D),this.bbox.getCenter(this.bboxMesh.position),this.bbox.getSize(this.bboxMesh.scale),this.data.type==="footprint"&&(this.bboxMesh.scale.x*=1.04,this.bboxMesh.scale.z*=1.04,this.updateFootprint()),this.bboxMesh.position.y-=this.bboxMesh.scale.y/2,this.bboxOffset.copy(this.bboxMesh.position),this.bboxOffset.sub(this.data.target.object3D.position)):this.bboxMesh.scale.set(this.data.mapSize.x,1,this.data.mapSize.y)}this.hitTest&&(E=this.hitTest.doHit(C),E&&(this.hasPosedOnce!==!0&&(this.hasPosedOnce=!0,this.el.emit("ar-hit-test-achieved")),this.bboxMesh.visible=!0,this.bboxMesh.position.copy(E.transform.position),this.bboxMesh.quaternion.copy(E.transform.orientation)))}})},"./src/components/scene/background.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent;M.exports.Component=p("background",{schema:{color:{type:"color",default:"black"},transparent:{default:!1}},sceneOnly:!0,update:function(){var w=this.data,A=this.el.object3D;w.transparent?A.background=null:A.background=new THREE.Color(w.color)},remove:function(){var w=this.el.object3D;w.background=null}})},"./src/components/scene/debug.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent;M.exports.Component=p("debug",{schema:{default:!0},sceneOnly:!0})},"./src/components/scene/device-orientation-permission-ui.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/constants/index.js"),A="a-modal",b="a-dialog",d="a-dialog-text",g="a-dialog-text-container",y="a-dialog-buttons-container",f="a-dialog-button",E="a-dialog-allow-button",C="a-dialog-deny-button",v="a-dialog-ok-button";M.exports.Component=p("device-orientation-permission-ui",{schema:{enabled:{default:!0},deviceMotionMessage:{default:"This immersive website requires access to your device motion sensors."},httpsMessage:{default:"Access this site over HTTPS to enter VR mode and grant access to the device sensors."},denyButtonText:{default:"Deny"},allowButtonText:{default:"Allow"},cancelButtonText:{default:"Cancel"}},sceneOnly:!0,init:function(){var R=this;if(this.data.enabled){if(window.isSecureContext||this.showHTTPAlert(),typeof DeviceOrientationEvent>"u"||!DeviceOrientationEvent.requestPermission){this.permissionGranted=!0;return}this.onDeviceMotionDialogAllowClicked=this.onDeviceMotionDialogAllowClicked.bind(this),this.onDeviceMotionDialogDenyClicked=this.onDeviceMotionDialogDenyClicked.bind(this),DeviceOrientationEvent.requestPermission().then(function(){R.el.emit("deviceorientationpermissiongranted"),R.permissionGranted=!0}).catch(function(){R.devicePermissionDialogEl=x(R.data.denyButtonText,R.data.allowButtonText,R.data.deviceMotionMessage,R.onDeviceMotionDialogAllowClicked,R.onDeviceMotionDialogDenyClicked),R.el.appendChild(R.devicePermissionDialogEl)})}},remove:function(){this.devicePermissionDialogEl&&this.el.removeChild(this.devicePermissionDialogEl)},onDeviceMotionDialogDenyClicked:function(){this.remove()},showHTTPAlert:function(){var R=this,F=T(R.data.cancelButtonText,R.data.httpsMessage,function(){R.el.removeChild(F)});this.el.appendChild(F)},onDeviceMotionDialogAllowClicked:function(){var R=this;this.el.emit("deviceorientationpermissionrequested"),DeviceOrientationEvent.requestPermission().then(function(F){F==="granted"?(R.el.emit("deviceorientationpermissiongranted"),R.permissionGranted=!0):R.el.emit("deviceorientationpermissionrejected"),R.remove()}).catch(console.error)}});function x(R,F,P,H,$){var te,ee,de;return te=document.createElement("div"),te.classList.add(y),ee=document.createElement("button"),ee.classList.add(f,C),ee.setAttribute(w.AFRAME_INJECTED,""),ee.innerHTML=R,te.appendChild(ee),de=document.createElement("button"),de.classList.add(f,E),de.setAttribute(w.AFRAME_INJECTED,""),de.innerHTML=F,te.appendChild(de),de.addEventListener("click",function(ie){ie.stopPropagation(),H()}),ee.addEventListener("click",function(ie){ie.stopPropagation(),$()}),L(P,te)}function T(R,F,P){var H,$;return H=document.createElement("div"),H.classList.add(y),$=document.createElement("button"),$.classList.add(f,v),$.setAttribute(w.AFRAME_INJECTED,""),$.innerHTML=R,H.appendChild($),$.addEventListener("click",function(te){te.stopPropagation(),P()}),L(F,H)}function L(R,F){var P,H,$,te;return P=document.createElement("div"),P.classList.add(A),P.setAttribute(w.AFRAME_INJECTED,""),H=document.createElement("div"),H.className=b,H.setAttribute(w.AFRAME_INJECTED,""),P.appendChild(H),$=document.createElement("div"),$.classList.add(g),H.appendChild($),te=document.createElement("div"),te.classList.add(d),te.innerHTML=R,$.appendChild(te),H.appendChild(F),P}},"./src/components/scene/embedded.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent;M.exports.Component=p("embedded",{dependencies:["xr-mode-ui"],schema:{default:!0},sceneOnly:!0,update:function(){var w=this.el,A=w.querySelector(".a-enter-vr");this.data===!0?(A&&A.classList.add("embedded"),w.removeFullScreenStyles()):(A&&A.classList.remove("embedded"),w.addFullScreenStyles())}})},"./src/components/scene/fog.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/lib/three.js"),A=u("./src/utils/debug.js");A("components:fog:warn"),M.exports.Component=p("fog",{schema:{color:{type:"color",default:"#000"},density:{default:25e-5},far:{default:1e3,min:0},near:{default:1,min:0},type:{default:"linear",oneOf:["linear","exponential"]}},sceneOnly:!0,update:function(){var d=this.data,g=this.el,y=this.el.object3D.fog;if(!y||d.type!==y.name){g.object3D.fog=b(d);return}Object.keys(this.schema).forEach(function(f){var E=d[f];f==="color"&&(E=new w.Color(E)),y[f]=E})},remove:function(){var d=this.el,g=this.el.object3D.fog;g&&(d.object3D.fog=null)}});function b(d){var g;return d.type==="exponential"?g=new w.FogExp2(d.color,d.density):g=new w.Fog(d.color,d.near,d.far),g.name=d.type,g}},"./src/components/scene/inspector.js":(M,B,u)=>{var p=u("./src/constants/index.js").AFRAME_INJECTED,w=u("./package.json"),A=u("./src/core/component.js").registerComponent,b=u("./src/utils/index.js");function d(C){var v=C.split(".");return v[2]="x",v.join(".")}var g="https://unpkg.com/aframe-inspector@"+d(w.version)+"/dist/aframe-inspector.min.js",y=g,f="Loading Inspector",E="Error loading Inspector";M.exports.Component=A("inspector",{schema:{url:{default:y}},sceneOnly:!0,init:function(){this.firstPlay=!0,this.onKeydown=this.onKeydown.bind(this),this.onMessage=this.onMessage.bind(this),this.initOverlay(),window.addEventListener("keydown",this.onKeydown),window.addEventListener("message",this.onMessage)},play:function(){var C;this.firstPlay&&(C=b.getUrlParameter("inspector"),C!=="false"&&C&&(this.openInspector(),this.firstPlay=!1))},initOverlay:function(){var C='<span class="dots"><span>.</span><span>.</span><span>.</span></span>';this.loadingMessageEl=document.createElement("div"),this.loadingMessageEl.classList.add("a-inspector-loader"),this.loadingMessageEl.innerHTML=f+C},remove:function(){this.removeEventListeners()},onKeydown:function(C){var v=C.keyCode===73&&(C.ctrlKey&&C.altKey||C.getModifierState("AltGraph"));v&&this.openInspector()},showLoader:function(){document.body.appendChild(this.loadingMessageEl)},hideLoader:function(){document.body.removeChild(this.loadingMessageEl)},onMessage:function(C){C.data==="INJECT_AFRAME_INSPECTOR"&&this.openInspector()},openInspector:function(C){var v=this,x;if(AFRAME.INSPECTOR||AFRAME.inspectorInjected){AFRAME.INSPECTOR.open(C);return}this.showLoader(),x=document.createElement("script"),x.src=this.data.url,x.setAttribute("data-name","aframe-inspector"),x.setAttribute(p,""),x.onload=function(){AFRAME.INSPECTOR.open(C),v.hideLoader(),v.removeEventListeners()},x.onerror=function(){v.loadingMessageEl.innerHTML=E},document.head.appendChild(x),AFRAME.inspectorInjected=!0},removeEventListeners:function(){window.removeEventListener("keydown",this.onKeydown),window.removeEventListener("message",this.onMessage)}})},"./src/components/scene/keyboard-shortcuts.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/utils/index.js").shouldCaptureKeyEvent;M.exports.Component=p("keyboard-shortcuts",{schema:{enterVR:{default:!0},exitVR:{default:!0}},sceneOnly:!0,init:function(){this.onKeyup=this.onKeyup.bind(this)},update:function(A){var b=this.data;this.enterVREnabled=b.enterVR},play:function(){window.addEventListener("keyup",this.onKeyup,!1)},pause:function(){window.removeEventListener("keyup",this.onKeyup)},onKeyup:function(A){var b=this.el;w(A)&&(this.enterVREnabled&&A.keyCode===70&&b.enterVR(),this.enterVREnabled&&A.keyCode===27&&b.exitVR())}})},"./src/components/scene/pool.js":(M,B,u)=>{var p=u("./src/utils/debug.js"),w=u("./src/core/component.js").registerComponent,A=p("components:pool:warn");M.exports.Component=w("pool",{schema:{container:{default:""},mixin:{default:""},size:{default:0},dynamic:{default:!1}},sceneOnly:!0,multiple:!0,initPool:function(){var b;for(this.availableEls=[],this.usedEls=[],this.data.mixin||A("No mixin provided for pool component."),this.data.container&&(this.container=document.querySelector(this.data.container),this.container||A("Container "+this.data.container+" not found.")),this.container=this.container||this.el,b=0;b<this.data.size;++b)this.createEntity()},update:function(b){var d=this.data;(b.mixin!==d.mixin||b.size!==d.size)&&this.initPool()},createEntity:function(){var b;b=document.createElement("a-entity"),b.play=this.wrapPlay(b.play),b.setAttribute("mixin",this.data.mixin),b.object3D.visible=!1,b.pause(),this.container.appendChild(b),this.availableEls.push(b);var d=this.usedEls;b.addEventListener("loaded",function(){d.indexOf(b)===-1&&(b.object3DParent=b.object3D.parent,b.object3D.parent.remove(b.object3D))})},wrapPlay:function(b){var d=this.usedEls;return function(){d.indexOf(this)!==-1&&b.call(this)}},requestEntity:function(){var b;if(this.availableEls.length===0){if(this.data.dynamic===!1){A("Requested entity from empty pool: "+this.attrName);return}else A("Requested entity from empty pool. This pool is dynamic and will resize automatically. You might want to increase its initial size: "+this.attrName);this.createEntity()}return b=this.availableEls.shift(),this.usedEls.push(b),b.object3DParent&&(b.object3DParent.add(b.object3D),this.updateRaycasters()),b.object3D.visible=!0,b},returnEntity:function(b){var d=this.usedEls.indexOf(b);if(d===-1){A("The returned entity was not previously pooled from "+this.attrName);return}return this.usedEls.splice(d,1),this.availableEls.push(b),b.object3DParent=b.object3D.parent,b.object3D.parent.remove(b.object3D),this.updateRaycasters(),b.object3D.visible=!1,b.pause(),b},updateRaycasters:function(){var b=document.querySelectorAll("[raycaster]");b.forEach(function(d){d.components.raycaster.setDirty()})}})},"./src/components/scene/real-world-meshing.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/lib/three.js");M.exports.Component=p("real-world-meshing",{schema:{filterLabels:{type:"array"},meshesEnabled:{default:!0},meshMixin:{default:!0},planesEnabled:{default:!0},planeMixin:{default:""}},sceneOnly:!0,init:function(){var A=this.el.getAttribute("webxr"),b=A.requiredFeatures;b.indexOf("mesh-detection")===-1&&(b.push("mesh-detection"),this.el.setAttribute("webxr",A)),b.indexOf("plane-detection")===-1&&(b.push("plane-detection"),this.el.setAttribute("webxr",A)),this.meshEntities=[],this.initWorldMeshEntity=this.initWorldMeshEntity.bind(this)},tick:function(){this.el.is("ar-mode")&&(this.detectMeshes(),this.updateMeshes())},detectMeshes:function(){var A=this.data,b,d,g=this.el;g.renderer.xr;var y,f=this.meshEntities,E=!1,C=[],v=this.data.filterLabels;y=g.frame,b=y.detectedMeshes,d=y.detectedPlanes;for(var x=0;x<f.length;x++)f[x].present=!1;if(A.meshesEnabled){for(var T of b.values())if(!(v.length&&v.indexOf(T.semanticLabel)===-1)){for(x=0;x<f.length;x++)if(T===f[x].mesh){E=!0,f[x].present=!0,f[x].lastChangedTime<T.lastChangedTime&&this.updateMeshGeometry(f[x].el,T),f[x].lastChangedTime=T.lastChangedTime;break}E||C.push(T),E=!1}}if(A.planesEnabled){for(T of d.values())if(!(v.length&&v.indexOf(T.semanticLabel)===-1)){for(x=0;x<f.length;x++)if(T===f[x].mesh){E=!0,f[x].present=!0,f[x].lastChangedTime<T.lastChangedTime&&this.updateMeshGeometry(f[x].el,T),f[x].lastChangedTime=T.lastChangedTime;break}E||C.push(T),E=!1}}this.deleteMeshes(),this.createNewMeshes(C)},updateMeshes:function(){var A=new w.Matrix4;return function(){for(var b,d=this.el,g,y=d.frame,f=this.meshEntities,E=d.renderer.xr.getReferenceSpace(),C,v=0;v<f.length;v++)C=f[v].mesh.meshSpace||f[v].mesh.planeSpace,b=y.getPose(C,E),g=f[v].el,g.hasLoaded&&(A.fromArray(b.transform.matrix),A.decompose(g.object3D.position,g.object3D.quaternion,g.object3D.scale))}}(),deleteMeshes:function(){for(var A=this.meshEntities,b=[],d=0;d<A.length;d++)A[d].present?b.push(A[d]):this.el.removeChild(A[d]);this.meshEntities=b},createNewMeshes:function(A){for(var b,d=0;d<A.length;d++)b=document.createElement("a-entity"),this.meshEntities.push({mesh:A[d],el:b}),b.addEventListener("loaded",this.initWorldMeshEntity),this.el.appendChild(b)},initMeshGeometry:function(A){var b,d,g;if(A instanceof XRPlane){d=new w.Shape,g=A.polygon;for(var y=0;y<g.length;++y)y===0?d.moveTo(g[y].x,g[y].z):d.lineTo(g[y].x,g[y].z);return b=new w.ShapeGeometry(d),b.rotateX(Math.PI/2),b}return b=new w.BufferGeometry,b.setAttribute("position",new w.BufferAttribute(A.vertices,3)),b.setIndex(new w.BufferAttribute(A.indices,1)),b},initWorldMeshEntity:function(A){for(var b=A.target,d,g,y,f=this.meshEntities,E=0;E<f.length;E++)if(f[E].el===b){y=f[E];break}d=this.initMeshGeometry(y.mesh),g=new w.Mesh(d,new w.MeshBasicMaterial({color:Math.random()*16777215,side:w.DoubleSide})),b.setObject3D("mesh",g),y.mesh instanceof XRPlane&&this.data.planeMixin?b.setAttribute("mixin",this.data.planeMixin):this.data.meshMixin&&b.setAttribute("mixin",this.data.meshMixin),b.setAttribute("data-world-mesh",y.mesh.semanticLabel)},updateMeshGeometry:function(A,b){var d=A.getObject3D("mesh");d.geometry.dispose(),d.geometry=this.initMeshGeometry(b)}})},"./src/components/scene/reflection.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent;function w(A,b,d,g){var y=Math.max(A.primaryLightIntensity.x,Math.max(A.primaryLightIntensity.y,A.primaryLightIntensity.z));b.sh.fromArray(A.sphericalHarmonicsCoefficients),b.intensity=1,d&&(d.color.setRGB(A.primaryLightIntensity.x/y,A.primaryLightIntensity.y/y,A.primaryLightIntensity.z/y),d.intensity=y,g.copy(A.primaryLightDirection))}M.exports.Component=p("reflection",{schema:{directionalLight:{type:"selector"}},sceneOnly:!0,init:function(){var A=this;this.cubeRenderTarget=new THREE.WebGLCubeRenderTarget(16),this.cubeCamera=new THREE.CubeCamera(.1,1e3,this.cubeRenderTarget),this.lightingEstimationTexture=new THREE.WebGLCubeRenderTarget(16).texture,this.needsVREnvironmentUpdate=!0;var b=this.el.getAttribute("webxr"),d=b.optionalFeatures;d.includes("light-estimation")||(d.push("light-estimation"),this.el.setAttribute("webxr",b)),this.el.addEventListener("enter-vr",function(){if(A.el.is("ar-mode")){var g=A.el.renderer,y=g.xr.getSession();y.requestLightProbe&&A.startLightProbe()}}),this.el.addEventListener("exit-vr",function(){A.xrLightProbe&&A.stopLightProbe()}),this.el.object3D.environment=this.cubeRenderTarget.texture},stopLightProbe:function(){this.xrLightProbe=null,this.probeLight&&(this.probeLight.components.light.light.intensity=0),this.needsVREnvironmentUpdate=!0,this.el.object3D.environment=this.cubeRenderTarget.texture},startLightProbe:function(){this.needsLightProbeUpdate=!0},setupLightProbe:function(){var A=this.el.renderer,b=A.xr.getSession(),d=this,g=A.getContext();if(!this.probeLight){var y=document.createElement("a-light");y.setAttribute("type","probe"),y.setAttribute("intensity",0),this.el.appendChild(y),this.probeLight=y}switch(b.preferredReflectionFormat){case"srgba8":g.getExtension("EXT_sRGB");break;case"rgba16f":g.getExtension("OES_texture_half_float");break}this.glBinding=new XRWebGLBinding(b,g),g.getExtension("EXT_sRGB"),g.getExtension("OES_texture_half_float"),b.requestLightProbe().then(function(f){d.xrLightProbe=f,f.addEventListener("reflectionchange",d.updateXRCubeMap.bind(d))}).catch(function(f){console.warn("Lighting estimation not supported: "+f.message),console.warn('Are you missing: webxr="optionalFeatures: light-estimation;" from <a-scene>?')})},updateXRCubeMap:function(){var A=this.el.renderer,b=this.glBinding.getReflectionCubeMap(this.xrLightProbe);if(b){var d=A.properties.get(this.lightingEstimationTexture);d.__webglTexture=b,this.lightingEstimationTexture.needsPMREMUpdate=!0,this.el.object3D.environment=this.lightingEstimationTexture}},tick:function(){var A=this.el.object3D,b=this.el.renderer,d=this.el.frame;if(d&&this.xrLightProbe){var g=d.getLightEstimate(this.xrLightProbe);g&&w(g,this.probeLight.components.light.light,this.data.directionalLight&&this.data.directionalLight.components.light.light,this.data.directionalLight&&this.data.directionalLight.object3D.position)}this.needsVREnvironmentUpdate&&(A.environment=null,this.needsVREnvironmentUpdate=!1,this.cubeCamera.position.set(0,1.6,0),this.cubeCamera.update(b,A),A.environment=this.cubeRenderTarget.texture),this.needsLightProbeUpdate&&d&&(this.setupLightProbe(),this.needsLightProbeUpdate=!1)},remove:function(){this.el.object3D.environment=null,this.probeLight&&this.el.removeChild(this.probeLight)}})},"./src/components/scene/screenshot.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/lib/three.js"),A=["attribute vec3 position;","attribute vec2 uv;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUv;","void main()  {","  vUv = vec2( 1.- uv.x, uv.y );","  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),b=["precision mediump float;","uniform samplerCube map;","varying vec2 vUv;","#define M_PI 3.141592653589793238462643383279","void main() {","  vec2 uv = vUv;","  float longitude = uv.x * 2. * M_PI - M_PI + M_PI / 2.;","  float latitude = uv.y * M_PI;","  vec3 dir = vec3(","    - sin( longitude ) * sin( latitude ),","    cos( latitude ),","    - cos( longitude ) * sin( latitude )","  );","  normalize( dir );","  gl_FragColor = vec4( textureCube( map, dir ).rgb, 1.0 );","}"].join("\n");M.exports.Component=p("screenshot",{schema:{width:{default:4096},height:{default:2048},camera:{type:"selector"}},sceneOnly:!0,setup:function(){var d=this.el;if(!this.canvas){var g=d.renderer.getContext();g&&(this.cubeMapSize=g.getParameter(g.MAX_CUBE_MAP_TEXTURE_SIZE),this.material=new w.RawShaderMaterial({uniforms:{map:{type:"t",value:null}},vertexShader:A,fragmentShader:b,side:w.DoubleSide}),this.quad=new w.Mesh(new w.PlaneGeometry(1,1),this.material),this.quad.visible=!1,this.camera=new w.OrthographicCamera(-.5,.5,.5,-.5,-1e4,1e4),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),d.object3D.add(this.quad),this.onKeyDown=this.onKeyDown.bind(this))}},getRenderTarget:function(d,g){return new w.WebGLRenderTarget(d,g,{colorSpace:this.el.sceneEl.renderer.outputColorSpace,minFilter:w.LinearFilter,magFilter:w.LinearFilter,wrapS:w.ClampToEdgeWrapping,wrapT:w.ClampToEdgeWrapping,format:w.RGBAFormat,type:w.UnsignedByteType})},resize:function(d,g){this.quad.scale.set(d,g,1),this.camera.left=-1*d/2,this.camera.right=d/2,this.camera.top=g/2,this.camera.bottom=-1*g/2,this.camera.updateProjectionMatrix(),this.canvas.width=d,this.canvas.height=g},play:function(){window.addEventListener("keydown",this.onKeyDown)},onKeyDown:function(d){var g=d.keyCode===83&&d.ctrlKey&&d.altKey;if(!(!this.data||!g)){var y=d.shiftKey?"equirectangular":"perspective";this.capture(y)}},setCapture:function(d){var g=this.el,y,f,E,C;return d==="perspective"?(this.quad.visible=!1,f=this.data.camera&&this.data.camera.components.camera.camera||g.camera,y={width:this.data.width,height:this.data.height}):(f=this.camera,C=new w.WebGLCubeRenderTarget(Math.min(this.cubeMapSize,2048),{format:w.RGBFormat,generateMipmaps:!0,minFilter:w.LinearMipmapLinearFilter,colorSpace:w.SRGBColorSpace}),E=new w.CubeCamera(g.camera.near,g.camera.far,C),g.camera.getWorldPosition(E.position),g.camera.getWorldQuaternion(E.quaternion),E.update(g.renderer,g.object3D),this.quad.material.uniforms.map.value=E.renderTarget.texture,y={width:this.data.width,height:this.data.height},this.quad.visible=!0),{camera:f,size:y,projection:d}},capture:function(d){var g=this.el.renderer.xr.enabled,y=this.el.renderer,f;this.setup(),y.xr.enabled=!1,f=this.setCapture(d),this.renderCapture(f.camera,f.size,f.projection),this.saveCapture(),y.xr.enabled=g},getCanvas:function(d){var g=this.el.renderer.xr.enabled,y=this.el.renderer;this.setup();var f=this.setCapture(d);return y.xr.enabled=!1,this.renderCapture(f.camera,f.size,f.projection),y.xr.enabled=g,this.canvas},renderCapture:function(d,g,y){var f=this.el.renderer.autoClear,E=this.el,C,v,x,T=E.renderer;v=this.getRenderTarget(g.width,g.height),x=new Uint8Array(4*g.width*g.height),this.resize(g.width,g.height),T.autoClear=!0,T.clear(),T.setRenderTarget(v),T.render(E.object3D,d),T.autoClear=f,T.readRenderTargetPixels(v,0,0,g.width,g.height,x),T.setRenderTarget(null),y==="perspective"&&(x=this.flipPixelsVertically(x,g.width,g.height)),C=new ImageData(new Uint8ClampedArray(x),g.width,g.height),this.quad.visible=!1,this.ctx.putImageData(C,0,0)},flipPixelsVertically:function(d,g,y){for(var f=d.slice(0),E=0;E<g;++E)for(var C=0;C<y;++C)f[E*4+C*g*4]=d[E*4+(y-C)*g*4],f[E*4+1+C*g*4]=d[E*4+1+(y-C)*g*4],f[E*4+2+C*g*4]=d[E*4+2+(y-C)*g*4],f[E*4+3+C*g*4]=d[E*4+3+(y-C)*g*4];return f},saveCapture:function(){this.canvas.toBlob(function(d){var g="screenshot-"+document.title.toLowerCase()+"-"+Date.now()+".png",y=document.createElement("a"),f=URL.createObjectURL(d);y.href=f,y.setAttribute("download",g),y.innerHTML="downloading...",y.style.display="none",document.body.appendChild(y),setTimeout(function(){y.click(),document.body.removeChild(y)},1)},"image/png")}})},"./src/components/scene/stats.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./vendor/rStats.js"),A=u("./src/utils/index.js");u("./vendor/rStats.extras.js"),u("./src/lib/rStatsAframe.js");var b=window.aframeStats,d="a-hidden",g=window.threeStats;M.exports.Component=p("stats",{schema:{default:!0},sceneOnly:!0,init:function(){var f=this.el;A.getUrlParameter("stats")!=="false"&&(this.stats=y(f),this.statsEl=document.querySelector(".rs-base"),this.hideBound=this.hide.bind(this),this.showBound=this.show.bind(this),f.addEventListener("enter-vr",this.hideBound),f.addEventListener("exit-vr",this.showBound))},update:function(){if(this.stats)return this.data?this.show():this.hide()},remove:function(){this.el.removeEventListener("enter-vr",this.hideBound),this.el.removeEventListener("exit-vr",this.showBound),this.statsEl&&this.statsEl.parentNode.removeChild(this.statsEl)},tick:function(){var f=this.stats;f&&(f("rAF").tick(),f("FPS").frame(),f().update())},hide:function(){this.statsEl.classList.add(d)},show:function(){this.statsEl.classList.remove(d)}});function y(f){var E=new g(f.renderer),C=new b(f),v=f.isMobile?[]:[E,C];return new w({css:[],values:{fps:{caption:"fps",below:30}},groups:[{caption:"Framerate",values:["fps","raf"]}],plugins:v})}},"./src/components/scene/xr-mode-ui.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/constants/index.js"),A=u("./src/utils/index.js"),b="a-enter-vr",d="a-enter-ar",g="a-enter-vr-button",y="a-enter-ar-button",f="a-hidden",E="a-orientation-modal";M.exports.Component=p("xr-mode-ui",{dependencies:["canvas"],schema:{enabled:{default:!0},cardboardModeEnabled:{default:!1},enterVRButton:{default:""},enterVREnabled:{default:!0},enterARButton:{default:""},enterAREnabled:{default:!0},XRMode:{default:"vr",oneOf:["vr","ar","xr"]}},sceneOnly:!0,init:function(){var L=this,R=this.el;A.getUrlParameter("ui")!=="false"&&(this.insideLoader=!1,this.enterVREl=null,this.enterAREl=null,this.orientationModalEl=null,this.bindMethods(),R.addEventListener("enter-vr",this.updateEnterInterfaces),R.addEventListener("exit-vr",this.updateEnterInterfaces),R.addEventListener("update-vr-devices",this.updateEnterInterfaces),window.addEventListener("message",function(F){F.data.type==="loaderReady"&&(L.insideLoader=!0,L.remove())}),window.addEventListener("orientationchange",this.toggleOrientationModalIfNeeded))},bindMethods:function(){this.onEnterVRButtonClick=this.onEnterVRButtonClick.bind(this),this.onEnterARButtonClick=this.onEnterARButtonClick.bind(this),this.onModalClick=this.onModalClick.bind(this),this.toggleOrientationModalIfNeeded=this.toggleOrientationModalIfNeeded.bind(this),this.updateEnterInterfaces=this.updateEnterInterfaces.bind(this)},onModalClick:function(){this.el.exitVR()},onEnterVRButtonClick:function(){this.el.enterVR()},onEnterARButtonClick:function(){this.el.enterAR()},update:function(){var L=this.data,R=this.el;if(!L.enabled||this.insideLoader||A.getUrlParameter("ui")==="false")return this.remove();this.enterVREl||this.enterAREl||this.orientationModalEl||(!this.enterVREl&&L.enterVREnabled&&(L.XRMode==="xr"||L.XRMode==="vr")&&(L.enterVRButton?(this.enterVREl=document.querySelector(L.enterVRButton),this.enterVREl.addEventListener("click",this.onEnterVRButtonClick)):(this.enterVREl=C(this.onEnterVRButtonClick),R.appendChild(this.enterVREl))),!this.enterAREl&&L.enterAREnabled&&(L.XRMode==="xr"||L.XRMode==="ar")&&(L.enterARButton?(this.enterAREl=document.querySelector(L.enterARButton),this.enterAREl.addEventListener("click",this.onEnterARButtonClick)):(this.enterAREl=v(this.onEnterARButtonClick,L.XRMode==="xr"),R.appendChild(this.enterAREl))),this.orientationModalEl=x(this.onModalClick),R.appendChild(this.orientationModalEl),this.updateEnterInterfaces())},remove:function(){[this.enterVREl,this.enterAREl,this.orientationModalEl].forEach(function(L){L&&L.parentNode&&L.parentNode.removeChild(L)}),this.enterVREl=void 0,this.enterAREl=void 0,this.orientationModalEl=void 0},updateEnterInterfaces:function(){this.toggleEnterVRButtonIfNeeded(),this.toggleEnterARButtonIfNeeded(),this.toggleOrientationModalIfNeeded()},toggleEnterVRButtonIfNeeded:function(){var L=this.el;this.enterVREl&&(L.is("vr-mode")||(L.isMobile||A.device.isMobileDeviceRequestingDesktopSite())&&!this.data.cardboardModeEnabled&&!A.device.checkVRSupport()?this.enterVREl.classList.add(f):(A.device.checkVRSupport()||this.enterVREl.classList.add("fullscreen"),this.enterVREl.classList.remove(f),L.enterVR(!1,!0)))},toggleEnterARButtonIfNeeded:function(){var L=this.el;this.enterAREl&&(L.is("vr-mode")||!A.device.checkARSupport()?this.enterAREl.classList.add(f):(this.enterAREl.classList.remove(f),L.enterVR(!0,!0)))},toggleOrientationModalIfNeeded:function(){var L=this.el,R=this.orientationModalEl;!R||!L.isMobile||(!A.device.isLandscape()&&L.is("vr-mode")?R.classList.remove(f):R.classList.add(f))}});function C(L){var R,F;return F=document.createElement("div"),F.classList.add(b),F.setAttribute(w.AFRAME_INJECTED,""),R=document.createElement("button"),R.className=g,R.setAttribute("title","Enter VR mode with a headset or fullscreen without"),R.setAttribute(w.AFRAME_INJECTED,""),A.device.isMobile()&&T(R),F.appendChild(R),R.addEventListener("click",function(P){L(),P.stopPropagation()}),F}function v(L,R){var F,P;return P=document.createElement("div"),P.classList.add(d),R&&P.classList.add("xr"),P.setAttribute(w.AFRAME_INJECTED,""),F=document.createElement("button"),F.className=y,F.setAttribute("title","Enter AR mode with a headset or handheld device."),F.setAttribute(w.AFRAME_INJECTED,""),A.device.isMobile()&&T(F),P.appendChild(F),F.addEventListener("click",function(H){L(),H.stopPropagation()}),P}function x(L){var R=document.createElement("div");R.className=E,R.classList.add(f),R.setAttribute(w.AFRAME_INJECTED,"");var F=document.createElement("button");return F.setAttribute(w.AFRAME_INJECTED,""),F.innerHTML="Exit VR",F.addEventListener("click",L),R.appendChild(F),R}function T(L){L.addEventListener("touchstart",function(){L.classList.remove("resethover")},{passive:!0}),L.addEventListener("touchend",function(){L.classList.add("resethover")},{passive:!0})}},"./src/components/shadow.js":(M,B,u)=>{var p=u("./src/core/component.js"),w=u("./src/lib/three.js"),A=p.registerComponent;M.exports.Component=A("shadow",{schema:{cast:{default:!0},receive:{default:!0}},init:function(){this.onMeshChanged=this.update.bind(this),this.el.addEventListener("object3dset",this.onMeshChanged),this.system.setShadowMapEnabled(!0)},update:function(){var b=this.data;this.updateDescendants(b.cast,b.receive)},remove:function(){var b=this.el;b.removeEventListener("object3dset",this.onMeshChanged),this.updateDescendants(!1,!1)},updateDescendants:function(b,d){var g=this.el.sceneEl;this.el.object3D.traverse(function(y){if(y instanceof w.Mesh&&(y.castShadow=b,y.receiveShadow=d,g.hasLoaded&&y.material))for(var f=Array.isArray(y.material)?y.material:[y.material],E=0;E<f.length;E++)f[E].needsUpdate=!0})}})},"./src/components/sound.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/utils/debug.js"),A=u("./src/lib/three.js"),b=w("components:sound:warn");M.exports.Component=p("sound",{schema:{autoplay:{default:!1},distanceModel:{default:"inverse",oneOf:["linear","inverse","exponential"]},loop:{default:!1},loopStart:{default:0},loopEnd:{default:0},maxDistance:{default:1e4},on:{default:""},poolSize:{default:1},positional:{default:!0},refDistance:{default:1},rolloffFactor:{default:1},src:{type:"audio"},volume:{default:1}},multiple:!0,init:function(){var d=this;this.listener=null,this.audioLoader=new A.AudioLoader,this.pool=new A.Group,this.loaded=!1,this.mustPlay=!1,this.playSoundBound=function(){d.playSound()}},update:function(d){var g=this.data,y,f,E=g.src!==d.src;if(E){if(!g.src)return;this.setupSound()}for(y=0;y<this.pool.children.length;y++)f=this.pool.children[y],g.positional&&(f.setDistanceModel(g.distanceModel),f.setMaxDistance(g.maxDistance),f.setRefDistance(g.refDistance),f.setRolloffFactor(g.rolloffFactor)),f.setLoop(g.loop),f.setLoopStart(g.loopStart),g.loopStart!==0&&g.loopEnd===0?f.setLoopEnd(f.buffer.duration):f.setLoopEnd(g.loopEnd),f.setVolume(g.volume),f.isPaused=!1;if(g.on!==d.on&&this.updateEventListener(d.on),E){var C=this;this.loaded=!1,this.audioLoader.load(g.src,function(v){for(y=0;y<C.pool.children.length;y++)f=C.pool.children[y],f.setBuffer(v);C.loaded=!0,A.Cache.remove(g.src),(C.data.autoplay||C.mustPlay)&&C.playSound(C.processSound),C.el.emit("sound-loaded",C.evtDetail,!1)})}},pause:function(){this.stopSound(),this.removeEventListener()},play:function(){this.data.autoplay&&this.playSound(),this.updateEventListener()},remove:function(){var d,g;this.removeEventListener(),this.el.getObject3D(this.attrName)&&this.el.removeObject3D(this.attrName);try{for(d=0;d<this.pool.children.length;d++)g=this.pool.children[d],g.disconnect()}catch(y){b("Audio source not properly disconnected")}},updateEventListener:function(d){var g=this.el;d&&g.removeEventListener(d,this.playSoundBound),g.addEventListener(this.data.on,this.playSoundBound)},removeEventListener:function(){this.el.removeEventListener(this.data.on,this.playSoundBound)},setupSound:function(){var d=this.el,g,y=d.sceneEl,f=this,E;this.pool.children.length>0&&(this.stopSound(),d.removeObject3D("sound"));var C=this.listener=y.audioListener||new A.AudioListener;for(y.audioListener=C,y.camera&&y.camera.add(C),y.addEventListener("camera-set-active",function(v){v.detail.cameraEl.getObject3D("camera").add(C)}),this.pool=new A.Group,g=0;g<this.data.poolSize;g++)E=this.data.positional?new A.PositionalAudio(C):new A.Audio(C),this.pool.add(E);for(d.setObject3D(this.attrName,this.pool),g=0;g<this.pool.children.length;g++)E=this.pool.children[g],E.onEnded=function(){this.isPlaying=!1,f.el.emit("sound-ended",f.evtDetail,!1)}},pauseSound:function(){var d,g;for(this.isPlaying=!1,d=0;d<this.pool.children.length;d++)g=this.pool.children[d],!(!g.source||!g.source.buffer||!g.isPlaying||g.isPaused)&&(g.isPaused=!0,g.pause())},playSound:function(d){var g,y,f;if(!this.loaded){b("Sound not loaded yet. It will be played once it finished loading"),this.mustPlay=!0,this.processSound=d;return}for(g=!1,this.isPlaying=!0,y=0;y<this.pool.children.length;y++)if(f=this.pool.children[y],!f.isPlaying&&f.buffer&&!g){d&&d(f),f.play(),f.isPaused=!1,g=!0;continue}if(!g){b("All the sounds are playing. If you need to play more sounds simultaneously consider increasing the size of pool with the `poolSize` attribute.",this.el);return}this.mustPlay=!1,this.processSound=void 0},stopSound:function(){var d,g;for(this.isPlaying=!1,d=0;d<this.pool.children.length;d++){if(g=this.pool.children[d],!g.source||!g.source.buffer)return;g.stop()}}})},"./src/components/text.js":(M,B,u)=>{var p=u("./node_modules/three-bmfont-text/index.js"),w=u("./node_modules/load-bmfont/browser.js"),A=u("./src/core/component.js").registerComponent,b=u("./src/core/shader.js"),d=u("./src/lib/three.js"),g=u("./src/utils/index.js"),y=g.debug("components:text:error"),f=b.shaders,E=g.debug("components:text:warn"),C=1,v=16,x=u("./src/constants/index.js").AFRAME_CDN_ROOT,T=x+"fonts/",L={aileronsemibold:T+"Aileron-Semibold.fnt",dejavu:T+"DejaVu-sdf.fnt",exo2bold:T+"Exo2Bold.fnt",exo2semibold:T+"Exo2SemiBold.fnt",kelsonsans:T+"KelsonSans.fnt",monoid:T+"Monoid.fnt",mozillavr:T+"mozillavr.fnt",roboto:T+"Roboto-msdf.json",sourcecodepro:T+"SourceCodePro.fnt"},R=["roboto"],F="roboto";M.exports.FONTS=L;var P=new se,H={},$={},te=/^\w+:/;M.exports.Component=A("text",{multiple:!0,schema:{align:{type:"string",default:"left",oneOf:["left","right","center"]},alphaTest:{default:.5},anchor:{default:"center",oneOf:["left","right","center","align"]},baseline:{default:"center",oneOf:["top","center","bottom"]},color:{type:"color",default:"#FFF"},font:{type:"string",default:F},fontImage:{type:"string"},height:{type:"number"},letterSpacing:{type:"number",default:0},lineHeight:{type:"number"},negate:{type:"boolean",default:!0},opacity:{type:"number",default:1},shader:{default:"sdf",oneOf:f},side:{default:"front",oneOf:["front","back","double"]},tabSize:{default:4},transparent:{default:!0},value:{type:"string"},whiteSpace:{default:"normal",oneOf:["normal","pre","nowrap"]},width:{type:"number"},wrapCount:{type:"number",default:40},wrapPixels:{type:"number"},xOffset:{type:"number",default:0},yOffset:{type:"number",default:0},zOffset:{type:"number",default:.001}},init:function(){this.shaderData={},this.geometry=p(),this.createOrUpdateMaterial(),this.explicitGeoDimensionsChecked=!1},update:function(ae){var be=this.data,Re=this.currentFont;if($[be.font]?this.texture=$[be.font]:(this.texture=$[be.font]=new d.Texture,this.texture.anisotropy=v),this.createOrUpdateMaterial(),ae.font!==be.font){this.updateFont();return}Re&&(this.updateGeometry(this.geometry,Re),this.updateLayout())},remove:function(){this.geometry.dispose(),this.geometry=null,this.el.removeObject3D(this.attrName),this.material.dispose(),this.material=null,this.texture.dispose(),this.texture=null,this.shaderObject&&delete this.shaderObject},createOrUpdateMaterial:function(){var ae=this.data,be,Re=this.material,ke,Ke=this.shaderData,Xe;if(Xe=ae.shader,R.indexOf(ae.font)!==-1||ae.font.indexOf("-msdf.")>=0?Xe="msdf":ae.font in L&&R.indexOf(ae.font)===-1&&(Xe="sdf"),be=(this.shaderObject&&this.shaderObject.name)!==Xe,Ke.alphaTest=ae.alphaTest,Ke.color=ae.color,Ke.map=this.texture,Ke.opacity=ae.opacity,Ke.side=ee(ae.side),Ke.transparent=ae.transparent,Ke.negate=ae.negate,!be){this.shaderObject.update(Ke),Re.transparent=Ke.transparent,Re.side=Ke.side;return}ke=ne(this.el,Xe,Ke),this.material=ke.material,this.shaderObject=ke.shader,this.material.side=Ke.side,this.mesh&&(this.mesh.material=this.material)},updateFont:function(){var ae=this.data,be=this.el,Re,ke=this.geometry,Ke=this;ae.font||E("No font specified. Using the default font."),this.mesh&&(this.mesh.visible=!1),Re=this.lookupFont(ae.font||F)||ae.font,P.get(Re,function(){return de(Re,ae.yOffset)}).then(function(Fe){var qe;if(Fe.pages.length!==1)throw new Error("Currently only single-page bitmap fonts are supported.");H[Re]||(Fe.widthFactor=H[Fe]=z(Fe)),Ke.currentFont=Fe,qe=Ke.getFontImageSrc(),P.get(qe,function(){return ie(qe)}).then(function(rt){var it=Ke.texture;it&&(it.image=rt,it.needsUpdate=!0,$[ae.font]=it,Ke.texture=it,Ke.initMesh(),Ke.currentFont=Fe,Ke.updateGeometry(ke,Fe),Ke.updateLayout(),Ke.mesh.visible=!0,be.emit("textfontset",{font:ae.font,fontObj:Fe}))}).catch(function(rt){y(rt.message),y(rt.stack)})}).catch(function(Xe){y(Xe.message),y(Xe.stack)})},initMesh:function(){this.mesh||(this.mesh=new d.Mesh(this.geometry,this.material),this.el.setObject3D(this.attrName,this.mesh))},getFontImageSrc:function(){if(this.data.fontImage)return this.data.fontImage;var ae=this.lookupFont(this.data.font||F)||this.data.font,be=this.currentFont.pages[0];return be.match(te)&&be.indexOf("http")!==0?ae.replace(/(\.fnt)|(\.json)/,".png"):d.LoaderUtils.extractUrlBase(ae)+be},updateLayout:function(){var ae,be,Re=this.el,ke=this.data,Ke=this.geometry,Xe,Fe,qe,rt=this.mesh,it,Ct,Nt,xe,Te;if(!(!rt||!Ke.layout)){if(Xe=Re.getAttribute("geometry"),Nt=ke.width||Xe&&Xe.width||C,it=X(ke.wrapPixels,ke.wrapCount,this.currentFont.widthFactor),Ct=Nt/it,qe=Ke.layout,Fe=Ct*(qe.height+qe.descender),Xe&&Xe.primitive==="plane"&&(this.explicitGeoDimensionsChecked||(this.explicitGeoDimensionsChecked=!0,this.hasExplicitGeoWidth=!!Xe.width,this.hasExplicitGeoHeight=!!Xe.height),this.hasExplicitGeoWidth||Re.setAttribute("geometry","width",Nt),this.hasExplicitGeoHeight||Re.setAttribute("geometry","height",Fe)),ae=ke.anchor==="align"?ke.align:ke.anchor,ae==="left")xe=0;else if(ae==="right")xe=-1*qe.width;else if(ae==="center")xe=-1*qe.width/2;else throw new TypeError("Invalid text.anchor property value",ae);if(be=ke.baseline,be==="bottom")Te=0;else if(be==="top")Te=-1*qe.height+qe.ascender;else if(be==="center")Te=-1*qe.height/2;else throw new TypeError("Invalid text.baseline property value",be);rt.position.x=xe*Ct+ke.xOffset,rt.position.y=Te*Ct,rt.position.z=ke.zOffset,rt.scale.set(Ct,-1*Ct,Ct)}},lookupFont:function(ae){return L[ae]},updateGeometry:function(){var ae={},be={},Re=/\\n/g,ke=/\\t/g;return function(Ke,Xe){var Fe=this.data;be.font=Xe,be.lineHeight=Fe.lineHeight&&isFinite(Fe.lineHeight)?Fe.lineHeight:Xe.common.lineHeight,be.text=Fe.value.toString().replace(Re,"\n").replace(ke,"	"),be.width=X(Fe.wrapPixels,Fe.wrapCount,Xe.widthFactor),Ke.update(g.extend(ae,Fe,be))}}()});function ee(ae){switch(ae){case"back":return d.FrontSide;case"double":return d.DoubleSide;default:return d.BackSide}}function de(ae,be){return new Promise(function(Re,ke){w(ae,function(Ke,Xe){if(Ke){y("Error loading font",ae),ke(Ke);return}ae.indexOf("/Roboto-msdf.json")>=0&&(be=30),be&&Xe.chars.map(function(qe){qe.yoffset+=be}),Re(Xe)})})}function ie(ae){return new Promise(function(be,Re){new d.ImageLoader().load(ae,function(ke){be(ke)},void 0,function(){y("Error loading font image",ae),Re(null)})})}function ne(ae,be,Re){var ke,Ke;return Ke=new f[be].Shader,Ke.el=ae,Ke.init(Re),Ke.update(Re),ke=Ke.material,ke.transparent=Re.transparent,{material:ke,shader:Ke}}function X(ae,be,Re){return ae||(.5+be)*Re}function z(ae){var be=0,Re=0,ke=0;return ae.chars.map(function(Ke){be+=Ke.xadvance,Ke.id>=48&&Ke.id<=57&&(ke++,Re+=Ke.xadvance)}),ke?Re/ke:be/ae.chars.length}function se(){var ae=this.cache={};this.get=function(be,Re){return be in ae||(ae[be]=Re()),ae[be]}}},"./src/components/tracked-controls-webvr.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/utils/tracked-controls.js"),A=u("./src/constants/index.js").DEFAULT_CAMERA_HEIGHT,b=u("./src/lib/three.js"),d=u("./src/constants/index.js").DEFAULT_HANDEDNESS,g={x:.175,y:-.3,z:-.03},y={x:0,y:0,z:-.175},f={touches:[]},E={AXISMOVE:"axismove",BUTTONCHANGED:"buttonchanged",BUTTONDOWN:"buttondown",BUTTONUP:"buttonup",TOUCHSTART:"touchstart",TOUCHEND:"touchend"};M.exports.Component=p("tracked-controls-webvr",{schema:{autoHide:{default:!0},controller:{default:0},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},orientationOffset:{type:"vec3"},armModel:{default:!1},headElement:{type:"selector"}},init:function(){this.axis=this.el.components["tracked-controls"].axis=[0,0,0],this.buttonStates=this.el.components["tracked-controls"].buttonStates={},this.changedAxes=[],this.targetControllerNumber=this.data.controller,this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes},this.deltaControllerPosition=new b.Vector3,this.controllerQuaternion=new b.Quaternion,this.controllerEuler=new b.Euler,this.updateGamepad(),this.buttonEventDetails={}},tick:function(C,v){var x=this.el.getObject3D("mesh");x&&x.update&&x.update(v/1e3),this.updateGamepad(),this.updatePose(),this.updateButtons()},defaultUserHeight:function(){return A},getHeadElement:function(){return this.data.headElement||this.el.sceneEl.camera.el},updateGamepad:function(){var C=this.data,v=w.findMatchingControllerWebVR(this.system.controllers,C.id,C.idPrefix,C.hand,C.controller);this.controller=v,this.el.components["tracked-controls"].controller=v,this.data.autoHide&&(this.el.object3D.visible=!!this.controller)},applyArmModel:function(C){var v=this.controller,x=this.controllerEuler,T=this.controllerQuaternion,L=this.deltaControllerPosition,R,F,P,H,$;F=this.getHeadElement(),P=F.object3D,$=this.defaultUserHeight(),H=v.pose,R=(v?v.hand:void 0)||d,C.copy(P.position),L.set(g.x*(R==="left"?-1:R==="right"?1:0),g.y,g.z),L.multiplyScalar($),L.applyAxisAngle(P.up,P.rotation.y),C.add(L),L.set(y.x,y.y,y.z),L.multiplyScalar($),H.orientation?T.fromArray(H.orientation):T.copy(P.quaternion),x.setFromQuaternion(T),x.set(x.x,x.y,0),L.applyEuler(x),C.add(L)},updatePose:function(){var C=this.controller,v=this.data,x=this.el.object3D,T,L=this.system.vrDisplay,R;C&&(T=C.pose,T.position?x.position.fromArray(T.position):v.armModel&&this.applyArmModel(x.position),T.orientation&&x.quaternion.fromArray(T.orientation),L&&T.position&&(R=this.el.sceneEl.renderer.xr.getStandingMatrix(),x.matrix.compose(x.position,x.quaternion,x.scale),x.matrix.multiplyMatrices(R,x.matrix),x.matrix.decompose(x.position,x.quaternion,x.scale)),x.rotateX(this.data.orientationOffset.x*b.MathUtils.DEG2RAD),x.rotateY(this.data.orientationOffset.y*b.MathUtils.DEG2RAD),x.rotateZ(this.data.orientationOffset.z*b.MathUtils.DEG2RAD))},updateButtons:function(){var C,v=this.controller,x;if(v){for(x=0;x<v.buttons.length;++x)this.buttonStates[x]||(this.buttonStates[x]={pressed:!1,touched:!1,value:0}),this.buttonEventDetails[x]||(this.buttonEventDetails[x]={id:x,state:this.buttonStates[x]}),C=v.buttons[x],this.handleButton(x,C);this.handleAxes()}},handleButton:function(C,v){var x;return x=this.handlePress(C,v)|this.handleTouch(C,v)|this.handleValue(C,v),x?(this.el.emit(E.BUTTONCHANGED,this.buttonEventDetails[C],!1),!0):!1},handleAxes:function(){var C=!1,v=this.controller.axes,x,T=this.axis,L=this.changedAxes;for(this.changedAxes.splice(0,this.changedAxes.length),x=0;x<v.length;++x)L.push(T[x]!==v[x]),L[x]&&(C=!0);if(!C)return!1;for(this.axis.splice(0,this.axis.length),x=0;x<v.length;x++)this.axis.push(v[x]);return this.el.emit(E.AXISMOVE,this.axisMoveEventDetail,!1),!0},handlePress:function(C,v){var x,T=this.buttonStates[C];return v.pressed===T.pressed?!1:(x=v.pressed?E.BUTTONDOWN:E.BUTTONUP,this.el.emit(x,this.buttonEventDetails[C],!1),T.pressed=v.pressed,!0)},handleTouch:function(C,v){var x,T=this.buttonStates[C];return v.touched===T.touched?!1:(x=v.touched?E.TOUCHSTART:E.TOUCHEND,this.el.emit(x,this.buttonEventDetails[C],!1,f),T.touched=v.touched,!0)},handleValue:function(C,v){var x=this.buttonStates[C];return v.value===x.value?!1:(x.value=v.value,!0)}})},"./src/components/tracked-controls-webxr.js":(M,B,u)=>{var p=u("./src/utils/tracked-controls.js"),w=u("./src/core/component.js").registerComponent,A={AXISMOVE:"axismove",BUTTONCHANGED:"buttonchanged",BUTTONDOWN:"buttondown",BUTTONUP:"buttonup",TOUCHSTART:"touchstart",TOUCHEND:"touchend"};M.exports.Component=w("tracked-controls-webxr",{schema:{id:{type:"string",default:""},hand:{type:"string",default:""},handTrackingEnabled:{default:!1},index:{type:"int",default:-1},iterateControllerProfiles:{default:!1},space:{type:"string",oneOf:["targetRaySpace","gripSpace"],default:"gripSpace"}},init:function(){this.updateController=this.updateController.bind(this),this.buttonEventDetails={},this.buttonStates=this.el.components["tracked-controls"].buttonStates={},this.axis=this.el.components["tracked-controls"].axis=[0,0,0],this.changedAxes=[],this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes}},update:function(){this.updateController()},play:function(){var b=this.el.sceneEl;this.updateController(),b.addEventListener("controllersupdated",this.updateController)},pause:function(){var b=this.el.sceneEl;b.removeEventListener("controllersupdated",this.updateController)},isControllerPresent:function(b){return!(!this.controller||this.controller.gamepad||b.inputSource.handedness!=="none"&&b.inputSource.handedness!==this.data.hand)},updateController:function(){this.controller=p.findMatchingControllerWebXR(this.system.controllers,this.data.id,this.data.hand,this.data.index,this.data.iterateControllerProfiles,this.data.handTrackingEnabled),this.el.components["tracked-controls"].controller=this.controller,this.data.autoHide&&(this.el.object3D.visible=!!this.controller)},tick:function(){var b=this.el.sceneEl,d=this.controller,g=b.frame;!d||!b.frame||!this.system.referenceSpace||d.hand||(this.pose=g.getPose(d[this.data.space],this.system.referenceSpace),this.updatePose(),this.updateButtons())},updatePose:function(){var b=this.el.object3D,d=this.pose;d&&(b.matrix.elements=d.transform.matrix,b.matrix.decompose(b.position,b.rotation,b.scale))},updateButtons:function(){var b,d,g=this.controller,y;if(!(!g||!g.gamepad)){for(y=g.gamepad,d=0;d<y.buttons.length;++d)this.buttonStates[d]||(this.buttonStates[d]={pressed:!1,touched:!1,value:0}),this.buttonEventDetails[d]||(this.buttonEventDetails[d]={id:d,state:this.buttonStates[d]}),b=y.buttons[d],this.handleButton(d,b);this.handleAxes()}},handleButton:function(b,d){var g;return g=this.handlePress(b,d)|this.handleTouch(b,d)|this.handleValue(b,d),g?(this.el.emit(A.BUTTONCHANGED,this.buttonEventDetails[b],!1),!0):!1},handleAxes:function(){var b=!1,d=this.controller.gamepad.axes,g,y=this.axis,f=this.changedAxes;for(this.changedAxes.splice(0,this.changedAxes.length),g=0;g<d.length;++g)f.push(y[g]!==d[g]),f[g]&&(b=!0);if(!b)return!1;for(this.axis.splice(0,this.axis.length),g=0;g<d.length;g++)this.axis.push(d[g]);return this.el.emit(A.AXISMOVE,this.axisMoveEventDetail,!1),!0},handlePress:function(b,d){var g,y=this.buttonStates[b];return d.pressed===y.pressed?!1:(g=d.pressed?A.BUTTONDOWN:A.BUTTONUP,this.el.emit(g,this.buttonEventDetails[b],!1),y.pressed=d.pressed,!0)},handleTouch:function(b,d){var g,y=this.buttonStates[b];return d.touched===y.touched?!1:(g=d.touched?A.TOUCHSTART:A.TOUCHEND,this.el.emit(g,this.buttonEventDetails[b],!1),y.touched=d.touched,!0)},handleValue:function(b,d){var g=this.buttonStates[b];return d.value===g.value?!1:(g.value=d.value,!0)}})},"./src/components/tracked-controls.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent;M.exports.Component=p("tracked-controls",{schema:{autoHide:{default:!0},controller:{default:-1},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},handTrackingEnabled:{default:!1},orientationOffset:{type:"vec3"},armModel:{default:!1},headElement:{type:"selector"},iterateControllerProfiles:{default:!1},space:{type:"string",oneOf:["targetRaySpace","gripSpace"],default:"targetRaySpace"}},after:["tracked-controls-webvr","tracked-controls-webxr"],update:function(){var w=this.data,A=this.el;A.sceneEl.hasWebXR?A.setAttribute("tracked-controls-webxr",{id:w.id,hand:w.hand,index:w.controller,iterateControllerProfiles:w.iterateControllerProfiles,handTrackingEnabled:w.handTrackingEnabled,space:w.space}):A.setAttribute("tracked-controls-webvr",w)}})},"./src/components/valve-index-controls.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/lib/three.js"),A=u("./src/utils/tracked-controls.js"),b=A.checkControllerPresentAndSetup,d=A.emitIfAxesChanged,g=A.onButtonEvent,y=u("./src/constants/index.js").AFRAME_CDN_ROOT,f=y+"controllers/valve/index/valve-index-",E={left:f+"left.glb",right:f+"right.glb"},C="valve",v=u("./src/utils/index.js").device.isWebXRAvailable,x={left:{x:-.00023692678902063457,y:.04724540367838371,z:-.061959880395271096},right:{x:.002471558599671131,y:.055765208987076195,z:-.061068168708348844}},T={left:{x:0,y:-.05,z:.06},right:{x:0,y:-.05,z:.06}},L={left:{_x:.692295102620542,_y:-.0627618864318427,_z:-.06265893149611756,_order:"XYZ"},right:{_x:.6484021229942998,_y:-.032563619881892894,_z:-.1327973171917482,_order:"XYZ"}},R={left:{_x:Math.PI/3,_y:0,_z:0,_order:"XYZ"},right:{_x:Math.PI/3,_y:0,_z:0,_order:"XYZ"}},F=v?R:L,P=v?T:x;M.exports.Component=p("valve-index-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0},orientationOffset:{type:"vec3"}},after:["tracked-controls"],mapping:{axes:{trackpad:[0,1],thumbstick:[2,3]},buttons:["trigger","grip","trackpad","thumbstick","abutton"]},init:function(){var H=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function($){g($.detail.id,"down",H)},this.onButtonUp=function($){g($.detail.id,"up",H)},this.onButtonTouchEnd=function($){g($.detail.id,"touchend",H)},this.onButtonTouchStart=function($){g($.detail.id,"touchstart",H)},this.previousButtonValues={},this.bindMethods()},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var H=this.el;H.addEventListener("buttonchanged",this.onButtonChanged),H.addEventListener("buttondown",this.onButtonDown),H.addEventListener("buttonup",this.onButtonUp),H.addEventListener("touchend",this.onButtonTouchEnd),H.addEventListener("touchstart",this.onButtonTouchStart),H.addEventListener("model-loaded",this.onModelLoaded),H.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var H=this.el;H.removeEventListener("buttonchanged",this.onButtonChanged),H.removeEventListener("buttondown",this.onButtonDown),H.removeEventListener("buttonup",this.onButtonUp),H.removeEventListener("touchend",this.onButtonTouchEnd),H.removeEventListener("touchstart",this.onButtonTouchStart),H.removeEventListener("model-loaded",this.onModelLoaded),H.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var H=this.data,$=H.hand==="right"?0:H.hand==="left"?1:2;b(this,C,{index:$,iterateControllerProfiles:!0,hand:H.hand})},injectTrackedControls:function(){var H=this.el,$=this.data;H.setAttribute("tracked-controls",{idPrefix:C,controller:$.hand==="right"?1:$.hand==="left"?0:2,hand:$.hand,orientationOffset:$.orientationOffset}),this.loadModel()},loadModel:function(){var H=this.data;H.model&&this.el.setAttribute("gltf-model",""+E[H.hand])},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(H){var $=this.mapping.buttons[H.detail.id],te=this.buttonMeshes,ee;$&&($==="trigger"&&(ee=H.detail.state.value,te&&te.trigger&&(te.trigger.rotation.x=this.triggerOriginalRotationX-ee*(Math.PI/40))),this.el.emit($+"changed",H.detail.state))},onModelLoaded:function(H){var $,te=H.detail.model,ee=this;H.target!==this.el||!this.data.model||($=this.buttonMeshes={},$.grip={left:te.getObjectByName("leftgrip"),right:te.getObjectByName("rightgrip")},$.menu=te.getObjectByName("menubutton"),$.system=te.getObjectByName("systembutton"),$.trackpad=te.getObjectByName("touchpad"),$.trigger=te.getObjectByName("trigger"),this.triggerOriginalRotationX=$.trigger.rotation.x,Object.keys($).forEach(function(de){ee.setButtonColor(de,ee.data.buttonColor)}),te.position.copy(P[this.data.hand]),te.rotation.copy(F[this.data.hand]),this.el.emit("controllermodelready",{name:"valve-index-controls",model:this.data.model,rayOrigin:new w.Vector3(0,0,0)}))},onAxisMoved:function(H){d(this,this.mapping.axes,H)},updateModel:function(H,$){var te,ee;this.data.model&&(ee=$.indexOf("touch")!==-1,!ee&&(te=$==="up"?this.data.buttonColor:this.data.buttonHighlightColor,this.setButtonColor(H,te)))},setButtonColor:function(H,$){}})},"./src/components/visible.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent;M.exports.Component=p("visible",{schema:{default:!0},update:function(){this.el.object3D.visible=this.data}})},"./src/components/vive-controls.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/utils/tracked-controls.js"),A=w.checkControllerPresentAndSetup,b=w.emitIfAxesChanged,d=w.onButtonEvent,g=u("./src/constants/index.js").AFRAME_CDN_ROOT,y=g+"controllers/vive/vr_controller_vive.obj",f=g+"controllers/vive/vr_controller_vive.mtl",E=u("./src/utils/index.js").device.isWebXRAvailable,C="htc-vive",v="OpenVR ",x=E?C:v,T={axes:{trackpad:[0,1]},buttons:["trackpad","trigger","grip","menu","system"]},L={axes:{touchpad:[0,1]},buttons:["trigger","grip","touchpad","none"]},R=E?L:T;M.exports.Component=p("vive-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0},orientationOffset:{type:"vec3"}},after:["tracked-controls"],mapping:R,init:function(){var F=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(P){d(P.detail.id,"down",F)},this.onButtonUp=function(P){d(P.detail.id,"up",F)},this.onButtonTouchEnd=function(P){d(P.detail.id,"touchend",F)},this.onButtonTouchStart=function(P){d(P.detail.id,"touchstart",F)},this.previousButtonValues={},this.bindMethods()},update:function(){var F=this.data;this.controllerIndex=F.hand==="right"?0:F.hand==="left"?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var F=this.el;F.addEventListener("buttonchanged",this.onButtonChanged),F.addEventListener("buttondown",this.onButtonDown),F.addEventListener("buttonup",this.onButtonUp),F.addEventListener("touchend",this.onButtonTouchEnd),F.addEventListener("touchstart",this.onButtonTouchStart),F.addEventListener("model-loaded",this.onModelLoaded),F.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var F=this.el;F.removeEventListener("buttonchanged",this.onButtonChanged),F.removeEventListener("buttondown",this.onButtonDown),F.removeEventListener("buttonup",this.onButtonUp),F.removeEventListener("touchend",this.onButtonTouchEnd),F.removeEventListener("touchstart",this.onButtonTouchStart),F.removeEventListener("model-loaded",this.onModelLoaded),F.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var F=this.data;A(this,x,{index:this.controllerIndex,hand:F.hand})},injectTrackedControls:function(){var F=this.el,P=this.data;F.setAttribute("tracked-controls",{idPrefix:x,hand:P.hand,controller:this.controllerIndex,orientationOffset:P.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:y,mtl:f})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(F){var P=this.mapping.buttons[F.detail.id],H=this.buttonMeshes,$;P&&(P==="trigger"&&($=F.detail.state.value,H&&H.trigger&&(H.trigger.rotation.x=-$*(Math.PI/12))),this.el.emit(P+"changed",F.detail.state))},onModelLoaded:function(F){var P,H=F.detail.model,$=this;F.target!==this.el||!this.data.model||(P=this.buttonMeshes={},P.grip={left:H.getObjectByName("leftgrip"),right:H.getObjectByName("rightgrip")},P.menu=H.getObjectByName("menubutton"),P.system=H.getObjectByName("systembutton"),P.trackpad=H.getObjectByName("touchpad"),P.touchpad=H.getObjectByName("touchpad"),P.trigger=H.getObjectByName("trigger"),Object.keys(P).forEach(function(te){$.setButtonColor(te,$.data.buttonColor)}),H.position.set(0,-.015,.04))},onAxisMoved:function(F){b(this,this.mapping.axes,F)},updateModel:function(F,P){var H,$;this.data.model&&($=P.indexOf("touch")!==-1,!$&&(H=P==="up"?this.data.buttonColor:this.data.buttonHighlightColor,this.setButtonColor(F,H)))},setButtonColor:function(F,P){var H=this.buttonMeshes;if(H){if(F==="grip"){H.grip.left.material.color.set(P),H.grip.right.material.color.set(P);return}H[F].material.color.set(P)}}})},"./src/components/vive-focus-controls.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/utils/tracked-controls.js"),A=w.checkControllerPresentAndSetup,b=w.emitIfAxesChanged,d=w.onButtonEvent,g=u("./src/constants/index.js").AFRAME_CDN_ROOT,y=g+"controllers/vive/focus-controller/focus-controller.gltf",f=u("./src/utils/index.js").device.isWebXRAvailable,E="htc-vive-focus",C="HTC Vive Focus ",v=f?E:C,x={axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},T={axes:{touchpad:[0,1]},buttons:["trigger","none","touchpad","none","menu"]},L=f?T:x;M.exports.Component=p("vive-focus-controls",{schema:{hand:{default:""},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},after:["tracked-controls"],mapping:L,bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},init:function(){var R=this;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(F){d(F.detail.id,"down",R)},this.onButtonUp=function(F){d(F.detail.id,"up",R)},this.onButtonTouchStart=function(F){d(F.detail.id,"touchstart",R)},this.onButtonTouchEnd=function(F){d(F.detail.id,"touchend",R)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var R=this.el;R.addEventListener("buttonchanged",this.onButtonChanged),R.addEventListener("buttondown",this.onButtonDown),R.addEventListener("buttonup",this.onButtonUp),R.addEventListener("touchstart",this.onButtonTouchStart),R.addEventListener("touchend",this.onButtonTouchEnd),R.addEventListener("model-loaded",this.onModelLoaded),R.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0,this.addControllersUpdateListener()},removeEventListeners:function(){var R=this.el;R.removeEventListener("buttonchanged",this.onButtonChanged),R.removeEventListener("buttondown",this.onButtonDown),R.removeEventListener("buttonup",this.onButtonUp),R.removeEventListener("touchstart",this.onButtonTouchStart),R.removeEventListener("touchend",this.onButtonTouchEnd),R.removeEventListener("model-loaded",this.onModelLoaded),R.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1,this.removeControllersUpdateListener()},checkIfControllerPresent:function(){A(this,v,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var R=this.el,F=this.data;R.setAttribute("tracked-controls",{armModel:F.armModel,idPrefix:v,orientationOffset:F.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",y)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(R){var F=R.detail.model,P;R.target!==this.el||!this.data.model||(P=this.buttonMeshes={},P.trigger=F.getObjectByName("BumperKey"),P.triggerPressed=F.getObjectByName("BumperKey_Press"),P.triggerPressed&&(P.triggerPressed.visible=!1),P.trackpad=F.getObjectByName("TouchPad"),P.trackpadPressed=F.getObjectByName("TouchPad_Press"),P.trackpadPressed&&(P.trackpadPressed.visible=!1))},onButtonChanged:function(R){var F=this.mapping.buttons[R.detail.id];F&&this.el.emit(F+"changed",R.detail.state)},onAxisMoved:function(R){b(this,this.mapping.axes,R)},updateModel:function(R,F){this.data.model&&this.updateButtonModel(R,F)},updateButtonModel:function(R,F){var P=this.buttonMeshes,H=R+"Pressed";if(!(!P||!P[R]||!P[H])){var $;switch(F){case"down":$=this.data.buttonHighlightColor;break;case"touchstart":$=this.data.buttonTouchedColor;break}$&&P[H].material.color.set($),P[H].visible=!!$,P[R].visible=!$}}})},"./src/components/wasd-controls.js":(M,B,u)=>{var p=u("./src/constants/index.js").keyboardevent.KEYCODE_TO_CODE,w=u("./src/core/component.js").registerComponent,A=u("./src/lib/three.js"),b=u("./src/utils/index.js"),d=b.shouldCaptureKeyEvent,g=1e-5,y=.2,f=["KeyW","KeyA","KeyS","KeyD","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"];M.exports.Component=w("wasd-controls",{schema:{acceleration:{default:65},adAxis:{default:"x",oneOf:["x","y","z"]},adEnabled:{default:!0},adInverted:{default:!1},enabled:{default:!0},fly:{default:!1},wsAxis:{default:"z",oneOf:["x","y","z"]},wsEnabled:{default:!0},wsInverted:{default:!1}},after:["look-controls"],init:function(){this.keys={},this.easing=1.1,this.velocity=new A.Vector3,this.onBlur=this.onBlur.bind(this),this.onContextMenu=this.onContextMenu.bind(this),this.onFocus=this.onFocus.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.onVisibilityChange=this.onVisibilityChange.bind(this),this.attachVisibilityEventListeners()},tick:function(C,v){var x=this.data,T=this.el,L=this.velocity;!L[x.adAxis]&&!L[x.wsAxis]&&E(this.keys)||(v=v/1e3,this.updateVelocity(v),!(!L[x.adAxis]&&!L[x.wsAxis])&&T.object3D.position.add(this.getMovementVector(v)))},update:function(C){C.adAxis!==this.data.adAxis&&(this.velocity[C.adAxis]=0),C.wsAxis!==this.data.wsAxis&&(this.velocity[C.wsAxis]=0)},remove:function(){this.removeKeyEventListeners(),this.removeVisibilityEventListeners()},play:function(){this.attachKeyEventListeners()},pause:function(){this.keys={},this.removeKeyEventListeners()},updateVelocity:function(C){var v,x,T,L=this.data,R=this.keys,F=this.velocity,P,H;if(x=L.adAxis,P=L.wsAxis,C>y){F[x]=0,F[P]=0;return}var $=Math.pow(1/this.easing,C*60);F[x]!==0&&(F[x]=F[x]*$),F[P]!==0&&(F[P]=F[P]*$),Math.abs(F[x])<g&&(F[x]=0),Math.abs(F[P])<g&&(F[P]=0),L.enabled&&(v=L.acceleration,L.adEnabled&&(T=L.adInverted?-1:1,(R.KeyA||R.ArrowLeft)&&(F[x]-=T*v*C),(R.KeyD||R.ArrowRight)&&(F[x]+=T*v*C)),L.wsEnabled&&(H=L.wsInverted?-1:1,(R.KeyW||R.ArrowUp)&&(F[P]-=H*v*C),(R.KeyS||R.ArrowDown)&&(F[P]+=H*v*C)))},getMovementVector:function(){var C=new A.Vector3(0,0,0),v=new A.Euler(0,0,0,"YXZ");return function(x){var T=this.el.getAttribute("rotation"),L=this.velocity,R;return C.copy(L),C.multiplyScalar(x),T&&(R=this.data.fly?T.x:0,v.set(A.MathUtils.degToRad(R),A.MathUtils.degToRad(T.y),0),C.applyEuler(v)),C}}(),attachVisibilityEventListeners:function(){window.oncontextmenu=this.onContextMenu,window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus),document.addEventListener("visibilitychange",this.onVisibilityChange)},removeVisibilityEventListeners:function(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),document.removeEventListener("visibilitychange",this.onVisibilityChange)},attachKeyEventListeners:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},removeKeyEventListeners:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},onContextMenu:function(){for(var C=Object.keys(this.keys),v=0;v<C.length;v++)delete this.keys[C[v]]},onBlur:function(){this.pause()},onFocus:function(){this.play()},onVisibilityChange:function(){document.hidden?this.onBlur():this.onFocus()},onKeyDown:function(C){var v;d(C)&&(v=C.code||p[C.keyCode],f.indexOf(v)!==-1&&(this.keys[v]=!0))},onKeyUp:function(C){var v;v=C.code||p[C.keyCode],delete this.keys[v]}});function E(C){var v;for(v in C)return!1;return!0}},"./src/components/windows-motion-controls.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/utils/tracked-controls.js"),A=w.checkControllerPresentAndSetup,b=w.emitIfAxesChanged,d=w.onButtonEvent,g=u("./src/utils/index.js"),y=g.debug("components:windows-motion-controls:debug"),f=g.debug("components:windows-motion-controls:warn"),E=u("./src/constants/index.js").DEFAULT_HANDEDNESS,C=u("./src/constants/index.js").AFRAME_CDN_ROOT,v=C+"controllers/microsoft/",x={left:"left.glb",right:"right.glb",default:"universal.glb"},T=u("./src/utils/index.js").device.isWebXRAvailable,L="windows-mixed-reality",R="Spatial Controller (Spatial Interaction Source) ",F=/([0-9a-zA-Z]+-[0-9a-zA-Z]+)$/,P=T?L:R,H={axes:{thumbstick:[0,1],trackpad:[2,3]},buttons:["thumbstick","trigger","grip","menu","trackpad"],axisMeshNames:["THUMBSTICK_X","THUMBSTICK_Y","TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",grip:"GRASP",thumbstick:"THUMBSTICK_PRESS",trackpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"},$={axes:{touchpad:[0,1],thumbstick:[2,3]},buttons:["trigger","squeeze","touchpad","thumbstick","menu"],axisMeshNames:["TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_X","THUMBSTICK_X","THUMBSTICK_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",squeeze:"GRASP",thumbstick:"THUMBSTICK_PRESS",touchpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"},te=T?$:H;M.exports.Component=p("windows-motion-controls",{schema:{hand:{default:E},pair:{default:0},model:{default:!0},hideDisconnected:{default:!0}},after:["tracked-controls"],mapping:te,bindMethods:function(){this.onModelError=this.onModelError.bind(this),this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},init:function(){var ee=this,de=this.el;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(ie){d(ie.detail.id,"down",ee)},this.onButtonUp=function(ie){d(ie.detail.id,"up",ee)},this.onButtonTouchStart=function(ie){d(ie.detail.id,"touchstart",ee)},this.onButtonTouchEnd=function(ie){d(ie.detail.id,"touchend",ee)},this.onControllerConnected=function(){ee.setModelVisibility(!0)},this.onControllerDisconnected=function(){ee.setModelVisibility(!1)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.bindMethods(),this.loadedMeshInfo={buttonMeshes:null,axisMeshes:null},this.rayOrigin={origin:new THREE.Vector3,direction:new THREE.Vector3(0,0,-1),createdFromMesh:!1},de.addEventListener("controllerconnected",this.onControllerConnected),de.addEventListener("controllerdisconnected",this.onControllerDisconnected)},addEventListeners:function(){var ee=this.el;ee.addEventListener("buttonchanged",this.onButtonChanged),ee.addEventListener("buttondown",this.onButtonDown),ee.addEventListener("buttonup",this.onButtonUp),ee.addEventListener("touchstart",this.onButtonTouchStart),ee.addEventListener("touchend",this.onButtonTouchEnd),ee.addEventListener("axismove",this.onAxisMoved),ee.addEventListener("model-error",this.onModelError),ee.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var ee=this.el;ee.removeEventListener("buttonchanged",this.onButtonChanged),ee.removeEventListener("buttondown",this.onButtonDown),ee.removeEventListener("buttonup",this.onButtonUp),ee.removeEventListener("touchstart",this.onButtonTouchStart),ee.removeEventListener("touchend",this.onButtonTouchEnd),ee.removeEventListener("axismove",this.onAxisMoved),ee.removeEventListener("model-error",this.onModelError),ee.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){A(this,P,{hand:this.data.hand,index:this.data.pair,iterateControllerProfiles:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},updateControllerModel:function(){if(!this.data.model||this.rayOrigin.createdFromMesh){this.modelReady();return}var ee=this.createControllerModelUrl();this.loadModel(ee)},createControllerModelUrl:function(ee){var de=this.el.components["tracked-controls"],ie=de?de.controller:null,ne="default",X=this.data.hand,z;if(ie&&!window.hasNativeWebXRImplementation&&(X=ie.hand,!ee)){var se=ie.id.match(F);ne=se&&se[0]||ne}return z=x[X]||x.default,v+ne+"/"+z},injectTrackedControls:function(){var ee=this.data;this.el.setAttribute("tracked-controls",{idPrefix:P,controller:ee.pair,hand:ee.hand,armModel:!1}),this.updateControllerModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelError:function(ee){var de=this.createControllerModelUrl(!0);ee.detail.src!==de?(f("Failed to load controller model for device, attempting to load default."),this.loadModel(de)):f("Failed to load default controller model.")},loadModel:function(ee){this.el.setAttribute("gltf-model","url("+ee+")")},onModelLoaded:function(ee){var de=this.controllerModel=ee.detail.model,ie=this.loadedMeshInfo,ne,X,z,se;if(ee.target!==this.el)return;if(y("Processing model"),ie.buttonMeshes={},ie.axisMeshes={},de){for(ne=0;ne<this.mapping.buttons.length;ne++){if(X=this.mapping.buttonMeshNames[this.mapping.buttons[ne]],!X){y("Skipping unknown button at index: "+ne+" with mapped name: "+this.mapping.buttons[ne]);continue}if(z=de.getObjectByName(X),!z){f("Missing button mesh with name: "+X);continue}se={index:ne,value:ae(z,"VALUE"),pressed:ae(z,"PRESSED"),unpressed:ae(z,"UNPRESSED")},se.value&&se.pressed&&se.unpressed?ie.buttonMeshes[this.mapping.buttons[ne]]=se:f("Missing button submesh under mesh with name: "+X+"(VALUE: "+!!se.value+", PRESSED: "+!!se.pressed+", UNPRESSED:"+!!se.unpressed+")")}for(ne=0;ne<this.mapping.axisMeshNames.length;ne++){if(X=this.mapping.axisMeshNames[ne],!X){y("Skipping unknown axis at index: "+ne);continue}if(z=de.getObjectByName(X),!z){f("Missing axis mesh with name: "+X);continue}se={index:ne,value:ae(z,"VALUE"),min:ae(z,"MIN"),max:ae(z,"MAX")},se.value&&se.min&&se.max?ie.axisMeshes[ne]=se:f("Missing axis submesh under mesh with name: "+X+"(VALUE: "+!!se.value+", MIN: "+!!se.min+", MAX:"+!!se.max+")")}this.calculateRayOriginFromMesh(de),this.setModelVisibility()}y("Model load complete.");function ae(be,Re){for(var ke=0,Ke=be.children.length;ke<Ke;ke++){var Xe=be.children[ke];if(Xe&&Xe.name===Re)return Xe}}},calculateRayOriginFromMesh:function(){var ee=new THREE.Quaternion;return function(de){var ie;if(this.rayOrigin.origin.set(0,0,0),this.rayOrigin.direction.set(0,0,-1),this.rayOrigin.createdFromMesh=!0,ie=de.getObjectByName(this.mapping.pointingPoseMeshName),ie){var ne=de.parent;ne&&(de.parent=null,de.updateMatrixWorld(!0),de.parent=ne),ie.getWorldPosition(this.rayOrigin.origin),ie.getWorldQuaternion(ee),this.rayOrigin.direction.applyQuaternion(ee),ne&&de.updateMatrixWorld(!0)}else y("Mesh does not contain pointing origin data, defaulting to none.");this.modelReady()}}(),lerpAxisTransform:function(){var ee=new THREE.Quaternion;return function(de,ie){var ne=this.loadedMeshInfo.axisMeshes[de];if(ne){var X=ne.min,z=ne.max,se=ne.value,ae=ie*.5+.5;se.setRotationFromQuaternion(ee.copy(X.quaternion).slerp(z.quaternion,ae)),se.position.lerpVectors(X.position,z.position,ae)}}}(),lerpButtonTransform:function(){var ee=new THREE.Quaternion;return function(de,ie){var ne=this.loadedMeshInfo.buttonMeshes[de];if(ne){var X=ne.unpressed,z=ne.pressed,se=ne.value;se.setRotationFromQuaternion(ee.copy(X.quaternion).slerp(z.quaternion,ie)),se.position.lerpVectors(X.position,z.position,ie)}}}(),modelReady:function(){this.el.emit("controllermodelready",{name:"windows-motion-controls",model:this.data.model,rayOrigin:this.rayOrigin})},onButtonChanged:function(ee){var de=this.mapping.buttons[ee.detail.id];de&&(this.loadedMeshInfo&&this.loadedMeshInfo.buttonMeshes&&this.lerpButtonTransform(de,ee.detail.state.value),this.el.emit(de+"changed",ee.detail.state))},onAxisMoved:function(ee){var de=this.mapping.axisMeshNames.length;if(this.loadedMeshInfo&&this.loadedMeshInfo.axisMeshes)for(var ie=0;ie<de;ie++)this.lerpAxisTransform(ie,ee.detail.axis[ie]||0);b(this,this.mapping.axes,ee)},setModelVisibility:function(ee){var de=this.el.getObject3D("mesh");this.controllerPresent&&(ee=ee!==void 0?ee:this.modelVisible,this.modelVisible=ee,de&&(de.visible=ee))}})},"./src/constants/index.js":(M,B,u)=>{M.exports={AFRAME_CDN_ROOT:window.AFRAME_CDN_ROOT||"https://cdn.aframe.io/",AFRAME_INJECTED:"aframe-injected",DEFAULT_CAMERA_HEIGHT:1.6,DEFAULT_HANDEDNESS:"right",keyboardevent:u("./src/constants/keyboardevent.js")}},"./src/constants/keyboardevent.js":M=>{M.exports={KEYCODE_TO_CODE:{38:"ArrowUp",37:"ArrowLeft",40:"ArrowDown",39:"ArrowRight",87:"KeyW",65:"KeyA",83:"KeyS",68:"KeyD"}}},"./src/core/a-assets.js":(M,B,u)=>{var p=u("./src/core/a-node.js").ANode,w=u("./src/utils/debug.js"),A=u("./src/lib/three.js"),b=new A.FileLoader,d=w("core:a-assets:warn");class g extends p{constructor(){super(),this.isAssets=!0,this.fileLoader=b,this.timeout=null}doConnectedCallback(){var R=this,F,P=[],H,$,te,ee,de,ie;if(super.doConnectedCallback(),!this.parentNode.isScene)throw new Error("<a-assets> must be a child of a <a-scene>.");for(ee=this.querySelectorAll("img"),F=0;F<ee.length;F++)te=E(ee[F]),P.push(new Promise(function(ne,X){if(A.Cache.add(ee[F].getAttribute("src"),te),te.complete){ne();return}te.onload=ne,te.onerror=X}));for($=this.querySelectorAll("audio, video"),F=0;F<$.length;F++)H=E($[F]),!H.src&&!H.srcObject&&d("Audio/video asset has neither `src` nor `srcObject` attributes."),P.push(f(H));ie=this.getChildren(),ie.forEach(function(ne){!ne.isAssetItem||!ne.hasAttribute("src")||P.push(new Promise(function(z,se){if(ne.hasLoaded)return z();ne.addEventListener("loaded",z),ne.addEventListener("error",se)}))}),Promise.allSettled(P).then(function(){R.timeout!==null&&R.load()}),de=parseInt(this.getAttribute("timeout"),10)||3e3,this.timeout=setTimeout(function(){R.hasLoaded||(d("Asset loading timed out in",de,"ms"),R.timeout=null,R.emit("timeout"),R.load())},de)}disconnectedCallback(){super.disconnectedCallback(),this.timeout&&clearTimeout(this.timeout)}load(){super.load.call(this,null,function(){return!1})}}customElements.define("a-assets",g);class y extends p{constructor(){super(),this.data=null,this.isAssetItem=!0}connectedCallback(){var R=this,F=this.getAttribute("src");b.setResponseType(this.getAttribute("response-type")||x(F)),b.load(F,function(H){R.data=H,p.prototype.load.call(R)},function(H){R.emit("progress",{loadedBytes:H.loaded,totalBytes:H.total,xhr:H})},function(H){R.emit("error",{xhr:H})})}}customElements.define("a-asset-item",y);function f(L){if(!(!L.hasAttribute("autoplay")&&L.getAttribute("preload")!=="auto"))return new Promise(function(R,F){if(L.readyState===4)return R();if(L.error)return F();L.addEventListener("loadeddata",P,!1),L.addEventListener("progress",P,!1),L.addEventListener("error",F,!1);function P(){for(var H=0,$=0;$<L.buffered.length;$++)H+=L.buffered.end($)-L.buffered.start($);H>=L.duration&&(L.tagName==="VIDEO"&&A.Cache.add(L.getAttribute("src"),L),R())}})}function E(L){var R=C(L);return R.tagName&&R.tagName.toLowerCase()==="video"&&(R.setAttribute("playsinline",""),R.setAttribute("webkit-playsinline","")),R!==L&&(L.parentNode.appendChild(R),L.parentNode.removeChild(L)),R}function C(L){var R,F;return L.hasAttribute("crossorigin")||(F=L.getAttribute("src"),F!==null&&(F.indexOf("://")===-1||v(F)===window.location.host))?L:(d('Cross-origin element (e.g., <img>) was requested without `crossorigin` set. A-Frame will re-request the asset with `crossorigin` attribute set. Please set `crossorigin` on the element (e.g., <img crossorigin="anonymous">)',F),L.crossOrigin="anonymous",R=L.cloneNode(!0),R)}function v(L){var R=L.indexOf("://")>-1?L.split("/")[2]:L.split("/")[0];return R.substring(0,R.indexOf(":"))}function x(L){var R=T(L),F=R.lastIndexOf(".");if(F>=0){var P=R.slice(F,L.search(/\?|#|$/));if(P===".glb")return"arraybuffer"}return"text"}M.exports.inferResponseType=x;function T(L){var R=document.createElement("a");R.href=L;var F=R.search.replace(/^\?/,""),P=L.replace(F,"").replace("?","");return P.substring(P.lastIndexOf("/")+1)}M.exports.getFileNameFromURL=T},"./src/core/a-cubemap.js":(M,B,u)=>{var p=u("./src/utils/debug.js"),w=p("core:cubemap:warn");class A extends HTMLElement{constructor(d){return d=super(d),d}onReadyStateChange(){document.readyState==="complete"&&this.doConnectedCallback()}connectedCallback(){if(document.readyState!=="complete"){document.addEventListener("readystatechange",this.onReadyStateChange.bind(this));return}A.prototype.doConnectedCallback.call(this)}doConnectedCallback(){this.srcs=this.validate()}validate(){var d=this.querySelectorAll("[src]"),g,y=[];if(d.length===6){for(g=0;g<d.length;g++)d[g].tagName==="IMG"?y.push(d[g]):y.push(d[g].getAttribute("src"));return y}w("<a-cubemap> did not contain exactly six elements each with a `src` attribute.")}}customElements.define("a-cubemap",A)},"./src/core/a-entity.js":(M,B,u)=>{var p=u("./src/core/a-node.js").ANode,w=u("./src/core/component.js").components,A=u("./src/lib/three.js"),b=u("./src/utils/index.js"),d=b.debug("core:a-entity:debug"),g=b.debug("core:a-entity:warn"),y="__",f=["position","rotation","scale","visible"],E={once:!0};class C extends p{constructor(){super(),this.components={},this.initializingComponents={},this.componentsToUpdate={},this.isEntity=!0,this.isPlaying=!1,this.object3D=new A.Group,this.object3D.rotation.order="YXZ",this.object3D.el=this,this.object3DMap={},this.parentEl=null,this.rotationObj={},this.states=[]}attributeChangedCallback(P,H,$){var te=this.components[P];if(super.attributeChangedCallback(),te&&te.justInitialized&&$===""){delete te.justInitialized;return}!te&&$===null||this.setEntityAttribute(P,H,$)}doConnectedCallback(){var P=this,H,$;if(super.doConnectedCallback(),$=this.sceneEl,this.addToParent(),!this.isScene){if(!$){this.load();return}if(H=$.querySelector("a-assets"),H&&!H.hasLoaded){H.addEventListener("loaded",function(){P.load()});return}this.load()}}disconnectedCallback(){var P;if(this.parentEl){for(P in this.components)this.removeComponent(P,!1);this.isScene||(this.removeFromParent(),super.disconnectedCallback(),this.object3D.el=null)}}getObject3D(P){return this.object3DMap[P]}setObject3D(P,H){var $,te=this;if(!(H instanceof A.Object3D))throw new Error("`Entity.setObject3D` was called with an object that was not an instance of THREE.Object3D.");$=this.getObject3D(P),$&&this.object3D.remove($),H.el=this,H.children.length&&H.traverse(function(de){de.el=te}),this.object3D.add(H),this.object3DMap[P]=H,this.emit("object3dset",{object:H,type:P})}removeObject3D(P){var H=this.getObject3D(P);if(!H){g("Tried to remove `Object3D` of type:",P,"which was not defined.");return}this.object3D.remove(H),delete this.object3DMap[P],this.emit("object3dremove",{type:P})}getOrCreateObject3D(P,H){var $=this.getObject3D(P);return!$&&H&&($=new H,this.setObject3D(P,$)),g("`getOrCreateObject3D` has been deprecated. Use `setObject3D()` and `object3dset` event instead."),$}add(P){if(!P.object3D)throw new Error("Trying to add an element that doesn't have an `object3D`");this.object3D.add(P.object3D),this.emit("child-attached",{el:P})}addToParent(){var P=this.parentEl=this.parentNode;!P||!P.add||this.attachedToParent||(P.add(this),this.attachedToParent=!0)}removeFromParent(){var P=this.parentEl;this.parentEl.remove(this),this.attachedToParent=!1,this.parentEl=null,P.emit("child-detached",{el:this})}load(){var P=this;this.hasLoaded||!this.parentEl||super.load.call(this,function(){P.parentEl&&(P.updateComponents(),(P.isScene||P.parentEl.isPlaying)&&P.play())})}remove(P){P?this.object3D.remove(P.object3D):this.parentNode.removeChild(this)}getChildEntities(){for(var P=this.children,H=[],$=0;$<P.length;$++){var te=P[$];te instanceof C&&H.push(te)}return H}initComponent(P,H,$){var te,ee,de,ie,ne;de=b.split(P,y),ie=de[0],ee=de.length>2?de.slice(1).join("__"):de[1],w[ie]&&(ne=v(this,P)||H!==void 0,!(!ne&&!$)&&(P in this.components||(this.initComponentDependencies(ie),te=new w[ie].Component(this,H,ee),this.isPlaying&&te.play(),this.hasAttribute(P)||(te.justInitialized=!0,window.HTMLElement.prototype.setAttribute.call(this,P,"")),d("Component initialized: %s",P))))}initComponentDependencies(P){var H=this,$=w[P],te,ee;if($&&(te=w[P].dependencies,!!te))for(ee=0;ee<te.length;ee++)H.initComponent(te[ee],window.HTMLElement.prototype.getAttribute.call(H,te[ee])||void 0,!0)}removeComponent(P,H){var $;if($=this.components[P],!!$){if(!$.initialized){this.addEventListener("componentinitialized",function te(ee){ee.detail.name===P&&(this.removeComponent(P,H),this.removeEventListener("componentinitialized",te))});return}$.pause(),$.remove(),H&&($.destroy(),delete this.components[P],this.hasAttribute(P)&&window.HTMLElement.prototype.removeAttribute.call(this,P)),this.emit("componentremoved",$.evtDetail,!1)}}updateComponents(){var P,H,$,te,ee=this.componentsToUpdate;if(!(!this.hasLoaded&&!this.isLoading)){for($=0;$<this.mixinEls.length;$++)for(te in this.mixinEls[$].componentCache)L(te)&&(ee[te]=!0);if(this.getExtraComponents){H=this.getExtraComponents();for(te in H)L(te)&&(ee[te]=!0)}for($=0;$<this.attributes.length;++$)te=this.attributes[$].name,f.indexOf(te)===-1&&L(te)&&(ee[te]=!0);for($=0;$<f.length;$++)te=f[$],this.hasAttribute(te)&&this.updateComponent(te,this.getDOMAttribute(te));for(te in ee)P=T(this.getDOMAttribute(te),H&&H[te]),this.updateComponent(te,P),delete ee[te]}}updateComponent(P,H,$){var te=this.components[P];if(te){if(H===null&&!v(this,P)){this.removeComponent(P,!0);return}te.updateProperties(H,$);return}this.initComponent(P,H,!1)}removeAttribute(P,H){var $=this.components[P];if($&&H===void 0&&this.removeComponent(P,!0),$&&H!==void 0){$.resetProperty(H);return}P==="mixin"&&this.mixinUpdate(""),window.HTMLElement.prototype.removeAttribute.call(this,P)}play(){var P,H,$;if(!(this.isPlaying||!this.hasLoaded&&!this.isLoading)){this.isPlaying=!0;for($ in this.components)this.components[$].play();for(P=this.getChildEntities(),H=0;H<P.length;H++)P[H].play();this.emit("play")}}pause(){var P,H,$;if(this.isPlaying){this.isPlaying=!1;for($ in this.components)this.components[$].pause();for(P=this.getChildEntities(),H=0;H<P.length;H++)P[H].pause();this.emit("pause")}}setEntityAttribute(P,H,$){if(w[P]||this.components[P]){this.updateComponent(P,$);return}if(P==="mixin"){if($===this.computedMixinStr)return;this.mixinUpdate($,H)}}mixinUpdate(P,H,$){var te=C.componentsUpdated,ee,de,ie,ne,X=this;if($||(H=H||this.getAttribute("mixin")),!this.hasLoaded){this.addEventListener("loaded-private",function(){X.mixinUpdate(P,H,!0)},E);return}for(ie=this.updateMixins(P,H),te.length=0,ne=0;ne<this.mixinEls.length;ne++)for(ee in this.mixinEls[ne].componentCache)te.indexOf(ee)===-1&&(this.components[ee]?this.components[ee].handleMixinUpdate():this.initComponent(ee,null),te.push(ee));for(ne=0;ne<ie.oldMixinIds.length;ne++)if(de=document.getElementById(ie.oldMixinIds[ne]),!!de)for(ee in de.componentCache)te.indexOf(ee)===-1&&this.components[ee]&&(this.getDOMAttribute(ee)?this.components[ee].handleMixinUpdate():this.removeComponent(ee,!0))}setAttribute(P,H,$){var te=C.singlePropUpdate,ee,de,ie,ne,X,z;if(ne=P.indexOf(y),ie=ne>0?P.substring(0,ne):P,!w[ie]){P==="mixin"&&this.mixinUpdate(H),super.setAttribute.call(this,P,H);return}if(!this.components[P]&&this.hasAttribute(P)&&this.updateComponent(P,window.HTMLElement.prototype.getAttribute.call(this,P)),typeof $<"u"&&typeof H=="string"&&H.length>0&&typeof b.styleParser.parse(H)=="string"){for(z in te)delete te[z];ee=te,ee[H]=$,de=!1}else ee=H,de=$===!0;this.updateComponent(P,ee,de),X=this.sceneEl&&this.sceneEl.getAttribute("debug"),X&&this.components[P].flushToDOM()}flushToDOM(P){var H=this.components,$,te=this.children,ee,de;for(de in H)H[de].flushToDOM();if(P)for(ee=0;ee<te.length;++ee)$=te[ee],$.flushToDOM&&$.flushToDOM(P)}getAttribute(P){var H;return P==="position"?this.object3D.position:P==="rotation"?R(this):P==="scale"?this.object3D.scale:P==="visible"?this.object3D.visible:(H=this.components[P],H?H.data:window.HTMLElement.prototype.getAttribute.call(this,P))}getDOMAttribute(P){var H=this.components[P];return H?H.attrValue:window.HTMLElement.prototype.getAttribute.call(this,P)}addState(P){this.is(P)||(this.states.push(P),this.emit("stateadded",P))}removeState(P){var H=this.states.indexOf(P);H!==-1&&(this.states.splice(H,1),this.emit("stateremoved",P))}is(P){return this.states.indexOf(P)!==-1}inspect(){this.sceneEl.components.inspector.openInspector(this)}destroy(){var P;if(this.parentNode){g("Entity can only be destroyed if detached from scenegraph.");return}for(P in this.components)this.components[P].destroy()}}function v(F,P){return F.components[P]&&F.components[P].attrValue?!0:x(P,F.mixinEls)}function x(F,P){var H,$=!1;for(H=0;H<P.length&&($=P[H].hasAttribute(F),!$);++H);return $}function T(F,P){return P?P.constructor===Object?b.extend(P,b.styleParser.parse(F||{})):F||P:F}function L(F){return F.indexOf(y)!==-1&&(F=b.split(F,y)[0]),!!w[F]}function R(F){var P=A.MathUtils.radToDeg,H=F.object3D.rotation,$=F.rotationObj;return $.x=P(H.x),$.y=P(H.y),$.z=P(H.z),$}C.componentsUpdated=[],C.singlePropUpdate={},customElements.define("a-entity",C),M.exports.AEntity=C},"./src/core/a-mixin.js":(M,B,u)=>{var p=u("./src/core/a-node.js").ANode,w=u("./src/core/component.js").components,A=u("./src/utils/index.js"),b=A.styleParser,d="__";class g extends p{constructor(){super(),this.componentCache={},this.rawAttributeCache={},this.isMixin=!0}doConnectedCallback(){super.doConnectedCallback(),this.sceneEl=this.closestScene(),this.id=this.getAttribute("id"),this.cacheAttributes(),this.updateEntities(),this.load()}attributeChangedCallback(f,E,C){super.attributeChangedCallback(),this.cacheAttribute(f,C),this.updateEntities()}setAttribute(f,E){window.HTMLElement.prototype.setAttribute.call(this,f,E),this.cacheAttribute(f,E)}cacheAttribute(f,E){var C,v;v=A.split(f,d)[0],C=w[v],E===void 0&&(E=window.HTMLElement.prototype.getAttribute.call(this,f)),this.rawAttributeCache[f]=E,C&&(this.componentCache[f]=this.parseComponentAttrValue(C,E))}parseComponentAttrValue(f,E){var C;return typeof E!="string"?E:(f.isSingleProperty?(C=f.schema.parse(E),typeof C=="string"&&(C=E)):C=b.parse(E),C)}getAttribute(f){return this.componentCache[f]||window.HTMLElement.prototype.getAttribute.call(this,f)}cacheAttributes(){var f=this.attributes,E,C;for(C=0;C<f.length;C++)E=f[C].name,this.cacheAttribute(E)}updateEntities(){var f,E,C;if(this.sceneEl)for(E=this.sceneEl.querySelectorAll("[mixin~="+this.id+"]"),C=0;C<E.length;C++)f=E[C],!(!f.hasLoaded||f.isMixin)&&f.mixinUpdate(this.id)}}customElements.define("a-mixin",g)},"./src/core/a-node.js":(M,B,u)=>{var p=u("./src/utils/index.js"),w=u("./src/core/readyState.js"),A=p.debug("core:a-node:warn"),b={"a-scene":!0,"a-assets":!0,"a-assets-items":!0,"a-cubemap":!0,"a-mixin":!0,"a-node":!0,"a-entity":!0};function d(y){return y.tagName.toLowerCase()in b||y.isNode}class g extends HTMLElement{constructor(){super(),this.computedMixinStr="",this.hasLoaded=!1,this.isNode=!0,this.mixinEls=[]}connectedCallback(){if(!w.canInitializeElements){document.addEventListener("aframeready",this.connectedCallback.bind(this));return}this.doConnectedCallback()}doConnectedCallback(){var f;this.sceneEl=this.closestScene(),this.sceneEl||A("You are attempting to attach <"+this.tagName+"> outside of an A-Frame scene. Append this element to `<a-scene>` instead."),this.hasLoaded=!1,this.emit("nodeready",void 0,!1),this.isMixin||(f=this.getAttribute("mixin"),f&&this.updateMixins(f))}attributeChangedCallback(f,E,C){C!==this.computedMixinStr&&f==="mixin"&&!this.isMixin&&this.updateMixins(C,E)}closestScene(){for(var f=this;f&&!f.isScene;)f=f.parentElement;return f}closest(f){for(var E=this.matches||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector,C=this;C&&!E.call(C,f);)C=C.parentElement;return C}disconnectedCallback(){this.hasLoaded=!1}load(f,E){var C,v,x=this;this.hasLoaded||(E=E||d,C=this.getChildren(),v=C.filter(E).map(function(T){return new Promise(function(R,F){if(T.hasLoaded)return R();T.addEventListener("loaded",R),T.addEventListener("error",F)})}),Promise.allSettled(v).then(function(L){L.forEach(function(F){F.status==="rejected"&&A("Rendering scene with errors on node: ",F.reason.target)}),x.isLoading=!0,x.setupMutationObserver(),f&&f(),x.isLoading=!1,x.hasLoaded=!0,x.emit("loaded-private",void 0,!1),x.emit("loaded",void 0,!1)}))}setupMutationObserver(){var f=this,E={attributes:!0,attributeOldValue:!0},C=new MutationObserver(function(x){var T;for(T=0;T<x.length;T++)if(x[T].type==="attributes"){var L=x[T].attributeName,R=window.HTMLElement.prototype.getAttribute.call(f,L),F=x[T].oldValue;f.attributeChangedCallback(L,F,R)}});C.observe(this,E)}getChildren(){return Array.prototype.slice.call(this.children,0)}updateMixins(f,E){var C=g.newMixinIdArray,v=g.oldMixinIdArray,x=g.mixinIds,T,L,R;for(C.length=0,v.length=0,L=f?p.split(f.trim(),/\s+/):C,R=E?p.split(E.trim(),/\s+/):v,x.newMixinIds=L,x.oldMixinIds=R,T=0;T<R.length;T++)L.indexOf(R[T])===-1&&this.unregisterMixin(R[T]);for(this.computedMixinStr="",this.mixinEls.length=0,T=0;T<L.length;T++)this.registerMixin(L[T]);return this.computedMixinStr&&(this.computedMixinStr=this.computedMixinStr.trim(),window.HTMLElement.prototype.setAttribute.call(this,"mixin",this.computedMixinStr)),L.length===0&&window.HTMLElement.prototype.removeAttribute.call(this,"mixin"),x}registerMixin(f){var E,C,v,x=document.getElementById(f);if(!x){A("No mixin was found with id `%s`",f);return}if(v=x.getAttribute("mixin"),v)for(E=p.split(v.trim(),/\s+/),C=0;C<E.length;C++)this.registerMixin(E[C]);this.computedMixinStr=this.computedMixinStr+" "+x.id,this.mixinEls.push(x)}setAttribute(f,E){f==="mixin"&&this.updateMixins(E),window.HTMLElement.prototype.setAttribute.call(this,f,E)}unregisterMixin(f){var E,C=this.mixinEls,v;for(E=0;E<C.length;++E)if(v=C[E],f===v.id){C.splice(E,1);break}}emit(f,E,C,v){var x=g.evtData;C===void 0&&(C=!0),x.bubbles=!!C,x.detail=E,v&&(x=p.extend({},v,x)),this.dispatchEvent(new CustomEvent(f,x))}}g.evtData={},g.newMixinIdArray=[],g.oldMixinIdArray=[],g.mixinIds={},customElements.define("a-node",g),M.exports.ANode=g,M.exports.knownTags=b},"./src/core/component.js":(M,B,u)=>{var p=u("./src/core/schema.js"),w=u("./src/core/scene/scenes.js"),A=u("./src/core/system.js"),b=u("./src/utils/index.js"),d=M.exports.components={},g=p.parseProperty,y=p.process,f=p.isSingleProperty,E=p.stringifyProperties,C=p.stringifyProperty,v=b.styleParser,x=b.debug("core:component:warn"),T=document.currentScript,L=new RegExp("[A-Z]+"),R={},F=Object.freeze({}),P=[],H={get:function(z,se){return z.getComputedPropertyValue(se)},set:function(z,se,ae){return se in z.schema?z.recomputeProperty(se,ae):ae!==void 0&&z.handleUnknownProperty(se,ae),!0}},$=M.exports.Component=function(z,se,ae){var be=this;if(this.sceneOnly&&!z.isScene)throw new Error("Component `"+this.name+"` can only be applied to <a-scene>");if(ae&&!this.multiple)throw new Error("Trying to initialize multiple components of type `"+this.name+"`. There can only be one component of this type per entity.");this.el=z,this.id=ae,this.attrName=this.name+(ae?"__"+ae:""),this.evtDetail={id:this.id,name:this.name},this.initialized=!1,this.el.components[this.attrName]=this,this.objectPool=R[this.name];var Re=this.events;this.events={},te(this,Re),this.attrValue=void 0,this.isObjectBased?(this.data=this.objectPool.use(),b.objectPool.removeUnusedKeys(this.data,this.schema),this.oldData=this.objectPool.use(),b.objectPool.removeUnusedKeys(this.oldData,this.schema),this.attrValueProxy=new Proxy(this,H)):(this.data=void 0,this.oldData=void 0,this.attrValueProxy=void 0),this.deferUnknownPropertyWarnings=!!this.updateSchema,this.silenceUnknownPropertyWarnings=!1,this.throttledEmitComponentChanged=b.throttleLeadingAndTrailing(function(){z.emit("componentchanged",be.evtDetail,!1)},200),this.updateProperties(se,!0)};$.prototype={schema:{},init:function(){},events:{},update:function(z){},updateSchema:void 0,tick:void 0,tock:void 0,play:function(){},pause:function(){},remove:function(){},stringify:function(z){var se=this.schema;return typeof z=="string"?z:this.isSingleProperty?C(z,se):(z=E(z,se),v.stringify(z))},flushToDOM:function(z){var se=z?this.data:this.attrValue;se!=null&&window.HTMLElement.prototype.setAttribute.call(this.el,this.attrName,this.stringify(se))},updateProperties:function(z,se){var ae=this.el;this.updateData(z,se),!(!ae.hasLoaded&&!ae.isLoading)&&(this.initialized?this.callUpdateHandler():this.initComponent())},initComponent:function(){var z=this.el,se;z.initializingComponents[this.name]||(z.initializingComponents[this.name]=!0,this.init(),this.initialized=!0,delete z.initializingComponents[this.name],se=this.isObjectBased?F:void 0,this.dataChanged=!1,this.storeOldData(),this.update(se),z.isPlaying&&this.play(),z.emit("componentinitialized",this.evtDetail,!1))},updateData:function(z,se){if(this.isSingleProperty){this.recomputeProperty(void 0,z);return}se?(b.objectPool.clearObject(this.attrValue),this.recomputeData(z),this.schemaChangeRequired=!!this.updateSchema):typeof z=="string"?v.parse(z,this.attrValueProxy):b.extend(this.attrValueProxy,z),this.updateSchemaIfNeeded(z)},updateSchemaIfNeeded:function(z){if(!this.schemaChangeRequired||!this.updateSchema){for(var se=0;se<P.length;se++)x("Unknown property `"+P[se]+"` for component `"+this.name+"`.");P.length=0;return}P.length=0,this.updateSchema(this.data),b.objectPool.removeUnusedKeys(this.data,this.schema),this.silenceUnknownPropertyWarnings=!0,this.recomputeData(z),this.silenceUnknownPropertyWarnings=!1,this.schemaChangeRequired=!1},callUpdateHandler:function(){if(!(!this.isPositionRotationScale&&!this.dataChanged)){this.dataChanged=!1;var z=this.oldData;this.oldDataInUse=!0,this.update(z),z!==this.oldData&&this.objectPool.recycle(z),this.oldDataInUse=!1,this.storeOldData(),this.throttledEmitComponentChanged()}},handleMixinUpdate:function(){this.recomputeData(),this.updateSchemaIfNeeded(),this.callUpdateHandler()},resetProperty:function(z){!this.isSingleProperty&&!(z in this.schema)||(z?this.attrValue[z]=void 0:(this.isObjectBased&&this.objectPool.recycle(this.attrValue),this.attrValue=void 0),this.recomputeProperty(z,void 0),this.updateSchemaIfNeeded(),this.callUpdateHandler())},extendSchema:function(z){var se;se=b.extend({},d[this.name].schema),b.extend(se,z),this.schema=y(se),this.el.emit("schemachanged",this.evtDetail)},getComputedPropertyValue:function(z){var se=this.el.mixinEls,ae=this.attrValue&&z?this.attrValue[z]:this.attrValue;if(ae!==void 0)return ae;for(var be=se.length-1;be>=0;be--){var Re=se[be].getAttribute(this.attrName);if(!(Re===null||z&&!(z in Re)))return z?Re[z]:Re}var ke=z?this.schema[z].default:this.schema.default;return ke},recomputeProperty:function(z,se){var ae=z?this.schema[z]:this.schema;if(se!=null){this.attrValue===void 0&&this.isObjectBased&&(this.attrValue=this.objectPool.use());var be=z?this.attrValue[z]:this.attrValue;be=ae.isCacheable?g(se,ae,be):se,typeof be=="string"&&(be=se===""?void 0:se),z?this.attrValue[z]=be:this.attrValue=be}this.oldDataInUse&&(this.oldData=this.objectPool.use(),b.objectPool.removeUnusedKeys(this.oldData,this.schema),this.storeOldData(),this.oldDataInUse=!1);var Re=z?this.oldData[z]:this.oldData,ke=z?this.data[z]:this.data,Ke=g(this.getComputedPropertyValue(z),ae,ke);return ae.type==="array"&&!z&&(Ke=b.clone(Ke)),ae.equals(Ke,Re)||(this.dataChanged=!0,ae.schemaChange&&(this.schemaChangeRequired=!0)),z?this.data[z]=Ke:this.data=Ke,Ke},handleUnknownProperty:function(z,se){this.attrValue===void 0&&(this.attrValue=this.objectPool.use()),this.attrValue[z]=se,this.silenceUnknownPropertyWarnings||(this.deferUnknownPropertyWarnings?P.push(z):this.silenceUnknownPropertyWarnings||x("Unknown property `"+z+"` for component `"+this.name+"`."))},storeOldData:function(){if(!this.isObjectBased){this.oldData=this.data;return}if(this.isSingleProperty){this.oldData=g(this.data,this.schema,this.oldData);return}var z;for(z in this.schema)this.data[z]!==void 0&&(this.data[z]&&typeof this.data[z]=="object"?this.oldData[z]=g(this.data[z],this.schema[z],this.oldData[z]):this.oldData[z]=this.data[z])},recomputeData:function(z){var se;if(this.isSingleProperty){this.recomputeProperty(void 0,z);return}if(z&&typeof z=="object")for(se in this.schema)this.attrValueProxy[se]=z[se];else for(se in this.schema)this.attrValueProxy[se]=void 0;typeof z=="string"&&v.parse(z,this.attrValueProxy);for(se in this.attrValue)this.attrValue[se]!==void 0&&P.indexOf(se)!==-1&&(se in this.schema||x("Unknown property `"+se+"` for component `"+this.name+"`."))},eventsAttach:function(){var z;this.eventsDetach();for(z in this.events)this.el.addEventListener(z,this.events[z])},eventsDetach:function(){var z;for(z in this.events)this.el.removeEventListener(z,this.events[z])},destroy:function(){this.objectPool.recycle(this.attrValue),this.objectPool.recycle(this.data),this.objectPool.recycle(this.oldData),this.attrValue=this.data=this.oldData=this.attrValueProxy=void 0}};function te(z,se){var ae;for(ae in se)z.events[ae]=se[ae].bind(z)}if(window.debug)var ee=M.exports.registrationOrderWarnings={};M.exports.registerComponent=function(z,se){var ae,be={},Re,ke;if(document.currentScript&&document.currentScript!==T&&w.forEach(function(Fe){Fe.hasLoaded||document.currentScript.compareDocumentPosition(Fe)!==Node.DOCUMENT_POSITION_FOLLOWING&&(x("The component `"+z+"` was registered in a <script> tag after the scene. Component <script> tags in an HTML file should be declared *before* the scene such that the component is available to entities during scene initialization."),window.debug&&(ee[z]=!0))}),L.test(z)===!0&&x("The component name `"+z+"` contains uppercase characters, but HTML will ignore the capitalization of attribute names. Change the name to be lowercase: `"+z.toLowerCase()+"`"),z.indexOf("__")!==-1)throw new Error("The component name `"+z+"` is not allowed. The sequence __ (double underscore) is reserved to specify an id for multiple components of the same type");if(Object.keys(se).forEach(function(Xe){be[Xe]={value:se[Xe],writable:!0}}),d[z])throw new Error("The component `"+z+"` has been already registered. Check that you are not loading two versions of the same component or two different components of the same name.");ae=function(Xe,Fe,qe){$.call(this,Xe,Fe,qe)},ae.prototype=Object.create($.prototype,be),ae.prototype.name=z,ae.prototype.isPositionRotationScale=z==="position"||z==="rotation"||z==="scale",ae.prototype.constructor=ae,ae.prototype.system=A&&A.systems[z],ae.prototype.play=ne(ae.prototype.play),ae.prototype.pause=ie(ae.prototype.pause),Re=b.extend(y(ae.prototype.schema,ae.prototype.name)),ae.prototype.isSingleProperty=ke=f(ae.prototype.schema),ae.prototype.isObjectBased=!ke||ke&&(X(Re.default)||X(g(void 0,Re))),R[z]=b.objectPool.createPool(),d[z]={Component:ae,dependencies:ae.prototype.dependencies,before:ae.prototype.before,after:ae.prototype.after,isSingleProperty:ae.prototype.isSingleProperty,isObjectBased:ae.prototype.isObjectBased,multiple:ae.prototype.multiple,sceneOnly:ae.prototype.sceneOnly,name:z,schema:Re,stringify:ae.prototype.stringify};for(var Ke=0;Ke<w.length;Ke++)w[Ke].emit("componentregistered",{name:z},!1);return ae};function de(z){return z.tick||z.tock}function ie(z){return function(){var ae=this.el.sceneEl;this.isPlaying&&(z.call(this),this.isPlaying=!1,this.eventsDetach(),de(this)&&ae.removeBehavior(this))}}function ne(z){return function(){var ae=this.el.sceneEl,be=this.el.isPlaying&&!this.isPlaying;!this.initialized||!be||(z.call(this),this.isPlaying=!0,this.eventsAttach(),de(this)&&ae.addBehavior(this))}}function X(z){return z&&z.constructor===Object&&!(z instanceof window.HTMLElement)}},"./src/core/geometry.js":(M,B,u)=>{var p=u("./src/core/schema.js"),w=p.process,A=M.exports.geometries={},b=M.exports.geometryNames=[],d=u("./src/lib/three.js"),g=M.exports.Geometry=function(){};g.prototype={schema:{},init:function(y){return this.geometry=new d.BufferGeometry,this.geometry},update:function(y){}},M.exports.registerGeometry=function(y,f){var E,C={};if(Object.keys(f).forEach(function(x){C[x]={value:f[x],writable:!0}}),A[y])throw new Error("The geometry `"+y+"` has been already registered");return E=function(){g.call(this)},E.prototype=Object.create(g.prototype,C),E.prototype.name=y,E.prototype.constructor=E,A[y]={Geometry:E,schema:w(E.prototype.schema)},b.push(y),E}},"./src/core/propertyTypes.js":(M,B,u)=>{var p=u("./src/utils/coordinates.js"),w=u("./node_modules/debug/src/browser.js"),A=w("core:propertyTypes:warn"),b=M.exports.propertyTypes={},d=/[,> .[\]:]/,g=/url\((.+)\)/;y("audio","",v),y("array",[],f,E,C),y("asset","",v),y("boolean",!1,R),y("color","#FFF"),y("int",0,F),y("number",0,P),y("map","",v),y("model","",v),y("selector",null,H,te,L,!1),y("selectorAll",null,$,ee,C,!1),y("src","",de),y("string",""),y("time",0,F),y("vec2",{x:0,y:0},ie,p.stringify,p.equals),y("vec3",{x:0,y:0,z:0},ie,p.stringify,p.equals),y("vec4",{x:0,y:0,z:0,w:1},ie,p.stringify,p.equals);function y(z,se,ae,be,Re,ke){if(z in b)throw new Error("Property type "+z+" is already registered.");b[z]={default:se,parse:ae||x,stringify:be||T,equals:Re||L,isCacheable:ke!==!1}}M.exports.registerPropertyType=y;function f(z){if(Array.isArray(z))return z;if(!z||typeof z!="string")return[];return z.split(",").map(se);function se(ae){return ae.trim()}}function E(z){return z.join(", ")}function C(z,se){if(!Array.isArray(z)||!Array.isArray(se))return z===se;if(z.length!==se.length)return!1;for(var ae=0;ae<z.length;ae++)if(z[ae]!==se[ae])return!1;return!0}function v(z){var se,ae;if(typeof z!="string")return z;if(ae=z.match(g),ae)return ae[1];if(z.charAt(0)==="#"){if(se=document.getElementById(z.substring(1)),se)return se.tagName==="CANVAS"||se.tagName==="VIDEO"||se.tagName==="IMG"?se:se.getAttribute("src");A('"'+z+'" asset not found.');return}return z}function x(z){return z}function T(z){return z===null?"null":z.toString()}function L(z,se){return z===se}function R(z){return z!=="false"&&z!==!1}function F(z){return parseInt(z,10)}function P(z){return parseFloat(z,10)}function H(z){return z?typeof z!="string"?z:z[0]==="#"&&!d.test(z)?document.getElementById(z.substring(1)):document.querySelector(z):null}function $(z){return z?typeof z!="string"?z:Array.prototype.slice.call(document.querySelectorAll(z),0):null}function te(z){return z.getAttribute?"#"+z.getAttribute("id"):T(z)}function ee(z){return z instanceof Array?z.map(function(se){return"#"+se.getAttribute("id")}).join(", "):T(z)}function de(z){return A("`src` property type is deprecated. Use `asset` instead."),v(z)}function ie(z,se,ae){return p.parse(z,se,ae)}function ne(z,se){return z==="audio"&&typeof se!="string"||z==="array"&&!Array.isArray(se)||z==="asset"&&typeof se!="string"||z==="boolean"&&typeof se!="boolean"||z==="color"&&typeof se!="string"||z==="int"&&typeof se!="number"||z==="number"&&typeof se!="number"||z==="map"&&typeof se!="string"||z==="model"&&typeof se!="string"||z==="selector"&&typeof se!="string"&&se!==null||z==="selectorAll"&&typeof se!="string"&&se!==null||z==="src"&&typeof se!="string"||z==="string"&&typeof se!="string"||z==="time"&&typeof se!="number"?!1:z==="vec2"?X(se,2):z==="vec3"?X(se,3):z==="vec4"?X(se,4):!0}M.exports.isValidDefaultValue=ne;function X(z,se){if(z===null)return!0;if(typeof z!="object"||Object.keys(z).length!==se)return!1;var ae=z.x,be=z.y,Re=z.z,ke=z.w;return!(typeof ae!="number"||typeof be!="number"||se>2&&typeof Re!="number"||se>3&&typeof ke!="number")}M.exports.isValidDefaultCoordinate=X},"./src/core/readyState.js":M=>{M.exports.canInitializeElements=!1;function B(){if(document.readyState==="complete"){u();return}document.addEventListener("readystatechange",function p(){document.readyState==="complete"&&(document.removeEventListener("readystatechange",p),u())})}M.exports.waitForDocumentReadyState=B;function u(){M.exports.canInitializeElements||(M.exports.canInitializeElements=!0,setTimeout(function(){document.dispatchEvent(new CustomEvent("aframeready"))}))}M.exports.emitReady=u},"./src/core/scene/a-scene.js":(M,B,u)=>{var p=u("./src/core/scene/metaTags.js").inject,w=u("./src/core/scene/wakelock.js"),A=u("./src/core/scene/loadingScreen.js"),b=u("./src/core/scene/scenes.js"),d=u("./src/core/system.js").systems,g=u("./src/core/component.js").components,y=u("./src/lib/three.js"),f=u("./src/utils/index.js"),E=f.debug("core:a-scene:warn"),C=u("./src/core/a-entity.js").AEntity,v=u("./src/core/a-node.js").ANode,x=u("./src/core/scene/postMessage.js"),T=f.device.isIOS(),L=f.device.isMobile(),R=f.device.isWebXRAvailable;T&&u("./src/utils/ios-orientationchange-blank-bug.js");class F extends C{constructor(){var X;super(),X=this,X.clock=new y.Clock,X.isIOS=T,X.isMobile=L,X.hasWebXR=R,X.isAR=!1,X.isScene=!0,X.object3D=new y.Scene,X.object3D.onAfterRender=function(z,se,ae){X.isPlaying&&X.tock(X.time,X.delta,ae)},X.resize=X.resize.bind(X),X.render=X.render.bind(X),X.systems={},X.systemNames=[],X.time=X.delta=0,X.usedOfferSession=!1,X.componentOrder=[],X.behaviors={},X.hasLoaded=!1,X.isPlaying=!1,X.originalHTML=X.innerHTML}addFullScreenStyles(){document.documentElement.classList.add("a-fullscreen")}removeFullScreenStyles(){document.documentElement.classList.remove("a-fullscreen")}doConnectedCallback(){var X=this,z=this.hasAttribute("embedded");this.setAttribute("inspector",""),this.setAttribute("keyboard-shortcuts",""),this.setAttribute("screenshot",""),this.setAttribute("xr-mode-ui",""),this.setAttribute("device-orientation-permission-ui",""),super.doConnectedCallback(),ie(this),this.setupRenderer(),A.setup(this,$),this.resize(),z||this.addFullScreenStyles(),x(this),p(this),w(this),this.onVRPresentChangeBound=this.onVRPresentChange.bind(this),window.addEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),this.enterVRBound=function(){X.enterVR()},this.exitVRBound=function(){X.exitVR()},this.exitVRTrueBound=function(){X.exitVR(!0)},this.pointerRestrictedBound=function(){X.pointerRestricted()},this.pointerUnrestrictedBound=function(){X.pointerUnrestricted()},X.hasWebXR||(window.addEventListener("vrdisplaydeactivate",this.exitVRBound),window.addEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.addEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.addEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound)),window.addEventListener("sessionend",this.resize),this.addEventListener("cameraready",function(){X.attachedCallbackPostCamera()}),this.initSystems(),this.componentOrder=P(g,this.componentOrder),this.addEventListener("componentregistered",function(){X.componentOrder=P(g,X.componentOrder)}),this.hasWebXR&&navigator.xr&&navigator.xr.addEventListener&&navigator.xr.addEventListener("sessiongranted",function(){X.enterVR()})}attachedCallbackPostCamera(){var X,z=this;window.addEventListener("load",X),window.addEventListener("resize",function(){z.isIOS?setTimeout(z.resize,100):z.resize()}),this.play(),b.push(this)}initSystems(){var X;this.initSystem("camera");for(X in d)X!=="camera"&&this.initSystem(X)}initSystem(X){this.systems[X]||(this.systems[X]=new d[X](this),this.systemNames.push(X))}disconnectedCallback(){var X=b.indexOf(this);super.disconnectedCallback(),b.splice(X,1),window.removeEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),window.removeEventListener("vrdisplayactivate",this.enterVRBound),window.removeEventListener("vrdisplaydeactivate",this.exitVRBound),window.removeEventListener("vrdisplayconnect",this.enterVRBound),window.removeEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.removeEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.removeEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound),window.removeEventListener("sessionend",this.resize),this.renderer.dispose()}addBehavior(X){var z,se=this.behaviors[X.name],ae;se||(se=this.behaviors[X.name]={tick:{inUse:!1,array:[],markedForRemoval:[]},tock:{inUse:!1,array:[],markedForRemoval:[]}});for(ae in se)if(X[ae]){if(z=se[ae],z.inUse){var be=z.markedForRemoval.indexOf(X);be!==-1&&z.markedForRemoval.splice(be,1)}z.array.indexOf(X)===-1&&z.array.push(X)}}getPointerLockElement(){return document.pointerLockElement}checkHeadsetConnected(){return f.device.checkHeadsetConnected()}enterAR(){var X;if(!this.hasWebXR)throw X="Failed to enter AR mode, WebXR not supported.",new Error(X);if(!f.device.checkARSupport())throw X="Failed to enter AR, WebXR immersive-ar mode not supported in your browser or device.",new Error(X);return this.enterVR(!0)}enterVR(X,z){var se=this,ae,be=se.renderer.xr,Re;if(z&&(!navigator.xr||!navigator.xr.offerSession))return Promise.resolve("OfferSession is not supported.");if(se.usedOfferSession&&z)return Promise.resolve("OfferSession was already called.");if(this.is("vr-mode"))return Promise.resolve("Already in VR.");if(this.checkHeadsetConnected()||this.isMobile){var ke=se.getAttribute("renderer");if(be.enabled=!0,this.hasWebXR){this.xrSession&&this.xrSession.removeEventListener("end",this.exitVRBound);var Ke=this.sceneEl.systems.webxr.sessionReferenceSpaceType;be.setReferenceSpaceType(Ke);var Xe=X?"immersive-ar":"immersive-vr";return Re=this.sceneEl.systems.webxr.sessionConfiguration,new Promise(function(it,Ct){var Nt=z?navigator.xr.offerSession.bind(navigator.xr):navigator.xr.requestSession.bind(navigator.xr);se.usedOfferSession|=z,Nt(Xe,Re).then(function(Te){z&&(se.usedOfferSession=!1),be.layersEnabled=Re.requiredFeatures.indexOf("layers")!==-1,be.setSession(Te).then(function(){be.setFoveation(ke.foveationLevel),se.xrSession=Te,se.systems.renderer.setWebXRFrameRate(Te),Te.addEventListener("end",se.exitVRBound),qe(it)})},function(Te){var je=Xe==="immersive-ar",ot=je?"AR":"VR";Ct(new Error("Failed to enter "+ot+" mode (`requestSession`)",{cause:Te}))})})}else{if(ae=f.device.getVRDisplay(),be.setDevice(ae),ae.isPresenting&&!window.hasNativeWebVRImplementation)return qe(),Promise.resolve();var Fe={highRefreshRate:ke.highRefreshRate};return ae.requestPresent([{source:this.canvas,attributes:Fe}]).then(qe,rt)}}return qe(),Promise.resolve();function qe(it){var Ct;window.hasNativeWebVRImplementation&&!window.hasNativeWebXRImplementation&&(Ct=new CustomEvent("vrdisplaypresentchange",{detail:{display:f.device.getVRDisplay()}}),window.dispatchEvent(Ct)),X?se.addState("ar-mode"):se.addState("vr-mode"),se.emit("enter-vr",{target:se}),!se.hasWebXR&&se.isMobile&&screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape"),se.addFullScreenStyles(),!se.isMobile&&!se.checkHeadsetConnected()&&ee(se.canvas),se.resize(),it&&it()}function rt(it){throw se.removeState("vr-mode"),it&&it.message?new Error("Failed to enter VR mode (`requestPresent`): "+it.message):new Error("Failed to enter VR mode (`requestPresent`).")}}exitVR(){var X=this,z,se=this.renderer.xr;if(!this.is("vr-mode")&&!this.is("ar-mode"))return Promise.resolve("Not in immersive mode.");if(this.checkHeadsetConnected()||this.isMobile){if(se.enabled=!1,z=f.device.getVRDisplay(),this.hasWebXR)this.xrSession.removeEventListener("end",this.exitVRBound),this.xrSession.end().then(function(){},function(){}),this.xrSession=void 0;else if(z.isPresenting)return z.exitPresent().then(ae,be)}else de();return ae(),Promise.resolve();function ae(){X.removeState("vr-mode"),X.removeState("ar-mode"),X.isMobile&&screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),X.hasAttribute("embedded")&&X.removeFullScreenStyles(),X.resize(),X.isIOS&&f.forceCanvasResizeSafariMobile(X.canvas),X.renderer.setPixelRatio(window.devicePixelRatio),X.emit("exit-vr",{target:X})}function be(Re){throw Re&&Re.message?new Error("Failed to exit VR mode (`exitPresent`): "+Re.message):new Error("Failed to exit VR mode (`exitPresent`).")}}pointerRestricted(){if(this.canvas){var X=this.getPointerLockElement();X&&X!==this.canvas&&document.exitPointerLock&&document.exitPointerLock(),this.canvas.requestPointerLock&&this.canvas.requestPointerLock()}}pointerUnrestricted(){var X=this.getPointerLockElement();X&&X===this.canvas&&document.exitPointerLock&&document.exitPointerLock()}onVRPresentChange(X){var z=X.display||X.detail.display;if(z&&z.isPresenting){this.enterVR();return}this.exitVR()}getAttribute(X){var z=this.systems[X];return z?z.data:C.prototype.getAttribute.call(this,X)}getDOMAttribute(X){var z=this.systems[X];return z?z.data:C.prototype.getDOMAttribute.call(this,X)}setAttribute(X,z,se){if(d[X]){v.prototype.setAttribute.call(this,X,z);var ae=this.systems[X];ae&&ae.updateProperties(z);return}C.prototype.setAttribute.call(this,X,z,se)}removeBehavior(X){var z,se,ae=this.behaviors[X.name],be;for(se in ae)X[se]&&(z=ae[se],be=z.array.indexOf(X),be!==-1&&(z.inUse?z.markedForRemoval.indexOf(X)===-1&&z.markedForRemoval.push(X):(z.array[be]=z.array[z.array.length-1],z.array.pop())))}resize(){var X=this.camera,z=this.canvas,se,ae,be,Re=this.renderer.xr.isPresenting;ae=this.renderer.xr.enabled&&Re,!(!X||!z||this.is("vr-mode")&&(this.isMobile||ae))&&(se=this.getAttribute("embedded")&&!this.is("vr-mode"),be=$(z,se,this.maxCanvasSize,this.is("vr-mode")),X.aspect=be.width/be.height,X.updateProjectionMatrix(),this.renderer.setSize(be.width,be.height,!1),this.emit("rendererresize",null,!1))}setupRenderer(){var X=this,z,se,ae,be;be={alpha:!0,antialias:!L,canvas:this.canvas,logarithmicDepthBuffer:!1,powerPreference:"high-performance"},this.maxCanvasSize={height:-1,width:-1},this.hasAttribute("renderer")&&(ae=this.getAttribute("renderer"),se=f.styleParser.parse(ae),se.precision&&(be.precision=se.precision+"p"),se.antialias&&se.antialias!=="auto"&&(be.antialias=se.antialias==="true"),se.logarithmicDepthBuffer&&se.logarithmicDepthBuffer!=="auto"&&(be.logarithmicDepthBuffer=se.logarithmicDepthBuffer==="true"),se.alpha&&(be.alpha=se.alpha==="true"),se.stencil&&(be.stencil=se.stencil==="true"),se.multiviewStereo&&(be.multiviewStereo=se.multiviewStereo==="true"),this.maxCanvasSize={width:se.maxCanvasWidth?parseInt(se.maxCanvasWidth):this.maxCanvasSize.width,height:se.maxCanvasHeight?parseInt(se.maxCanvasHeight):this.maxCanvasSize.height}),z=this.renderer=new y.WebGLRenderer(be),z.setPixelRatio(window.devicePixelRatio),this.camera&&z.xr.setPoseTarget(this.camera.el.object3D),this.addEventListener("camera-set-active",function(){z.xr.setPoseTarget(X.camera.el.object3D)})}play(){var X=this,z=this;if(this.renderStarted){C.prototype.play.call(this);return}this.addEventListener("loaded",function(){var se=this.renderer,ae,be=this.renderer.xr;C.prototype.play.call(this),!z.renderStarted&&(z.resize(),z.renderer&&(window.performance&&window.performance.mark("render-started"),A.remove(),ae=f.device.getVRDisplay(),ae&&ae.isPresenting&&(be.setDevice(ae),be.enabled=!0,z.enterVR()),se.setAnimationLoop(this.render),z.renderStarted=!0,z.emit("renderstart")))}),setTimeout(function(){C.prototype.load.call(X)})}updateComponent(X){X in d||C.prototype.updateComponent.apply(this,arguments)}tick(X,z){var se,ae=this.systems;for(this.callComponentBehaviors("tick",X,z),se=0;se<this.systemNames.length;se++)ae[this.systemNames[se]].tick&&ae[this.systemNames[se]].tick(X,z)}tock(X,z,se){var ae,be=this.systems;for(this.callComponentBehaviors("tock",X,z),ae=0;ae<this.systemNames.length;ae++)be[this.systemNames[ae]].tock&&be[this.systemNames[ae]].tock(X,z,se)}render(X,z){var se=this.renderer;this.frame=z,this.delta=this.clock.getDelta()*1e3,this.time=this.clock.elapsedTime*1e3,this.isPlaying&&this.tick(this.time,this.delta);var ae=null;this.is("ar-mode")&&(ae=this.object3D.background,this.object3D.background=null),se.render(this.object3D,this.camera),ae&&(this.object3D.background=ae)}callComponentBehaviors(X,z,se){for(var ae,be=0;be<this.componentOrder.length;be++){var Re=this.behaviors[this.componentOrder[be]];if(Re){var ke=Re[X];for(ke.inUse=!0,ae=0;ae<ke.array.length;ae++)ke.array[ae].isPlaying&&ke.array[ae][X](z,se);for(ke.inUse=!1,ae=0;ae<ke.markedForRemoval.length;ae++)this.removeBehavior(ke.markedForRemoval[ae]);ke.markedForRemoval.length=0}}}}function P(ne,X){var z={},se,ae,be=X||[];be.length=0;for(ae in ne){var Re=ne[ae];if(Re!==void 0){var ke=Re.before?Re.before.slice(0):[],Ke=Re.after?Re.after.slice(0):[];z[ae]={before:ke,after:Ke,visited:!1,done:!1}}}for(ae in z)for(se=0;se<z[ae].before.length;se++){var Xe=z[ae].before[se];if(!(Xe in z)){E("Invalid ordering constraint, no component named `"+Xe+"` referenced by `"+ae+"`");continue}z[Xe].after.push(ae)}function Fe(qe){if(!(!(qe in z)||z[qe].done)){if(z[qe].visited){E("Cycle detected, ignoring one or more before/after constraints. The resulting order might be incorrect");return}z[qe].visited=!0;for(var rt=0;rt<z[qe].after.length;rt++){var it=z[qe].after[rt];it in z||E("Invalid before/after constraint, no component named `"+it+"` referenced in `"+qe+"`"),Fe(it)}z[qe].done=!0,be.push(qe)}}for(ae in z)z[ae].done||Fe(ae);return be}M.exports.determineComponentBehaviorOrder=P;function H(ne,X){var z,se=window.devicePixelRatio;return!X||X.width===-1&&X.height===-1||ne.width*se<X.width&&ne.height*se<X.height||(z=ne.width/ne.height,ne.width*se>X.width&&X.width!==-1&&(ne.width=Math.round(X.width/se),ne.height=Math.round(X.width/z/se)),ne.height*se>X.height&&X.height!==-1&&(ne.height=Math.round(X.height/se),ne.width=Math.round(X.height*z/se))),ne}customElements.define("a-scene",F);function $(ne,X,z,se){if(!ne.parentElement)return{height:0,width:0};if(X){var ae;return ae={height:ne.parentElement.offsetHeight,width:ne.parentElement.offsetWidth},H(ae,z)}return te(z,se)}function te(ne,X){var z;return z={height:document.body.offsetHeight,width:document.body.offsetWidth},X?z:H(z,ne)}function ee(ne){var X=ne.requestFullscreen||ne.webkitRequestFullscreen||ne.mozRequestFullScreen||ne.msRequestFullscreen;X.apply(ne,[{navigationUI:"hide"}])}function de(){var ne=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement;ne&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}function ie(ne){var X;X=document.createElement("canvas"),X.classList.add("a-canvas"),X.dataset.aframeCanvas=!0,ne.appendChild(X),document.addEventListener("fullscreenchange",z),document.addEventListener("mozfullscreenchange",z),document.addEventListener("webkitfullscreenchange",z),document.addEventListener("MSFullscreenChange",z),X.addEventListener("touchmove",function(se){se.preventDefault()},{passive:!1}),ne.canvas=X,ne.emit("render-target-loaded",{target:X}),setTimeout(ne.resize.bind(ne),0);function z(){var se=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;se||ne.exitVR(),document.activeElement.blur(),document.body.focus()}}M.exports.setupCanvas=ie,M.exports.AScene=F},"./src/core/scene/loadingScreen.js":(M,B,u)=>{var p=u("./src/utils/index.js"),w=p.styleParser,A,b,d,g="loading-screen",y="a-loader-title";M.exports.setup=function(v,x){A=v,d=x;var T=A.hasAttribute(g)?w.parse(A.getAttribute(g)):void 0,L=T&&T.dotsColor||"white",R=T&&T.backgroundColor||"#24CAFF",F=T===void 0||T.enabled==="true"||T.enabled===void 0,P,H,$,te,ee,de,ie,ne,X,z;F&&(P=new THREE.Scene,H=new THREE.SphereGeometry(.2,36,18,0,2*Math.PI,0,Math.PI),$=new THREE.MeshBasicMaterial({color:L}),te=new THREE.Mesh(H,$),ee=te.clone(),de=te.clone(),ie=new THREE.PerspectiveCamera(80,window.innerWidth/window.innerHeight,5e-4,1e4),ne=new THREE.Clock,X=0,z=function(){A.renderer.render(P,ie),X=ne.getElapsedTime()%4,te.visible=X>=1,ee.visible=X>=2,de.visible=X>=3},P.background=new THREE.Color(R),P.add(ie),te.position.set(-1,0,-15),ee.position.set(0,0,-15),de.position.set(1,0,-15),ie.add(te),ie.add(ee),ie.add(de),E(),setTimeout(function(){A.hasLoaded||(f(ie),b.style.display="block",window.addEventListener("resize",function(){f(ie)}),A.renderer.setAnimationLoop(z))},200))},M.exports.remove=function(){window.removeEventListener("resize",f),b&&(b.style.display="none")};function f(C){var v=A.hasAttribute("embedded"),x=d(A.canvas,v,A.maxCanvasSize,A.is("vr-mode"));C.aspect=x.width/x.height,C.updateProjectionMatrix(),A.renderer.setSize(x.width,x.height,!1)}function E(){b=document.createElement("div"),b.className=y,b.innerHTML=document.title,b.style.display="none",A.appendChild(b)}},"./src/core/scene/metaTags.js":(M,B,u)=>{var p=u("./src/constants/index.js"),w=u("./src/utils/index.js").extend,A=M.exports.MOBILE_HEAD_TAGS=[d({name:"viewport",content:"width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui,viewport-fit=cover"}),d({name:"mobile-web-app-capable",content:"yes"}),d({name:"theme-color",content:"black"})],b=[d({name:"apple-mobile-web-app-capable",content:"yes"}),d({name:"apple-mobile-web-app-status-bar-style",content:"black"}),g({rel:"apple-touch-icon",href:"https://aframe.io/images/aframe-logo-152.png"})];function d(f){return{tagName:"meta",attributes:f,exists:function(){return document.querySelector('meta[name="'+f.name+'"]')}}}function g(f){return{tagName:"link",attributes:f,exists:function(){return document.querySelector('link[rel="'+f.rel+'"]')}}}M.exports.inject=function(E){var C=document.head,v=C.querySelector("script"),x,T=[];return A.forEach(L),E.isIOS&&b.forEach(L),T;function L(R){!R||R.exists()||(x=y(R),x&&(v?v.parentNode.insertBefore(x,v):C.appendChild(x),T.push(x)))}};function y(f){if(!(!f||!f.tagName)){var E=document.createElement(f.tagName);return E.setAttribute(p.AFRAME_INJECTED,""),w(E,f.attributes)}}},"./src/core/scene/postMessage.js":(M,B,u)=>{var p=u("./src/utils/index.js").isIframed;M.exports=function(b){p()&&window.addEventListener("message",w.bind(b))};function w(A){var b=this;if(A.data)switch(A.data.type){case"vr":switch(A.data.data){case"enter":b.enterVR();break;case"exit":b.exitVR();break}}}},"./src/core/scene/scenes.js":M=>{M.exports=[]},"./src/core/scene/wakelock.js":(M,B,u)=>{var p=u("./vendor/wakelock/wakelock.js");M.exports=function(A){if(A.isMobile){var b=A.wakelock=new p;A.addEventListener("enter-vr",function(){b.request()}),A.addEventListener("exit-vr",function(){b.release()})}}},"./src/core/schema.js":(M,B,u)=>{var p=u("./src/utils/index.js"),w=u("./src/core/propertyTypes.js"),A=p.debug,b=w.isValidDefaultValue,d=w.propertyTypes,g=A("core:schema:warn");function y(v){return"type"in v?typeof v.type=="string":"default"in v}M.exports.isSingleProperty=y,M.exports.process=function(v,x){var T;if(y(v))return f(v,x);for(T in v)v[T]=f(v[T],x);return v};function f(v,x){var T=v.default,L,R,F=v.type;return v.type?v.type==="bool"?F="boolean":v.type==="float"&&(F="number"):T!==void 0&&(typeof T=="boolean"||typeof T=="number")?F=typeof T:Array.isArray(T)?F="array":F="string",R=d[F],R||g("Unknown property type for component `"+x+"`: "+F),L=!!v.parse,v.parse=v.parse||R.parse,v.stringify=v.stringify||R.stringify,v.equals=v.equals||R.equals,v.isCacheable=v.isCacheable===!0||R.isCacheable,v.type=F,"default"in v?!L&&!b(F,T)&&g("Default value `"+T+"` does not match type `"+F+"` in component `"+x+"`"):v.default=R.default,v}M.exports.processPropertyDefinition=f,M.exports.parseProperties=function(){var v=[];return function(x,T,L,R,F){var P,H,$,te;v.length=0;for(H in L?x:T)L&&x[H]===void 0||v.push(H);if(x===null||typeof x!="object")return x;for(H in x)x[H]!==void 0&&!T[H]&&!F&&g("Unknown property `"+H+"` for component/system `"+R+"`.");for(P=0;P<v.length;P++){if(H=v[P],$=T[H],te=x[H],!T[H])return;x[H]=E(te,$)}return x}}();function E(v,x,T){return(v==null||v==="")&&(v=x.default,Array.isArray(v)&&(v=v.slice())),x.parse(v,x.default,T)}M.exports.parseProperty=E,M.exports.stringifyProperties=function(v,x){var T,L,R,F={},P;for(T in v)L=x[T],R=v[T],P=R,typeof P=="object"&&(P=C(R,L),L||g("Unknown component property: "+T)),F[T]=P;return F};function C(v,x){return typeof v!="object"?v:!x||v===null?JSON.stringify(v):x.stringify(v)}M.exports.stringifyProperty=C},"./src/core/shader.js":(M,B,u)=>{var p=u("./src/core/schema.js"),w=p.process,A=M.exports.shaders={},b=M.exports.shaderNames=[],d=u("./src/lib/three.js"),g=u("./src/utils/index.js"),y={array:"v3",color:"v3",int:"i",number:"f",map:"t",time:"f",vec2:"v2",vec3:"v3",vec4:"v4"},f=M.exports.Shader=function(){};f.prototype={schema:{},vertexShader:"void main() {gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);}",fragmentShader:"void main() {gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);}",init:function(E){return this.uniforms=this.initUniforms(),this.material=new(this.raw?d.RawShaderMaterial:d.ShaderMaterial)({uniforms:this.uniforms,glslVersion:this.raw||this.glsl3?d.GLSL3:null,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader}),this.material},initUniforms:function(){var E,C=this.schema,v={},x;for(E in C)C[E].is==="uniform"&&(x=y[C[E].type],v[E]={type:x,value:void 0});return v},update:function(E){var C,v,x=this.schema,T=this.uniforms;for(C in E)if(!(!x[C]||x[C].is!=="uniform")){if(x[C].type==="map"){if(!T[C]||T[C].value===E[C])continue;v="_texture_"+C,this.setMapOnTextureLoad(T,C,v),g.material.updateMapMaterialFromData(v,C,this,E);continue}T[C].value=this.parseValue(x[C].type,E[C]),T[C].needsUpdate=!0}},parseValue:function(E,C){var v;switch(E){case"vec2":return new d.Vector2(C.x,C.y);case"vec3":return new d.Vector3(C.x,C.y,C.z);case"vec4":return new d.Vector4(C.x,C.y,C.z,C.w);case"color":return v=new d.Color(C),new d.Vector3(v.r,v.g,v.b);default:return C}},setMapOnTextureLoad:function(E,C,v){var x=this;this.el.addEventListener("materialtextureloaded",function(){E[C].value=x.material[v],E[C].needsUpdate=!0})}},M.exports.registerShader=function(E,C){var v,x={};if(Object.keys(C).forEach(function(T){x[T]={value:C[T],writable:!0}}),A[E])throw new Error("The shader "+E+" has already been registered");return v=function(){f.call(this)},v.prototype=Object.create(f.prototype,x),v.prototype.name=E,v.prototype.constructor=v,A[E]={Shader:v,schema:w(v.prototype.schema)},b.push(E),v}},"./src/core/system.js":(M,B,u)=>{var p=u("./src/core/component.js"),w=u("./src/core/schema.js"),A=u("./src/utils/index.js"),b=u("./src/core/readyState.js"),d=w.parseProperties,g=w.parseProperty,y=w.process,f=w.isSingleProperty,E=A.styleParser,C=M.exports.systems={},v=M.exports.System=function(x){var T=p&&p.components[this.name];this.el=x,this.sceneEl=x,T&&(T.Component.prototype.system=this),this.buildData(),this.init(),this.update({})};v.prototype={schema:{},init:function(){},update:function(x){},updateProperties:function(x){var T=this.data;Object.keys(w).length&&(this.buildData(x),this.update(T))},buildData:function(x){var T=this.schema;Object.keys(T).length&&(x=x||window.HTMLElement.prototype.getAttribute.call(this.sceneEl,this.name),f(T)?this.data=g(x,T):this.data=d(E.parse(x)||{},T,!1,this.name))},tick:void 0,tock:void 0,play:function(){},pause:function(){}},M.exports.registerSystem=function(x,T){var L,R,F={},P=A.findAllScenes(document);if(Object.keys(T).forEach(function(H){F[H]={value:T[H],writable:!0}}),C[x])throw new Error("The system `"+x+"` has been already registered. Check that you are not loading two versions of the same system or two different systems of the same name.");if(R=function(H){v.call(this,H)},R.prototype=Object.create(v.prototype,F),R.prototype.name=x,R.prototype.constructor=R,R.prototype.schema=A.extend(y(R.prototype.schema)),C[x]=R,b.canInitializeElements)for(L=0;L<P.length;L++)P[L].initSystem(x)}},"./src/extras/components/index.js":(M,B,u)=>{u("./src/extras/components/pivot.js")},"./src/extras/components/pivot.js":(M,B,u)=>{var p=u("./src/core/component.js").registerComponent,w=u("./src/lib/three.js"),A=new w.Vector3,b=new w.Vector3;p("pivot",{dependencies:["position"],schema:{type:"vec3"},init:function(){var d=this.data,g=this.el,y=g.object3D.parent,f=g.object3D,E=new w.Group;A.copy(f.position),b.copy(f.rotation),y.remove(f),E.add(f),y.add(E),g.object3D=E,f.position.set(-1*d.x,-1*d.y,-1*d.z),E.position.set(d.x+A.x,d.y+A.y,d.z+A.z),E.rotation.copy(f.rotation),f.rotation.set(0,0,0)}})},"./src/extras/primitives/getMeshMixin.js":(M,B,u)=>{var p=u("./src/core/component.js").components,w=u("./src/core/shader.js").shaders,A=u("./src/utils/index.js"),b={};Object.keys(p.material.schema).forEach(d),Object.keys(w.standard.schema).forEach(d);function d(g){var y=g.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();g==="fog"&&(y="material-fog"),g==="visible"&&(y="material-visible"),b[y]="material."+g}M.exports=function(){return{defaultComponents:{material:{}},mappings:A.extend({},b)}}},"./src/extras/primitives/index.js":(M,B,u)=>{u("./src/extras/primitives/primitives/a-camera.js"),u("./src/extras/primitives/primitives/a-cursor.js"),u("./src/extras/primitives/primitives/a-curvedimage.js"),u("./src/extras/primitives/primitives/a-gltf-model.js"),u("./src/extras/primitives/primitives/a-image.js"),u("./src/extras/primitives/primitives/a-light.js"),u("./src/extras/primitives/primitives/a-link.js"),u("./src/extras/primitives/primitives/a-obj-model.js"),u("./src/extras/primitives/primitives/a-sky.js"),u("./src/extras/primitives/primitives/a-sound.js"),u("./src/extras/primitives/primitives/a-text.js"),u("./src/extras/primitives/primitives/a-video.js"),u("./src/extras/primitives/primitives/a-videosphere.js"),u("./src/extras/primitives/primitives/meshPrimitives.js")},"./src/extras/primitives/primitives.js":(M,B,u)=>{var p=u("./src/core/a-node.js").knownTags,w=u("./src/core/a-entity.js").AEntity,A=u("./src/core/component.js").components,b=u("./src/utils/index.js"),d=b.debug,g=b.entity.setComponentProperty,y=d("extras:primitives:debug"),f=d("extras:primitives:warn"),E=d("extras:primitives:error"),C=M.exports.primitives={};M.exports.registerPrimitive=function(R,F){if(R=R.toLowerCase(),p[R]){E("Trying to register primitive "+R+" that has been already previously registered");return}p[R]=!0,y("Registering <%s>",R),F.defaultAttributes&&f("The 'defaultAttributes' object is deprecated. Use 'defaultComponents' instead.");var P=F.mappings||{},H=class extends w{constructor(){super(),this.defaultComponentsFromPrimitive=F.defaultComponents||F.defaultAttributes||{},this.deprecated=F.deprecated||null,this.deprecatedMappings=F.deprecatedMappings||{},this.mappings=P,F.deprecated&&console.warn(F.deprecated),this.resolveMappingCollisions()}resolveMappingCollisions(){var $=this.mappings,te=this;Object.keys($).forEach(function(de){var ie;de!==de.toLowerCase()&&f("Mapping keys should be specified in lower case. The mapping key "+de+" may not be recognized"),A[de]&&(ie=$[de].replace(".","-"),$[ie]=$[de],delete $[de],console.warn("The primitive "+te.tagName.toLowerCase()+" has a mapping collision. The attribute "+de+" has the same name as a registered component and has been renamed to "+ie))})}getExtraComponents(){var $,te,ee,de,ie,ne=this;for(te=b.clone(this.defaultComponentsFromPrimitive),ie=this.getAttribute("mixin"),ie&&(ie=b.split(ie.trim(),/\s+/),ie.forEach(function(Re){var ke=document.getElementById(Re);if(ke){var Ke=ke.rawAttributeCache,Xe=ke.componentCache;for(var Fe in Ke){if(de=ne.mappings[Fe],de){v(de,Ke[Fe],te);return}Fe in Xe&&(te[Fe]=X(te[Fe],Xe[Fe]))}}})),ee=0;ee<this.attributes.length;ee++)$=this.attributes[ee],de=this.mappings[$.name],de&&v(de,$.value,te);return te;function X(be,Re){return z(be)?se(Re):z(Re)?se(be):ae(be)&&ae(Re)?b.extendDeep(be,Re):se(Re)}function z(be){return typeof be>"u"}function se(be){return ae(be)?b.extendDeep({},be):be}function ae(be){return be!==null&&be.constructor===Object}}attributeChangedCallback($,te,ee){var de=this.mappings[$];if($ in this.deprecatedMappings&&console.warn(this.deprecatedMappings[$]),!$||!de){super.attributeChangedCallback($,te,ee);return}g(this,de,ee)}};return customElements.define(R,H),H.mappings=P,C[R]=H,H};function v(L,R,F){var P=b.entity.getComponentPropertyPath(L);P.constructor===Array?(F[P[0]]=F[P[0]]||{},F[P[0]][P[1]]=R.trim()):F[P]=R.trim()}function x(L,R){var F=A[L].schema;Object.keys(F).map(function(P){var H=P.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();R[H]!==void 0&&(H=L+"-"+P),R[H]=L+"."+P})}function T(L,R,F){F=F||{},Object.keys(R).map(function(H){x(H,F)}),M.exports.registerPrimitive(L,b.extendDeep({},null,{defaultComponents:R,mappings:F}))}M.exports.definePrimitive=T},"./src/extras/primitives/primitives/a-camera.js":(M,B,u)=>{var p=u("./src/extras/primitives/primitives.js").registerPrimitive;p("a-camera",{defaultComponents:{camera:{},"look-controls":{},"wasd-controls":{},position:{x:0,y:1.6,z:0}},mappings:{active:"camera.active",far:"camera.far",fov:"camera.fov","look-controls-enabled":"look-controls.enabled",near:"camera.near","pointer-lock-enabled":"look-controls.pointerLockEnabled","wasd-controls-enabled":"wasd-controls.enabled","reverse-mouse-drag":"look-controls.reverseMouseDrag",zoom:"camera.zoom"}})},"./src/extras/primitives/primitives/a-cursor.js":(M,B,u)=>{var p=u("./src/extras/primitives/getMeshMixin.js"),w=u("./src/extras/primitives/primitives.js").registerPrimitive,A=u("./src/utils/index.js");w("a-cursor",A.extendDeep({},p(),{defaultComponents:{cursor:{},geometry:{primitive:"ring",radiusOuter:.016,radiusInner:.01,segmentsTheta:32},material:{color:"#000",shader:"flat",opacity:.8},position:{x:0,y:0,z:-1}},mappings:{far:"raycaster.far",fuse:"cursor.fuse","fuse-timeout":"cursor.fuseTimeout",interval:"raycaster.interval",objects:"raycaster.objects"}}))},"./src/extras/primitives/primitives/a-curvedimage.js":(M,B,u)=>{var p=u("./src/extras/primitives/getMeshMixin.js"),w=u("./src/extras/primitives/primitives.js").registerPrimitive,A=u("./src/utils/index.js");w("a-curvedimage",A.extendDeep({},p(),{defaultComponents:{geometry:{height:1,primitive:"cylinder",radius:2,segmentsRadial:48,thetaLength:270,openEnded:!0,thetaStart:0},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0,repeat:"-1 1"}},mappings:{height:"geometry.height","open-ended":"geometry.openEnded",radius:"geometry.radius",segments:"geometry.segmentsRadial",start:"geometry.thetaStart","theta-length":"geometry.thetaLength","theta-start":"geometry.thetaStart",width:"geometry.thetaLength"}}))},"./src/extras/primitives/primitives/a-gltf-model.js":(M,B,u)=>{var p=u("./src/extras/primitives/primitives.js").registerPrimitive;p("a-gltf-model",{mappings:{src:"gltf-model"}})},"./src/extras/primitives/primitives/a-image.js":(M,B,u)=>{var p=u("./src/extras/primitives/getMeshMixin.js"),w=u("./src/extras/primitives/primitives.js").registerPrimitive,A=u("./src/utils/index.js");w("a-image",A.extendDeep({},p(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},"./src/extras/primitives/primitives/a-light.js":(M,B,u)=>{var p=u("./src/extras/primitives/primitives.js").registerPrimitive;p("a-light",{defaultComponents:{light:{}},mappings:{angle:"light.angle",color:"light.color","ground-color":"light.groundColor",decay:"light.decay",distance:"light.distance",intensity:"light.intensity",penumbra:"light.penumbra",type:"light.type",target:"light.target",envmap:"light.envMap","shadow-camera-automatic":"light.shadowCameraAutomatic"}})},"./src/extras/primitives/primitives/a-link.js":(M,B,u)=>{var p=u("./src/extras/primitives/primitives.js").registerPrimitive;p("a-link",{defaultComponents:{link:{visualAspectEnabled:!0}},mappings:{href:"link.href",image:"link.image",title:"link.title"}})},"./src/extras/primitives/primitives/a-obj-model.js":(M,B,u)=>{var p=u("./src/extras/primitives/getMeshMixin.js")(),w=u("./src/extras/primitives/primitives.js").registerPrimitive,A=u("./src/utils/index.js");w("a-obj-model",A.extendDeep({},p,{defaultComponents:{"obj-model":{}},mappings:{src:"obj-model.obj",mtl:"obj-model.mtl"}}))},"./src/extras/primitives/primitives/a-sky.js":(M,B,u)=>{var p=u("./src/extras/primitives/getMeshMixin.js"),w=u("./src/extras/primitives/primitives.js").registerPrimitive,A=u("./src/utils/index.js"),b=u("./src/extras/primitives/primitives/meshPrimitives.js");w("a-sky",A.extendDeep({},p(),{defaultComponents:{geometry:{primitive:"sphere",radius:500,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",side:"back",shader:"flat",npot:!0},scale:"-1 1 1"},mappings:A.extendDeep({},b["a-sphere"].mappings)}))},"./src/extras/primitives/primitives/a-sound.js":(M,B,u)=>{var p=u("./src/extras/primitives/primitives.js").registerPrimitive;p("a-sound",{defaultComponents:{sound:{}},mappings:{src:"sound.src",on:"sound.on",autoplay:"sound.autoplay",loop:"sound.loop",volume:"sound.volume"}})},"./src/extras/primitives/primitives/a-text.js":(M,B,u)=>{var p=u("./src/extras/primitives/primitives.js").definePrimitive;p("a-text",{text:{anchor:"align",width:5}})},"./src/extras/primitives/primitives/a-video.js":(M,B,u)=>{var p=u("./src/extras/primitives/getMeshMixin.js"),w=u("./src/extras/primitives/primitives.js").registerPrimitive,A=u("./src/utils/index.js");w("a-video",A.extendDeep({},p(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},"./src/extras/primitives/primitives/a-videosphere.js":(M,B,u)=>{var p=u("./src/extras/primitives/getMeshMixin.js"),w=u("./src/extras/primitives/primitives.js").registerPrimitive,A=u("./src/utils/index.js");w("a-videosphere",A.extendDeep({},p(),{defaultComponents:{geometry:{primitive:"sphere",radius:500,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",shader:"flat",side:"back",npot:!0},scale:"-1 1 1"},mappings:{radius:"geometry.radius","segments-height":"geometry.segmentsHeight","segments-width":"geometry.segmentsWidth"}}))},"./src/extras/primitives/primitives/meshPrimitives.js":(M,B,u)=>{var p=u("./src/extras/primitives/getMeshMixin.js"),w=u("./src/core/geometry.js").geometries,A=u("./src/core/geometry.js").geometryNames,b=u("./src/extras/primitives/primitives.js").registerPrimitive,d=u("./src/utils/index.js"),g=M.exports={};A.forEach(function(E){var C=w[E],v=y(E),x={};Object.keys(C.schema).forEach(function(F){x[y(F)]="geometry."+F});var T="a-"+v,L=b(T,d.extendDeep({},p(),{defaultComponents:{geometry:{primitive:E}},mappings:x}));g[T]=L});function y(f){return f.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},"./src/geometries/box.js":(M,B,u)=>{var p=u("./src/core/geometry.js").registerGeometry,w=u("./src/lib/three.js");p("box",{schema:{depth:{default:1,min:0},height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"},segmentsDepth:{default:1,min:1,max:20,type:"int"}},init:function(A){this.geometry=new w.BoxGeometry(A.width,A.height,A.depth,A.segmentsWidth,A.segmentsHeight,A.segmentsDepth)}})},"./src/geometries/circle.js":(M,B,u)=>{var p=u("./src/core/geometry.js").registerGeometry,w=u("./src/lib/three.js"),A=w.MathUtils.degToRad;p("circle",{schema:{radius:{default:1,min:0},segments:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(b){this.geometry=new w.CircleGeometry(b.radius,b.segments,A(b.thetaStart),A(b.thetaLength))}})},"./src/geometries/cone.js":(M,B,u)=>{var p=u("./src/core/geometry.js").registerGeometry,w=u("./src/lib/three.js"),A=w.MathUtils.degToRad;p("cone",{schema:{height:{default:1,min:0},openEnded:{default:!1},radiusBottom:{default:1,min:0},radiusTop:{default:.01,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(b){this.geometry=new w.CylinderGeometry(b.radiusTop,b.radiusBottom,b.height,b.segmentsRadial,b.segmentsHeight,b.openEnded,A(b.thetaStart),A(b.thetaLength))}})},"./src/geometries/cylinder.js":(M,B,u)=>{var p=u("./src/core/geometry.js").registerGeometry,w=u("./src/lib/three.js"),A=w.MathUtils.degToRad;p("cylinder",{schema:{height:{default:1,min:0},openEnded:{default:!1},radius:{default:1,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(b){this.geometry=new w.CylinderGeometry(b.radius,b.radius,b.height,b.segmentsRadial,b.segmentsHeight,b.openEnded,A(b.thetaStart),A(b.thetaLength))}})},"./src/geometries/dodecahedron.js":(M,B,u)=>{var p=u("./src/core/geometry.js").registerGeometry,w=u("./src/lib/three.js");p("dodecahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(A){this.geometry=new w.DodecahedronGeometry(A.radius,A.detail)}})},"./src/geometries/icosahedron.js":(M,B,u)=>{var p=u("./src/core/geometry.js").registerGeometry,w=u("./src/lib/three.js");p("icosahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(A){this.geometry=new w.IcosahedronGeometry(A.radius,A.detail)}})},"./src/geometries/index.js":(M,B,u)=>{u("./src/geometries/box.js"),u("./src/geometries/circle.js"),u("./src/geometries/cone.js"),u("./src/geometries/cylinder.js"),u("./src/geometries/dodecahedron.js"),u("./src/geometries/icosahedron.js"),u("./src/geometries/octahedron.js"),u("./src/geometries/plane.js"),u("./src/geometries/ring.js"),u("./src/geometries/sphere.js"),u("./src/geometries/tetrahedron.js"),u("./src/geometries/torus.js"),u("./src/geometries/torusKnot.js"),u("./src/geometries/triangle.js")},"./src/geometries/octahedron.js":(M,B,u)=>{var p=u("./src/core/geometry.js").registerGeometry,w=u("./src/lib/three.js");p("octahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(A){this.geometry=new w.OctahedronGeometry(A.radius,A.detail)}})},"./src/geometries/plane.js":(M,B,u)=>{var p=u("./src/core/geometry.js").registerGeometry,w=u("./src/lib/three.js");p("plane",{schema:{height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"}},init:function(A){this.geometry=new w.PlaneGeometry(A.width,A.height,A.segmentsWidth,A.segmentsHeight)}})},"./src/geometries/ring.js":(M,B,u)=>{var p=u("./src/core/geometry.js").registerGeometry,w=u("./src/lib/three.js"),A=w.MathUtils.degToRad;p("ring",{schema:{radiusInner:{default:.8,min:0},radiusOuter:{default:1.2,min:0},segmentsPhi:{default:10,min:1,type:"int"},segmentsTheta:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(b){this.geometry=new w.RingGeometry(b.radiusInner,b.radiusOuter,b.segmentsTheta,b.segmentsPhi,A(b.thetaStart),A(b.thetaLength))}})},"./src/geometries/sphere.js":(M,B,u)=>{var p=u("./src/core/geometry.js").registerGeometry,w=u("./src/lib/three.js"),A=w.MathUtils.degToRad;p("sphere",{schema:{radius:{default:1,min:0},phiLength:{default:360},phiStart:{default:0,min:0},thetaLength:{default:180,min:0},thetaStart:{default:0},segmentsHeight:{default:18,min:2,type:"int"},segmentsWidth:{default:36,min:3,type:"int"}},init:function(b){this.geometry=new w.SphereGeometry(b.radius,b.segmentsWidth,b.segmentsHeight,A(b.phiStart),A(b.phiLength),A(b.thetaStart),A(b.thetaLength))}})},"./src/geometries/tetrahedron.js":(M,B,u)=>{var p=u("./src/core/geometry.js").registerGeometry,w=u("./src/lib/three.js");p("tetrahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(A){this.geometry=new w.TetrahedronGeometry(A.radius,A.detail)}})},"./src/geometries/torus.js":(M,B,u)=>{var p=u("./src/core/geometry.js").registerGeometry,w=u("./src/lib/three.js"),A=w.MathUtils.degToRad;p("torus",{schema:{arc:{default:360},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:36,min:2,type:"int"},segmentsTubular:{default:32,min:3,type:"int"}},init:function(b){this.geometry=new w.TorusGeometry(b.radius,b.radiusTubular*2,b.segmentsRadial,b.segmentsTubular,A(b.arc))}})},"./src/geometries/torusKnot.js":(M,B,u)=>{var p=u("./src/core/geometry.js").registerGeometry,w=u("./src/lib/three.js");p("torusKnot",{schema:{p:{default:2,min:1},q:{default:3,min:1},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:8,min:3,type:"int"},segmentsTubular:{default:100,min:3,type:"int"}},init:function(A){this.geometry=new w.TorusKnotGeometry(A.radius,A.radiusTubular*2,A.segmentsTubular,A.segmentsRadial,A.p,A.q)}})},"./src/geometries/triangle.js":(M,B,u)=>{var p=u("./src/core/geometry.js").registerGeometry,w=u("./src/lib/three.js"),A=new w.Quaternion,b=new w.Vector3(0,0,1),d=new w.Vector2,g=new w.Vector2,y=new w.Vector2;p("triangle",{schema:{vertexA:{type:"vec3",default:{x:0,y:.5,z:0}},vertexB:{type:"vec3",default:{x:-.5,y:-.5,z:0}},vertexC:{type:"vec3",default:{x:.5,y:-.5,z:0}}},init:function(f){var E,C,v,x,T,L,R,F,P;v=new w.Triangle,v.a.set(f.vertexA.x,f.vertexA.y,f.vertexA.z),v.b.set(f.vertexB.x,f.vertexB.y,f.vertexB.z),v.c.set(f.vertexC.x,f.vertexC.y,f.vertexC.z),C=v.getNormal(new w.Vector3),A.setFromUnitVectors(C,b),x=v.a.clone().applyQuaternion(A),T=v.b.clone().applyQuaternion(A),L=v.c.clone().applyQuaternion(A),d.set(Math.min(x.x,T.x,L.x),Math.min(x.y,T.y,L.y)),g.set(Math.max(x.x,T.x,L.x),Math.max(x.y,T.y,L.y)),y.set(0,0).subVectors(g,d),x=new w.Vector2().subVectors(x,d).divide(y),T=new w.Vector2().subVectors(T,d).divide(y),L=new w.Vector2().subVectors(L,d).divide(y),E=this.geometry=new w.BufferGeometry,R=[v.a.x,v.a.y,v.a.z,v.b.x,v.b.y,v.b.z,v.c.x,v.c.y,v.c.z],F=[C.x,C.y,C.z,C.x,C.y,C.z,C.x,C.y,C.z],P=[x.x,x.y,T.x,T.y,L.x,L.y],E.setAttribute("position",new w.Float32BufferAttribute(R,3)),E.setAttribute("normal",new w.Float32BufferAttribute(F,3)),E.setAttribute("uv",new w.Float32BufferAttribute(P,2))}})},"./src/index.js":(M,B,u)=>{if(window.hasNativeWebVRImplementation=!!window.navigator.getVRDisplays||!!window.navigator.getVRDevices,window.hasNativeWebXRImplementation=navigator.xr!==void 0,!window.hasNativeWebXRImplementation&&!window.hasNativeWebVRImplementation){var p=u("./src/utils/isIOSOlderThan10.js"),w=p(window.navigator.userAgent)?1/window.devicePixelRatio:1,A=u("./node_modules/webvr-polyfill/build/webvr-polyfill.js"),b={BUFFER_SCALE:w,CARDBOARD_UI_DISABLED:!0,ROTATE_INSTRUCTIONS_DISABLED:!0,MOBILE_WAKE_LOCK:!!window.cordova};window.webvrpolyfill=new A(b)}var d=u("./src/utils/index.js"),g=d.debug,y=g("A-Frame:error"),f=g("A-Frame:warn");window.document.currentScript&&window.document.currentScript.parentNode!==window.document.head&&!window.debug&&f("Put the A-Frame <script> tag in the <head> of the HTML *before* the scene to ensure everything for A-Frame is properly registered before they are used from HTML."),!window.cordova&&window.location.protocol==="file:"&&y("This HTML file is currently being served via the file:// protocol. Assets, textures, and models WILL NOT WORK due to cross-origin policy! Please use a local or hosted server: https://aframe.io/docs/1.4.0/introduction/installation.html#use-a-local-server."),d.device.isBrowserEnvironment&&(u("./src/style/aframe.css"),u("./src/style/rStats.css"));var E=u("./src/core/scene/a-scene.js").AScene,C=u("./src/core/component.js").components,v=u("./src/core/component.js").registerComponent,x=u("./src/core/geometry.js").registerGeometry,T=u("./src/extras/primitives/primitives.js").registerPrimitive,L=u("./src/core/shader.js").registerShader,R=u("./src/core/system.js").registerSystem,F=u("./src/core/shader.js").shaders,P=u("./src/core/system.js").systems,H=window.THREE=u("./src/lib/three.js"),$=u("./src/core/readyState.js"),te=u("./package.json");u("./src/components/index.js"),u("./src/geometries/index.js"),u("./src/shaders/index.js"),u("./src/systems/index.js");var ee=u("./src/core/a-node.js").ANode,de=u("./src/core/a-entity.js").AEntity;u("./src/core/a-assets.js"),u("./src/core/a-cubemap.js"),u("./src/core/a-mixin.js"),u("./src/extras/components/index.js"),u("./src/extras/primitives/index.js"),console.log("A-Frame Version: 1.6.0 (Date 2024-05-23, Commit #e6c47761)"),console.log("THREE Version (https://github.com/supermedium/three.js):",H.REVISION),console.log("WebVR Polyfill Version:",te.dependencies["webvr-polyfill"]),window.AFRAME_ASYNC||$.waitForDocumentReadyState(),M.exports=window.AFRAME={AComponent:u("./src/core/component.js").Component,AEntity:de,ANode:ee,ANIME:u("./node_modules/super-animejs/lib/anime.es.js").default,AScene:E,components:C,coreComponents:Object.keys(C),geometries:u("./src/core/geometry.js").geometries,registerComponent:v,registerGeometry:x,registerPrimitive:T,registerShader:L,registerSystem:R,primitives:{getMeshMixin:u("./src/extras/primitives/getMeshMixin.js"),primitives:u("./src/extras/primitives/primitives.js").primitives},scenes:u("./src/core/scene/scenes.js"),schema:u("./src/core/schema.js"),shaders:F,systems:P,emitReady:$.emitReady,THREE:H,utils:d,version:te.version}},"./src/lib/rStatsAframe.js":M=>{window.aframeStats=function(B){var u=null,p=B,w={te:{caption:"Entities"},lt:{caption:"Load Time"}},A=[{caption:"A-Frame",values:["te","lt"]}];function b(){u("te").set(d()),window.performance.getEntriesByName&&u("lt").set(window.performance.getEntriesByName("render-started")[0].startTime.toFixed(0))}function d(){var E=p.querySelectorAll("*");return Array.prototype.slice.call(E).filter(function(C){return C.isEntity}),E.length}function g(){}function y(){}function f(E){u=E}return{update:b,start:g,end:y,attach:f,values:w,groups:A,fractions:[]}},M.exports={aframeStats:window.aframeStats}},"./src/lib/three.js":(M,B,u)=>{var p=u("./src/lib/three.mjs").default;u.g.THREE=p,u("./vendor/DeviceOrientationControls.js"),p.Cache&&(p.Cache.enabled=!0),M.exports=p},"./src/shaders/flat.js":(M,B,u)=>{var p=u("./src/core/shader.js").registerShader,w=u("./src/lib/three.js"),A=u("./src/utils/index.js");M.exports.Shader=p("flat",{schema:{color:{type:"color"},fog:{default:!0},height:{default:256},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2},toneMapped:{default:!0}},init:function(d){this.materialData={color:new w.Color},b(d,this.materialData),this.material=new w.MeshBasicMaterial(this.materialData)},update:function(d){this.updateMaterial(d),A.material.updateMap(this,d)},updateMaterial:function(d){var g;b(d,this.materialData);for(g in this.materialData)this.material[g]=this.materialData[g]}});function b(d,g){return g.color.set(d.color),g.fog=d.fog,g.wireframe=d.wireframe,g.toneMapped=d.toneMapped,g.wireframeLinewidth=d.wireframeLinewidth,g}},"./src/shaders/index.js":(M,B,u)=>{u("./src/shaders/flat.js"),u("./src/shaders/standard.js"),u("./src/shaders/phong.js"),u("./src/shaders/sdf.js"),u("./src/shaders/msdf.js"),u("./src/shaders/shadow.js")},"./src/shaders/msdf.js":(M,B,u)=>{var p=u("./src/core/shader.js").registerShader,w=u("./src/lib/three.js"),A=["#include <common>","#include <fog_pars_vertex>","#include <logdepthbuf_pars_vertex>","out vec2 vUV;","void main(void) {","  vUV = uv;","  #include <begin_vertex>","  #include <project_vertex>","  #include <logdepthbuf_vertex>","  #include <fog_vertex>","}"].join("\n"),b=["#include <common>","#include <fog_pars_fragment>","#include <logdepthbuf_pars_fragment>","uniform bool negate;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","in vec2 vUV;","float median(float r, float g, float b) {","  return max(min(r, g), min(max(r, g), b));","}","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","void main() {","  vec3 sampleColor = texture(map, vUV).rgb;","  if (negate) { sampleColor = 1.0 - sampleColor; }","  float sigDist = median(sampleColor.r, sampleColor.g, sampleColor.b) - 0.5;","  float alpha = clamp(sigDist / fwidth(sigDist) + 0.5, 0.0, 1.0);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  // Do modified alpha test.","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);","  }","  // Do modified alpha test.","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  gl_FragColor = vec4(color.xyz, alpha * opacity);","  #include <logdepthbuf_fragment>","  #include <tonemapping_fragment>","  #include <colorspace_fragment>","  #include <fog_fragment>","}"].join("\n");M.exports.Shader=p("msdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},negate:{type:"boolean",is:"uniform",default:!0},opacity:{type:"number",is:"uniform",default:1}},vertexShader:A,fragmentShader:b,init:function(){return this.uniforms=w.UniformsUtils.merge([w.UniformsLib.fog,this.initUniforms()]),this.material=new w.ShaderMaterial({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader,fog:!0}),this.material}})},"./src/shaders/phong.js":(M,B,u)=>{var p=u("./src/core/shader.js").registerShader,w=u("./src/lib/three.js"),A=u("./src/utils/index.js");M.exports.Shader=p("phong",{schema:{color:{type:"color"},emissive:{type:"color",default:"black"},emissiveIntensity:{default:1},specular:{type:"color",default:"#111111"},transparent:{default:!1},fog:{default:!0},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},src:{type:"map"},envMap:{default:""},sphericalEnvMap:{type:"map"},shininess:{default:30},flatShading:{default:!1},wireframe:{default:!1},wireframeLinewidth:{default:2},combine:{oneOF:["multiply","mix","add"],default:"mix"},reflectivity:{default:.9},refractionRatio:{default:.98},refract:{default:!1},normalMap:{type:"map"},normalScale:{type:"vec2",default:{x:1,y:1}},normalTextureOffset:{type:"vec2"},normalTextureRepeat:{type:"vec2",default:{x:1,y:1}},ambientOcclusionMap:{type:"map"},ambientOcclusionMapIntensity:{default:1},displacementMap:{type:"map"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:"vec2"},displacementTextureRepeat:{type:"vec2",default:{x:1,y:1}},bumpMap:{type:"map"},bumpMapScale:{default:1},bumpTextureOffset:{type:"vec2"},bumpTextureRepeat:{type:"vec2",default:{x:1,y:1}}},init:function(d){this.materialData={color:new w.Color,specular:new w.Color,emissive:new w.Color},b(d,this.materialData),this.material=new w.MeshPhongMaterial(this.materialData);var g=this.el.sceneEl;Object.defineProperty(this.material,"envMap",{get:function(){return this._envMap||g.object3D.environment},set:function(y){this._envMap=y}})},update:function(d){this.updateMaterial(d),A.material.updateMap(this,d),A.material.updateDistortionMap("normal",this,d),A.material.updateDistortionMap("displacement",this,d),A.material.updateDistortionMap("ambientOcclusion",this,d),A.material.updateDistortionMap("bump",this,d),A.material.updateEnvMap(this,d)},updateMaterial:function(d){var g;b(d,this.materialData);for(g in this.materialData)this.material[g]=this.materialData[g]}});function b(d,g){switch(g.color.set(d.color),g.specular.set(d.specular),g.emissive.set(d.emissive),g.emissiveIntensity=d.emissiveIntensity,g.fog=d.fog,g.transparent=d.transparent,g.wireframe=d.wireframe,g.wireframeLinewidth=d.wireframeLinewidth,g.shininess=d.shininess,g.flatShading=d.flatShading,g.wireframe=d.wireframe,g.wireframeLinewidth=d.wireframeLinewidth,g.reflectivity=d.reflectivity,g.refractionRatio=d.refractionRatio,d.combine){case"mix":g.combine=w.MixOperation;break;case"multiply":g.combine=w.MultiplyOperation;break;case"add":g.combine=w.AddOperation;break}return d.normalMap&&(g.normalScale=d.normalScale),d.ambientOcclusionMap&&(g.aoMapIntensity=d.ambientOcclusionMapIntensity),d.bumpMap&&(g.bumpScale=d.bumpMapScale),d.displacementMap&&(g.displacementScale=d.displacementScale,g.displacementBias=d.displacementBias),g}},"./src/shaders/sdf.js":(M,B,u)=>{var p=u("./src/core/shader.js").registerShader,w=u("./src/lib/three.js"),A=["#include <common>","#include <fog_pars_vertex>","#include <logdepthbuf_pars_vertex>","out vec2 vUV;","void main(void) {","  vUV = uv;","  #include <begin_vertex>","  #include <project_vertex>","  #include <logdepthbuf_vertex>","  #include <fog_vertex>","}"].join("\n"),b=["#include <common>","#include <fog_pars_fragment>","#include <logdepthbuf_pars_fragment>","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","in vec2 vUV;","float contour(float width, float value) {","  return smoothstep(0.5 - value, 0.5 + value, width);","}","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","void main() {","  vec2 uv = vUV;","  vec4 texColor = texture(map, uv);","  float dist = texColor.a;","  float width = fwidth(dist);","  float alpha = contour(dist, width);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(uv) + dFdy(uv));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * dist;","  }","  if (isBigEnough <= BIG_ENOUGH) {","    vec4 box = vec4 (uv - duv, uv + duv);","    alpha = (alpha + 0.5 * (","      contour(texture(map, box.xy).a, width)","      + contour(texture(map, box.zw).a, width)","      + contour(texture(map, box.xw).a, width)","      + contour(texture(map, box.zy).a, width)","    )) / 3.0;","  }","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  gl_FragColor = vec4(color, opacity * alpha);","  #include <logdepthbuf_fragment>","  #include <tonemapping_fragment>","  #include <colorspace_fragment>","  #include <fog_fragment>","}"].join("\n");M.exports.Shader=p("sdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},vertexShader:A,fragmentShader:b,init:function(){return this.uniforms=w.UniformsUtils.merge([w.UniformsLib.fog,this.initUniforms()]),this.material=new w.ShaderMaterial({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader,fog:!0}),this.material}})},"./src/shaders/shadow.js":(M,B,u)=>{var p=u("./src/core/shader.js").registerShader,w=u("./src/lib/three.js");M.exports.Shader=p("shadow",{schema:{opacity:{default:.5},transparent:{default:!0},alphaToCoverage:{default:!0}},init:function(A){this.material=new w.ShadowMaterial},update:function(A){this.material.opacity=A.opacity,this.material.alphaToCoverage=A.alphaToCoverage,this.material.transparent=A.transparent}})},"./src/shaders/standard.js":(M,B,u)=>{var p=u("./src/core/shader.js").registerShader,w=u("./src/lib/three.js"),A=u("./src/utils/index.js");M.exports.Shader=p("standard",{schema:{ambientOcclusionMap:{type:"map"},ambientOcclusionMapIntensity:{default:1},ambientOcclusionTextureOffset:{type:"vec2"},ambientOcclusionTextureRepeat:{type:"vec2",default:{x:1,y:1}},color:{type:"color"},displacementMap:{type:"map"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:"vec2"},displacementTextureRepeat:{type:"vec2",default:{x:1,y:1}},emissive:{type:"color",default:"#000"},emissiveIntensity:{default:1},envMap:{default:""},fog:{default:!0},height:{default:256},metalness:{default:0,min:0,max:1},metalnessMap:{type:"map"},metalnessTextureOffset:{type:"vec2"},metalnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},normalMap:{type:"map"},normalScale:{type:"vec2",default:{x:1,y:1}},normalTextureOffset:{type:"vec2"},normalTextureRepeat:{type:"vec2",default:{x:1,y:1}},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},roughness:{default:.5,min:0,max:1},roughnessMap:{type:"map"},roughnessTextureOffset:{type:"vec2"},roughnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},sphericalEnvMap:{type:"map"},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(d){this.materialData={color:new w.Color,emissive:new w.Color},b(d,this.materialData),this.material=new w.MeshStandardMaterial(this.materialData)},update:function(d){this.updateMaterial(d),A.material.updateMap(this,d),A.material.updateDistortionMap("normal",this,d),A.material.updateDistortionMap("displacement",this,d),A.material.updateDistortionMap("ambientOcclusion",this,d),A.material.updateDistortionMap("metalness",this,d),A.material.updateDistortionMap("roughness",this,d),A.material.updateEnvMap(this,d)},updateMaterial:function(d){var g,y=this.material;b(d,this.materialData);for(g in this.materialData)y[g]=this.materialData[g]}});function b(d,g){return g.color.set(d.color),g.emissive.set(d.emissive),g.emissiveIntensity=d.emissiveIntensity,g.fog=d.fog,g.metalness=d.metalness,g.roughness=d.roughness,g.wireframe=d.wireframe,g.wireframeLinewidth=d.wireframeLinewidth,d.normalMap&&(g.normalScale=d.normalScale),d.ambientOcclusionMap&&(g.aoMapIntensity=d.ambientOcclusionMapIntensity),d.displacementMap&&(g.displacementScale=d.displacementScale,g.displacementBias=d.displacementBias),g}},"./src/systems/camera.js":(M,B,u)=>{var p=u("./src/constants/index.js"),w=u("./src/core/system.js").registerSystem,A="data-aframe-default-camera";M.exports.System=w("camera",{init:function(){this.activeCameraEl=null,this.render=this.render.bind(this),this.unwrapRender=this.unwrapRender.bind(this),this.wrapRender=this.wrapRender.bind(this),this.initialCameraFound=!1,this.numUserCameras=0,this.numUserCamerasChecked=0,this.setupInitialCamera()},setupInitialCamera:function(){var d,g,y=this.sceneEl,f=this;if(y.camera&&!y.camera.el.getAttribute("camera").spectator){y.emit("cameraready",{cameraEl:y.camera.el});return}if(d=y.querySelectorAll("a-camera, :not(a-mixin)[camera]"),!d.length){this.createDefaultCamera();return}for(this.numUserCameras=d.length,g=0;g<d.length;g++)d[g].addEventListener("object3dset",function(E){E.detail.type==="camera"&&f.checkUserCamera(this)}),d[g].isNode?d[g].load():d[g].addEventListener("nodeready",function(){this.load()})},checkUserCamera:function(d){var g,y=this.el.sceneEl;if(this.numUserCamerasChecked++,!this.initialCameraFound){if(g=d.getAttribute("camera"),!g.active||g.spectator){this.numUserCamerasChecked===this.numUserCameras&&this.createDefaultCamera();return}this.initialCameraFound=!0,y.camera=d.getObject3D("camera"),y.emit("cameraready",{cameraEl:d})}},createDefaultCamera:function(){var d,g=this.sceneEl;d=document.createElement("a-entity"),d.setAttribute("camera",{active:!0}),d.setAttribute("position",{x:0,y:p.DEFAULT_CAMERA_HEIGHT,z:0}),d.setAttribute("wasd-controls",""),d.setAttribute("look-controls",""),d.setAttribute(p.AFRAME_INJECTED,""),d.addEventListener("object3dset",function(y){y.detail.type==="camera"&&(g.camera=y.detail.object,g.emit("cameraready",{cameraEl:d}))}),g.appendChild(d)},disableActiveCamera:function(){var d,g;d=this.sceneEl.querySelectorAll(":not(a-mixin)[camera]"),g=d[d.length-1],g.setAttribute("camera","active",!0)},setActiveCamera:function(d){var g,y,f,E,C=this.activeCameraEl,v=this.sceneEl;if(E=d.getObject3D("camera"),!(!E||d===this.activeCameraEl)){var x=v.querySelector("["+A+"]"),T=x&&x.querySelector(":not(a-mixin)[camera]");for(d!==T&&b(v),this.activeCameraEl=d,this.activeCameraEl.play(),v.camera=E,C&&C.setAttribute("camera","active",!1),y=v.querySelectorAll(":not(a-mixin)[camera]"),f=0;f<y.length;f++)g=y[f],!(!g.isEntity||d===g)&&(g.setAttribute("camera","active",!1),g.pause());v.emit("camera-set-active",{cameraEl:d})}},setSpectatorCamera:function(d){var g,y=this.spectatorCameraEl,f=this.sceneEl,E;g=d.getObject3D("camera"),!(!g||d===this.spectatorCameraEl)&&(y&&y.setAttribute("camera","spectator",!1),E=this.spectatorCameraEl=d,f.addEventListener("enter-vr",this.wrapRender),f.addEventListener("exit-vr",this.unwrapRender),E.setAttribute("camera","active",!1),E.play(),f.emit("camera-set-spectator",{cameraEl:d}))},disableSpectatorCamera:function(){this.spectatorCameraEl=void 0},wrapRender:function(){!this.spectatorCameraEl||this.originalRender||(this.originalRender=this.sceneEl.renderer.render,this.sceneEl.renderer.render=this.render)},unwrapRender:function(){this.originalRender&&(this.sceneEl.renderer.render=this.originalRender,this.originalRender=void 0)},render:function(d,g){var y,f=this.sceneEl,E;y=f.renderer.xr.enabled,this.originalRender.call(f.renderer,d,g),!(!this.spectatorCameraEl||f.isMobile||!y)&&(E=this.spectatorCameraEl.components.camera.camera,f.renderer.xr.enabled=!1,this.originalRender.call(f.renderer,d,E),f.renderer.xr.enabled=y)}});function b(d){var g,y=d.camera;y&&(g=d.querySelector("["+A+"]"),g&&d.removeChild(g))}},"./src/systems/geometry.js":(M,B,u)=>{var p=u("./src/core/geometry.js").geometries,w=u("./src/core/system.js").registerSystem;M.exports.System=w("geometry",{init:function(){this.cache={},this.cacheCount={}},clearCache:function(){this.cache={},this.cacheCount={}},getOrCreateGeometry:function(g){var y=this.cache,f,E;return g.skipCache?A(g):(E=this.hash(g),f=y[E],d(this.cacheCount,E),f||(f=A(g),y[E]=f,f))},unuseGeometry:function(g){var y=this.cache,f=this.cacheCount,E,C;g.skipCache||(C=this.hash(g),y[C]&&(b(f,C),!(f[C]>0)&&(E=y[C],E.dispose(),delete y[C],delete f[C])))},hash:function(g){return JSON.stringify(g)}});function A(g){var y=g.primitive,f=p[y]&&p[y].Geometry,E=new f;if(!f)throw new Error("Unknown geometry `"+y+"`");return E.init(g),E.geometry}function b(g,y){g[y]--}function d(g,y){g[y]=g[y]===void 0?1:g[y]+1}},"./src/systems/gltf-model.js":(M,B,u)=>{var p=u("./src/core/system.js").registerSystem,w=u("./src/lib/three.js");function A(b){return new Promise(function(d,g){var y=document.createElement("script");document.body.appendChild(y),y.onload=d,y.onerror=g,y.async=!0,y.src=b})}M.exports.System=p("gltf-model",{schema:{dracoDecoderPath:{default:"https://www.gstatic.com/draco/versioned/decoders/1.5.6/"},basisTranscoderPath:{default:""},meshoptDecoderPath:{default:""}},init:function(){this.update()},update:function(){var b=this.data.dracoDecoderPath,d=this.data.basisTranscoderPath,g=this.data.meshoptDecoderPath;!this.dracoLoader&&b&&(this.dracoLoader=new w.DRACOLoader,this.dracoLoader.setDecoderPath(b)),!this.ktx2Loader&&d&&(this.ktx2Loader=new w.KTX2Loader,this.ktx2Loader.setTranscoderPath(d).detectSupport(this.el.renderer)),!this.meshoptDecoder&&g&&(this.meshoptDecoder=A(g).then(function(){return window.MeshoptDecoder.ready}).then(function(){return window.MeshoptDecoder}))},getDRACOLoader:function(){return this.dracoLoader},getKTX2Loader:function(){return this.ktx2Loader},getMeshoptDecoder:function(){return this.meshoptDecoder}})},"./src/systems/index.js":(M,B,u)=>{u("./src/systems/camera.js"),u("./src/systems/geometry.js"),u("./src/systems/gltf-model.js"),u("./src/systems/light.js"),u("./src/systems/material.js"),u("./src/systems/obb-collider.js"),u("./src/systems/renderer.js"),u("./src/systems/shadow.js"),u("./src/systems/tracked-controls-webvr.js"),u("./src/systems/tracked-controls-webxr.js"),u("./src/systems/webxr.js")},"./src/systems/light.js":(M,B,u)=>{var p=u("./src/core/system.js").registerSystem,w=u("./src/constants/index.js"),A="data-aframe-default-light";M.exports.System=p("light",{schema:{defaultLightsEnabled:{default:!0}},init:function(){this.defaultLights=!1,this.userDefinedLights=!1,this.sceneEl.addEventListener("loaded",this.setupDefaultLights.bind(this))},registerLight:function(b){b.hasAttribute(A)||(this.removeDefaultLights(),this.userDefinedLights=!0)},removeDefaultLights:function(){var b,d=this.sceneEl;if(this.defaultLights){b=document.querySelectorAll("["+A+"]");for(var g=0;g<b.length;g++)d.removeChild(b[g]);this.defaultLights=!1}},setupDefaultLights:function(){var b=this.sceneEl,d,g;this.userDefinedLights||this.defaultLights||!this.data.defaultLightsEnabled||(d=document.createElement("a-entity"),d.setAttribute("light",{color:"#BBB",type:"ambient"}),d.setAttribute(A,""),d.setAttribute(w.AFRAME_INJECTED,""),b.appendChild(d),g=document.createElement("a-entity"),g.setAttribute("light",{color:"#FFF",intensity:.6,castShadow:!0}),g.setAttribute("position",{x:-.5,y:1,z:1}),g.setAttribute(A,""),g.setAttribute(w.AFRAME_INJECTED,""),b.appendChild(g),this.defaultLights=!0)}})},"./src/systems/material.js":(M,B,u)=>{var p=u("./src/core/system.js").registerSystem,w=u("./src/lib/three.js"),A=u("./src/utils/index.js"),b=u("./src/utils/material.js").setTextureProperties,d=u("./src/utils/material.js").createCompatibleTexture,g=A.debug,y=g("components:texture:error"),f=g("components:texture:warn"),E=new w.ImageLoader;M.exports.System=p("material",{init:function(){this.materials={},this.sourceCache={}},clearTextureSourceCache:function(){this.sourceCache={}},loadTexture:function(T,L,R){this.loadTextureSource(T,function(P){var H=d(P);b(H,L),R(H)})},loadTextureSource:function(T,L){var R=this,F=this.sourceCache,P=this.hash(T);if(F[P]){F[P].then(L);return}if(T.tagName==="CANVAS"){$(new w.Source(T));return}$(new Promise(H));function H(te,ee){A.srcLoader.validateSrc(T,de,ie);function de(ne){R.loadImage(ne,te)}function ie(ne){R.loadVideo(ne,te)}}function $(te){F[P]=Promise.resolve(te),F[P].then(L)}},loadCubeMapTexture:function(T,L){var R=this,F=0,P=new w.CubeTexture;P.colorSpace=w.SRGBColorSpace;function H(te){R.loadTextureSource(T[te],function(ee){P.images[te]=ee,F++,F===6&&(P.needsUpdate=!0,L(P))})}if(T.length!==6){f("Cube map texture requires exactly 6 sources, got only %s sources",T.length);return}for(var $=0;$<T.length;$++)H($)},loadImage:function(T,L){if(typeof T!="string"){L(new w.Source(T));return}L(C(T))},loadVideo:function(T,L){var R;typeof T!="string"&&(R=T,x(R)),R=R||v(T),L(new w.Source(R))},hash:function(T){return T.tagName&&(T.id||T.src)||T},registerMaterial:function(T){this.materials[T.uuid]=T},unregisterMaterial:function(T){delete this.materials[T.uuid]}});function C(T){return new Promise(L);function L(R,F){E.load(T,P,function(){},function(H){y("`$s` could not be fetched (Error code: %s; Response: %s)",H.status,H.statusText)});function P(H){R(new w.Source(H))}}}function v(T){var L=document.createElement("video");return L.setAttribute("playsinline",""),L.setAttribute("webkit-playsinline",""),L.autoplay=!0,L.loop=!0,L.crossOrigin="anonymous",L.addEventListener("error",function(){f("`%s` is not a valid video",T)},!0),L.src=T,L}function x(T){return T.autoplay=T.hasAttribute("autoplay")&&T.getAttribute("autoplay")!=="false",T.controls=T.hasAttribute("controls")&&T.getAttribute("controls")!=="false",T.getAttribute("loop")==="false"&&T.removeAttribute("loop"),T.getAttribute("preload")==="false"&&(T.preload="none"),T.crossOrigin=T.crossOrigin||"anonymous",T.setAttribute("playsinline",""),T.setAttribute("webkit-playsinline",""),T}},"./src/systems/obb-collider.js":(M,B,u)=>{var p=u("./src/core/system.js").registerSystem;p("obb-collider",{schema:{showColliders:{default:!1}},init:function(){this.collisions=[],this.colliderEls=[]},addCollider:function(w){this.colliderEls.push(w),this.data.showColliders?w.components["obb-collider"].showCollider():w.components["obb-collider"].hideCollider(),this.tick=this.detectCollisions},removeCollider:function(w){var A=this.colliderEls,b=A.indexOf(w);w.components["obb-collider"].hideCollider(),b>-1&&A.splice(b,1),A.length===0&&(this.tick=void 0)},registerCollision:function(w,A){var b=this.collisions,d=!1,g=w.obb,y=A.obb,f=w.renderColliderMesh,E=A.renderColliderMesh;f&&f.material.color.set(16711680),E&&E.material.color.set(16711680);for(var C=0;C<b.length;C++)if(b[C].componentA.obb===g&&b[C].componentB.obb===y||b[C].componentA.obb===y&&b[C].componentB.obb===g){d=!0,b[C].detected=!0;break}d||(b.push({componentA:w,componentB:A,detected:!0}),w.el.emit("obbcollisionstarted",{trackedObject3D:w.trackedObject3D,withEl:A.el}),A.el.emit("obbcollisionstarted",{trackedObject3D:A.trackedObject3D,withEl:w.el}))},resetCollisions:function(){for(var w=this.collisions,A=0;A<w.length;A++)w[A].detected=!1},clearCollisions:function(){for(var w=this.collisions,A=[],b,d,g,y,f=0;f<w.length;f++)w[f].detected?A.push(w[f]):(b=w[f].componentA,d=w[f].componentB,g=b.renderColliderMesh,y=d.renderColliderMesh,g&&g.material.color.set(65280),b.el.emit("obbcollisionended",{trackedObject3D:this.trackedObject3D,withEl:d.el}),y&&y.material.color.set(65280),d.el.emit("obbcollisionended",{trackedObject3D:this.trackedObject3D,withEl:b.el}));this.collisions=A},detectCollisions:function(){var w,A,b,d,g=this.colliderEls;if(!(g.length<2)){this.resetCollisions();for(var y=0;y<g.length;y++)if(b=g[y].components["obb-collider"],w=g[y].components["obb-collider"].obb,!(w.halfSize.x===0||w.halfSize.y===0||w.halfSize.z===0))for(var f=y+1;f<g.length;f++)d=g[f].components["obb-collider"],A=d.obb,!(A.halfSize.x===0||A.halfSize.y===0||A.halfSize.z===0)&&w.intersectsOBB(A)&&this.registerCollision(b,d);this.clearCollisions()}}})},"./src/systems/renderer.js":(M,B,u)=>{var p=u("./src/core/system.js").registerSystem,w=u("./src/utils/index.js"),A=u("./src/lib/three.js"),b=w.debug,d=b("components:renderer:warn");M.exports.System=p("renderer",{schema:{antialias:{default:"auto",oneOf:["true","false","auto"]},highRefreshRate:{default:w.device.isOculusBrowser()},logarithmicDepthBuffer:{default:"auto",oneOf:["true","false","auto"]},maxCanvasWidth:{default:-1},maxCanvasHeight:{default:-1},multiviewStereo:{default:!1},physicallyCorrectLights:{default:!1},exposure:{default:1,if:{toneMapping:["ACESFilmic","linear","reinhard","cineon"]}},toneMapping:{default:"no",oneOf:["no","ACESFilmic","linear","reinhard","cineon"]},precision:{default:"high",oneOf:["high","medium","low"]},anisotropy:{default:1},sortTransparentObjects:{default:!1},colorManagement:{default:!0},alpha:{default:!0},stencil:{default:!1},foveationLevel:{default:1}},init:function(){var E=this.data,C=this.el,v=this.data.toneMapping.charAt(0).toUpperCase()+this.data.toneMapping.slice(1),x=C.renderer;E.physicallyCorrectLights||(x.useLegacyLights=!E.physicallyCorrectLights),x.toneMapping=A[v+"ToneMapping"],A.Texture.DEFAULT_ANISOTROPY=E.anisotropy,A.ColorManagement.enabled=E.colorManagement,x.outputColorSpace=E.colorManagement?A.SRGBColorSpace:A.LinearSRGBColorSpace,C.hasAttribute("antialias")&&d('Component `antialias` is deprecated. Use `renderer="antialias: true"` instead.'),C.hasAttribute("logarithmicDepthBuffer")&&d('Component `logarithmicDepthBuffer` is deprecated. Use `renderer="logarithmicDepthBuffer: true"` instead.'),x.sortObjects=!0,x.setOpaqueSort(g)},update:function(){var E=this.data,C=this.el,v=C.renderer,x=this.data.toneMapping.charAt(0).toUpperCase()+this.data.toneMapping.slice(1);v.toneMapping=A[x+"ToneMapping"],v.toneMappingExposure=E.exposure,v.xr.setFoveation(E.foveationLevel),E.sortObjects&&d('`sortObjects` property is deprecated. Use `renderer="sortTransparentObjects: true"` instead.'),E.sortTransparentObjects?v.setTransparentSort(f):v.setTransparentSort(y)},applyColorCorrection:function(E){!this.data.colorManagement||!E||E.isTexture&&E.colorSpace!==A.SRGBColorSpace&&(E.colorSpace=A.SRGBColorSpace,E.needsUpdate=!0)},setWebXRFrameRate:function(E){var C=this.data,v=E.supportedFrameRates;if(v&&E.updateTargetFrameRate){var x;v.includes(90)?x=C.highRefreshRate?90:72:x=C.highRefreshRate?72:60,E.updateTargetFrameRate(x).catch(function(T){console.warn("failed to set target frame rate of "+x+". Error info: "+T)})}}});function g(E,C){return E.groupOrder!==C.groupOrder?E.groupOrder-C.groupOrder:E.renderOrder!==C.renderOrder?E.renderOrder-C.renderOrder:E.z-C.z}function y(E,C){return E.groupOrder!==C.groupOrder?E.groupOrder-C.groupOrder:E.renderOrder-C.renderOrder}function f(E,C){return E.groupOrder!==C.groupOrder?E.groupOrder-C.groupOrder:E.renderOrder!==C.renderOrder?E.renderOrder-C.renderOrder:C.z-E.z}M.exports.sortFrontToBack=g,M.exports.sortRenderOrderOnly=y,M.exports.sortBackToFront=f},"./src/systems/shadow.js":(M,B,u)=>{var p=u("./src/core/system.js").registerSystem,w=u("./src/lib/three.js"),A={basic:w.BasicShadowMap,pcf:w.PCFShadowMap,pcfsoft:w.PCFSoftShadowMap};M.exports.System=p("shadow",{schema:{enabled:{default:!0},autoUpdate:{default:!0},type:{default:"pcf",oneOf:["basic","pcf","pcfsoft"]}},init:function(){var d=this.sceneEl,g=this.data;this.shadowMapEnabled=!1,d.renderer.shadowMap.type=A[g.type],d.renderer.shadowMap.autoUpdate=g.autoUpdate},update:function(d){d.enabled!==this.data.enabled&&this.setShadowMapEnabled(this.shadowMapEnabled)},setShadowMapEnabled:function(d){var g=this.sceneEl,y=this.sceneEl.renderer;this.shadowMapEnabled=d;var f=this.data.enabled&&this.shadowMapEnabled;y&&f!==y.shadowMap.enabled&&(y.shadowMap.enabled=f,b(g))}});function b(d){d.hasLoaded&&d.object3D.traverse(function(g){if(g.material)for(var y=Array.isArray(g.material)?g.material:[g.material],f=0;f<y.length;f++)y[f].needsUpdate=!0})}},"./src/systems/tracked-controls-webvr.js":(M,B,u)=>{var p=u("./src/core/system.js").registerSystem,w=u("./src/utils/index.js"),A=w.device.isWebXRAvailable;M.exports.System=p("tracked-controls-webvr",{init:function(){var b=this;this.controllers=[],this.isChrome=navigator.userAgent.indexOf("Chrome")!==-1,this.updateControllerList(),this.throttledUpdateControllerList=w.throttle(this.updateControllerList,500,this),!A&&navigator.getVRDisplays&&this.sceneEl.addEventListener("enter-vr",function(){navigator.getVRDisplays().then(function(d){d.length&&(b.vrDisplay=d[0])})})},tick:function(){this.isChrome?this.updateControllerList():this.throttledUpdateControllerList()},updateControllerList:function(){var b=this.controllers,d,g,y,f;if(g=navigator.getGamepads&&navigator.getGamepads(),!!g){for(f=b.length,b.length=0,y=0;y<g.length;++y)d=g[y],d&&d.pose&&b.push(d);b.length!==f&&this.el.emit("controllersupdated",void 0,!1)}}})},"./src/systems/tracked-controls-webxr.js":(M,B,u)=>{var p=u("./src/core/system.js").registerSystem,w=u("./src/utils/index.js");M.exports.System=p("tracked-controls-webxr",{init:function(){this.controllers=[],this.oldControllers=[],this.oldControllersLength=0,this.throttledUpdateControllerList=w.throttle(this.updateControllerList,500,this),this.updateReferenceSpace=this.updateReferenceSpace.bind(this),this.el.addEventListener("enter-vr",this.updateReferenceSpace),this.el.addEventListener("exit-vr",this.updateReferenceSpace)},tick:function(){this.throttledUpdateControllerList()},updateReferenceSpace:function(){var A=this,b=this.el.xrSession;if(!b){this.referenceSpace=void 0,this.controllers=[],this.oldControllersLength>0&&(this.oldControllersLength=0,this.el.emit("controllersupdated",void 0,!1));return}var d=A.el.sceneEl.systems.webxr.sessionReferenceSpaceType;b.requestReferenceSpace(d).then(function(g){A.referenceSpace=g}).catch(function(g){throw A.el.sceneEl.systems.webxr.warnIfFeatureNotRequested(d,'tracked-controls-webxr uses reference space "'+d+'".'),g})},updateControllerList:function(){var A=this.el.xrSession,b=this.oldControllers,d;if(!A){if(this.oldControllersLength===0)return;this.oldControllersLength=0,this.controllers=[],this.el.emit("controllersupdated",void 0,!1);return}if(A.inputSources){if(this.controllers=A.inputSources,this.oldControllersLength===this.controllers.length){var g=!0;for(d=0;d<this.controllers.length;++d)if(!(this.controllers[d]===b[d]&&this.controllers[d].gamepad===b[d].gamepad)){g=!1;break}if(g)return}for(b.length=0,d=0;d<this.controllers.length;d++)b.push(this.controllers[d]);this.oldControllersLength=this.controllers.length,this.el.emit("controllersupdated",void 0,!1)}}})},"./src/systems/webxr.js":(M,B,u)=>{var p=u("./src/core/system.js").registerSystem,w=u("./src/utils/index.js"),A=w.debug("systems:webxr:warn");M.exports.System=p("webxr",{schema:{referenceSpaceType:{type:"string",default:"local-floor"},requiredFeatures:{type:"array",default:["local-floor"]},optionalFeatures:{type:"array",default:["bounded-floor"]},overlayElement:{type:"selector"}},update:function(){var b=this.data;this.sessionConfiguration={requiredFeatures:b.requiredFeatures,optionalFeatures:b.optionalFeatures},this.sessionReferenceSpaceType=b.referenceSpaceType,b.overlayElement&&(b.overlayElement.classList.remove("a-dom-overlay"),b.optionalFeatures.includes("dom-overlay")||(b.optionalFeatures.push("dom-overlay"),this.el.setAttribute("webxr",b)),this.warnIfFeatureNotRequested("dom-overlay"),this.sessionConfiguration.domOverlay={root:b.overlayElement},b.overlayElement.classList.add("a-dom-overlay"))},wasFeatureRequested:function(b){return!!(b==="viewer"||b==="local"||this.sessionConfiguration.requiredFeatures.includes(b)||this.sessionConfiguration.optionalFeatures.includes(b))},warnIfFeatureNotRequested:function(b,d){if(!this.wasFeatureRequested(b)){var g='Please add the feature "'+b+"\" to a-scene's webxr system options in requiredFeatures/optionalFeatures.";A((d?d+" ":"")+g)}}})},"./src/utils/coordinates.js":(M,B,u)=>{var p=u("./src/utils/debug.js"),w=p("utils:coordinates:warn"),A=["x","y","z","w"],b=/^\s*((-?\d*\.{0,1}\d+(e-?\d+)?)\s+){2,3}(-?\d*\.{0,1}\d+(e-?\d+)?)\s*$/;M.exports.regex=b;var d=/\s+/g;function g(v,x,T){var L,R,F,P,H=T&&typeof T=="object"?T:{},$,te,ee,de;if(v&&v instanceof Object)return $=v.x===void 0?x&&x.x:v.x,te=v.y===void 0?x&&x.y:v.y,ee=v.z===void 0?x&&x.z:v.z,de=v.w===void 0?x&&x.w:v.w,$!=null&&(H.x=C($)),te!=null&&(H.y=C(te)),ee!=null&&(H.z=C(ee)),de!=null&&(H.w=C(de)),H;if(v==null)return typeof x=="object"?Object.assign(H,x):x;for(L=v.trim().split(d),P=0;P<A.length;P++)if(F=A[P],L[P])H[F]=parseFloat(L[P],10);else{if(R=x&&x[F],R===void 0)continue;H[F]=C(R)}return H}M.exports.parse=g;function y(v){var x;return typeof v!="object"?v:(x=v.x+" "+v.y,v.z!=null&&(x+=" "+v.z),v.w!=null&&(x+=" "+v.w),x)}M.exports.stringify=y;function f(v,x){return typeof v!="object"||typeof x!="object"?v===x:v.x===x.x&&v.y===x.y&&v.z===x.z&&v.w===x.w}M.exports.equals=f;function E(v){return b.test(v)}M.exports.isCoordinates=E,M.exports.isCoordinate=function(v){return w("`AFRAME.utils.isCoordinate` has been renamed to `AFRAME.utils.isCoordinates`"),E(v)};function C(v){return v!=null&&v.constructor===String?parseFloat(v,10):v}M.exports.toVector3=function(v){return new THREE.Vector3(v.x,v.y,v.z)}},"./src/utils/debug.js":(M,B,u)=>{var p=u("./node_modules/debug/src/browser.js"),w=u("./src/utils/device.js").isBrowserEnvironment,A={colors:{debug:"gray",error:"red",info:"gray",warn:"orange"}};p.formatArgs=b;function b(E){if(E[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+E[0]+(this.useColors?"%c ":" "),!!this.useColors){this.color=g(this.namespace);var C="color: "+this.color;E.splice(1,0,C,"color: inherit");var v=0,x=0;E[0].replace(/%[a-zA-Z%]/g,function(T){T!=="%%"&&(v++,T==="%c"&&(x=v))}),E.splice(x,0,C)}}function d(E){var C=E.split(":");return C[C.length-1]}function g(E){var C=d(E),v=A.colors&&A.colors[C];return v||null}function y(){try{return window.localStorage}catch(E){}}var f=y();f&&(parseInt(f.logs,10)||f.logs==="true")?p.enable("*"):p.enable("*:error,*:info,*:warn"),w&&(window.logs=p),M.exports=p},"./src/utils/device.js":(M,B,u)=>{var p=u("./node_modules/debug/src/browser.js")("device:error"),w,A=!1,b=!1,d=M.exports.isWebXRAvailable=navigator.xr!==void 0;if(window.addEventListener("vrdisplayactivate",function(ee){var de;d||(de=document.createElement("canvas"),w=ee.display,de.getContext("webgl",{}),w.requestPresent([{source:de}]).then(function(){},function(){}))}),d){var g=function(){var ee=document.querySelector("a-scene");if(!ee){window.addEventListener("DOMContentLoaded",g);return}ee.hasLoaded?ee.components["xr-mode-ui"].updateEnterInterfaces():ee.addEventListener("loaded",g)},y=function(ee){p("WebXR session support error: "+ee.message)};navigator.xr.isSessionSupported?(navigator.xr.isSessionSupported("immersive-vr").then(function(ee){A=ee,g()}).catch(y),navigator.xr.isSessionSupported("immersive-ar").then(function(ee){b=ee,g()}).catch(function(){})):navigator.xr.supportsSession?(navigator.xr.supportsSession("immersive-vr").then(function(){A=!0,g()}).catch(y),navigator.xr.supportsSession("immersive-ar").then(function(){b=!0,g()}).catch(function(){})):p("WebXR has neither isSessionSupported or supportsSession?!")}else navigator.getVRDisplays&&navigator.getVRDisplays().then(function(ee){var de=document.querySelector("a-scene");w=ee.length&&ee[0],de&&de.emit("displayconnected",{vrDisplay:w})});function f(){return w}M.exports.getVRDisplay=f;function E(){return A||b||!!f()}M.exports.checkHeadsetConnected=E;function C(){return b}M.exports.checkARSupport=C;function v(){return A}M.exports.checkVRSupport=v;var x=function(){var ee=!1;return function(de){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(de)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(de.substr(0,4)))&&(ee=!0),(R()||T()||te())&&(ee=!0),$()&&(ee=!1)}(window.navigator.userAgent||window.navigator.vendor||window.opera),function(){return ee}}();M.exports.isMobile=x;function T(ee){var de=ee||window.navigator.userAgent,ie=/Nexus (7|9)|xoom|sch-i800|playbook|tablet|kindle/i.test(de);return ie||L()}M.exports.isTablet=T;function L(ee,de,ie){var ne=ee||window.navigator.userAgent,X=de||window.navigator.platform,z=ie||window.navigator.maxTouchPoints||0;return(X==="iPad"||X==="MacIntel")&&z>0&&/Macintosh|Intel|iPad|ipad/i.test(ne)&&!window.MSStream}M.exports.isIpad=L;function R(){return/iPad|iPhone|iPod/.test(window.navigator.platform)}M.exports.isIOS=R;function F(){return!x()&&!$()&&window.orientation!==void 0}M.exports.isMobileDeviceRequestingDesktopSite=F;function P(){return/(OculusBrowser)/i.test(window.navigator.userAgent)}M.exports.isOculusBrowser=P;function H(){return/(Mobile VR)/i.test(window.navigator.userAgent)}M.exports.isFirefoxReality=H;function $(){return P()||H()}M.exports.isMobileVR=$;function te(){return/R7 Build/.test(window.navigator.userAgent)}M.exports.isR7=te,M.exports.isLandscape=function(){var ee=window.orientation;return te()&&(ee+=90),ee===90||ee===-90},M.exports.isBrowserEnvironment=typeof process>"u"||process.browser===!0,M.exports.isNodeEnvironment=!M.exports.isBrowserEnvironment},"./src/utils/entity.js":(M,B,u)=>{var p=u("./src/utils/split.js").split;function w(A,b){b=b||".";var d=p(A,b);return d.length===1?d[0]:d}M.exports.getComponentPropertyPath=w,M.exports.getComponentProperty=function(A,b,d){var g;return d=d||".",b.indexOf(d)!==-1?(g=w(b,d),g.constructor===String?A.getAttribute(g):A.getAttribute(g[0])[g[1]]):A.getAttribute(b)},M.exports.setComponentProperty=function(A,b,d,g){var y;if(g=g||".",b.indexOf(g)!==-1){y=w(b,g),y.constructor===String?A.setAttribute(y,d):A.setAttribute(y[0],y[1],d);return}A.setAttribute(b,d)}},"./src/utils/forceCanvasResizeSafariMobile.js":M=>{M.exports=function(u){var p=u.style.width,w=u.style.height;u.style.width=parseInt(p,10)+1+"px",u.style.height=parseInt(w,10)+1+"px",setTimeout(function(){u.style.width=p,u.style.height=w},200)}},"./src/utils/index.js":(M,B,u)=>{var p=u("./src/utils/debug.js"),w=u("./node_modules/deep-assign/index.js"),A=u("./src/utils/device.js"),b=u("./src/utils/object-pool.js"),d=p("utils:warn");M.exports.bind=function(y){return y.bind.apply(y,Array.prototype.slice.call(arguments,1))},M.exports.coordinates=u("./src/utils/coordinates.js"),M.exports.debug=p,M.exports.device=A,M.exports.entity=u("./src/utils/entity.js"),M.exports.forceCanvasResizeSafariMobile=u("./src/utils/forceCanvasResizeSafariMobile.js"),M.exports.material=u("./src/utils/material.js"),M.exports.objectPool=b,M.exports.split=u("./src/utils/split.js").split,M.exports.styleParser=u("./src/utils/styleParser.js"),M.exports.trackedControls=u("./src/utils/tracked-controls.js"),M.exports.checkHeadsetConnected=function(){return d("`utils.checkHeadsetConnected` has moved to `utils.device.checkHeadsetConnected`"),A.checkHeadsetConnected(arguments)},M.exports.isGearVR=M.exports.device.isGearVR=function(){d("`utils.isGearVR` has been deprecated, use `utils.device.isMobileVR`")},M.exports.isIOS=function(){return d("`utils.isIOS` has moved to `utils.device.isIOS`"),A.isIOS(arguments)},M.exports.isOculusGo=M.exports.device.isOculusGo=function(){d("`utils.isOculusGo` has been deprecated, use `utils.device.isMobileVR`")},M.exports.isMobile=function(){return d("`utils.isMobile has moved to `utils.device.isMobile`"),A.isMobile(arguments)},M.exports.throttle=function(y,f,E){var C;return E&&(y=y.bind(E)),function(){var v=Date.now(),x=typeof C>"u"?f:v-C;(typeof C>"u"||x>=f)&&(C=v,y.apply(null,arguments))}},M.exports.throttleLeadingAndTrailing=function(y,f,E){var C,v;E&&(y=y.bind(E));var x,T=function(){C=Date.now(),y.apply(this,x),v=void 0};return function(){var L=Date.now(),R=typeof C>"u"?f:L-C;R>=f?(clearTimeout(v),v=void 0,C=L,y.apply(null,arguments)):(v=v||setTimeout(T,f-R),x=arguments)}},M.exports.throttleTick=function(y,f,E){var C;return E&&(y=y.bind(E)),function(v,x){var T=typeof C>"u"?x:v-C;(typeof C>"u"||T>=f)&&(C=v,y(v,T))}},M.exports.debounce=function(y,f,E){var C;return function(){var v=this,x=arguments,T=function(){C=null,E||y.apply(v,x)},L=E&&!C;clearTimeout(C),C=setTimeout(T,f),L&&y.apply(v,x)}},M.exports.extend=Object.assign,M.exports.extendDeep=w,M.exports.clone=function(y){return JSON.parse(JSON.stringify(y))};var g=function(){var y=b.createPool(function(){return[]});return function(f,E){var C,v,x,T,L,R;if(f===void 0||E===void 0||f===null||E===null||!(f&&E&&f.constructor===Object&&E.constructor===Object||f.constructor===Array&&E.constructor===Array))return f===E;v=y.use(),x=y.use(),v.length=0,x.length=0;for(C in f)v.push(C);for(C in E)x.push(C);if(v.length!==x.length)return y.recycle(v),y.recycle(x),!1;for(T=0;T<v.length;++T)if(L=f[v[T]],R=E[v[T]],typeof L=="object"||typeof R=="object"||Array.isArray(L)&&Array.isArray(R)){if(L===R)continue;if(!g(L,R))return y.recycle(v),y.recycle(x),!1}else if(L!==R)return y.recycle(v),y.recycle(x),!1;return y.recycle(v),y.recycle(x),!0}}();M.exports.deepEqual=g,M.exports.diff=function(){var y=[];return function(f,E,C){var v,x,T,L,R,F,P;L=C||{},y.length=0;for(R in f)y.push(R);if(!E)return L;for(T in E)y.indexOf(T)===-1&&y.push(T);for(F=0;F<y.length;F++)R=y[F],v=f[R],x=E[R],P=v&&x&&v.constructor===Object&&x.constructor===Object,(P&&!g(v,x)||!P&&v!==x)&&(L[R]=x);return L}}(),M.exports.shouldCaptureKeyEvent=function(y){return y.metaKey?!1:document.activeElement===document.body},M.exports.splitString=function(y,f){typeof f>"u"&&(f=" ");var E=new RegExp(f,"g");return y=(y||"").replace(E,f),y.split(f)},M.exports.getElData=function(y,f){f=f||{};var E={};Object.keys(f).forEach(C);function C(v){y.hasAttribute(v)&&(E[v]=y.getAttribute(v))}return E},M.exports.getUrlParameter=function(y){y=y.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var f=new RegExp("[\\?&]"+y+"=([^&#]*)"),E=f.exec(location.search);return E===null?"":decodeURIComponent(E[1].replace(/\+/g," "))},M.exports.isIframed=function(){return window.top!==window.self},M.exports.findAllScenes=function(y){for(var f=[],E=y.getElementsByTagName("*"),C=0,v=E.length;C<v;C++)E[C].isScene&&f.push(E[C]);return f},M.exports.srcLoader=u("./src/utils/src-loader.js")},"./src/utils/ios-orientationchange-blank-bug.js":()=>{window.addEventListener("orientationchange",function(){document.documentElement.style.height="initial",setTimeout(function(){document.documentElement.style.height="100%",setTimeout(function(){window.scrollTo(0,1)},500)},500)})},"./src/utils/isIOSOlderThan10.js":M=>{M.exports=function(u){return/(iphone|ipod|ipad).*os.(7_|8_|9_)/i.test(u)}},"./src/utils/material.js":(M,B,u)=>{var p=u("./src/lib/three.js"),w=u("./src/utils/src-loader.js"),A=u("./src/utils/debug.js"),b=A("utils:material:warn"),d=new Set(["emissiveMap","envMap","map","specularMap"]);function g(v,x){var T=x.offset||{x:0,y:0},L=x.repeat||{x:1,y:1},R=x.npot||!1,F=x.anisotropy||p.Texture.DEFAULT_ANISOTROPY,P=v.wrapS,H=v.wrapT,$=v.magFilter,te=v.minFilter;R&&(P=p.ClampToEdgeWrapping,H=p.ClampToEdgeWrapping,$=p.LinearFilter,te=p.LinearFilter),(L.x!==1||L.y!==1)&&(P=p.RepeatWrapping,H=p.RepeatWrapping),v.offset.set(T.x,T.y),v.repeat.set(L.x,L.y),(v.wrapS!==P||v.wrapT!==H||v.magFilter!==$||v.minFilter!==te||v.anisotropy!==F)&&(v.wrapS=P,v.wrapT=H,v.magFilter=$,v.minFilter=te,v.anisotropy=F,v.needsUpdate=!0)}M.exports.setTextureProperties=g,M.exports.updateMapMaterialFromData=function(v,x,T,L){var R=T.el,F=T.material,P=R.sceneEl.systems.renderer,H=L[x];if(T.materialSrcs||(T.materialSrcs={}),!H){delete T.materialSrcs[v],te(null);return}if(H===T.materialSrcs[v]&&F[v]){g(F[v],L);return}T.materialSrcs[v]=H,H instanceof p.Texture?te(H):R.sceneEl.systems.material.loadTextureSource(H,$);function $(ee){if(T.materialSrcs[v]===H){var de=F[v];de&&(ee===null||!E(de,ee))&&(de=null),!de&&ee&&(de=C(ee)),de&&(de.source!==ee&&(de.source=ee,de.needsUpdate=!0),d.has(v)&&P.applyColorCorrection(de),g(de,L)),te(de)}}function te(ee){F[v]!==ee&&(F[v]&&F[v].dispose(),F[v]=ee,F.needsUpdate=!0,f(R,ee))}},M.exports.updateMap=function(v,x){return M.exports.updateMapMaterialFromData("map","src",v,x)},M.exports.updateDistortionMap=function(v,x,T){var L=v;v==="ambientOcclusion"&&(L="ao");var R={};return R.src=T[v+"Map"],R.offset=T[v+"TextureOffset"],R.repeat=T[v+"TextureRepeat"],R.wrap=T[v+"TextureWrap"],M.exports.updateMapMaterialFromData(L+"Map","src",x,R)};var y={};M.exports.updateEnvMap=function(v,x){var T=v.material,L=v.el,R="envMap",F=x.envMap,P=x.sphericalEnvMap,H=x.refract;if(P&&(F=P,b("`sphericalEnvMap` property is deprecated, using spherical map as equirectangular map instead. Use `envMap` property with a CubeMap or Equirectangular image instead.")),v.materialSrcs||(v.materialSrcs={}),!F){delete v.materialSrcs[R],T.envMap=null,T.needsUpdate=!0;return}if(v.materialSrcs[R]=F,y[F]){y[F].then($);return}y[F]=new Promise(function(te){w.validateEnvMapSrc(F,function(de){L.sceneEl.systems.material.loadCubeMapTexture(de,function(ie){ie.mapping=H?p.CubeRefractionMapping:p.CubeReflectionMapping,$(ie),te(ie)})},function(de){L.sceneEl.systems.material.loadTexture(de,{src:de},function(ie){ie.mapping=H?p.EquirectangularRefractionMapping:p.EquirectangularReflectionMapping,$(ie),te(ie)})})});function $(te){v.materialSrcs[R]===F&&(T.envMap=te,T.needsUpdate=!0,f(L,te))}};function f(v,x){if(!x||(v.emit("materialtextureloaded",{src:x.image,texture:x}),!x.image||x.image.tagName!=="VIDEO"))return;x.image.addEventListener("loadeddata",T),x.image.addEventListener("ended",L);function T(){v.emit("materialvideoloadeddata",{src:x.image,texture:x})}function L(){v.emit("materialvideoended",{src:x.image,texture:x})}x.addEventListener("dispose",function(){x.image.removeEventListener("loadeddata",T),x.image.removeEventListener("ended",L)})}M.exports.handleTextureEvents=f;function E(v,x){return x.data instanceof HTMLCanvasElement?v.isCanvasTexture:x.data instanceof HTMLVideoElement?v.isVideoTexture&&v.source===x:v.isTexture&&!v.isCanvasTexture&&!v.isVideoTexture}M.exports.isCompatibleTexture=E;function C(v){var x;return v.data instanceof HTMLCanvasElement?x=new p.CanvasTexture:v.data instanceof HTMLVideoElement?x=new p.VideoTexture(v.data):x=new p.Texture,x.source=v,x.needsUpdate=!0,x}M.exports.createCompatibleTexture=C},"./src/utils/math.js":M=>{function B(p,w,A){var b=w.dot(p);return(b-w.dot(A))/w.length()}function u(p,w,A,b){var d=B(p,w,A);return b.copy(w),b.multiplyScalar(d),b.add(A),b}M.exports.distanceOfPointFromPlane=B,M.exports.nearestPointInPlane=u},"./src/utils/object-pool.js":M=>{var B=Object.freeze(Object.create(null));function u(){return{}}M.exports.createPool=function(b){var d=[],g=null;b=b||u;function y(){var v;return(g===null||g===d.length)&&E(d.length||5),v=d[g],d[g++]=B,p(v),v}function f(v){if(v instanceof Object){if(g===null||g===-1){d[d.length]=v;return}d[--g]=v}}function E(v){var x,T;if(v=v===void 0?d.length:v,v>0&&g==null&&(g=0),v>0)for(x=d.length,d.length+=Number(v),T=x;T<d.length;T++)d[T]=b();return d.length}function C(){return d.length}return{grow:E,pool:d,recycle:f,size:C,use:y}};function p(A){var b;if(!(!A||A.constructor!==Object))for(b in A)A[b]=void 0}M.exports.clearObject=p;function w(A,b){var d;if(!(!A||A.constructor!==Object))for(d in A)d in b||delete A[d]}M.exports.removeUnusedKeys=w},"./src/utils/split.js":M=>{M.exports.split=function(){var B={};return function(u,p){return p in B||(B[p]={}),u in B[p]||(B[p][u]=u.split(p)),B[p][u]}}()},"./src/utils/src-loader.js":(M,B,u)=>{var p=u("./src/utils/debug.js"),w=p("utils:src-loader:warn");function A(C,v,x){y(C,function(L){if(L){v(C);return}x(C)})}function b(C,v,x){var T,L="",R,F,P=[];if(typeof C=="string"){let $=function(te){P.push(te),P.length===6&&v(P)};for(R=0;R<5;R++)L+="(url\\((?:[^\\)]+)\\),\\s*)";if(L+="(url\\((?:[^\\)]+)\\)\\s*)",F=C.match(new RegExp(L)),F){for(R=1;R<7;R++)A(g(F[R]),$);return}if(!C.startsWith("#")){var H=g(C);A(H||C,x);return}}if(C.tagName?T=C:T=E(C),!!T){if(T.tagName==="A-CUBEMAP"&&T.srcs)return v(T.srcs);if(T.tagName==="IMG")return x(T);w('Selector "%s" does not point to <a-cubemap> or <img>',C)}}function d(C,v){return b(C,v,function(){w("Expected cubemap but got image")})}function g(C){var v=C.match(/url\((.+)\)/);if(v)return v[1]}function y(C,v){var x;if(C.tagName){v(C.tagName==="IMG");return}x=new XMLHttpRequest,x.open("HEAD",C),x.addEventListener("load",function(T){var L;x.status>=200&&x.status<300?(L=x.getResponseHeader("Content-Type"),L==null?f(C,v):L.startsWith("image")?v(!0):v(!1)):f(C,v),x.abort()}),x.send()}function f(C,v){var x=new Image;x.addEventListener("load",T);function T(){v(!0)}x.addEventListener("error",L);function L(){v(!1)}x.src=C}function E(C){try{var v=document.querySelector(C);return v||w('No element was found matching the selector: "%s"',C),v}catch(x){w('"%s" is not a valid selector',C);return}}M.exports={parseUrl:g,validateSrc:A,validateCubemapSrc:d,validateEnvMapSrc:b}},"./src/utils/styleParser.js":M=>{var B=/-([a-z])/g;M.exports.parse=function(d,g){var y;return typeof d!="string"||(y=w(d,g),y[""])?d:y},M.exports.stringify=function(d){return typeof d=="string"?d:A(d)};function u(d){return d.replace(B,b)}M.exports.toCamelCase=u;var p=function(){var d=[],g=/url\([^)]+$/;return function(f){var E="",C,v=0,x=";";for(d.length=0;v<f.length;){if(C=f.indexOf(x,v),C===-1&&(C=f.length),E+=f.substring(v,C),g.test(E)){E+=";",v=C+1;continue}d.push(E.trim()),E="",v=C+1}return d}}();function w(d,g){var y,f,E,C,v,x;for(g=g||{},y=p(d),f=0;f<y.length;f++)E=y[f],E&&(C=E.indexOf(":"),v=E.substr(0,C).trim(),x=E.substr(C+1).trim(),g[u(v)]=x);return g}function A(d){var g,y=0,f=0,E="";for(g in d)y++;for(g in d)E+=g+": "+d[g],f<y-1&&(E+="; "),f++;return E}function b(d){return d[1].toUpperCase()}},"./src/utils/tracked-controls.js":(M,B,u)=>{var p=u("./src/constants/index.js").DEFAULT_HANDEDNESS,w=["x","y","z","w"],A=2;M.exports.checkControllerPresentAndSetup=function(f,E,C){var v=f.el,x,T=v.sceneEl.hasWebXR,L=T?d:b,R;if(x=L(f,E,C),R=!!x,f.controllerPresent&&!f.controllerEventsActive&&!T&&f.addEventListeners(),R===f.controllerPresent)return R;f.controllerPresent=R,R?(f.addEventListeners(),f.injectTrackedControls(x),v.emit("controllerconnected",{name:f.name,component:f})):(f.removeEventListeners(),v.emit("controllerdisconnected",{name:f.name,component:f}))};function b(f,E,C){var v,x=f.el.sceneEl,T,L=C.index||0;return!E||(T=x&&x.systems["tracked-controls-webvr"],!T)||(v=T.controllers,!v.length)?!1:!!g(v,null,E,C.hand,L)}function d(f,E,C){var v,x=f.el.sceneEl,T=x&&x.systems["tracked-controls-webxr"];return!T||(v=T.controllers,!v||!v.length)?!1:y(v,E,C.hand,C.index,C.iterateControllerProfiles,C.handTracking)}M.exports.isControllerPresentWebVR=b,M.exports.isControllerPresentWebXR=d;function g(f,E,C,v,x){var T,L,R=0,F=x>=0?x:0;for(L=0;L<f.length;L++)if(T=f[L],!(C&&!T.id.startsWith(C))&&!(!C&&T.id!==E)&&!(v&&T.hand&&v!==T.hand)){if(v&&!T.hand)F=A*x+(v===p?0:1);else return T;if(R===F)return T;++R}}function y(f,E,C,v,x,T){var L,R,F,P=!1,H,$;for(L=0;L<f.length;L++){if(F=f[L],$=F.profiles,T)P=F.hand;else if(x)for(R=0;R<$.length&&(P=$[R].startsWith(E),!P);R++);else P=$.length>0&&$[0].startsWith(E);if(P){if(H=F.handedness==="right"||F.handedness==="left",H){if(F.handedness===C)return f[L]}else if(L===v)return f[L]}}}M.exports.findMatchingControllerWebVR=g,M.exports.findMatchingControllerWebXR=y,M.exports.emitIfAxesChanged=function(f,E,C){var v,x,T,L,R;for(x in E){for(v=E[x],T=!1,R=0;R<v.length;R++)C.detail.changed[v[R]]&&(T=!0);if(T){for(L={},R=0;R<v.length;R++)L[w[R]]=C.detail.axis[v[R]];f.el.emit(x+"moved",L)}}},M.exports.onButtonEvent=function(f,E,C,v){var x=v?C.mapping[v]:C.mapping,T=x.buttons[f];C.el.emit(T+E),C.updateModel&&C.updateModel(T,E)}},"./vendor/DeviceOrientationControls.js":()=>{THREE.DeviceOrientationControls=function(M){var B=this;this.object=M,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alphaOffset=0;var u=function(A){B.deviceOrientation=A},p=function(){B.screenOrientation=window.orientation||0},w=function(){var A=new THREE.Vector3(0,0,1),b=new THREE.Euler,d=new THREE.Quaternion,g=new THREE.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5));return function(y,f,E,C,v){b.set(E,f,-C,"YXZ"),y.setFromEuler(b),y.multiply(g),y.multiply(d.setFromAxisAngle(A,-v))}}();this.connect=function(){p(),window.addEventListener("orientationchange",p,!1),window.addEventListener("deviceorientation",u,!1),B.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",p,!1),window.removeEventListener("deviceorientation",u,!1),B.enabled=!1},this.update=function(){if(B.enabled!==!1){var A=B.deviceOrientation;if(A){var b=A.alpha?THREE.MathUtils.degToRad(A.alpha)+B.alphaOffset:0,d=A.beta?THREE.MathUtils.degToRad(A.beta):0,g=A.gamma?THREE.MathUtils.degToRad(A.gamma):0,y=B.screenOrientation?THREE.MathUtils.degToRad(B.screenOrientation):0;w(B.object.quaternion,b,d,g,y)}}},this.dispose=function(){B.disconnect()},this.connect()}},"./vendor/rStats.extras.js":M=>{window.glStats=function(){var B=null,u=0,p=0,w=0,A=0,b=0,d=0,g=0;function y(R,F){return function(){F.apply(this,arguments),R.apply(this,arguments)}}WebGLRenderingContext.prototype.drawArrays=y(WebGLRenderingContext.prototype.drawArrays,function(){u++,arguments[0]==this.POINTS?d+=arguments[2]:b+=arguments[2]}),WebGLRenderingContext.prototype.drawElements=y(WebGLRenderingContext.prototype.drawElements,function(){p++,A+=arguments[1]/3,b+=arguments[1]}),WebGLRenderingContext.prototype.useProgram=y(WebGLRenderingContext.prototype.useProgram,function(){w++}),WebGLRenderingContext.prototype.bindTexture=y(WebGLRenderingContext.prototype.bindTexture,function(){g++});var f={allcalls:{over:3e3,caption:"Calls (hook)"},drawelements:{caption:"drawElements (hook)"},drawarrays:{caption:"drawArrays (hook)"}},E=[{caption:"WebGL",values:["allcalls","drawelements","drawarrays","useprogram","bindtexture","glfaces","glvertices","glpoints"]}],C=[{base:"allcalls",steps:["drawelements","drawarrays"]}];function v(){B("allcalls").set(u+p),B("drawElements").set(p),B("drawArrays").set(u),B("bindTexture").set(g),B("useProgram").set(w),B("glfaces").set(A),B("glvertices").set(b),B("glpoints").set(d)}function x(){u=0,p=0,w=0,A=0,b=0,d=0,g=0}function T(){}function L(R){B=R}return{update:v,start:x,end:T,attach:L,values:f,groups:E,fractions:C}},window.threeStats=function(B){var u=null,p={"renderer.info.memory.geometries":{caption:"Geometries"},"renderer.info.memory.textures":{caption:"Textures"},"renderer.info.programs":{caption:"Programs"},"renderer.info.render.calls":{caption:"Calls"},"renderer.info.render.triangles":{caption:"Triangles",over:1e3},"renderer.info.render.points":{caption:"Points"}},w=[{caption:"Three.js - Memory",values:["renderer.info.memory.geometries","renderer.info.programs","renderer.info.memory.textures"]},{caption:"Three.js - Render",values:["renderer.info.render.calls","renderer.info.render.triangles","renderer.info.render.points"]}],A=[];function b(){u("renderer.info.memory.geometries").set(B.info.memory.geometries),u("renderer.info.programs").set(B.info.programs.length),u("renderer.info.memory.textures").set(B.info.memory.textures),u("renderer.info.render.calls").set(B.info.render.calls),u("renderer.info.render.triangles").set(B.info.render.triangles),u("renderer.info.render.points").set(B.info.render.points)}function d(){}function g(){}function y(f){u=f}return{update:b,start:d,end:g,attach:y,values:p,groups:w,fractions:A}},window.BrowserStats=function(){var B=null,u=0,p=0;window.performance&&!performance.memory&&(performance.memory={usedJSHeapSize:0,totalJSHeapSize:0}),performance.memory.totalJSHeapSize===0&&console.warn("totalJSHeapSize === 0... performance.memory is only available in Chrome .");var w={memory:{caption:"Used Memory",average:!0,avgMs:1e3,over:22},total:{caption:"Total Memory"}},A=[{caption:"Browser",values:["memory","total"]}],b=[{base:"total",steps:["memory"]}],d=Math.log(1024);function g(v){var x=100,T=Math.floor(Math.log(v)/d);return Math.round(v*x/Math.pow(1024,T))/x}function y(){u=g(performance.memory.usedJSHeapSize),p=g(performance.memory.totalJSHeapSize),B("memory").set(u),B("total").set(p)}function f(){u=0}function E(){}function C(v){B=v}return{update:y,start:f,end:E,attach:C,values:w,groups:A,fractions:b}},M.exports={glStats:window.glStats,threeStats:window.threeStats,BrowserStats:window.BrowserStats}},"./vendor/rStats.js":M=>{(function(){"performance"in window||(window.performance={});var B=window.performance;if(!("now"in B)){var u=Date.now();B.timing&&B.timing.navigationStart&&(u=B.timing.navigationStart),B.now=function(){return Date.now()-u}}B.mark||(B.mark=function(){}),B.measure||(B.measure=function(){})})(),window.rStats=function(u){function p($,te){for(var ee=Object.keys($),de=0,ie=ee.length;de<ie;de++)te(ee[de])}function w($){var te=document.createElement("link");te.href=$,te.rel="stylesheet",te.type="text/css",document.getElementsByTagName("head")[0].appendChild(te)}var A=u||{},b=A.colours||["#850700","#c74900","#fcb300","#284280","#4c7c0c"],d="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300",g=(A.CSSPath?A.CSSPath:"")+"rStats.css",y=A.css||[d,g];y.forEach(function($){w($)}),A.values||(A.values={});var f,E,C=10,v=200,x={};function T($,te,ee){var de=ee||{},ie=document.createElement("canvas"),ne=ie.getContext("2d"),X=0,z=0,se=de.color?de.color:"#666666",ae=document.createElement("canvas"),be=ae.getContext("2d");ae.width=1,ae.height=2*C,be.fillStyle="#444444",be.fillRect(0,0,1,2*C),be.fillStyle=se,be.fillRect(0,C,1,C),be.fillStyle="#ffffff",be.globalAlpha=.5,be.fillRect(0,C,1,1),be.globalAlpha=1;var Re=document.createElement("canvas"),ke=Re.getContext("2d");Re.width=1,Re.height=2*C,ke.fillStyle="#444444",ke.fillRect(0,0,1,2*C),ke.fillStyle="#b70000",ke.fillRect(0,C,1,C),ke.globalAlpha=.5,ke.fillStyle="#ffffff",ke.fillRect(0,C,1,1),ke.globalAlpha=1;function Ke(){ie.width=v,ie.height=C,ie.style.width=ie.width+"px",ie.style.height=ie.height+"px",ie.className="rs-canvas",$.appendChild(ie),ne.fillStyle="#444444",ne.fillRect(0,0,ie.width,ie.height)}function Xe(Fe,qe){z+=(Fe-z)*.1,X*=.99,z>X&&(X=z),ne.drawImage(ie,1,0,ie.width-1,ie.height,0,0,ie.width-1,ie.height),qe?ne.drawImage(Re,ie.width-1,ie.height-z*ie.height/X-C):ne.drawImage(ae,ie.width-1,ie.height-z*ie.height/X-C)}return Ke(),{draw:Xe}}function L($,te){var ee=document.createElement("canvas"),de=ee.getContext("2d");function ie(){ee.width=v,ee.height=C*te,ee.style.width=ee.width+"px",ee.style.height=ee.height+"px",ee.className="rs-canvas",$.appendChild(ee),de.fillStyle="#444444",de.fillRect(0,0,ee.width,ee.height)}function ne(X){de.drawImage(ee,1,0,ee.width-1,ee.height,0,0,ee.width-1,ee.height);var z=0;p(X,function(se){var ae=X[se]*ee.height;de.fillStyle=b[se],de.fillRect(ee.width-1,z,1,ae),z+=ae})}return ie(),{draw:ne}}function R($,te){var ee=$,de,ie=0,ne=0,X=0,z=0,se=performance.now(),ae=0,be=document.createElement("div"),Re=document.createElement("span"),ke=document.createElement("div"),Ke=document.createTextNode(""),Xe=A?A.values[ee.toLowerCase()]:null,Fe=new T(be,ee,Xe),qe=!1;Re.className="rs-counter-id",Re.textContent=Xe&&Xe.caption?Xe.caption:ee,ke.className="rs-counter-value",ke.appendChild(Ke),be.appendChild(Re),be.appendChild(ke),te?te.div.appendChild(be):E.appendChild(be),de=performance.now();function rt(ot){if(Xe&&Xe.average){z+=ot,ae++;var Je=performance.now();Je-se>=(Xe.avgMs||1e3)&&(X=z/ae,z=0,se=Je,ae=0)}}function it(){de=performance.now(),A.userTimingAPI&&performance.mark(ee+"-start"),qe=!0}function Ct(){ie=performance.now()-de,A.userTimingAPI&&(performance.mark(ee+"-end"),qe&&performance.measure(ee,ee+"-start",ee+"-end")),rt(ie)}function Nt(){Ct(),it()}function xe(){var ot=Xe&&Xe.average?X:ie;Ke.nodeValue=Math.round(ot*100)/100;var Je=Xe&&(Xe.below&&ie<Xe.below||Xe.over&&ie>Xe.over);Fe.draw(ie,Je),be.className=Je?"rs-counter-base alarm":"rs-counter-base"}function Te(){var ot=performance.now(),Je=ot-de;ne++,Je>1e3&&(Xe&&Xe.interpolate===!1?ie=ne:ie=ne*1e3/Je,ne=0,de=ot,rt(ie))}function je(ot){ie=ot,rt(ie)}return{set:je,start:it,tick:Nt,end:Ct,frame:Te,value:function(){return ie},draw:xe}}function F($){var te=$.toLowerCase();if(te===void 0&&(te="default"),x[te])return x[te];var ee=null;A&&A.groups&&p(A.groups,function(ie){var ne=A.groups[parseInt(ie,10)];!ee&&ne.values.indexOf(te.toLowerCase())!==-1&&(ee=ne)});var de=new R(te,ee);return x[te]=de,de}function P(){if(A.plugins){A.values||(A.values={}),A.groups||(A.groups=[]),A.fractions||(A.fractions=[]);for(var $=0;$<A.plugins.length;$++)A.plugins[$].attach(F),p(A.plugins[$].values,function(te){A.values[te]=A.plugins[$].values[te]}),A.groups=A.groups.concat(A.plugins[$].groups),A.fractions=A.fractions.concat(A.plugins[$].fractions)}else A.plugins={};f=document.createElement("div"),f.className="rs-base",E=document.createElement("div"),E.className="rs-container",E.style.height="auto",f.appendChild(E),document.body.appendChild(f),A&&(A.groups&&p(A.groups,function(te){var ee=A.groups[parseInt(te,10)],de=document.createElement("div");de.className="rs-group",ee.div=de;var ie=document.createElement("h1");ie.textContent=ee.caption,ie.addEventListener("click",(function(ne){this.classList.toggle("hidden"),ne.preventDefault()}).bind(de)),E.appendChild(ie),E.appendChild(de)}),A.fractions&&p(A.fractions,function(te){var ee=A.fractions[parseInt(te,10)],de=document.createElement("div");de.className="rs-fraction";var ie=document.createElement("div");ie.className="rs-legend";var ne=0;p(A.fractions[te].steps,function(z){var se=document.createElement("p");se.textContent=A.fractions[te].steps[z],se.style.color=b[ne],ie.appendChild(se),ne++}),de.appendChild(ie),de.style.height=ne*C+"px",ee.div=de;var X=new L(de,ne);ee.graph=X,E.appendChild(de)}))}function H(){p(A.plugins,function($){A.plugins[$].update()}),p(x,function($){x[$].draw()}),A&&A.fractions&&p(A.fractions,function($){var te=A.fractions[parseInt($,10)],ee=[],de=x[te.base.toLowerCase()];de&&(de=de.value(),p(A.fractions[$].steps,function(ie){var ne=A.fractions[$].steps[parseInt(ie,10)].toLowerCase(),X=x[ne];X&&ee.push(X.value()/de)})),te.graph.draw(ee)})}return P(),function($){return $?F($):{element:f,update:H}}},M.exports=window.rStats},"./vendor/wakelock/util.js":M=>{var B={};B.base64=function(u,p){return"data:"+u+";base64,"+p},B.isMobile=function(){var u=!1;return function(p){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(p)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(p.substr(0,4)))&&(u=!0)}(navigator.userAgent||navigator.vendor||window.opera),u},B.isIOS=function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},B.isIFrame=function(){try{return window.self!==window.top}catch(u){return!0}},B.appendQueryParameter=function(u,p,w){var A=u.indexOf("?")<0?"?":"&";return u+=A+p+"="+w,u},B.getQueryParameter=function(u){u=u.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var p=new RegExp("[\\?&]"+u+"=([^&#]*)"),w=p.exec(location.search);return w===null?"":decodeURIComponent(w[1].replace(/\+/g," "))},B.isLandscapeMode=function(){return window.orientation==90||window.orientation==-90},M.exports=B},"./vendor/wakelock/wakelock.js":(M,B,u)=>{var p=u("./vendor/wakelock/util.js");function w(){var d=document.createElement("video");d.addEventListener("ended",function(){d.play()}),this.request=function(){d.paused&&(d.src=p.base64("video/webm","GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAAAH4xFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsggfG7AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU2LjQwLjEwMVdBjUxhdmY1Ni40MC4xMDFzpJAGSJTMbsLpDt/ySkipgX1fRImIQO1MAAAAAAAWVK5rAQAAAAAAADuuAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDmDgQEj44OEO5rKAOABAAAAAAAABrCBsLqBkB9DtnUBAAAAAAAAo+eBAKOmgQAAgKJJg0IAAV4BHsAHBIODCoAACmH2MAAAZxgz4dPSTFi5JACjloED6ACmAECSnABMQAADYAAAWi0quoCjloEH0ACmAECSnABNwAADYAAAWi0quoCjloELuACmAECSnABNgAADYAAAWi0quoCjloEPoACmAECSnABNYAADYAAAWi0quoCjloETiACmAECSnABNIAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTnghdwo5aBAAAApgBAkpwATOAAA2AAAFotKrqAo5aBA+gApgBAkpwATMAAA2AAAFotKrqAo5aBB9AApgBAkpwATIAAA2AAAFotKrqAo5aBC7gApgBAkpwATEAAA2AAAFotKrqAo5aBD6AApgDAkpwAQ2AAA2AAAFotKrqAo5aBE4gApgBAkpwATCAAA2AAAFotKrqAH0O2dQEAAAAAAACU54Iu4KOWgQAAAKYAQJKcAEvAAANgAABaLSq6gKOWgQPoAKYAQJKcAEtgAANgAABaLSq6gKOWgQfQAKYAQJKcAEsAAANgAABaLSq6gKOWgQu4AKYAQJKcAEqAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEogAANgAABaLSq6gKOWgROIAKYAQJKcAEnAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCRlCjloEAAACmAECSnABJgAADYAAAWi0quoCjloED6ACmAECSnABJIAADYAAAWi0quoCjloEH0ACmAMCSnABDYAADYAAAWi0quoCjloELuACmAECSnABI4AADYAAAWi0quoCjloEPoACmAECSnABIoAADYAAAWi0quoCjloETiACmAECSnABIYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngl3Ao5aBAAAApgBAkpwASCAAA2AAAFotKrqAo5aBA+gApgBAkpwASAAAA2AAAFotKrqAo5aBB9AApgBAkpwAR8AAA2AAAFotKrqAo5aBC7gApgBAkpwAR4AAA2AAAFotKrqAo5aBD6AApgBAkpwAR2AAA2AAAFotKrqAo5aBE4gApgBAkpwARyAAA2AAAFotKrqAH0O2dQEAAAAAAACU54J1MKOWgQAAAKYAwJKcAENgAANgAABaLSq6gKOWgQPoAKYAQJKcAEbgAANgAABaLSq6gKOWgQfQAKYAQJKcAEagAANgAABaLSq6gKOWgQu4AKYAQJKcAEaAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEZAAANgAABaLSq6gKOWgROIAKYAQJKcAEYAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCjKCjloEAAACmAECSnABF4AADYAAAWi0quoCjloED6ACmAECSnABFwAADYAAAWi0quoCjloEH0ACmAECSnABFoAADYAAAWi0quoCjloELuACmAECSnABFgAADYAAAWi0quoCjloEPoACmAMCSnABDYAADYAAAWi0quoCjloETiACmAECSnABFYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngqQQo5aBAAAApgBAkpwARUAAA2AAAFotKrqAo5aBA+gApgBAkpwARSAAA2AAAFotKrqAo5aBB9AApgBAkpwARQAAA2AAAFotKrqAo5aBC7gApgBAkpwARQAAA2AAAFotKrqAo5aBD6AApgBAkpwAROAAA2AAAFotKrqAo5aBE4gApgBAkpwARMAAA2AAAFotKrqAH0O2dQEAAAAAAACU54K7gKOWgQAAAKYAQJKcAESgAANgAABaLSq6gKOWgQPoAKYAQJKcAESAAANgAABaLSq6gKOWgQfQAKYAwJKcAENgAANgAABaLSq6gKOWgQu4AKYAQJKcAERgAANgAABaLSq6gKOWgQ+gAKYAQJKcAERAAANgAABaLSq6gKOWgROIAKYAQJKcAEQgAANgAABaLSq6gB9DtnUBAAAAAAAAlOeC0vCjloEAAACmAECSnABEIAADYAAAWi0quoCjloED6ACmAECSnABEAAADYAAAWi0quoCjloEH0ACmAECSnABD4AADYAAAWi0quoCjloELuACmAECSnABDwAADYAAAWi0quoCjloEPoACmAECSnABDoAADYAAAWi0quoCjloETiACmAECSnABDgAADYAAAWi0quoAcU7trAQAAAAAAABG7j7OBALeK94EB8YIBd/CBAw=="),d.play())},this.release=function(){d.pause(),d.src=""}}function A(){var d=null;this.request=function(){d||(d=setInterval(function(){window.location.href="/",setTimeout(window.stop,0)},15e3))},this.release=function(){d&&(clearInterval(d),d=null)}}function b(){var d=navigator.userAgent||navigator.vendor||window.opera;return d.match(/iPhone/i)||d.match(/iPod/i)?A:w}M.exports=b()},"./node_modules/css-loader/dist/cjs.js!./src/style/aframe.css":(M,B,u)=>{u.r(B),u.d(B,{default:()=>H});var p=u("./node_modules/css-loader/dist/runtime/sourceMaps.js"),w=u.n(p),A=u("./node_modules/css-loader/dist/runtime/api.js"),b=u.n(A),d=u("./node_modules/css-loader/dist/runtime/getUrl.js"),g=u.n(d),y=new URL(u("data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"),u.b),f=new URL(u("data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"),u.b),E=new URL(u("data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27UTF-8%27 standalone=%27no%27%3F%3E%3Csvg width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27 version=%271.1%27 id=%27svg320%27 sodipodi:docname=%27fullscreen-aframe.svg%27 xml:space=%27preserve%27 inkscape:version=%271.2.1 %289c6d41e  2022-07-14%29%27 xmlns:inkscape=%27http://www.inkscape.org/namespaces/inkscape%27 xmlns:sodipodi=%27http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:svg=%27http://www.w3.org/2000/svg%27 xmlns:rdf=%27http://www.w3.org/1999/02/22-rdf-syntax-ns%23%27 xmlns:cc=%27http://creativecommons.org/ns%23%27 xmlns:dc=%27http://purl.org/dc/elements/1.1/%27%3E%3Cdefs id=%27defs324%27 /%3E%3Csodipodi:namedview id=%27namedview322%27 pagecolor=%27%23ffffff%27 bordercolor=%27%23000000%27 borderopacity=%270.25%27 inkscape:showpageshadow=%272%27 inkscape:pageopacity=%270.0%27 inkscape:pagecheckerboard=%270%27 inkscape:deskcolor=%27%23d1d1d1%27 showgrid=%27false%27 inkscape:zoom=%273.8064516%27 inkscape:cx=%2791.423729%27 inkscape:cy=%27-1.4449153%27 inkscape:window-width=%271440%27 inkscape:window-height=%27847%27 inkscape:window-x=%2732%27 inkscape:window-y=%2725%27 inkscape:window-maximized=%270%27 inkscape:current-layer=%27svg320%27 /%3E%3Ctitle id=%27title312%27%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z%27 fill=%27%23fff%27 id=%27path314%27 style=%27fill:%23ffffff%27 /%3E%3Cg id=%27g356%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g358%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g360%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g362%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g364%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g366%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g368%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g370%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g372%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g374%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g376%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g378%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g380%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g382%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g384%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cmetadata id=%27metadata561%27%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=%27%27%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d=%27m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4%27 id=%27path596%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4%27 id=%27path598%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4%27 id=%27path600%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616%27 id=%27path602%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3C/svg%3E"),u.b),C=new URL(u("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E"),u.b),v=new URL(u("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E"),u.b),x=b()(w()),T=g()(y),L=g()(f),R=g()(E),F=g()(C),P=g()(v);x.push([M.id,"/* .a-fullscreen means not embedded. */\nhtml.a-fullscreen {\n  bottom: 0;\n  left: 0;\n  position: fixed;\n  right: 0;\n  top: 0;\n}\n\nhtml.a-fullscreen body {\n  height: 100%;\n  margin: 0;\n  overflow: hidden;\n  padding: 0;\n  width: 100%;\n}\n\n/* Class is removed when doing <a-scene embedded>. */\nhtml.a-fullscreen .a-canvas {\n  width: 100% !important;\n  height: 100% !important;\n  top: 0 !important;\n  left: 0 !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  position: fixed !important;\n}\n\nhtml:not(.a-fullscreen) .a-enter-vr,\nhtml:not(.a-fullscreen) .a-enter-ar {\n  right: 5px;\n  bottom: 5px;\n}\n\nhtml:not(.a-fullscreen) .a-enter-ar {\n  right: 60px;\n}\n\n/* In chrome mobile the user agent stylesheet set it to white  */\n:-webkit-full-screen {\n  background-color: transparent;\n}\n\n.a-hidden {\n  display: none !important;\n}\n\n.a-canvas {\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n}\n\n.a-canvas.a-grab-cursor:hover {\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n\ncanvas.a-canvas.a-mouse-cursor-hover:hover {\n  cursor: pointer;\n}\n\n.a-inspector-loader {\n  background-color: #ed3160;\n  position: fixed;\n  left: 3px;\n  top: 3px;\n  padding: 6px 10px;\n  color: #fff;\n  text-decoration: none;\n  font-size: 12px;\n  font-family: Roboto,sans-serif;\n  text-align: center;\n  z-index: 99999;\n  width: 204px;\n}\n\n/* Inspector loader animation */\n@keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }\n@keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }\n@keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }\n@-webkit-keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }\n@-webkit-keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }\n@-webkit-keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }\n\n.a-inspector-loader .dots span {\n  animation: dots-1 2s infinite steps(1);\n  -webkit-animation: dots-1 2s infinite steps(1);\n}\n\n.a-inspector-loader .dots span:first-child + span {\n  animation-name: dots-2;\n  -webkit-animation-name: dots-2;\n}\n\n.a-inspector-loader .dots span:first-child + span + span {\n  animation-name: dots-3;\n  -webkit-animation-name: dots-3;\n}\n\na-scene {\n  display: block;\n  position: relative;\n  height: 100%;\n  width: 100%;\n}\n\na-assets,\na-scene video,\na-scene img,\na-scene audio {\n  display: none;\n}\n\n.a-enter-vr-modal,\n.a-orientation-modal {\n  font-family: Consolas, Andale Mono, Courier New, monospace;\n}\n\n.a-enter-vr-modal a {\n  border-bottom: 1px solid #fff;\n  padding: 2px 0;\n  text-decoration: none;\n  transition: .1s color ease-in;\n}\n\n.a-enter-vr-modal a:hover {\n  background-color: #fff;\n  color: #111;\n  padding: 2px 4px;\n  position: relative;\n  left: -4px;\n}\n\n.a-enter-vr,\n.a-enter-ar {\n  font-family: sans-serif, monospace;\n  font-size: 13px;\n  width: 100%;\n  font-weight: 200;\n  line-height: 16px;\n  position: absolute;\n  right: 20px;\n  bottom: 20px;\n}\n\n.a-enter-ar.xr {\n  right: 90px;\n}\n\n.a-enter-vr-button,\n.a-enter-vr-modal,\n.a-enter-vr-modal a {\n  color: #fff;\n  user-select: none;\n  outline: none;\n}\n\n.a-enter-vr-button {\n  background: rgba(0, 0, 0, 0.35) url("+T+") 50% 50% no-repeat;\n}\n\n.a-enter-ar-button {\n  background: rgba(0, 0, 0, 0.20) url("+L+") 50% 50% no-repeat;\n}\n\n.a-enter-vr.fullscreen .a-enter-vr-button {\n  background-image: url("+R+");\n}\n\n.a-enter-vr-button,\n.a-enter-ar-button {\n  background-size: 90% 90%;\n  border: 0;\n  bottom: 0;\n  cursor: pointer;\n  min-width: 58px;\n  min-height: 34px;\n  /* 1.74418604651 */\n  /*\n    In order to keep the aspect ratio when resizing\n    padding-top percentages are relative to the containing block's width.\n    http://stackoverflow.com/questions/12121090/responsively-change-div-size-keeping-aspect-ratio\n  */\n  padding-right: 0;\n  padding-top: 0;\n  position: absolute;\n  right: 0;\n  transition: background-color .05s ease;\n  -webkit-transition: background-color .05s ease;\n  z-index: 9999;\n  border-radius: 8px;\n  touch-action: manipulation; /* Prevent iOS double tap zoom on the button */\n}\n\n.a-enter-ar-button {\n  background-size: 100% 90%;\n  border-radius: 7px;\n}\n\n.a-enter-ar-button:active,\n.a-enter-ar-button:hover,\n.a-enter-vr-button:active,\n.a-enter-vr-button:hover {\n  background-color: #ef2d5e;\n}\n\n.a-enter-vr-button.resethover {\n  background-color: rgba(0, 0, 0, 0.35);\n}\n\n.a-enter-vr-modal {\n  background-color: #666;\n  border-radius: 0;\n  display: none;\n  min-height: 32px;\n  margin-right: 70px;\n  padding: 9px;\n  width: 280px;\n  right: 2%;\n  position: absolute;\n}\n\n.a-enter-vr-modal:after {\n  border-bottom: 10px solid transparent;\n  border-left: 10px solid #666;\n  border-top: 10px solid transparent;\n  display: inline-block;\n  content: '';\n  position: absolute;\n  right: -5px;\n  top: 5px;\n  width: 0;\n  height: 0;\n}\n\n.a-enter-vr-modal p,\n.a-enter-vr-modal a {\n  display: inline;\n}\n\n.a-enter-vr-modal p {\n  margin: 0;\n}\n\n.a-enter-vr-modal p:after {\n  content: ' ';\n}\n\n.a-orientation-modal {\n  background: rgba(244, 244, 244, 1) url("+F+') center no-repeat;\n  background-size: 50% 50%;\n  bottom: 0;\n  font-size: 14px;\n  font-weight: 600;\n  left: 0;\n  line-height: 20px;\n  right: 0;\n  position: fixed;\n  top: 0;\n  z-index: 9999999;\n}\n\n.a-orientation-modal:after {\n  color: #666;\n  content: "Insert phone into Cardboard holder.";\n  display: block;\n  position: absolute;\n  text-align: center;\n  top: 70%;\n  transform: translateY(-70%);\n  width: 100%;\n}\n\n.a-orientation-modal button {\n  background: url('+P+") no-repeat;\n  border: none;\n  height: 50px;\n  text-indent: -9999px;\n  width: 50px;\n}\n\n.a-loader-title {\n  background-color: rgba(0, 0, 0, 0.6);\n  font-family: sans-serif, monospace;\n  text-align: center;\n  font-size: 20px;\n  height: 50px;\n  font-weight: 300;\n  line-height: 50px;\n  position: absolute;\n  right: 0px;\n  left: 0px;\n  top: 0px;\n  color: white;\n}\n\n.a-modal {\n  position: absolute;\n  background: rgba(0, 0, 0, 0.60);\n  background-size: 50% 50%;\n  bottom: 0;\n  font-size: 14px;\n  font-weight: 600;\n  left: 0;\n  line-height: 20px;\n  right: 0;\n  position: fixed;\n  top: 0;\n  z-index: 9999999;\n}\n\n.a-dialog {\n  position: relative;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 199995;\n  width: 300px;\n  height: 200px;\n  background-size: contain;\n  background-color: white;\n  font-family: sans-serif, monospace;\n  font-size: 20px;\n  border-radius: 3px;\n  padding: 6px;\n}\n\n.a-dialog-text-container {\n  width: 100%;\n  height: 70%;\n  align-self: flex-start;\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  flex-direction: column;\n}\n\n.a-dialog-text {\n  display: inline-block;\n  font-weight: normal;\n  font-size: 14pt;\n  margin: 8px;\n}\n\n.a-dialog-buttons-container {\n  display: inline-flex;\n  align-self: flex-end;\n  width: 100%;\n  height: 30%;\n}\n\n.a-dialog-button {\n  cursor: pointer;\n  align-self: center;\n  opacity: 0.9;\n  height: 80%;\n  width: 50%;\n  font-size: 12pt;\n  margin: 4px;\n  border-radius: 2px;\n  text-align:center;\n  border: none;\n  display: inline-block;\n  -webkit-transition: all 0.25s ease-in-out;\n  transition: all 0.25s ease-in-out;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.10), 0 1px 2px rgba(0, 0, 0, 0.20);\n  user-select: none;\n}\n\n.a-dialog-permission-button:hover {\n  box-shadow: 0 7px 14px rgba(0,0,0,0.20), 0 2px 2px rgba(0,0,0,0.20);\n}\n\n.a-dialog-allow-button {\n  background-color: #00ceff;\n}\n\n.a-dialog-deny-button {\n  background-color: #ff005b;\n}\n\n.a-dialog-ok-button {\n  background-color: #00ceff;\n  width: 100%;\n}\n\n.a-dom-overlay:not(.a-no-style) {\n  overflow: hidden;\n  position: absolute;\n  pointer-events: none;\n  box-sizing: border-box;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  top: 0;\n  padding: 1em;\n}\n\n.a-dom-overlay:not(.a-no-style)>* {\n  pointer-events: auto;\n}\n","",{version:3,sources:["webpack://./src/style/aframe.css"],names:[],mappings:"AAAA,sCAAsC;AACtC;EACE,SAAS;EACT,OAAO;EACP,eAAe;EACf,QAAQ;EACR,MAAM;AACR;;AAEA;EACE,YAAY;EACZ,SAAS;EACT,gBAAgB;EAChB,UAAU;EACV,WAAW;AACb;;AAEA,oDAAoD;AACpD;EACE,sBAAsB;EACtB,uBAAuB;EACvB,iBAAiB;EACjB,kBAAkB;EAClB,mBAAmB;EACnB,oBAAoB;EACpB,0BAA0B;AAC5B;;AAEA;;EAEE,UAAU;EACV,WAAW;AACb;;AAEA;EACE,WAAW;AACb;;AAEA,gEAAgE;AAChE;EACE,6BAA6B;AAC/B;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,YAAY;EACZ,OAAO;EACP,kBAAkB;EAClB,MAAM;EACN,WAAW;AACb;;AAEA;EACE,YAAY;EACZ,iBAAiB;EACjB,oBAAoB;AACtB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,yBAAyB;EACzB,eAAe;EACf,SAAS;EACT,QAAQ;EACR,iBAAiB;EACjB,WAAW;EACX,qBAAqB;EACrB,eAAe;EACf,8BAA8B;EAC9B,kBAAkB;EAClB,cAAc;EACd,YAAY;AACd;;AAEA,+BAA+B;AAC/B,oBAAoB,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AAC7D,oBAAoB,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AAC7D,oBAAoB,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AAC7D,4BAA4B,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AACrE,4BAA4B,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AACrE,4BAA4B,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;;AAErE;EACE,sCAAsC;EACtC,8CAA8C;AAChD;;AAEA;EACE,sBAAsB;EACtB,8BAA8B;AAChC;;AAEA;EACE,sBAAsB;EACtB,8BAA8B;AAChC;;AAEA;EACE,cAAc;EACd,kBAAkB;EAClB,YAAY;EACZ,WAAW;AACb;;AAEA;;;;EAIE,aAAa;AACf;;AAEA;;EAEE,0DAA0D;AAC5D;;AAEA;EACE,6BAA6B;EAC7B,cAAc;EACd,qBAAqB;EACrB,6BAA6B;AAC/B;;AAEA;EACE,sBAAsB;EACtB,WAAW;EACX,gBAAgB;EAChB,kBAAkB;EAClB,UAAU;AACZ;;AAEA;;EAEE,kCAAkC;EAClC,eAAe;EACf,WAAW;EACX,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;EAClB,WAAW;EACX,YAAY;AACd;;AAEA;EACE,WAAW;AACb;;AAEA;;;EAGE,WAAW;EACX,iBAAiB;EACjB,aAAa;AACf;;AAEA;EACE,yFAA4qB;AAC9qB;;AAEA;EACE,yFAAkzB;AACpzB;;AAEA;EACE,yDAA2qK;AAC7qK;;AAEA;;EAEE,wBAAwB;EACxB,SAAS;EACT,SAAS;EACT,eAAe;EACf,eAAe;EACf,gBAAgB;EAChB,kBAAkB;EAClB;;;;GAIC;EACD,gBAAgB;EAChB,cAAc;EACd,kBAAkB;EAClB,QAAQ;EACR,sCAAsC;EACtC,8CAA8C;EAC9C,aAAa;EACb,kBAAkB;EAClB,0BAA0B,EAAE,8CAA8C;AAC5E;;AAEA;EACE,yBAAyB;EACzB,kBAAkB;AACpB;;AAEA;;;;EAIE,yBAAyB;AAC3B;;AAEA;EACE,qCAAqC;AACvC;;AAEA;EACE,sBAAsB;EACtB,gBAAgB;EAChB,aAAa;EACb,gBAAgB;EAChB,kBAAkB;EAClB,YAAY;EACZ,YAAY;EACZ,SAAS;EACT,kBAAkB;AACpB;;AAEA;EACE,qCAAqC;EACrC,4BAA4B;EAC5B,kCAAkC;EAClC,qBAAqB;EACrB,WAAW;EACX,kBAAkB;EAClB,WAAW;EACX,QAAQ;EACR,QAAQ;EACR,SAAS;AACX;;AAEA;;EAEE,eAAe;AACjB;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,2FAAivF;EACjvF,wBAAwB;EACxB,SAAS;EACT,eAAe;EACf,gBAAgB;EAChB,OAAO;EACP,iBAAiB;EACjB,QAAQ;EACR,eAAe;EACf,MAAM;EACN,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,8CAA8C;EAC9C,cAAc;EACd,kBAAkB;EAClB,kBAAkB;EAClB,QAAQ;EACR,2BAA2B;EAC3B,WAAW;AACb;;AAEA;EACE,6DAA25B;EAC35B,YAAY;EACZ,YAAY;EACZ,oBAAoB;EACpB,WAAW;AACb;;AAEA;EACE,oCAAoC;EACpC,kCAAkC;EAClC,kBAAkB;EAClB,eAAe;EACf,YAAY;EACZ,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;EAClB,UAAU;EACV,SAAS;EACT,QAAQ;EACR,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,+BAA+B;EAC/B,wBAAwB;EACxB,SAAS;EACT,eAAe;EACf,gBAAgB;EAChB,OAAO;EACP,iBAAiB;EACjB,QAAQ;EACR,eAAe;EACf,MAAM;EACN,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,QAAQ;EACR,gCAAgC;EAChC,eAAe;EACf,YAAY;EACZ,aAAa;EACb,wBAAwB;EACxB,uBAAuB;EACvB,kCAAkC;EAClC,eAAe;EACf,kBAAkB;EAClB,YAAY;AACd;;AAEA;EACE,WAAW;EACX,WAAW;EACX,sBAAsB;EACtB,aAAa;EACb,uBAAuB;EACvB,qBAAqB;EACrB,sBAAsB;AACxB;;AAEA;EACE,qBAAqB;EACrB,mBAAmB;EACnB,eAAe;EACf,WAAW;AACb;;AAEA;EACE,oBAAoB;EACpB,oBAAoB;EACpB,WAAW;EACX,WAAW;AACb;;AAEA;EACE,eAAe;EACf,kBAAkB;EAClB,YAAY;EACZ,WAAW;EACX,UAAU;EACV,eAAe;EACf,WAAW;EACX,kBAAkB;EAClB,iBAAiB;EACjB,YAAY;EACZ,qBAAqB;EACrB,yCAAyC;EACzC,iCAAiC;EACjC,wEAAwE;EACxE,iBAAiB;AACnB;;AAEA;EACE,mEAAmE;AACrE;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;EACzB,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,kBAAkB;EAClB,oBAAoB;EACpB,sBAAsB;EACtB,SAAS;EACT,OAAO;EACP,QAAQ;EACR,MAAM;EACN,YAAY;AACd;;AAEA;EACE,oBAAoB;AACtB",sourcesContent:["/* .a-fullscreen means not embedded. */\nhtml.a-fullscreen {\n  bottom: 0;\n  left: 0;\n  position: fixed;\n  right: 0;\n  top: 0;\n}\n\nhtml.a-fullscreen body {\n  height: 100%;\n  margin: 0;\n  overflow: hidden;\n  padding: 0;\n  width: 100%;\n}\n\n/* Class is removed when doing <a-scene embedded>. */\nhtml.a-fullscreen .a-canvas {\n  width: 100% !important;\n  height: 100% !important;\n  top: 0 !important;\n  left: 0 !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  position: fixed !important;\n}\n\nhtml:not(.a-fullscreen) .a-enter-vr,\nhtml:not(.a-fullscreen) .a-enter-ar {\n  right: 5px;\n  bottom: 5px;\n}\n\nhtml:not(.a-fullscreen) .a-enter-ar {\n  right: 60px;\n}\n\n/* In chrome mobile the user agent stylesheet set it to white  */\n:-webkit-full-screen {\n  background-color: transparent;\n}\n\n.a-hidden {\n  display: none !important;\n}\n\n.a-canvas {\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n}\n\n.a-canvas.a-grab-cursor:hover {\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n\ncanvas.a-canvas.a-mouse-cursor-hover:hover {\n  cursor: pointer;\n}\n\n.a-inspector-loader {\n  background-color: #ed3160;\n  position: fixed;\n  left: 3px;\n  top: 3px;\n  padding: 6px 10px;\n  color: #fff;\n  text-decoration: none;\n  font-size: 12px;\n  font-family: Roboto,sans-serif;\n  text-align: center;\n  z-index: 99999;\n  width: 204px;\n}\n\n/* Inspector loader animation */\n@keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }\n@keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }\n@keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }\n@-webkit-keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }\n@-webkit-keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }\n@-webkit-keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }\n\n.a-inspector-loader .dots span {\n  animation: dots-1 2s infinite steps(1);\n  -webkit-animation: dots-1 2s infinite steps(1);\n}\n\n.a-inspector-loader .dots span:first-child + span {\n  animation-name: dots-2;\n  -webkit-animation-name: dots-2;\n}\n\n.a-inspector-loader .dots span:first-child + span + span {\n  animation-name: dots-3;\n  -webkit-animation-name: dots-3;\n}\n\na-scene {\n  display: block;\n  position: relative;\n  height: 100%;\n  width: 100%;\n}\n\na-assets,\na-scene video,\na-scene img,\na-scene audio {\n  display: none;\n}\n\n.a-enter-vr-modal,\n.a-orientation-modal {\n  font-family: Consolas, Andale Mono, Courier New, monospace;\n}\n\n.a-enter-vr-modal a {\n  border-bottom: 1px solid #fff;\n  padding: 2px 0;\n  text-decoration: none;\n  transition: .1s color ease-in;\n}\n\n.a-enter-vr-modal a:hover {\n  background-color: #fff;\n  color: #111;\n  padding: 2px 4px;\n  position: relative;\n  left: -4px;\n}\n\n.a-enter-vr,\n.a-enter-ar {\n  font-family: sans-serif, monospace;\n  font-size: 13px;\n  width: 100%;\n  font-weight: 200;\n  line-height: 16px;\n  position: absolute;\n  right: 20px;\n  bottom: 20px;\n}\n\n.a-enter-ar.xr {\n  right: 90px;\n}\n\n.a-enter-vr-button,\n.a-enter-vr-modal,\n.a-enter-vr-modal a {\n  color: #fff;\n  user-select: none;\n  outline: none;\n}\n\n.a-enter-vr-button {\n  background: rgba(0, 0, 0, 0.35) url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z' fill='%23fff'/%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z' fill='%23fff'/%3E%3C/svg%3E\") 50% 50% no-repeat;\n}\n\n.a-enter-ar-button {\n  background: rgba(0, 0, 0, 0.20) url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z' fill='%23fff'/%3E%3Cpath d='M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z' fill='%23fff'/%3E%3Cpath d='M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z' fill='%23fff'/%3E%3C/svg%3E\") 50% 50% no-repeat;\n}\n\n.a-enter-vr.fullscreen .a-enter-vr-button {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8' standalone='no'%3F%3E%3Csvg width='108' height='62' viewBox='0 0 108 62' version='1.1' id='svg320' sodipodi:docname='fullscreen-aframe.svg' xml:space='preserve' inkscape:version='1.2.1 (9c6d41e  2022-07-14)' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3E%3Cdefs id='defs324' /%3E%3Csodipodi:namedview id='namedview322' pagecolor='%23ffffff' bordercolor='%23000000' borderopacity='0.25' inkscape:showpageshadow='2' inkscape:pageopacity='0.0' inkscape:pagecheckerboard='0' inkscape:deskcolor='%23d1d1d1' showgrid='false' inkscape:zoom='3.8064516' inkscape:cx='91.423729' inkscape:cy='-1.4449153' inkscape:window-width='1440' inkscape:window-height='847' inkscape:window-x='32' inkscape:window-y='25' inkscape:window-maximized='0' inkscape:current-layer='svg320' /%3E%3Ctitle id='title312'%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z' fill='%23fff' id='path314' style='fill:%23ffffff' /%3E%3Cg id='g356' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g358' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g360' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g362' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g364' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g366' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g368' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g370' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g372' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g374' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g376' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g378' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g380' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g382' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g384' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cmetadata id='metadata561'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d='m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4' id='path596' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4' id='path598' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4' id='path600' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616' id='path602' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3C/svg%3E\");\n}\n\n.a-enter-vr-button,\n.a-enter-ar-button {\n  background-size: 90% 90%;\n  border: 0;\n  bottom: 0;\n  cursor: pointer;\n  min-width: 58px;\n  min-height: 34px;\n  /* 1.74418604651 */\n  /*\n    In order to keep the aspect ratio when resizing\n    padding-top percentages are relative to the containing block's width.\n    http://stackoverflow.com/questions/12121090/responsively-change-div-size-keeping-aspect-ratio\n  */\n  padding-right: 0;\n  padding-top: 0;\n  position: absolute;\n  right: 0;\n  transition: background-color .05s ease;\n  -webkit-transition: background-color .05s ease;\n  z-index: 9999;\n  border-radius: 8px;\n  touch-action: manipulation; /* Prevent iOS double tap zoom on the button */\n}\n\n.a-enter-ar-button {\n  background-size: 100% 90%;\n  border-radius: 7px;\n}\n\n.a-enter-ar-button:active,\n.a-enter-ar-button:hover,\n.a-enter-vr-button:active,\n.a-enter-vr-button:hover {\n  background-color: #ef2d5e;\n}\n\n.a-enter-vr-button.resethover {\n  background-color: rgba(0, 0, 0, 0.35);\n}\n\n.a-enter-vr-modal {\n  background-color: #666;\n  border-radius: 0;\n  display: none;\n  min-height: 32px;\n  margin-right: 70px;\n  padding: 9px;\n  width: 280px;\n  right: 2%;\n  position: absolute;\n}\n\n.a-enter-vr-modal:after {\n  border-bottom: 10px solid transparent;\n  border-left: 10px solid #666;\n  border-top: 10px solid transparent;\n  display: inline-block;\n  content: '';\n  position: absolute;\n  right: -5px;\n  top: 5px;\n  width: 0;\n  height: 0;\n}\n\n.a-enter-vr-modal p,\n.a-enter-vr-modal a {\n  display: inline;\n}\n\n.a-enter-vr-modal p {\n  margin: 0;\n}\n\n.a-enter-vr-modal p:after {\n  content: ' ';\n}\n\n.a-orientation-modal {\n  background: rgba(244, 244, 244, 1) url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E) center no-repeat;\n  background-size: 50% 50%;\n  bottom: 0;\n  font-size: 14px;\n  font-weight: 600;\n  left: 0;\n  line-height: 20px;\n  right: 0;\n  position: fixed;\n  top: 0;\n  z-index: 9999999;\n}\n\n.a-orientation-modal:after {\n  color: #666;\n  content: \"Insert phone into Cardboard holder.\";\n  display: block;\n  position: absolute;\n  text-align: center;\n  top: 70%;\n  transform: translateY(-70%);\n  width: 100%;\n}\n\n.a-orientation-modal button {\n  background: url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E) no-repeat;\n  border: none;\n  height: 50px;\n  text-indent: -9999px;\n  width: 50px;\n}\n\n.a-loader-title {\n  background-color: rgba(0, 0, 0, 0.6);\n  font-family: sans-serif, monospace;\n  text-align: center;\n  font-size: 20px;\n  height: 50px;\n  font-weight: 300;\n  line-height: 50px;\n  position: absolute;\n  right: 0px;\n  left: 0px;\n  top: 0px;\n  color: white;\n}\n\n.a-modal {\n  position: absolute;\n  background: rgba(0, 0, 0, 0.60);\n  background-size: 50% 50%;\n  bottom: 0;\n  font-size: 14px;\n  font-weight: 600;\n  left: 0;\n  line-height: 20px;\n  right: 0;\n  position: fixed;\n  top: 0;\n  z-index: 9999999;\n}\n\n.a-dialog {\n  position: relative;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 199995;\n  width: 300px;\n  height: 200px;\n  background-size: contain;\n  background-color: white;\n  font-family: sans-serif, monospace;\n  font-size: 20px;\n  border-radius: 3px;\n  padding: 6px;\n}\n\n.a-dialog-text-container {\n  width: 100%;\n  height: 70%;\n  align-self: flex-start;\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  flex-direction: column;\n}\n\n.a-dialog-text {\n  display: inline-block;\n  font-weight: normal;\n  font-size: 14pt;\n  margin: 8px;\n}\n\n.a-dialog-buttons-container {\n  display: inline-flex;\n  align-self: flex-end;\n  width: 100%;\n  height: 30%;\n}\n\n.a-dialog-button {\n  cursor: pointer;\n  align-self: center;\n  opacity: 0.9;\n  height: 80%;\n  width: 50%;\n  font-size: 12pt;\n  margin: 4px;\n  border-radius: 2px;\n  text-align:center;\n  border: none;\n  display: inline-block;\n  -webkit-transition: all 0.25s ease-in-out;\n  transition: all 0.25s ease-in-out;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.10), 0 1px 2px rgba(0, 0, 0, 0.20);\n  user-select: none;\n}\n\n.a-dialog-permission-button:hover {\n  box-shadow: 0 7px 14px rgba(0,0,0,0.20), 0 2px 2px rgba(0,0,0,0.20);\n}\n\n.a-dialog-allow-button {\n  background-color: #00ceff;\n}\n\n.a-dialog-deny-button {\n  background-color: #ff005b;\n}\n\n.a-dialog-ok-button {\n  background-color: #00ceff;\n  width: 100%;\n}\n\n.a-dom-overlay:not(.a-no-style) {\n  overflow: hidden;\n  position: absolute;\n  pointer-events: none;\n  box-sizing: border-box;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  top: 0;\n  padding: 1em;\n}\n\n.a-dom-overlay:not(.a-no-style)>* {\n  pointer-events: auto;\n}\n"],sourceRoot:""}]);const H=x},"./node_modules/css-loader/dist/cjs.js!./src/style/rStats.css":(M,B,u)=>{u.r(B),u.d(B,{default:()=>g});var p=u("./node_modules/css-loader/dist/runtime/sourceMaps.js"),w=u.n(p),A=u("./node_modules/css-loader/dist/runtime/api.js"),b=u.n(A),d=b()(w());d.push([M.id,".rs-base {\n  background-color: #333;\n  color: #fafafa;\n  border-radius: 0;\n  font: 10px monospace;\n  left: 5px;\n  line-height: 1em;\n  opacity: 0.85;\n  overflow: hidden;\n  padding: 10px;\n  position: fixed;\n  top: 5px;\n  width: 300px;\n  z-index: 10000;\n}\n\n.rs-base div.hidden {\n  display: none;\n}\n\n.rs-base h1 {\n  color: #fff;\n  cursor: pointer;\n  font-size: 1.4em;\n  font-weight: 300;\n  margin: 0 0 5px;\n  padding: 0;\n}\n\n.rs-group {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-direction: column-reverse;\n  flex-direction: column-reverse;\n  margin-bottom: 5px;\n}\n\n.rs-group:last-child {\n  margin-bottom: 0;\n}\n\n.rs-counter-base {\n  align-items: center;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  height: 10px;\n  -webkit-justify-content: space-between;\n  justify-content: space-between;\n  margin: 2px 0;\n}\n\n.rs-counter-base.alarm {\n  color: #b70000;\n  text-shadow: 0 0 0 #b70000,\n               0 0 1px #fff,\n               0 0 1px #fff,\n               0 0 2px #fff,\n               0 0 2px #fff,\n               0 0 3px #fff,\n               0 0 3px #fff,\n               0 0 4px #fff,\n               0 0 4px #fff;\n}\n\n.rs-counter-id {\n  font-weight: 300;\n  -webkit-box-ordinal-group: 0;\n  -webkit-order: 0;\n  order: 0;\n  width: 54px;\n}\n\n.rs-counter-value {\n  font-weight: 300;\n  -webkit-box-ordinal-group: 1;\n  -webkit-order: 1;\n  order: 1;\n  text-align: right;\n  width: 35px;\n}\n\n.rs-canvas {\n  -webkit-box-ordinal-group: 2;\n  -webkit-order: 2;\n  order: 2;\n}\n\n@media (min-width: 480px) {\n  .rs-base {\n    left: 20px;\n    top: 20px;\n  }\n}\n","",{version:3,sources:["webpack://./src/style/rStats.css"],names:[],mappings:"AAAA;EACE,sBAAsB;EACtB,cAAc;EACd,gBAAgB;EAChB,oBAAoB;EACpB,SAAS;EACT,gBAAgB;EAChB,aAAa;EACb,gBAAgB;EAChB,aAAa;EACb,eAAe;EACf,QAAQ;EACR,YAAY;EACZ,cAAc;AAChB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,WAAW;EACX,eAAe;EACf,gBAAgB;EAChB,gBAAgB;EAChB,eAAe;EACf,UAAU;AACZ;;AAEA;EACE,oBAAoB;EACpB,qBAAqB;EACrB,aAAa;EACb,sCAAsC;EACtC,8BAA8B;EAC9B,kBAAkB;AACpB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,mBAAmB;EACnB,oBAAoB;EACpB,qBAAqB;EACrB,aAAa;EACb,YAAY;EACZ,sCAAsC;EACtC,8BAA8B;EAC9B,aAAa;AACf;;AAEA;EACE,cAAc;EACd;;;;;;;;2BAQyB;AAC3B;;AAEA;EACE,gBAAgB;EAChB,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;EACR,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;EACR,iBAAiB;EACjB,WAAW;AACb;;AAEA;EACE,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;AACV;;AAEA;EACE;IACE,UAAU;IACV,SAAS;EACX;AACF",sourcesContent:[".rs-base {\n  background-color: #333;\n  color: #fafafa;\n  border-radius: 0;\n  font: 10px monospace;\n  left: 5px;\n  line-height: 1em;\n  opacity: 0.85;\n  overflow: hidden;\n  padding: 10px;\n  position: fixed;\n  top: 5px;\n  width: 300px;\n  z-index: 10000;\n}\n\n.rs-base div.hidden {\n  display: none;\n}\n\n.rs-base h1 {\n  color: #fff;\n  cursor: pointer;\n  font-size: 1.4em;\n  font-weight: 300;\n  margin: 0 0 5px;\n  padding: 0;\n}\n\n.rs-group {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-direction: column-reverse;\n  flex-direction: column-reverse;\n  margin-bottom: 5px;\n}\n\n.rs-group:last-child {\n  margin-bottom: 0;\n}\n\n.rs-counter-base {\n  align-items: center;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  height: 10px;\n  -webkit-justify-content: space-between;\n  justify-content: space-between;\n  margin: 2px 0;\n}\n\n.rs-counter-base.alarm {\n  color: #b70000;\n  text-shadow: 0 0 0 #b70000,\n               0 0 1px #fff,\n               0 0 1px #fff,\n               0 0 2px #fff,\n               0 0 2px #fff,\n               0 0 3px #fff,\n               0 0 3px #fff,\n               0 0 4px #fff,\n               0 0 4px #fff;\n}\n\n.rs-counter-id {\n  font-weight: 300;\n  -webkit-box-ordinal-group: 0;\n  -webkit-order: 0;\n  order: 0;\n  width: 54px;\n}\n\n.rs-counter-value {\n  font-weight: 300;\n  -webkit-box-ordinal-group: 1;\n  -webkit-order: 1;\n  order: 1;\n  text-align: right;\n  width: 35px;\n}\n\n.rs-canvas {\n  -webkit-box-ordinal-group: 2;\n  -webkit-order: 2;\n  order: 2;\n}\n\n@media (min-width: 480px) {\n  .rs-base {\n    left: 20px;\n    top: 20px;\n  }\n}\n"],sourceRoot:""}]);const g=d},"./src/style/aframe.css":(M,B,u)=>{u.r(B),u.d(B,{default:()=>R});var p=u("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),w=u.n(p),A=u("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),b=u.n(A),d=u("./node_modules/style-loader/dist/runtime/insertBySelector.js"),g=u.n(d),y=u("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),f=u.n(y),E=u("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),C=u.n(E),v=u("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),x=u.n(v),T=u("./node_modules/css-loader/dist/cjs.js!./src/style/aframe.css"),L={};L.styleTagTransform=x(),L.setAttributes=f(),L.insert=g().bind(null,"head"),L.domAPI=b(),L.insertStyleElement=C(),w()(T.default,L);const R=T.default&&T.default.locals?T.default.locals:void 0},"./src/style/rStats.css":(M,B,u)=>{u.r(B),u.d(B,{default:()=>R});var p=u("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),w=u.n(p),A=u("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),b=u.n(A),d=u("./node_modules/style-loader/dist/runtime/insertBySelector.js"),g=u.n(d),y=u("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),f=u.n(y),E=u("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),C=u.n(E),v=u("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),x=u.n(v),T=u("./node_modules/css-loader/dist/cjs.js!./src/style/rStats.css"),L={};L.styleTagTransform=x(),L.setAttributes=f(),L.insert=g().bind(null,"head"),L.domAPI=b(),L.insertStyleElement=C(),w()(T.default,L);const R=T.default&&T.default.locals?T.default.locals:void 0},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":M=>{var B=[];function u(A){for(var b=-1,d=0;d<B.length;d++)if(B[d].identifier===A){b=d;break}return b}function p(A,b){for(var d={},g=[],y=0;y<A.length;y++){var f=A[y],E=b.base?f[0]+b.base:f[0],C=d[E]||0,v="".concat(E," ").concat(C);d[E]=C+1;var x=u(v),T={css:f[1],media:f[2],sourceMap:f[3],supports:f[4],layer:f[5]};if(x!==-1)B[x].references++,B[x].updater(T);else{var L=w(T,b);b.byIndex=y,B.splice(y,0,{identifier:v,updater:L,references:1})}g.push(v)}return g}function w(A,b){var d=b.domAPI(b);d.update(A);var g=function(f){if(f){if(f.css===A.css&&f.media===A.media&&f.sourceMap===A.sourceMap&&f.supports===A.supports&&f.layer===A.layer)return;d.update(A=f)}else d.remove()};return g}M.exports=function(A,b){b=b||{},A=A||[];var d=p(A,b);return function(y){y=y||[];for(var f=0;f<d.length;f++){var E=d[f],C=u(E);B[C].references--}for(var v=p(y,b),x=0;x<d.length;x++){var T=d[x],L=u(T);B[L].references===0&&(B[L].updater(),B.splice(L,1))}d=v}}},"./node_modules/style-loader/dist/runtime/insertBySelector.js":M=>{var B={};function u(w){if(typeof B[w]>"u"){var A=document.querySelector(w);if(window.HTMLIFrameElement&&A instanceof window.HTMLIFrameElement)try{A=A.contentDocument.head}catch(b){A=null}B[w]=A}return B[w]}function p(w,A){var b=u(w);if(!b)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");b.appendChild(A)}M.exports=p},"./node_modules/style-loader/dist/runtime/insertStyleElement.js":M=>{function B(u){var p=document.createElement("style");return u.setAttributes(p,u.attributes),u.insert(p,u.options),p}M.exports=B},"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":(M,B,u)=>{function p(w){var A=u.nc;A&&w.setAttribute("nonce",A)}M.exports=p},"./node_modules/style-loader/dist/runtime/styleDomAPI.js":M=>{function B(w,A,b){var d="";b.supports&&(d+="@supports (".concat(b.supports,") {")),b.media&&(d+="@media ".concat(b.media," {"));var g=typeof b.layer<"u";g&&(d+="@layer".concat(b.layer.length>0?" ".concat(b.layer):""," {")),d+=b.css,g&&(d+="}"),b.media&&(d+="}"),b.supports&&(d+="}");var y=b.sourceMap;y&&typeof btoa<"u"&&(d+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(y))))," */")),A.styleTagTransform(d,w,A.options)}function u(w){if(w.parentNode===null)return!1;w.parentNode.removeChild(w)}function p(w){if(typeof document>"u")return{update:function(){},remove:function(){}};var A=w.insertStyleElement(w);return{update:function(d){B(A,w,d)},remove:function(){u(A)}}}M.exports=p},"./node_modules/style-loader/dist/runtime/styleTagTransform.js":M=>{function B(u,p){if(p.styleSheet)p.styleSheet.cssText=u;else{for(;p.firstChild;)p.removeChild(p.firstChild);p.appendChild(document.createTextNode(u))}}M.exports=B},"data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27UTF-8%27 standalone=%27no%27%3F%3E%3Csvg width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27 version=%271.1%27 id=%27svg320%27 sodipodi:docname=%27fullscreen-aframe.svg%27 xml:space=%27preserve%27 inkscape:version=%271.2.1 %289c6d41e  2022-07-14%29%27 xmlns:inkscape=%27http://www.inkscape.org/namespaces/inkscape%27 xmlns:sodipodi=%27http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:svg=%27http://www.w3.org/2000/svg%27 xmlns:rdf=%27http://www.w3.org/1999/02/22-rdf-syntax-ns%23%27 xmlns:cc=%27http://creativecommons.org/ns%23%27 xmlns:dc=%27http://purl.org/dc/elements/1.1/%27%3E%3Cdefs id=%27defs324%27 /%3E%3Csodipodi:namedview id=%27namedview322%27 pagecolor=%27%23ffffff%27 bordercolor=%27%23000000%27 borderopacity=%270.25%27 inkscape:showpageshadow=%272%27 inkscape:pageopacity=%270.0%27 inkscape:pagecheckerboard=%270%27 inkscape:deskcolor=%27%23d1d1d1%27 showgrid=%27false%27 inkscape:zoom=%273.8064516%27 inkscape:cx=%2791.423729%27 inkscape:cy=%27-1.4449153%27 inkscape:window-width=%271440%27 inkscape:window-height=%27847%27 inkscape:window-x=%2732%27 inkscape:window-y=%2725%27 inkscape:window-maximized=%270%27 inkscape:current-layer=%27svg320%27 /%3E%3Ctitle id=%27title312%27%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z%27 fill=%27%23fff%27 id=%27path314%27 style=%27fill:%23ffffff%27 /%3E%3Cg id=%27g356%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g358%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g360%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g362%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g364%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g366%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g368%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g370%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g372%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g374%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g376%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g378%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g380%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g382%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g384%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cmetadata id=%27metadata561%27%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=%27%27%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d=%27m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4%27 id=%27path596%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4%27 id=%27path598%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4%27 id=%27path600%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616%27 id=%27path602%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3C/svg%3E":M=>{M.exports="data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27UTF-8%27 standalone=%27no%27%3F%3E%3Csvg width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27 version=%271.1%27 id=%27svg320%27 sodipodi:docname=%27fullscreen-aframe.svg%27 xml:space=%27preserve%27 inkscape:version=%271.2.1 %289c6d41e  2022-07-14%29%27 xmlns:inkscape=%27http://www.inkscape.org/namespaces/inkscape%27 xmlns:sodipodi=%27http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:svg=%27http://www.w3.org/2000/svg%27 xmlns:rdf=%27http://www.w3.org/1999/02/22-rdf-syntax-ns%23%27 xmlns:cc=%27http://creativecommons.org/ns%23%27 xmlns:dc=%27http://purl.org/dc/elements/1.1/%27%3E%3Cdefs id=%27defs324%27 /%3E%3Csodipodi:namedview id=%27namedview322%27 pagecolor=%27%23ffffff%27 bordercolor=%27%23000000%27 borderopacity=%270.25%27 inkscape:showpageshadow=%272%27 inkscape:pageopacity=%270.0%27 inkscape:pagecheckerboard=%270%27 inkscape:deskcolor=%27%23d1d1d1%27 showgrid=%27false%27 inkscape:zoom=%273.8064516%27 inkscape:cx=%2791.423729%27 inkscape:cy=%27-1.4449153%27 inkscape:window-width=%271440%27 inkscape:window-height=%27847%27 inkscape:window-x=%2732%27 inkscape:window-y=%2725%27 inkscape:window-maximized=%270%27 inkscape:current-layer=%27svg320%27 /%3E%3Ctitle id=%27title312%27%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z%27 fill=%27%23fff%27 id=%27path314%27 style=%27fill:%23ffffff%27 /%3E%3Cg id=%27g356%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g358%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g360%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g362%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g364%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g366%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g368%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g370%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g372%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g374%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g376%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g378%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g380%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g382%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g384%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cmetadata id=%27metadata561%27%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=%27%27%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d=%27m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4%27 id=%27path596%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4%27 id=%27path598%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4%27 id=%27path600%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616%27 id=%27path602%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E":M=>{M.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E":M=>{M.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E":M=>{M.exports="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E":M=>{M.exports="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E"},"./node_modules/three/build/three.module.js":(M,B,u)=>{u.r(B),u.d(B,{ACESFilmicToneMapping:()=>mt,AddEquation:()=>ee,AddOperation:()=>Qt,AdditiveAnimationBlendMode:()=>Zs,AdditiveBlending:()=>P,AgXToneMapping:()=>fe,AlphaFormat:()=>fo,AlwaysCompare:()=>zd,AlwaysDepth:()=>je,AlwaysStencilFunc:()=>yc,AmbientLight:()=>Av,AnimationAction:()=>Lv,AnimationClip:()=>Zc,AnimationLoader:()=>v3,AnimationMixer:()=>K3,AnimationObjectGroup:()=>j3,AnimationUtils:()=>p3,ArcCurve:()=>L0,ArrayCamera:()=>Tp,ArrowHelper:()=>mM,AttachedBindMode:()=>ve,Audio:()=>Tv,AudioAnalyser:()=>O3,AudioContext:()=>cm,AudioListener:()=>L3,AudioLoader:()=>T3,AxesHelper:()=>AM,BackSide:()=>T,BasicDepthPacking:()=>po,BasicShadowMap:()=>f,BatchedMesh:()=>C0,Bone:()=>Op,BooleanKeyframeTrack:()=>el,Box2:()=>tM,Box3:()=>fr,Box3Helper:()=>fM,BoxGeometry:()=>Ha,BoxHelper:()=>uM,BufferAttribute:()=>Gi,BufferGeometry:()=>ai,BufferGeometryLoader:()=>Ev,ByteType:()=>Qs,Cache:()=>Qo,Camera:()=>fh,CameraHelper:()=>hM,CanvasTexture:()=>U_,CapsuleGeometry:()=>Hh,CatmullRomCurve3:()=>D0,CineonToneMapping:()=>Bn,CircleGeometry:()=>Vh,ClampToEdgeWrapping:()=>Ve,Clock:()=>Mv,Color:()=>pn,ColorKeyframeTrack:()=>im,ColorManagement:()=>Ti,CompressedArrayTexture:()=>k_,CompressedCubeTexture:()=>F_,CompressedTexture:()=>Uh,CompressedTextureLoader:()=>b3,ConeGeometry:()=>zh,ConstantAlphaFactor:()=>Nt,ConstantColorFactor:()=>it,CubeCamera:()=>_g,CubeReflectionMapping:()=>J,CubeRefractionMapping:()=>k,CubeTexture:()=>Rc,CubeTextureLoader:()=>y3,CubeUVReflectionMapping:()=>ge,CubicBezierCurve:()=>jp,CubicBezierCurve3:()=>O0,CubicInterpolant:()=>sv,CullFaceBack:()=>d,CullFaceFront:()=>g,CullFaceFrontBack:()=>y,CullFaceNone:()=>b,Curve:()=>ro,CurvePath:()=>F0,CustomBlending:()=>te,CustomToneMapping:()=>pe,CylinderGeometry:()=>Jl,Cylindrical:()=>eM,Data3DTexture:()=>Wn,DataArrayTexture:()=>_l,DataTexture:()=>fa,DataTextureLoader:()=>E3,DataUtils:()=>h2,DecrementStencilOp:()=>yf,DecrementWrapStencilOp:()=>xf,DefaultLoadingManager:()=>lv,DepthFormat:()=>st,DepthStencilFormat:()=>bt,DepthTexture:()=>wp,DetachedBindMode:()=>Me,DirectionalLight:()=>mv,DirectionalLightHelper:()=>dM,DiscreteInterpolant:()=>ov,DisplayP3ColorSpace:()=>El,DodecahedronGeometry:()=>jh,DoubleSide:()=>L,DstAlphaFactor:()=>Ke,DstColorFactor:()=>Fe,DynamicCopyUsage:()=>Ff,DynamicDrawUsage:()=>Rf,DynamicReadUsage:()=>Pf,EdgesGeometry:()=>U0,EllipseCurve:()=>Nh,EqualCompare:()=>Gd,EqualDepth:()=>ut,EqualStencilFunc:()=>Mf,EquirectangularReflectionMapping:()=>G,EquirectangularRefractionMapping:()=>le,Euler:()=>Ds,EventDispatcher:()=>ds,ExtrudeGeometry:()=>Jh,FileLoader:()=>Vo,Float16BufferAttribute:()=>g2,Float32BufferAttribute:()=>_n,FloatType:()=>tr,Fog:()=>Eh,FogExp2:()=>yh,FramebufferTexture:()=>O_,FrontSide:()=>x,Frustum:()=>Lc,GLBufferAttribute:()=>q3,GLSL1:()=>Nf,GLSL3:()=>xc,GreaterCompare:()=>Qd,GreaterDepth:()=>_t,GreaterEqualCompare:()=>Vd,GreaterEqualDepth:()=>Lt,GreaterEqualStencilFunc:()=>Bf,GreaterStencilFunc:()=>If,GridHelper:()=>lM,Group:()=>Ka,HalfFloatType:()=>Di,HemisphereLight:()=>cv,HemisphereLightHelper:()=>aM,IcosahedronGeometry:()=>Zh,ImageBitmapLoader:()=>I3,ImageLoader:()=>ed,ImageUtils:()=>oa,IncrementStencilOp:()=>bf,IncrementWrapStencilOp:()=>Ef,InstancedBufferAttribute:()=>Yl,InstancedBufferGeometry:()=>yv,InstancedInterleavedBuffer:()=>$3,InstancedMesh:()=>y0,Int16BufferAttribute:()=>m2,Int32BufferAttribute:()=>A2,Int8BufferAttribute:()=>u2,IntType:()=>Hs,InterleavedBuffer:()=>xh,InterleavedBufferAttribute:()=>Ya,Interpolant:()=>$c,InterpolateDiscrete:()=>Cr,InterpolateLinear:()=>wr,InterpolateSmooth:()=>Sr,InvertStencilOp:()=>Cf,KeepStencilOp:()=>Lo,KeyframeTrack:()=>so,LOD:()=>d0,LatheGeometry:()=>zc,Layers:()=>th,LessCompare:()=>Nd,LessDepth:()=>ot,LessEqualCompare:()=>Ec,LessEqualDepth:()=>Je,LessEqualStencilFunc:()=>Sf,LessStencilFunc:()=>_f,Light:()=>ga,LightProbe:()=>bv,Line:()=>ma,Line3:()=>nM,LineBasicMaterial:()=>ms,LineCurve:()=>Wp,LineCurve3:()=>k0,LineDashedMaterial:()=>nv,LineLoop:()=>I0,LineSegments:()=>bo,LinearDisplayP3ColorSpace:()=>Da,LinearFilter:()=>Rn,LinearInterpolant:()=>nm,LinearMipMapLinearFilter:()=>bs,LinearMipMapNearestFilter:()=>vi,LinearMipmapLinearFilter:()=>Li,LinearMipmapNearestFilter:()=>Zi,LinearSRGBColorSpace:()=>eo,LinearToneMapping:()=>En,LinearTransfer:()=>Pa,Loader:()=>ws,LoaderUtils:()=>lm,LoadingManager:()=>rm,LoopOnce:()=>nr,LoopPingPong:()=>xr,LoopRepeat:()=>Wi,LuminanceAlphaFormat:()=>ft,LuminanceFormat:()=>Ye,MOUSE:()=>w,Material:()=>ns,MaterialLoader:()=>ou,MathUtils:()=>np,Matrix3:()=>jn,Matrix4:()=>xn,MaxEquation:()=>X,Mesh:()=>Tr,MeshBasicMaterial:()=>da,MeshDepthMaterial:()=>Sp,MeshDistanceMaterial:()=>Ip,MeshLambertMaterial:()=>ev,MeshMatcapMaterial:()=>tv,MeshNormalMaterial:()=>Z0,MeshPhongMaterial:()=>q0,MeshPhysicalMaterial:()=>$0,MeshStandardMaterial:()=>Zp,MeshToonMaterial:()=>J0,MinEquation:()=>ne,MirroredRepeatWrapping:()=>kt,MixOperation:()=>Kt,MultiplyBlending:()=>$,MultiplyOperation:()=>gt,NearestFilter:()=>Yt,NearestMipMapLinearFilter:()=>ar,NearestMipMapNearestFilter:()=>Vt,NearestMipmapLinearFilter:()=>un,NearestMipmapNearestFilter:()=>Gt,NeutralToneMapping:()=>Ie,NeverCompare:()=>Ud,NeverDepth:()=>Te,NeverStencilFunc:()=>wf,NoBlending:()=>R,NoColorSpace:()=>Kr,NoToneMapping:()=>Xt,NormalAnimationBlendMode:()=>Vs,NormalBlending:()=>F,NotEqualCompare:()=>Hd,NotEqualDepth:()=>Pt,NotEqualStencilFunc:()=>Tf,NumberKeyframeTrack:()=>qc,Object3D:()=>Mi,ObjectLoader:()=>M3,ObjectSpaceNormalMap:()=>Ao,OctahedronGeometry:()=>Xc,OneFactor:()=>se,OneMinusConstantAlphaFactor:()=>xe,OneMinusConstantColorFactor:()=>Ct,OneMinusDstAlphaFactor:()=>Xe,OneMinusDstColorFactor:()=>qe,OneMinusSrcAlphaFactor:()=>ke,OneMinusSrcColorFactor:()=>be,OrthographicCamera:()=>Ah,P3Primaries:()=>ka,PCFShadowMap:()=>E,PCFSoftShadowMap:()=>C,PMREMGenerator:()=>xp,Path:()=>Vc,PerspectiveCamera:()=>Pr,Plane:()=>ua,PlaneGeometry:()=>Ql,PlaneHelper:()=>pM,PointLight:()=>pv,PointLightHelper:()=>sM,Points:()=>B0,PointsMaterial:()=>Np,PolarGridHelper:()=>cM,PolyhedronGeometry:()=>Aa,PositionalAudio:()=>P3,PropertyBinding:()=>wi,PropertyMixer:()=>Rv,QuadraticBezierCurve:()=>Kp,QuadraticBezierCurve3:()=>Xp,Quaternion:()=>_i,QuaternionKeyframeTrack:()=>ec,QuaternionLinearInterpolant:()=>av,RED_GREEN_RGTC2_Format:()=>bi,RED_RGTC1_Format:()=>Gn,REVISION:()=>p,RGBADepthPacking:()=>mo,RGBAFormat:()=>Pe,RGBAIntegerFormat:()=>wn,RGBA_ASTC_10x10_Format:()=>pt,RGBA_ASTC_10x5_Format:()=>wt,RGBA_ASTC_10x6_Format:()=>Et,RGBA_ASTC_10x8_Format:()=>tt,RGBA_ASTC_12x10_Format:()=>Dt,RGBA_ASTC_12x12_Format:()=>ln,RGBA_ASTC_4x4_Format:()=>Ai,RGBA_ASTC_5x4_Format:()=>W,RGBA_ASTC_5x5_Format:()=>q,RGBA_ASTC_6x5_Format:()=>re,RGBA_ASTC_6x6_Format:()=>ue,RGBA_ASTC_8x5_Format:()=>Ce,RGBA_ASTC_8x6_Format:()=>Qe,RGBA_ASTC_8x8_Format:()=>We,RGBA_BPTC_Format:()=>bn,RGBA_ETC2_EAC_Format:()=>hr,RGBA_PVRTC_2BPPV1_Format:()=>Er,RGBA_PVRTC_4BPPV1_Format:()=>ji,RGBA_S3TC_DXT1_Format:()=>Un,RGBA_S3TC_DXT3_Format:()=>Pi,RGBA_S3TC_DXT5_Format:()=>Zn,RGBFormat:()=>Ee,RGB_BPTC_SIGNED_Format:()=>Pn,RGB_BPTC_UNSIGNED_Format:()=>Xn,RGB_ETC1_Format:()=>sn,RGB_ETC2_Format:()=>ei,RGB_PVRTC_2BPPV1_Format:()=>fi,RGB_PVRTC_4BPPV1_Format:()=>Vn,RGB_S3TC_DXT1_Format:()=>Ln,RGFormat:()=>rn,RGIntegerFormat:()=>yt,RawShaderMaterial:()=>Y0,Ray:()=>Dr,Raycaster:()=>J3,Rec709Primaries:()=>Oa,RectAreaLight:()=>gv,RedFormat:()=>Ot,RedIntegerFormat:()=>gn,ReinhardToneMapping:()=>Dn,RenderTarget:()=>wl,RepeatWrapping:()=>De,ReplaceStencilOp:()=>vf,ReverseSubtractEquation:()=>ie,RingGeometry:()=>eu,SIGNED_RED_GREEN_RGTC2_Format:()=>Oi,SIGNED_RED_RGTC1_Format:()=>kn,SRGBColorSpace:()=>yi,SRGBTransfer:()=>Vi,Scene:()=>r0,ShaderChunk:()=>ri,ShaderLib:()=>io,ShaderMaterial:()=>no,ShadowMaterial:()=>X0,Shape:()=>qa,ShapeGeometry:()=>tu,ShapePath:()=>gM,ShapeUtils:()=>yo,ShortType:()=>br,Skeleton:()=>Ih,SkeletonHelper:()=>rM,SkinnedMesh:()=>A0,Source:()=>ir,Sphere:()=>Lr,SphereGeometry:()=>Yc,Spherical:()=>Z3,SphericalHarmonics3:()=>vv,SplineCurve:()=>Yp,SpotLight:()=>uv,SpotLightHelper:()=>iM,Sprite:()=>l0,SpriteMaterial:()=>Rp,SrcAlphaFactor:()=>Re,SrcAlphaSaturateFactor:()=>rt,SrcColorFactor:()=>ae,StaticCopyUsage:()=>kf,StaticDrawUsage:()=>Fa,StaticReadUsage:()=>Df,StereoCamera:()=>B3,StreamCopyUsage:()=>Uf,StreamDrawUsage:()=>Lf,StreamReadUsage:()=>Of,StringKeyframeTrack:()=>tl,SubtractEquation:()=>de,SubtractiveBlending:()=>H,TOUCH:()=>A,TangentSpaceNormalMap:()=>Zr,TetrahedronGeometry:()=>nu,Texture:()=>Ki,TextureLoader:()=>x3,TorusGeometry:()=>iu,TorusKnotGeometry:()=>ru,Triangle:()=>Ps,TriangleFanDrawMode:()=>Ro,TriangleStripDrawMode:()=>Bo,TrianglesDrawMode:()=>To,TubeGeometry:()=>su,UVMapping:()=>Be,Uint16BufferAttribute:()=>hp,Uint32BufferAttribute:()=>up,Uint8BufferAttribute:()=>f2,Uint8ClampedBufferAttribute:()=>p2,Uniform:()=>um,UniformsGroup:()=>Y3,UniformsLib:()=>tn,UniformsUtils:()=>xg,UnsignedByteType:()=>er,UnsignedInt248Type:()=>Is,UnsignedInt5999Type:()=>na,UnsignedIntType:()=>Wr,UnsignedShort4444Type:()=>yr,UnsignedShort5551Type:()=>Io,UnsignedShortType:()=>cs,VSMShadowMap:()=>v,Vector2:()=>Mt,Vector3:()=>_e,Vector4:()=>Ci,VectorKeyframeTrack:()=>Jc,VideoTexture:()=>P_,WebGL3DRenderTarget:()=>gi,WebGLArrayRenderTarget:()=>vn,WebGLCoordinateSystem:()=>zs,WebGLCubeRenderTarget:()=>Mg,WebGLMultipleRenderTargets:()=>vM,WebGLRenderTarget:()=>ys,WebGLRenderer:()=>__,WebGLUtils:()=>Zg,WebGPUCoordinateSystem:()=>Ua,WireframeGeometry:()=>j0,WrapAroundEnding:()=>Ts,ZeroCurvatureEnding:()=>ur,ZeroFactor:()=>z,ZeroSlopeEnding:()=>Nr,ZeroStencilOp:()=>gf,createCanvasElement:()=>Kd});/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const p="164",w={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},A={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},b=0,d=1,g=2,y=3,f=0,E=1,C=2,v=3,x=0,T=1,L=2,R=0,F=1,P=2,H=3,$=4,te=5,ee=100,de=101,ie=102,ne=103,X=104,z=200,se=201,ae=202,be=203,Re=204,ke=205,Ke=206,Xe=207,Fe=208,qe=209,rt=210,it=211,Ct=212,Nt=213,xe=214,Te=0,je=1,ot=2,Je=3,ut=4,Lt=5,_t=6,Pt=7,gt=0,Kt=1,Qt=2,Xt=0,En=1,Dn=2,Bn=3,mt=4,pe=5,fe=6,Ie=7,ve="attached",Me="detached",Be=300,J=301,k=302,G=303,le=304,ge=306,De=1e3,Ve=1001,kt=1002,Yt=1003,Gt=1004,Vt=1004,un=1005,ar=1005,Rn=1006,Zi=1007,vi=1007,Li=1008,bs=1008,er=1009,Qs=1010,br=1011,cs=1012,Hs=1013,Wr=1014,tr=1015,Di=1016,yr=1017,Io=1018,Is=1020,na=35902,fo=1021,Ee=1022,Pe=1023,Ye=1024,ft=1025,st=1026,bt=1027,Ot=1028,gn=1029,rn=1030,yt=1031,wn=1033,Ln=33776,Un=33777,Pi=33778,Zn=33779,Vn=35840,fi=35841,ji=35842,Er=35843,sn=36196,ei=37492,hr=37496,Ai=37808,W=37809,q=37810,re=37811,ue=37812,Ce=37813,Qe=37814,We=37815,wt=37816,Et=37817,tt=37818,pt=37819,Dt=37820,ln=37821,bn=36492,Pn=36494,Xn=36495,Gn=36283,kn=36284,bi=36285,Oi=36286,nr=2200,Wi=2201,xr=2202,Cr=2300,wr=2301,Sr=2302,ur=2400,Nr=2401,Ts=2402,Vs=2500,Zs=2501,To=0,Bo=1,Ro=2,po=3200,mo=3201,Zr=0,Ao=1,Kr="",yi="srgb",eo="srgb-linear",El="display-p3",Da="display-p3-linear",Pa="linear",Vi="srgb",Oa="rec709",ka="p3",gf=0,Lo=7680,vf=7681,bf=7682,yf=7683,Ef=34055,xf=34056,Cf=5386,wf=512,_f=513,Mf=514,Sf=515,If=516,Tf=517,Bf=518,yc=519,Ud=512,Nd=513,Gd=514,Ec=515,Qd=516,Hd=517,Vd=518,zd=519,Fa=35044,Rf=35048,Lf=35040,Df=35045,Pf=35049,Of=35041,kf=35046,Ff=35050,Uf=35042,Nf="100",xc="300 es",zs=2e3,Ua=2001;class ds{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const s=this._listeners[e];if(s!==void 0){const o=s.indexOf(t);o!==-1&&s.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const s=n.slice(0);for(let o=0,c=s.length;o<c;o++)s[o].call(this,e);e.target=null}}}const Gr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let jd=1234567;const Do=Math.PI/180,ia=180/Math.PI;function hs(){const a=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Gr[a&255]+Gr[a>>8&255]+Gr[a>>16&255]+Gr[a>>24&255]+"-"+Gr[e&255]+Gr[e>>8&255]+"-"+Gr[e>>16&15|64]+Gr[e>>24&255]+"-"+Gr[t&63|128]+Gr[t>>8&255]+"-"+Gr[t>>16&255]+Gr[t>>24&255]+Gr[n&255]+Gr[n>>8&255]+Gr[n>>16&255]+Gr[n>>24&255]).toLowerCase()}function lr(a,e,t){return Math.max(e,Math.min(t,a))}function Cc(a,e){return(a%e+e)%e}function Gf(a,e,t,n,s){return n+(a-e)*(s-n)/(t-e)}function Qf(a,e,t){return a!==e?(t-a)/(e-a):0}function Na(a,e,t){return(1-t)*a+t*e}function Hf(a,e,t,n){return Na(a,e,1-Math.exp(-t*n))}function Vf(a,e=1){return e-Math.abs(Cc(a,e*2)-e)}function zf(a,e,t){return a<=e?0:a>=t?1:(a=(a-e)/(t-e),a*a*(3-2*a))}function jf(a,e,t){return a<=e?0:a>=t?1:(a=(a-e)/(t-e),a*a*a*(a*(a*6-15)+10))}function Wf(a,e){return a+Math.floor(Math.random()*(e-a+1))}function Kf(a,e){return a+Math.random()*(e-a)}function Xf(a){return a*(.5-Math.random())}function Yf(a){a!==void 0&&(jd=a);let e=jd+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function $f(a){return a*Do}function qf(a){return a*ia}function Jf(a){return(a&a-1)===0&&a!==0}function Zf(a){return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function ep(a){return Math.pow(2,Math.floor(Math.log(a)/Math.LN2))}function tp(a,e,t,n,s){const o=Math.cos,c=Math.sin,h=o(t/2),_=c(t/2),I=o((e+n)/2),O=c((e+n)/2),U=o((e-n)/2),N=c((e-n)/2),Q=o((n-e)/2),K=c((n-e)/2);switch(s){case"XYX":a.set(h*O,_*U,_*N,h*I);break;case"YZY":a.set(_*N,h*O,_*U,h*I);break;case"ZXZ":a.set(_*U,_*N,h*O,h*I);break;case"XZX":a.set(h*O,_*K,_*Q,h*I);break;case"YXY":a.set(_*Q,h*O,_*K,h*I);break;case"ZYZ":a.set(_*K,_*Q,h*O,h*I);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function Xr(a,e){switch(e.constructor){case Float32Array:return a;case Uint32Array:return a/4294967295;case Uint16Array:return a/65535;case Uint8Array:return a/255;case Int32Array:return Math.max(a/2147483647,-1);case Int16Array:return Math.max(a/32767,-1);case Int8Array:return Math.max(a/127,-1);default:throw new Error("Invalid component type.")}}function Yn(a,e){switch(e.constructor){case Float32Array:return a;case Uint32Array:return Math.round(a*4294967295);case Uint16Array:return Math.round(a*65535);case Uint8Array:return Math.round(a*255);case Int32Array:return Math.round(a*2147483647);case Int16Array:return Math.round(a*32767);case Int8Array:return Math.round(a*127);default:throw new Error("Invalid component type.")}}const np={DEG2RAD:Do,RAD2DEG:ia,generateUUID:hs,clamp:lr,euclideanModulo:Cc,mapLinear:Gf,inverseLerp:Qf,lerp:Na,damp:Hf,pingpong:Vf,smoothstep:zf,smootherstep:jf,randInt:Wf,randFloat:Kf,randFloatSpread:Xf,seededRandom:Yf,degToRad:$f,radToDeg:qf,isPowerOfTwo:Jf,ceilPowerOfTwo:Zf,floorPowerOfTwo:ep,setQuaternionFromProperEuler:tp,normalize:Yn,denormalize:Xr};class Mt{constructor(e=0,t=0){Mt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6],this.y=s[1]*t+s[4]*n+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(lr(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),s=Math.sin(t),o=this.x-e.x,c=this.y-e.y;return this.x=o*n-c*s+e.x,this.y=o*s+c*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class jn{constructor(e,t,n,s,o,c,h,_,I){jn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,s,o,c,h,_,I)}set(e,t,n,s,o,c,h,_,I){const O=this.elements;return O[0]=e,O[1]=s,O[2]=h,O[3]=t,O[4]=o,O[5]=_,O[6]=n,O[7]=c,O[8]=I,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,s=t.elements,o=this.elements,c=n[0],h=n[3],_=n[6],I=n[1],O=n[4],U=n[7],N=n[2],Q=n[5],K=n[8],Z=s[0],Y=s[3],V=s[6],he=s[1],ce=s[4],oe=s[7],Ge=s[2],Se=s[5],Le=s[8];return o[0]=c*Z+h*he+_*Ge,o[3]=c*Y+h*ce+_*Se,o[6]=c*V+h*oe+_*Le,o[1]=I*Z+O*he+U*Ge,o[4]=I*Y+O*ce+U*Se,o[7]=I*V+O*oe+U*Le,o[2]=N*Z+Q*he+K*Ge,o[5]=N*Y+Q*ce+K*Se,o[8]=N*V+Q*oe+K*Le,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],s=e[2],o=e[3],c=e[4],h=e[5],_=e[6],I=e[7],O=e[8];return t*c*O-t*h*I-n*o*O+n*h*_+s*o*I-s*c*_}invert(){const e=this.elements,t=e[0],n=e[1],s=e[2],o=e[3],c=e[4],h=e[5],_=e[6],I=e[7],O=e[8],U=O*c-h*I,N=h*_-O*o,Q=I*o-c*_,K=t*U+n*N+s*Q;if(K===0)return this.set(0,0,0,0,0,0,0,0,0);const Z=1/K;return e[0]=U*Z,e[1]=(s*I-O*n)*Z,e[2]=(h*n-s*c)*Z,e[3]=N*Z,e[4]=(O*t-s*_)*Z,e[5]=(s*o-h*t)*Z,e[6]=Q*Z,e[7]=(n*_-I*t)*Z,e[8]=(c*t-n*o)*Z,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,s,o,c,h){const _=Math.cos(o),I=Math.sin(o);return this.set(n*_,n*I,-n*(_*c+I*h)+c+e,-s*I,s*_,-s*(-I*c+_*h)+h+t,0,0,1),this}scale(e,t){return this.premultiply(wc.makeScale(e,t)),this}rotate(e){return this.premultiply(wc.makeRotation(-e)),this}translate(e,t){return this.premultiply(wc.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let s=0;s<9;s++)if(t[s]!==n[s])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const wc=new jn;function Wd(a){for(let e=a.length-1;e>=0;--e)if(a[e]>=65535)return!0;return!1}const ip={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function ra(a,e){return new ip[a](e)}function Ga(a){return document.createElementNS("http://www.w3.org/1999/xhtml",a)}function Kd(){const a=Ga("canvas");return a.style.display="block",a}const Xd={};function Yd(a){a in Xd||(Xd[a]=!0,console.warn(a))}const $d=new jn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),qd=new jn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),xl={[eo]:{transfer:Pa,primaries:Oa,toReference:a=>a,fromReference:a=>a},[yi]:{transfer:Vi,primaries:Oa,toReference:a=>a.convertSRGBToLinear(),fromReference:a=>a.convertLinearToSRGB()},[Da]:{transfer:Pa,primaries:ka,toReference:a=>a.applyMatrix3(qd),fromReference:a=>a.applyMatrix3($d)},[El]:{transfer:Vi,primaries:ka,toReference:a=>a.convertSRGBToLinear().applyMatrix3(qd),fromReference:a=>a.applyMatrix3($d).convertLinearToSRGB()}},rp=new Set([eo,Da]),Ti={enabled:!0,_workingColorSpace:eo,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(a){if(!rp.has(a))throw new Error('Unsupported working color space, "'.concat(a,'".'));this._workingColorSpace=a},convert:function(a,e,t){if(this.enabled===!1||e===t||!e||!t)return a;const n=xl[e].toReference,s=xl[t].fromReference;return s(n(a))},fromWorkingColorSpace:function(a,e){return this.convert(a,this._workingColorSpace,e)},toWorkingColorSpace:function(a,e){return this.convert(a,e,this._workingColorSpace)},getPrimaries:function(a){return xl[a].primaries},getTransfer:function(a){return a===Kr?Pa:xl[a].transfer}};function sa(a){return a<.04045?a*.0773993808:Math.pow(a*.9478672986+.0521327014,2.4)}function _c(a){return a<.0031308?a*12.92:1.055*Math.pow(a,.41666)-.055}let Po;class oa{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Po===void 0&&(Po=Ga("canvas")),Po.width=e.width,Po.height=e.height;const n=Po.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Po}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Ga("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const s=n.getImageData(0,0,e.width,e.height),o=s.data;for(let c=0;c<o.length;c++)o[c]=sa(o[c]/255)*255;return n.putImageData(s,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(sa(t[n]/255)*255):t[n]=sa(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Jd=0;class ir{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Jd++}),this.uuid=hs(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},s=this.data;if(s!==null){let o;if(Array.isArray(s)){o=[];for(let c=0,h=s.length;c<h;c++)s[c].isDataTexture?o.push(Cl(s[c].image)):o.push(Cl(s[c]))}else o=Cl(s);n.url=o}return t||(e.images[this.uuid]=n),n}}function Cl(a){return typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&a instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&a instanceof ImageBitmap?oa.getDataURL(a):a.data?{data:Array.from(a.data),width:a.width,height:a.height,type:a.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Zd=0;class Ki extends ds{constructor(e=Ki.DEFAULT_IMAGE,t=Ki.DEFAULT_MAPPING,n=Ve,s=Ve,o=Rn,c=Li,h=Pe,_=er,I=Ki.DEFAULT_ANISOTROPY,O=Kr){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Zd++}),this.uuid=hs(),this.name="",this.source=new ir(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=s,this.magFilter=o,this.minFilter=c,this.anisotropy=I,this.format=h,this.internalFormat=null,this.type=_,this.offset=new Mt(0,0),this.repeat=new Mt(1,1),this.center=new Mt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new jn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=O,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Be)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case De:e.x=e.x-Math.floor(e.x);break;case Ve:e.x=e.x<0?0:1;break;case kt:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case De:e.y=e.y-Math.floor(e.y);break;case Ve:e.y=e.y<0?0:1;break;case kt:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ki.DEFAULT_IMAGE=null,Ki.DEFAULT_MAPPING=Be,Ki.DEFAULT_ANISOTROPY=1;class Ci{constructor(e=0,t=0,n=0,s=1){Ci.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,s){return this.x=e,this.y=t,this.z=n,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,s=this.z,o=this.w,c=e.elements;return this.x=c[0]*t+c[4]*n+c[8]*s+c[12]*o,this.y=c[1]*t+c[5]*n+c[9]*s+c[13]*o,this.z=c[2]*t+c[6]*n+c[10]*s+c[14]*o,this.w=c[3]*t+c[7]*n+c[11]*s+c[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,s,o;const _=e.elements,I=_[0],O=_[4],U=_[8],N=_[1],Q=_[5],K=_[9],Z=_[2],Y=_[6],V=_[10];if(Math.abs(O-N)<.01&&Math.abs(U-Z)<.01&&Math.abs(K-Y)<.01){if(Math.abs(O+N)<.1&&Math.abs(U+Z)<.1&&Math.abs(K+Y)<.1&&Math.abs(I+Q+V-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const ce=(I+1)/2,oe=(Q+1)/2,Ge=(V+1)/2,Se=(O+N)/4,Le=(U+Z)/4,Ue=(K+Y)/4;return ce>oe&&ce>Ge?ce<.01?(n=0,s=.707106781,o=.707106781):(n=Math.sqrt(ce),s=Se/n,o=Le/n):oe>Ge?oe<.01?(n=.707106781,s=0,o=.707106781):(s=Math.sqrt(oe),n=Se/s,o=Ue/s):Ge<.01?(n=.707106781,s=.707106781,o=0):(o=Math.sqrt(Ge),n=Le/o,s=Ue/o),this.set(n,s,o,t),this}let he=Math.sqrt((Y-K)*(Y-K)+(U-Z)*(U-Z)+(N-O)*(N-O));return Math.abs(he)<.001&&(he=1),this.x=(Y-K)/he,this.y=(U-Z)/he,this.z=(N-O)/he,this.w=Math.acos((I+Q+V-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class wl extends ds{constructor(e=1,t=1,n={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Ci(0,0,e,t),this.scissorTest=!1,this.viewport=new Ci(0,0,e,t);const s={width:e,height:t,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Rn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const o=new Ki(s,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);o.flipY=!1,o.generateMipmaps=n.generateMipmaps,o.internalFormat=n.internalFormat,this.textures=[];const c=n.count;for(let h=0;h<c;h++)this.textures[h]=o.clone(),this.textures[h].isRenderTargetTexture=!0;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let s=0,o=this.textures.length;s<o;s++)this.textures[s].image.width=e,this.textures[s].image.height=t,this.textures[s].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,s=e.textures.length;n<s;n++)this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new ir(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ys extends wl{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class _l extends Ki{constructor(e=null,t=1,n=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:s},this.magFilter=Yt,this.minFilter=Yt,this.wrapR=Ve,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class vn extends ys{constructor(e=1,t=1,n=1,s={}){super(e,t,s),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new _l(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Wn extends Ki{constructor(e=null,t=1,n=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:s},this.magFilter=Yt,this.minFilter=Yt,this.wrapR=Ve,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class gi extends ys{constructor(e=1,t=1,n=1,s={}){super(e,t,s),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new Wn(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class _i{constructor(e=0,t=0,n=0,s=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=s}static slerpFlat(e,t,n,s,o,c,h){let _=n[s+0],I=n[s+1],O=n[s+2],U=n[s+3];const N=o[c+0],Q=o[c+1],K=o[c+2],Z=o[c+3];if(h===0){e[t+0]=_,e[t+1]=I,e[t+2]=O,e[t+3]=U;return}if(h===1){e[t+0]=N,e[t+1]=Q,e[t+2]=K,e[t+3]=Z;return}if(U!==Z||_!==N||I!==Q||O!==K){let Y=1-h;const V=_*N+I*Q+O*K+U*Z,he=V>=0?1:-1,ce=1-V*V;if(ce>Number.EPSILON){const Ge=Math.sqrt(ce),Se=Math.atan2(Ge,V*he);Y=Math.sin(Y*Se)/Ge,h=Math.sin(h*Se)/Ge}const oe=h*he;if(_=_*Y+N*oe,I=I*Y+Q*oe,O=O*Y+K*oe,U=U*Y+Z*oe,Y===1-h){const Ge=1/Math.sqrt(_*_+I*I+O*O+U*U);_*=Ge,I*=Ge,O*=Ge,U*=Ge}}e[t]=_,e[t+1]=I,e[t+2]=O,e[t+3]=U}static multiplyQuaternionsFlat(e,t,n,s,o,c){const h=n[s],_=n[s+1],I=n[s+2],O=n[s+3],U=o[c],N=o[c+1],Q=o[c+2],K=o[c+3];return e[t]=h*K+O*U+_*Q-I*N,e[t+1]=_*K+O*N+I*U-h*Q,e[t+2]=I*K+O*Q+h*N-_*U,e[t+3]=O*K-h*U-_*N-I*Q,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,s){return this._x=e,this._y=t,this._z=n,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,s=e._y,o=e._z,c=e._order,h=Math.cos,_=Math.sin,I=h(n/2),O=h(s/2),U=h(o/2),N=_(n/2),Q=_(s/2),K=_(o/2);switch(c){case"XYZ":this._x=N*O*U+I*Q*K,this._y=I*Q*U-N*O*K,this._z=I*O*K+N*Q*U,this._w=I*O*U-N*Q*K;break;case"YXZ":this._x=N*O*U+I*Q*K,this._y=I*Q*U-N*O*K,this._z=I*O*K-N*Q*U,this._w=I*O*U+N*Q*K;break;case"ZXY":this._x=N*O*U-I*Q*K,this._y=I*Q*U+N*O*K,this._z=I*O*K+N*Q*U,this._w=I*O*U-N*Q*K;break;case"ZYX":this._x=N*O*U-I*Q*K,this._y=I*Q*U+N*O*K,this._z=I*O*K-N*Q*U,this._w=I*O*U+N*Q*K;break;case"YZX":this._x=N*O*U+I*Q*K,this._y=I*Q*U+N*O*K,this._z=I*O*K-N*Q*U,this._w=I*O*U-N*Q*K;break;case"XZY":this._x=N*O*U-I*Q*K,this._y=I*Q*U-N*O*K,this._z=I*O*K+N*Q*U,this._w=I*O*U+N*Q*K;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+c)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,s=Math.sin(n);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],s=t[4],o=t[8],c=t[1],h=t[5],_=t[9],I=t[2],O=t[6],U=t[10],N=n+h+U;if(N>0){const Q=.5/Math.sqrt(N+1);this._w=.25/Q,this._x=(O-_)*Q,this._y=(o-I)*Q,this._z=(c-s)*Q}else if(n>h&&n>U){const Q=2*Math.sqrt(1+n-h-U);this._w=(O-_)/Q,this._x=.25*Q,this._y=(s+c)/Q,this._z=(o+I)/Q}else if(h>U){const Q=2*Math.sqrt(1+h-n-U);this._w=(o-I)/Q,this._x=(s+c)/Q,this._y=.25*Q,this._z=(_+O)/Q}else{const Q=2*Math.sqrt(1+U-n-h);this._w=(c-s)/Q,this._x=(o+I)/Q,this._y=(_+O)/Q,this._z=.25*Q}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(lr(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const s=Math.min(1,t/n);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,s=e._y,o=e._z,c=e._w,h=t._x,_=t._y,I=t._z,O=t._w;return this._x=n*O+c*h+s*I-o*_,this._y=s*O+c*_+o*h-n*I,this._z=o*O+c*I+n*_-s*h,this._w=c*O-n*h-s*_-o*I,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,s=this._y,o=this._z,c=this._w;let h=c*e._w+n*e._x+s*e._y+o*e._z;if(h<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,h=-h):this.copy(e),h>=1)return this._w=c,this._x=n,this._y=s,this._z=o,this;const _=1-h*h;if(_<=Number.EPSILON){const Q=1-t;return this._w=Q*c+t*this._w,this._x=Q*n+t*this._x,this._y=Q*s+t*this._y,this._z=Q*o+t*this._z,this.normalize(),this}const I=Math.sqrt(_),O=Math.atan2(I,h),U=Math.sin((1-t)*O)/I,N=Math.sin(t*O)/I;return this._w=c*U+this._w*N,this._x=n*U+this._x*N,this._y=s*U+this._y*N,this._z=o*U+this._z*N,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),s=Math.sqrt(1-n),o=Math.sqrt(n);return this.set(s*Math.sin(e),s*Math.cos(e),o*Math.sin(t),o*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class _e{constructor(e=0,t=0,n=0){_e.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(gr.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(gr.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,s=this.z,o=e.elements;return this.x=o[0]*t+o[3]*n+o[6]*s,this.y=o[1]*t+o[4]*n+o[7]*s,this.z=o[2]*t+o[5]*n+o[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,s=this.z,o=e.elements,c=1/(o[3]*t+o[7]*n+o[11]*s+o[15]);return this.x=(o[0]*t+o[4]*n+o[8]*s+o[12])*c,this.y=(o[1]*t+o[5]*n+o[9]*s+o[13])*c,this.z=(o[2]*t+o[6]*n+o[10]*s+o[14])*c,this}applyQuaternion(e){const t=this.x,n=this.y,s=this.z,o=e.x,c=e.y,h=e.z,_=e.w,I=2*(c*s-h*n),O=2*(h*t-o*s),U=2*(o*n-c*t);return this.x=t+_*I+c*U-h*O,this.y=n+_*O+h*I-o*U,this.z=s+_*U+o*O-c*I,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,s=this.z,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*s,this.y=o[1]*t+o[5]*n+o[9]*s,this.z=o[2]*t+o[6]*n+o[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,s=e.y,o=e.z,c=t.x,h=t.y,_=t.z;return this.x=s*_-o*h,this.y=o*c-n*_,this.z=n*h-s*c,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Bs.copy(this).projectOnVector(e),this.sub(Bs)}reflect(e){return this.sub(Bs.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(lr(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,s=this.z-e.z;return t*t+n*n+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const s=Math.sin(t)*e;return this.x=s*Math.sin(n),this.y=Math.cos(t)*e,this.z=s*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=s,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Bs=new _e,gr=new _i;class fr{constructor(e=new _e(1/0,1/0,1/0),t=new _e(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(es.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(es.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=es.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const o=n.getAttribute("position");if(t===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let c=0,h=o.count;c<h;c++)e.isMesh===!0?e.getVertexPosition(c,es):es.fromBufferAttribute(o,c),es.applyMatrix4(e.matrixWorld),this.expandByPoint(es);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),go.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),go.copy(n.boundingBox)),go.applyMatrix4(e.matrixWorld),this.union(go)}const s=e.children;for(let o=0,c=s.length;o<c;o++)this.expandByObject(s[o],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,es),es.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Ei),Ni.subVectors(this.max,Ei),Es.subVectors(e.a,Ei),Qr.subVectors(e.b,Ei),ni.subVectors(e.c,Ei),Yr.subVectors(Qr,Es),Rs.subVectors(ni,Qr),Hr.subVectors(Es,ni);let t=[0,-Yr.z,Yr.y,0,-Rs.z,Rs.y,0,-Hr.z,Hr.y,Yr.z,0,-Yr.x,Rs.z,0,-Rs.x,Hr.z,0,-Hr.x,-Yr.y,Yr.x,0,-Rs.y,Rs.x,0,-Hr.y,Hr.x,0];return!us(t,Es,Qr,ni,Ni)||(t=[1,0,0,0,1,0,0,0,1],!us(t,Es,Qr,ni,Ni))?!1:(ii.crossVectors(Yr,Rs),t=[ii.x,ii.y,ii.z],us(t,Es,Qr,ni,Ni))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,es).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(es).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(mi[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),mi[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),mi[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),mi[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),mi[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),mi[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),mi[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),mi[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(mi),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const mi=[new _e,new _e,new _e,new _e,new _e,new _e,new _e,new _e],es=new _e,go=new fr,Es=new _e,Qr=new _e,ni=new _e,Yr=new _e,Rs=new _e,Hr=new _e,Ei=new _e,Ni=new _e,ii=new _e,xi=new _e;function us(a,e,t,n,s){for(let o=0,c=a.length-3;o<=c;o+=3){xi.fromArray(a,o);const h=s.x*Math.abs(xi.x)+s.y*Math.abs(xi.y)+s.z*Math.abs(xi.z),_=e.dot(xi),I=t.dot(xi),O=n.dot(xi);if(Math.max(-Math.max(_,I,O),Math.min(_,I,O))>h)return!1}return!0}const aa=new fr,Oo=new _e,Ml=new _e;class Lr{constructor(e=new _e,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):aa.setFromPoints(e).getCenter(n);let s=0;for(let o=0,c=e.length;o<c;o++)s=Math.max(s,n.distanceToSquared(e[o]));return this.radius=Math.sqrt(s),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Oo.subVectors(e,this.center);const t=Oo.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),s=(n-this.radius)*.5;this.center.addScaledVector(Oo,s/n),this.radius+=s}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Ml.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Oo.copy(e.center).add(Ml)),this.expandByPoint(Oo.copy(e.center).sub(Ml))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const js=new _e,Sl=new _e,Il=new _e,vo=new _e,Mc=new _e,Tl=new _e,Sc=new _e;class Dr{constructor(e=new _e,t=new _e(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,js)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=js.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(js.copy(this.origin).addScaledVector(this.direction,t),js.distanceToSquared(e))}distanceSqToSegment(e,t,n,s){Sl.copy(e).add(t).multiplyScalar(.5),Il.copy(t).sub(e).normalize(),vo.copy(this.origin).sub(Sl);const o=e.distanceTo(t)*.5,c=-this.direction.dot(Il),h=vo.dot(this.direction),_=-vo.dot(Il),I=vo.lengthSq(),O=Math.abs(1-c*c);let U,N,Q,K;if(O>0)if(U=c*_-h,N=c*h-_,K=o*O,U>=0)if(N>=-K)if(N<=K){const Z=1/O;U*=Z,N*=Z,Q=U*(U+c*N+2*h)+N*(c*U+N+2*_)+I}else N=o,U=Math.max(0,-(c*N+h)),Q=-U*U+N*(N+2*_)+I;else N=-o,U=Math.max(0,-(c*N+h)),Q=-U*U+N*(N+2*_)+I;else N<=-K?(U=Math.max(0,-(-c*o+h)),N=U>0?-o:Math.min(Math.max(-o,-_),o),Q=-U*U+N*(N+2*_)+I):N<=K?(U=0,N=Math.min(Math.max(-o,-_),o),Q=N*(N+2*_)+I):(U=Math.max(0,-(c*o+h)),N=U>0?o:Math.min(Math.max(-o,-_),o),Q=-U*U+N*(N+2*_)+I);else N=c>0?-o:o,U=Math.max(0,-(c*N+h)),Q=-U*U+N*(N+2*_)+I;return n&&n.copy(this.origin).addScaledVector(this.direction,U),s&&s.copy(Sl).addScaledVector(Il,N),Q}intersectSphere(e,t){js.subVectors(e.center,this.origin);const n=js.dot(this.direction),s=js.dot(js)-n*n,o=e.radius*e.radius;if(s>o)return null;const c=Math.sqrt(o-s),h=n-c,_=n+c;return _<0?null:h<0?this.at(_,t):this.at(h,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,s,o,c,h,_;const I=1/this.direction.x,O=1/this.direction.y,U=1/this.direction.z,N=this.origin;return I>=0?(n=(e.min.x-N.x)*I,s=(e.max.x-N.x)*I):(n=(e.max.x-N.x)*I,s=(e.min.x-N.x)*I),O>=0?(o=(e.min.y-N.y)*O,c=(e.max.y-N.y)*O):(o=(e.max.y-N.y)*O,c=(e.min.y-N.y)*O),n>c||o>s||((o>n||isNaN(n))&&(n=o),(c<s||isNaN(s))&&(s=c),U>=0?(h=(e.min.z-N.z)*U,_=(e.max.z-N.z)*U):(h=(e.max.z-N.z)*U,_=(e.min.z-N.z)*U),n>_||h>s)||((h>n||n!==n)&&(n=h),(_<s||s!==s)&&(s=_),s<0)?null:this.at(n>=0?n:s,t)}intersectsBox(e){return this.intersectBox(e,js)!==null}intersectTriangle(e,t,n,s,o){Mc.subVectors(t,e),Tl.subVectors(n,e),Sc.crossVectors(Mc,Tl);let c=this.direction.dot(Sc),h;if(c>0){if(s)return null;h=1}else if(c<0)h=-1,c=-c;else return null;vo.subVectors(this.origin,e);const _=h*this.direction.dot(Tl.crossVectors(vo,Tl));if(_<0)return null;const I=h*this.direction.dot(Mc.cross(vo));if(I<0||_+I>c)return null;const O=-h*vo.dot(Sc);return O<0?null:this.at(O/c,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class xn{constructor(e,t,n,s,o,c,h,_,I,O,U,N,Q,K,Z,Y){xn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,s,o,c,h,_,I,O,U,N,Q,K,Z,Y)}set(e,t,n,s,o,c,h,_,I,O,U,N,Q,K,Z,Y){const V=this.elements;return V[0]=e,V[4]=t,V[8]=n,V[12]=s,V[1]=o,V[5]=c,V[9]=h,V[13]=_,V[2]=I,V[6]=O,V[10]=U,V[14]=N,V[3]=Q,V[7]=K,V[11]=Z,V[15]=Y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new xn().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,s=1/ko.setFromMatrixColumn(e,0).length(),o=1/ko.setFromMatrixColumn(e,1).length(),c=1/ko.setFromMatrixColumn(e,2).length();return t[0]=n[0]*s,t[1]=n[1]*s,t[2]=n[2]*s,t[3]=0,t[4]=n[4]*o,t[5]=n[5]*o,t[6]=n[6]*o,t[7]=0,t[8]=n[8]*c,t[9]=n[9]*c,t[10]=n[10]*c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,s=e.y,o=e.z,c=Math.cos(n),h=Math.sin(n),_=Math.cos(s),I=Math.sin(s),O=Math.cos(o),U=Math.sin(o);if(e.order==="XYZ"){const N=c*O,Q=c*U,K=h*O,Z=h*U;t[0]=_*O,t[4]=-_*U,t[8]=I,t[1]=Q+K*I,t[5]=N-Z*I,t[9]=-h*_,t[2]=Z-N*I,t[6]=K+Q*I,t[10]=c*_}else if(e.order==="YXZ"){const N=_*O,Q=_*U,K=I*O,Z=I*U;t[0]=N+Z*h,t[4]=K*h-Q,t[8]=c*I,t[1]=c*U,t[5]=c*O,t[9]=-h,t[2]=Q*h-K,t[6]=Z+N*h,t[10]=c*_}else if(e.order==="ZXY"){const N=_*O,Q=_*U,K=I*O,Z=I*U;t[0]=N-Z*h,t[4]=-c*U,t[8]=K+Q*h,t[1]=Q+K*h,t[5]=c*O,t[9]=Z-N*h,t[2]=-c*I,t[6]=h,t[10]=c*_}else if(e.order==="ZYX"){const N=c*O,Q=c*U,K=h*O,Z=h*U;t[0]=_*O,t[4]=K*I-Q,t[8]=N*I+Z,t[1]=_*U,t[5]=Z*I+N,t[9]=Q*I-K,t[2]=-I,t[6]=h*_,t[10]=c*_}else if(e.order==="YZX"){const N=c*_,Q=c*I,K=h*_,Z=h*I;t[0]=_*O,t[4]=Z-N*U,t[8]=K*U+Q,t[1]=U,t[5]=c*O,t[9]=-h*O,t[2]=-I*O,t[6]=Q*U+K,t[10]=N-Z*U}else if(e.order==="XZY"){const N=c*_,Q=c*I,K=h*_,Z=h*I;t[0]=_*O,t[4]=-U,t[8]=I*O,t[1]=N*U+Z,t[5]=c*O,t[9]=Q*U-K,t[2]=K*U-Q,t[6]=h*O,t[10]=Z*U+N}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(i2,e,r2)}lookAt(e,t,n){const s=this.elements;return Ls.subVectors(e,t),Ls.lengthSq()===0&&(Ls.z=1),Ls.normalize(),la.crossVectors(n,Ls),la.lengthSq()===0&&(Math.abs(n.z)===1?Ls.x+=1e-4:Ls.z+=1e-4,Ls.normalize(),la.crossVectors(n,Ls)),la.normalize(),eh.crossVectors(Ls,la),s[0]=la.x,s[4]=eh.x,s[8]=Ls.x,s[1]=la.y,s[5]=eh.y,s[9]=Ls.y,s[2]=la.z,s[6]=eh.z,s[10]=Ls.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,s=t.elements,o=this.elements,c=n[0],h=n[4],_=n[8],I=n[12],O=n[1],U=n[5],N=n[9],Q=n[13],K=n[2],Z=n[6],Y=n[10],V=n[14],he=n[3],ce=n[7],oe=n[11],Ge=n[15],Se=s[0],Le=s[4],Ue=s[8],ye=s[12],me=s[1],Ne=s[5],$e=s[9],ze=s[13],Ze=s[2],ct=s[6],xt=s[10],Jt=s[14],ht=s[3],jt=s[7],$t=s[11],yn=s[15];return o[0]=c*Se+h*me+_*Ze+I*ht,o[4]=c*Le+h*Ne+_*ct+I*jt,o[8]=c*Ue+h*$e+_*xt+I*$t,o[12]=c*ye+h*ze+_*Jt+I*yn,o[1]=O*Se+U*me+N*Ze+Q*ht,o[5]=O*Le+U*Ne+N*ct+Q*jt,o[9]=O*Ue+U*$e+N*xt+Q*$t,o[13]=O*ye+U*ze+N*Jt+Q*yn,o[2]=K*Se+Z*me+Y*Ze+V*ht,o[6]=K*Le+Z*Ne+Y*ct+V*jt,o[10]=K*Ue+Z*$e+Y*xt+V*$t,o[14]=K*ye+Z*ze+Y*Jt+V*yn,o[3]=he*Se+ce*me+oe*Ze+Ge*ht,o[7]=he*Le+ce*Ne+oe*ct+Ge*jt,o[11]=he*Ue+ce*$e+oe*xt+Ge*$t,o[15]=he*ye+ce*ze+oe*Jt+Ge*yn,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],s=e[8],o=e[12],c=e[1],h=e[5],_=e[9],I=e[13],O=e[2],U=e[6],N=e[10],Q=e[14],K=e[3],Z=e[7],Y=e[11],V=e[15];return K*(+o*_*U-s*I*U-o*h*N+n*I*N+s*h*Q-n*_*Q)+Z*(+t*_*Q-t*I*N+o*c*N-s*c*Q+s*I*O-o*_*O)+Y*(+t*I*U-t*h*Q-o*c*U+n*c*Q+o*h*O-n*I*O)+V*(-s*h*O-t*_*U+t*h*N+s*c*U-n*c*N+n*_*O)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=t,s[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],s=e[2],o=e[3],c=e[4],h=e[5],_=e[6],I=e[7],O=e[8],U=e[9],N=e[10],Q=e[11],K=e[12],Z=e[13],Y=e[14],V=e[15],he=U*Y*I-Z*N*I+Z*_*Q-h*Y*Q-U*_*V+h*N*V,ce=K*N*I-O*Y*I-K*_*Q+c*Y*Q+O*_*V-c*N*V,oe=O*Z*I-K*U*I+K*h*Q-c*Z*Q-O*h*V+c*U*V,Ge=K*U*_-O*Z*_-K*h*N+c*Z*N+O*h*Y-c*U*Y,Se=t*he+n*ce+s*oe+o*Ge;if(Se===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Le=1/Se;return e[0]=he*Le,e[1]=(Z*N*o-U*Y*o-Z*s*Q+n*Y*Q+U*s*V-n*N*V)*Le,e[2]=(h*Y*o-Z*_*o+Z*s*I-n*Y*I-h*s*V+n*_*V)*Le,e[3]=(U*_*o-h*N*o-U*s*I+n*N*I+h*s*Q-n*_*Q)*Le,e[4]=ce*Le,e[5]=(O*Y*o-K*N*o+K*s*Q-t*Y*Q-O*s*V+t*N*V)*Le,e[6]=(K*_*o-c*Y*o-K*s*I+t*Y*I+c*s*V-t*_*V)*Le,e[7]=(c*N*o-O*_*o+O*s*I-t*N*I-c*s*Q+t*_*Q)*Le,e[8]=oe*Le,e[9]=(K*U*o-O*Z*o-K*n*Q+t*Z*Q+O*n*V-t*U*V)*Le,e[10]=(c*Z*o-K*h*o+K*n*I-t*Z*I-c*n*V+t*h*V)*Le,e[11]=(O*h*o-c*U*o-O*n*I+t*U*I+c*n*Q-t*h*Q)*Le,e[12]=Ge*Le,e[13]=(O*Z*s-K*U*s+K*n*N-t*Z*N-O*n*Y+t*U*Y)*Le,e[14]=(K*h*s-c*Z*s-K*n*_+t*Z*_+c*n*Y-t*h*Y)*Le,e[15]=(c*U*s-O*h*s+O*n*_-t*U*_-c*n*N+t*h*N)*Le,this}scale(e){const t=this.elements,n=e.x,s=e.y,o=e.z;return t[0]*=n,t[4]*=s,t[8]*=o,t[1]*=n,t[5]*=s,t[9]*=o,t[2]*=n,t[6]*=s,t[10]*=o,t[3]*=n,t[7]*=s,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],s=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,s))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),s=Math.sin(t),o=1-n,c=e.x,h=e.y,_=e.z,I=o*c,O=o*h;return this.set(I*c+n,I*h-s*_,I*_+s*h,0,I*h+s*_,O*h+n,O*_-s*c,0,I*_-s*h,O*_+s*c,o*_*_+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,s,o,c){return this.set(1,n,o,0,e,1,c,0,t,s,1,0,0,0,0,1),this}compose(e,t,n){const s=this.elements,o=t._x,c=t._y,h=t._z,_=t._w,I=o+o,O=c+c,U=h+h,N=o*I,Q=o*O,K=o*U,Z=c*O,Y=c*U,V=h*U,he=_*I,ce=_*O,oe=_*U,Ge=n.x,Se=n.y,Le=n.z;return s[0]=(1-(Z+V))*Ge,s[1]=(Q+oe)*Ge,s[2]=(K-ce)*Ge,s[3]=0,s[4]=(Q-oe)*Se,s[5]=(1-(N+V))*Se,s[6]=(Y+he)*Se,s[7]=0,s[8]=(K+ce)*Le,s[9]=(Y-he)*Le,s[10]=(1-(N+Z))*Le,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,t,n){const s=this.elements;let o=ko.set(s[0],s[1],s[2]).length();const c=ko.set(s[4],s[5],s[6]).length(),h=ko.set(s[8],s[9],s[10]).length();this.determinant()<0&&(o=-o),e.x=s[12],e.y=s[13],e.z=s[14],xs.copy(this);const I=1/o,O=1/c,U=1/h;return xs.elements[0]*=I,xs.elements[1]*=I,xs.elements[2]*=I,xs.elements[4]*=O,xs.elements[5]*=O,xs.elements[6]*=O,xs.elements[8]*=U,xs.elements[9]*=U,xs.elements[10]*=U,t.setFromRotationMatrix(xs),n.x=o,n.y=c,n.z=h,this}makePerspective(e,t,n,s,o,c,h=zs){const _=this.elements,I=2*o/(t-e),O=2*o/(n-s),U=(t+e)/(t-e),N=(n+s)/(n-s);let Q,K;if(h===zs)Q=-(c+o)/(c-o),K=-2*c*o/(c-o);else if(h===Ua)Q=-c/(c-o),K=-c*o/(c-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+h);return _[0]=I,_[4]=0,_[8]=U,_[12]=0,_[1]=0,_[5]=O,_[9]=N,_[13]=0,_[2]=0,_[6]=0,_[10]=Q,_[14]=K,_[3]=0,_[7]=0,_[11]=-1,_[15]=0,this}makeOrthographic(e,t,n,s,o,c,h=zs){const _=this.elements,I=1/(t-e),O=1/(n-s),U=1/(c-o),N=(t+e)*I,Q=(n+s)*O;let K,Z;if(h===zs)K=(c+o)*U,Z=-2*U;else if(h===Ua)K=o*U,Z=-1*U;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+h);return _[0]=2*I,_[4]=0,_[8]=0,_[12]=-N,_[1]=0,_[5]=2*O,_[9]=0,_[13]=-Q,_[2]=0,_[6]=0,_[10]=Z,_[14]=-K,_[3]=0,_[7]=0,_[11]=0,_[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let s=0;s<16;s++)if(t[s]!==n[s])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const ko=new _e,xs=new xn,i2=new _e(0,0,0),r2=new _e(1,1,1),la=new _e,eh=new _e,Ls=new _e,ag=new xn,lg=new _i;class Ds{constructor(e=0,t=0,n=0,s=Ds.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,s=this._order){return this._x=e,this._y=t,this._z=n,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const s=e.elements,o=s[0],c=s[4],h=s[8],_=s[1],I=s[5],O=s[9],U=s[2],N=s[6],Q=s[10];switch(t){case"XYZ":this._y=Math.asin(lr(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-O,Q),this._z=Math.atan2(-c,o)):(this._x=Math.atan2(N,I),this._z=0);break;case"YXZ":this._x=Math.asin(-lr(O,-1,1)),Math.abs(O)<.9999999?(this._y=Math.atan2(h,Q),this._z=Math.atan2(_,I)):(this._y=Math.atan2(-U,o),this._z=0);break;case"ZXY":this._x=Math.asin(lr(N,-1,1)),Math.abs(N)<.9999999?(this._y=Math.atan2(-U,Q),this._z=Math.atan2(-c,I)):(this._y=0,this._z=Math.atan2(_,o));break;case"ZYX":this._y=Math.asin(-lr(U,-1,1)),Math.abs(U)<.9999999?(this._x=Math.atan2(N,Q),this._z=Math.atan2(_,o)):(this._x=0,this._z=Math.atan2(-c,I));break;case"YZX":this._z=Math.asin(lr(_,-1,1)),Math.abs(_)<.9999999?(this._x=Math.atan2(-O,I),this._y=Math.atan2(-U,o)):(this._x=0,this._y=Math.atan2(h,Q));break;case"XZY":this._z=Math.asin(-lr(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(N,I),this._y=Math.atan2(h,o)):(this._x=Math.atan2(-O,Q),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return ag.makeRotationFromQuaternion(e),this.setFromRotationMatrix(ag,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return lg.setFromEuler(this),this.setFromQuaternion(lg,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ds.DEFAULT_ORDER="XYZ";class th{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let s2=0;const cg=new _e,Bl=new _i,Fo=new xn,nh=new _e,Ic=new _e,o2=new _e,a2=new _i,dg=new _e(1,0,0),hg=new _e(0,1,0),ug=new _e(0,0,1),fg={type:"added"},l2={type:"removed"},Rl={type:"childadded",child:null},sp={type:"childremoved",child:null};class Mi extends ds{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:s2++}),this.uuid=hs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Mi.DEFAULT_UP.clone();const e=new _e,t=new Ds,n=new _i,s=new _e(1,1,1);function o(){n.setFromEuler(t,!1)}function c(){t.setFromQuaternion(n,void 0,!1)}t._onChange(o),n._onChange(c),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new xn},normalMatrix:{value:new jn}}),this.matrix=new xn,this.matrixWorld=new xn,this.matrixAutoUpdate=Mi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Mi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new th,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Bl.setFromAxisAngle(e,t),this.quaternion.multiply(Bl),this}rotateOnWorldAxis(e,t){return Bl.setFromAxisAngle(e,t),this.quaternion.premultiply(Bl),this}rotateX(e){return this.rotateOnAxis(dg,e)}rotateY(e){return this.rotateOnAxis(hg,e)}rotateZ(e){return this.rotateOnAxis(ug,e)}translateOnAxis(e,t){return cg.copy(e).applyQuaternion(this.quaternion),this.position.add(cg.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(dg,e)}translateY(e){return this.translateOnAxis(hg,e)}translateZ(e){return this.translateOnAxis(ug,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Fo.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?nh.copy(e):nh.set(e,t,n);const s=this.parent;this.updateWorldMatrix(!0,!1),Ic.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Fo.lookAt(Ic,nh,this.up):Fo.lookAt(nh,Ic,this.up),this.quaternion.setFromRotationMatrix(Fo),s&&(Fo.extractRotation(s.matrixWorld),Bl.setFromRotationMatrix(Fo),this.quaternion.premultiply(Bl.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(fg),Rl.child=e,this.dispatchEvent(Rl),Rl.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(l2),sp.child=e,this.dispatchEvent(sp),sp.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Fo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Fo.multiply(e.parent.matrixWorld)),e.applyMatrix4(Fo),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(fg),Rl.child=e,this.dispatchEvent(Rl),Rl.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,s=this.children.length;n<s;n++){const c=this.children[n].getObjectByProperty(e,t);if(c!==void 0)return c}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const s=this.children;for(let o=0,c=s.length;o<c;o++)s[o].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ic,e,o2),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ic,a2,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,s=t.length;n<s;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,s=t.length;n<s;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,s=t.length;n<s;n++){const o=t[n];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.matrixWorldAutoUpdate===!0&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const s=this.children;for(let o=0,c=s.length;o<c;o++){const h=s[o];h.matrixWorldAutoUpdate===!0&&h.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.visibility=this._visibility,s.active=this._active,s.bounds=this._bounds.map(h=>({boxInitialized:h.boxInitialized,boxMin:h.box.min.toArray(),boxMax:h.box.max.toArray(),sphereInitialized:h.sphereInitialized,sphereRadius:h.sphere.radius,sphereCenter:h.sphere.center.toArray()})),s.maxGeometryCount=this._maxGeometryCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.geometryCount=this._geometryCount,s.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(s.boundingSphere={center:s.boundingSphere.center.toArray(),radius:s.boundingSphere.radius}),this.boundingBox!==null&&(s.boundingBox={min:s.boundingBox.min.toArray(),max:s.boundingBox.max.toArray()}));function o(h,_){return h[_.uuid]===void 0&&(h[_.uuid]=_.toJSON(e)),_.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=o(e.geometries,this.geometry);const h=this.geometry.parameters;if(h!==void 0&&h.shapes!==void 0){const _=h.shapes;if(Array.isArray(_))for(let I=0,O=_.length;I<O;I++){const U=_[I];o(e.shapes,U)}else o(e.shapes,_)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const h=[];for(let _=0,I=this.material.length;_<I;_++)h.push(o(e.materials,this.material[_]));s.material=h}else s.material=o(e.materials,this.material);if(this.children.length>0){s.children=[];for(let h=0;h<this.children.length;h++)s.children.push(this.children[h].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let h=0;h<this.animations.length;h++){const _=this.animations[h];s.animations.push(o(e.animations,_))}}if(t){const h=c(e.geometries),_=c(e.materials),I=c(e.textures),O=c(e.images),U=c(e.shapes),N=c(e.skeletons),Q=c(e.animations),K=c(e.nodes);h.length>0&&(n.geometries=h),_.length>0&&(n.materials=_),I.length>0&&(n.textures=I),O.length>0&&(n.images=O),U.length>0&&(n.shapes=U),N.length>0&&(n.skeletons=N),Q.length>0&&(n.animations=Q),K.length>0&&(n.nodes=K)}return n.object=s,n;function c(h){const _=[];for(const I in h){const O=h[I];delete O.metadata,_.push(O)}return _}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const s=e.children[n];this.add(s.clone())}return this}}Mi.DEFAULT_UP=new _e(0,1,0),Mi.DEFAULT_MATRIX_AUTO_UPDATE=!0,Mi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const to=new _e,Uo=new _e,op=new _e,No=new _e,Ll=new _e,Dl=new _e,pg=new _e,ap=new _e,lp=new _e,cp=new _e;class Ps{constructor(e=new _e,t=new _e,n=new _e){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,s){s.subVectors(n,t),to.subVectors(e,t),s.cross(to);const o=s.lengthSq();return o>0?s.multiplyScalar(1/Math.sqrt(o)):s.set(0,0,0)}static getBarycoord(e,t,n,s,o){to.subVectors(s,t),Uo.subVectors(n,t),op.subVectors(e,t);const c=to.dot(to),h=to.dot(Uo),_=to.dot(op),I=Uo.dot(Uo),O=Uo.dot(op),U=c*I-h*h;if(U===0)return o.set(0,0,0),null;const N=1/U,Q=(I*_-h*O)*N,K=(c*O-h*_)*N;return o.set(1-Q-K,K,Q)}static containsPoint(e,t,n,s){return this.getBarycoord(e,t,n,s,No)===null?!1:No.x>=0&&No.y>=0&&No.x+No.y<=1}static getInterpolation(e,t,n,s,o,c,h,_){return this.getBarycoord(e,t,n,s,No)===null?(_.x=0,_.y=0,"z"in _&&(_.z=0),"w"in _&&(_.w=0),null):(_.setScalar(0),_.addScaledVector(o,No.x),_.addScaledVector(c,No.y),_.addScaledVector(h,No.z),_)}static isFrontFacing(e,t,n,s){return to.subVectors(n,t),Uo.subVectors(e,t),to.cross(Uo).dot(s)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,s){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[s]),this}setFromAttributeAndIndices(e,t,n,s){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,s),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return to.subVectors(this.c,this.b),Uo.subVectors(this.a,this.b),to.cross(Uo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(.3333333333333333)}getNormal(e){return Ps.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ps.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,s,o){return Ps.getInterpolation(e,this.a,this.b,this.c,t,n,s,o)}containsPoint(e){return Ps.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ps.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,s=this.b,o=this.c;let c,h;Ll.subVectors(s,n),Dl.subVectors(o,n),ap.subVectors(e,n);const _=Ll.dot(ap),I=Dl.dot(ap);if(_<=0&&I<=0)return t.copy(n);lp.subVectors(e,s);const O=Ll.dot(lp),U=Dl.dot(lp);if(O>=0&&U<=O)return t.copy(s);const N=_*U-O*I;if(N<=0&&_>=0&&O<=0)return c=_/(_-O),t.copy(n).addScaledVector(Ll,c);cp.subVectors(e,o);const Q=Ll.dot(cp),K=Dl.dot(cp);if(K>=0&&Q<=K)return t.copy(o);const Z=Q*I-_*K;if(Z<=0&&I>=0&&K<=0)return h=I/(I-K),t.copy(n).addScaledVector(Dl,h);const Y=O*K-Q*U;if(Y<=0&&U-O>=0&&Q-K>=0)return pg.subVectors(o,s),h=(U-O)/(U-O+(Q-K)),t.copy(s).addScaledVector(pg,h);const V=1/(Y+Z+N);return c=Z*V,h=N*V,t.copy(n).addScaledVector(Ll,c).addScaledVector(Dl,h)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const mg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ca={h:0,s:0,l:0},ih={h:0,s:0,l:0};function dp(a,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<.16666666666666666?a+(e-a)*6*t:t<.5?e:t<.6666666666666666?a+(e-a)*6*(.6666666666666666-t):a}class pn{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const s=e;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=yi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ti.toWorkingColorSpace(this,t),this}setRGB(e,t,n,s=Ti.workingColorSpace){return this.r=e,this.g=t,this.b=n,Ti.toWorkingColorSpace(this,s),this}setHSL(e,t,n,s=Ti.workingColorSpace){if(e=Cc(e,1),t=lr(t,0,1),n=lr(n,0,1),t===0)this.r=this.g=this.b=n;else{const o=n<=.5?n*(1+t):n+t-n*t,c=2*n-o;this.r=dp(c,o,e+.3333333333333333),this.g=dp(c,o,e),this.b=dp(c,o,e-.3333333333333333)}return Ti.toWorkingColorSpace(this,s),this}setStyle(e,t=yi){function n(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const c=s[1],h=s[2];switch(c){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return n(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,t);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return n(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,t);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return n(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=s[1],c=o.length;if(c===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,t);if(c===6)return this.setHex(parseInt(o,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=yi){const n=mg[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=sa(e.r),this.g=sa(e.g),this.b=sa(e.b),this}copyLinearToSRGB(e){return this.r=_c(e.r),this.g=_c(e.g),this.b=_c(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=yi){return Ti.fromWorkingColorSpace(ts.copy(this),e),Math.round(lr(ts.r*255,0,255))*65536+Math.round(lr(ts.g*255,0,255))*256+Math.round(lr(ts.b*255,0,255))}getHexString(e=yi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Ti.workingColorSpace){Ti.fromWorkingColorSpace(ts.copy(this),t);const n=ts.r,s=ts.g,o=ts.b,c=Math.max(n,s,o),h=Math.min(n,s,o);let _,I;const O=(h+c)/2;if(h===c)_=0,I=0;else{const U=c-h;switch(I=O<=.5?U/(c+h):U/(2-c-h),c){case n:_=(s-o)/U+(s<o?6:0);break;case s:_=(o-n)/U+2;break;case o:_=(n-s)/U+4;break}_/=6}return e.h=_,e.s=I,e.l=O,e}getRGB(e,t=Ti.workingColorSpace){return Ti.fromWorkingColorSpace(ts.copy(this),t),e.r=ts.r,e.g=ts.g,e.b=ts.b,e}getStyle(e=yi){Ti.fromWorkingColorSpace(ts.copy(this),e);const t=ts.r,n=ts.g,s=ts.b;return e!==yi?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(s.toFixed(3),")"):"rgb(".concat(Math.round(t*255),",").concat(Math.round(n*255),",").concat(Math.round(s*255),")")}offsetHSL(e,t,n){return this.getHSL(ca),this.setHSL(ca.h+e,ca.s+t,ca.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(ca),e.getHSL(ih);const n=Na(ca.h,ih.h,t),s=Na(ca.s,ih.s,t),o=Na(ca.l,ih.l,t);return this.setHSL(n,s,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,s=this.b,o=e.elements;return this.r=o[0]*t+o[3]*n+o[6]*s,this.g=o[1]*t+o[4]*n+o[7]*s,this.b=o[2]*t+o[5]*n+o[8]*s,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ts=new pn;pn.NAMES=mg;let c2=0;class ns extends ds{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:c2++}),this.uuid=hs(),this.name="",this.type="Material",this.blending=F,this.side=x,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Re,this.blendDst=ke,this.blendEquation=ee,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new pn(0,0,0),this.blendAlpha=0,this.depthFunc=Je,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=yc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Lo,this.stencilZFail=Lo,this.stencilZPass=Lo,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn("THREE.Material: parameter '".concat(t,"' has value of undefined."));continue}const s=this[t];if(s===void 0){console.warn("THREE.Material: '".concat(t,"' is not a property of THREE.").concat(this.type,"."));continue}s&&s.isColor?s.set(n):s&&s.isVector3&&n&&n.isVector3?s.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==F&&(n.blending=this.blending),this.side!==x&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==Re&&(n.blendSrc=this.blendSrc),this.blendDst!==ke&&(n.blendDst=this.blendDst),this.blendEquation!==ee&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Je&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==yc&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Lo&&(n.stencilFail=this.stencilFail),this.stencilZFail!==Lo&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==Lo&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function s(o){const c=[];for(const h in o){const _=o[h];delete _.metadata,c.push(_)}return c}if(t){const o=s(e.textures),c=s(e.images);o.length>0&&(n.textures=o),c.length>0&&(n.images=c)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const s=t.length;n=new Array(s);for(let o=0;o!==s;++o)n[o]=t[o].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class da extends ns{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new pn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ds,this.combine=gt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Go=d2();function d2(){const a=new ArrayBuffer(4),e=new Float32Array(a),t=new Uint32Array(a),n=new Uint32Array(512),s=new Uint32Array(512);for(let _=0;_<256;++_){const I=_-127;I<-27?(n[_]=0,n[_|256]=32768,s[_]=24,s[_|256]=24):I<-14?(n[_]=1024>>-I-14,n[_|256]=1024>>-I-14|32768,s[_]=-I-1,s[_|256]=-I-1):I<=15?(n[_]=I+15<<10,n[_|256]=I+15<<10|32768,s[_]=13,s[_|256]=13):I<128?(n[_]=31744,n[_|256]=64512,s[_]=24,s[_|256]=24):(n[_]=31744,n[_|256]=64512,s[_]=13,s[_|256]=13)}const o=new Uint32Array(2048),c=new Uint32Array(64),h=new Uint32Array(64);for(let _=1;_<1024;++_){let I=_<<13,O=0;for(;!(I&8388608);)I<<=1,O-=8388608;I&=-8388609,O+=947912704,o[_]=I|O}for(let _=1024;_<2048;++_)o[_]=939524096+(_-1024<<13);for(let _=1;_<31;++_)c[_]=_<<23;c[31]=1199570944,c[32]=2147483648;for(let _=33;_<63;++_)c[_]=2147483648+(_-32<<23);c[63]=3347054592;for(let _=1;_<64;++_)_!==32&&(h[_]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:s,mantissaTable:o,exponentTable:c,offsetTable:h}}function Cs(a){Math.abs(a)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),a=lr(a,-65504,65504),Go.floatView[0]=a;const e=Go.uint32View[0],t=e>>23&511;return Go.baseTable[t]+((e&8388607)>>Go.shiftTable[t])}function Tc(a){const e=a>>10;return Go.uint32View[0]=Go.mantissaTable[Go.offsetTable[e]+(a&1023)]+Go.exponentTable[e],Go.floatView[0]}const h2={toHalfFloat:Cs,fromHalfFloat:Tc},Ir=new _e,rh=new Mt;class Gi{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=Fa,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=tr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Yd("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let s=0,o=this.itemSize;s<o;s++)this.array[e+s]=t.array[n+s];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)rh.fromBufferAttribute(this,t),rh.applyMatrix3(e),this.setXY(t,rh.x,rh.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Ir.fromBufferAttribute(this,t),Ir.applyMatrix3(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Ir.fromBufferAttribute(this,t),Ir.applyMatrix4(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Ir.fromBufferAttribute(this,t),Ir.applyNormalMatrix(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Ir.fromBufferAttribute(this,t),Ir.transformDirection(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=Xr(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Yn(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Xr(t,this.array)),t}setX(e,t){return this.normalized&&(t=Yn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Xr(t,this.array)),t}setY(e,t){return this.normalized&&(t=Yn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Xr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Yn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Xr(t,this.array)),t}setW(e,t){return this.normalized&&(t=Yn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Yn(t,this.array),n=Yn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,s){return e*=this.itemSize,this.normalized&&(t=Yn(t,this.array),n=Yn(n,this.array),s=Yn(s,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=s,this}setXYZW(e,t,n,s,o){return e*=this.itemSize,this.normalized&&(t=Yn(t,this.array),n=Yn(n,this.array),s=Yn(s,this.array),o=Yn(o,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=s,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Fa&&(e.usage=this.usage),e}}class u2 extends Gi{constructor(e,t,n){super(new Int8Array(e),t,n)}}class f2 extends Gi{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class p2 extends Gi{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class m2 extends Gi{constructor(e,t,n){super(new Int16Array(e),t,n)}}class hp extends Gi{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class A2 extends Gi{constructor(e,t,n){super(new Int32Array(e),t,n)}}class up extends Gi{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class g2 extends Gi{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=Tc(this.array[e*this.itemSize]);return this.normalized&&(t=Xr(t,this.array)),t}setX(e,t){return this.normalized&&(t=Yn(t,this.array)),this.array[e*this.itemSize]=Cs(t),this}getY(e){let t=Tc(this.array[e*this.itemSize+1]);return this.normalized&&(t=Xr(t,this.array)),t}setY(e,t){return this.normalized&&(t=Yn(t,this.array)),this.array[e*this.itemSize+1]=Cs(t),this}getZ(e){let t=Tc(this.array[e*this.itemSize+2]);return this.normalized&&(t=Xr(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Yn(t,this.array)),this.array[e*this.itemSize+2]=Cs(t),this}getW(e){let t=Tc(this.array[e*this.itemSize+3]);return this.normalized&&(t=Xr(t,this.array)),t}setW(e,t){return this.normalized&&(t=Yn(t,this.array)),this.array[e*this.itemSize+3]=Cs(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Yn(t,this.array),n=Yn(n,this.array)),this.array[e+0]=Cs(t),this.array[e+1]=Cs(n),this}setXYZ(e,t,n,s){return e*=this.itemSize,this.normalized&&(t=Yn(t,this.array),n=Yn(n,this.array),s=Yn(s,this.array)),this.array[e+0]=Cs(t),this.array[e+1]=Cs(n),this.array[e+2]=Cs(s),this}setXYZW(e,t,n,s,o){return e*=this.itemSize,this.normalized&&(t=Yn(t,this.array),n=Yn(n,this.array),s=Yn(s,this.array),o=Yn(o,this.array)),this.array[e+0]=Cs(t),this.array[e+1]=Cs(n),this.array[e+2]=Cs(s),this.array[e+3]=Cs(o),this}}class _n extends Gi{constructor(e,t,n){super(new Float32Array(e),t,n)}}let v2=0;const Ws=new xn,fp=new Mi,Pl=new _e,Os=new fr,Bc=new fr,Vr=new _e;class ai extends ds{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:v2++}),this.uuid=hs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Wd(e)?up:hp)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const o=new jn().getNormalMatrix(e);n.applyNormalMatrix(o),n.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(e),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ws.makeRotationFromQuaternion(e),this.applyMatrix4(Ws),this}rotateX(e){return Ws.makeRotationX(e),this.applyMatrix4(Ws),this}rotateY(e){return Ws.makeRotationY(e),this.applyMatrix4(Ws),this}rotateZ(e){return Ws.makeRotationZ(e),this.applyMatrix4(Ws),this}translate(e,t,n){return Ws.makeTranslation(e,t,n),this.applyMatrix4(Ws),this}scale(e,t,n){return Ws.makeScale(e,t,n),this.applyMatrix4(Ws),this}lookAt(e){return fp.lookAt(e),fp.updateMatrix(),this.applyMatrix4(fp.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Pl).negate(),this.translate(Pl.x,Pl.y,Pl.z),this}setFromPoints(e){const t=[];for(let n=0,s=e.length;n<s;n++){const o=e[n];t.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new _n(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new fr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new _e(-1/0,-1/0,-1/0),new _e(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,s=t.length;n<s;n++){const o=t[n];Os.setFromBufferAttribute(o),this.morphTargetsRelative?(Vr.addVectors(this.boundingBox.min,Os.min),this.boundingBox.expandByPoint(Vr),Vr.addVectors(this.boundingBox.max,Os.max),this.boundingBox.expandByPoint(Vr)):(this.boundingBox.expandByPoint(Os.min),this.boundingBox.expandByPoint(Os.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Lr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new _e,1/0);return}if(e){const n=this.boundingSphere.center;if(Os.setFromBufferAttribute(e),t)for(let o=0,c=t.length;o<c;o++){const h=t[o];Bc.setFromBufferAttribute(h),this.morphTargetsRelative?(Vr.addVectors(Os.min,Bc.min),Os.expandByPoint(Vr),Vr.addVectors(Os.max,Bc.max),Os.expandByPoint(Vr)):(Os.expandByPoint(Bc.min),Os.expandByPoint(Bc.max))}Os.getCenter(n);let s=0;for(let o=0,c=e.count;o<c;o++)Vr.fromBufferAttribute(e,o),s=Math.max(s,n.distanceToSquared(Vr));if(t)for(let o=0,c=t.length;o<c;o++){const h=t[o],_=this.morphTargetsRelative;for(let I=0,O=h.count;I<O;I++)Vr.fromBufferAttribute(h,I),_&&(Pl.fromBufferAttribute(e,I),Vr.add(Pl)),s=Math.max(s,n.distanceToSquared(Vr))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,s=t.normal,o=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Gi(new Float32Array(4*n.count),4));const c=this.getAttribute("tangent"),h=[],_=[];for(let Ue=0;Ue<n.count;Ue++)h[Ue]=new _e,_[Ue]=new _e;const I=new _e,O=new _e,U=new _e,N=new Mt,Q=new Mt,K=new Mt,Z=new _e,Y=new _e;function V(Ue,ye,me){I.fromBufferAttribute(n,Ue),O.fromBufferAttribute(n,ye),U.fromBufferAttribute(n,me),N.fromBufferAttribute(o,Ue),Q.fromBufferAttribute(o,ye),K.fromBufferAttribute(o,me),O.sub(I),U.sub(I),Q.sub(N),K.sub(N);const Ne=1/(Q.x*K.y-K.x*Q.y);isFinite(Ne)&&(Z.copy(O).multiplyScalar(K.y).addScaledVector(U,-Q.y).multiplyScalar(Ne),Y.copy(U).multiplyScalar(Q.x).addScaledVector(O,-K.x).multiplyScalar(Ne),h[Ue].add(Z),h[ye].add(Z),h[me].add(Z),_[Ue].add(Y),_[ye].add(Y),_[me].add(Y))}let he=this.groups;he.length===0&&(he=[{start:0,count:e.count}]);for(let Ue=0,ye=he.length;Ue<ye;++Ue){const me=he[Ue],Ne=me.start,$e=me.count;for(let ze=Ne,Ze=Ne+$e;ze<Ze;ze+=3)V(e.getX(ze+0),e.getX(ze+1),e.getX(ze+2))}const ce=new _e,oe=new _e,Ge=new _e,Se=new _e;function Le(Ue){Ge.fromBufferAttribute(s,Ue),Se.copy(Ge);const ye=h[Ue];ce.copy(ye),ce.sub(Ge.multiplyScalar(Ge.dot(ye))).normalize(),oe.crossVectors(Se,ye);const Ne=oe.dot(_[Ue])<0?-1:1;c.setXYZW(Ue,ce.x,ce.y,ce.z,Ne)}for(let Ue=0,ye=he.length;Ue<ye;++Ue){const me=he[Ue],Ne=me.start,$e=me.count;for(let ze=Ne,Ze=Ne+$e;ze<Ze;ze+=3)Le(e.getX(ze+0)),Le(e.getX(ze+1)),Le(e.getX(ze+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Gi(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let N=0,Q=n.count;N<Q;N++)n.setXYZ(N,0,0,0);const s=new _e,o=new _e,c=new _e,h=new _e,_=new _e,I=new _e,O=new _e,U=new _e;if(e)for(let N=0,Q=e.count;N<Q;N+=3){const K=e.getX(N+0),Z=e.getX(N+1),Y=e.getX(N+2);s.fromBufferAttribute(t,K),o.fromBufferAttribute(t,Z),c.fromBufferAttribute(t,Y),O.subVectors(c,o),U.subVectors(s,o),O.cross(U),h.fromBufferAttribute(n,K),_.fromBufferAttribute(n,Z),I.fromBufferAttribute(n,Y),h.add(O),_.add(O),I.add(O),n.setXYZ(K,h.x,h.y,h.z),n.setXYZ(Z,_.x,_.y,_.z),n.setXYZ(Y,I.x,I.y,I.z)}else for(let N=0,Q=t.count;N<Q;N+=3)s.fromBufferAttribute(t,N+0),o.fromBufferAttribute(t,N+1),c.fromBufferAttribute(t,N+2),O.subVectors(c,o),U.subVectors(s,o),O.cross(U),n.setXYZ(N+0,O.x,O.y,O.z),n.setXYZ(N+1,O.x,O.y,O.z),n.setXYZ(N+2,O.x,O.y,O.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Vr.fromBufferAttribute(e,t),Vr.normalize(),e.setXYZ(t,Vr.x,Vr.y,Vr.z)}toNonIndexed(){function e(h,_){const I=h.array,O=h.itemSize,U=h.normalized,N=new I.constructor(_.length*O);let Q=0,K=0;for(let Z=0,Y=_.length;Z<Y;Z++){h.isInterleavedBufferAttribute?Q=_[Z]*h.data.stride+h.offset:Q=_[Z]*O;for(let V=0;V<O;V++)N[K++]=I[Q++]}return new Gi(N,O,U)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ai,n=this.index.array,s=this.attributes;for(const h in s){const _=s[h],I=e(_,n);t.setAttribute(h,I)}const o=this.morphAttributes;for(const h in o){const _=[],I=o[h];for(let O=0,U=I.length;O<U;O++){const N=I[O],Q=e(N,n);_.push(Q)}t.morphAttributes[h]=_}t.morphTargetsRelative=this.morphTargetsRelative;const c=this.groups;for(let h=0,_=c.length;h<_;h++){const I=c[h];t.addGroup(I.start,I.count,I.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const _=this.parameters;for(const I in _)_[I]!==void 0&&(e[I]=_[I]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const _ in n){const I=n[_];e.data.attributes[_]=I.toJSON(e.data)}const s={};let o=!1;for(const _ in this.morphAttributes){const I=this.morphAttributes[_],O=[];for(let U=0,N=I.length;U<N;U++){const Q=I[U];O.push(Q.toJSON(e.data))}O.length>0&&(s[_]=O,o=!0)}o&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);const c=this.groups;c.length>0&&(e.data.groups=JSON.parse(JSON.stringify(c)));const h=this.boundingSphere;return h!==null&&(e.data.boundingSphere={center:h.center.toArray(),radius:h.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const s=e.attributes;for(const I in s){const O=s[I];this.setAttribute(I,O.clone(t))}const o=e.morphAttributes;for(const I in o){const O=[],U=o[I];for(let N=0,Q=U.length;N<Q;N++)O.push(U[N].clone(t));this.morphAttributes[I]=O}this.morphTargetsRelative=e.morphTargetsRelative;const c=e.groups;for(let I=0,O=c.length;I<O;I++){const U=c[I];this.addGroup(U.start,U.count,U.materialIndex)}const h=e.boundingBox;h!==null&&(this.boundingBox=h.clone());const _=e.boundingSphere;return _!==null&&(this.boundingSphere=_.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Ag=new xn,Qa=new Dr,sh=new Lr,gg=new _e,Ol=new _e,kl=new _e,Fl=new _e,pp=new _e,oh=new _e,ah=new Mt,lh=new Mt,ch=new Mt,vg=new _e,bg=new _e,yg=new _e,dh=new _e,hh=new _e;class Tr extends Mi{constructor(e=new ai,t=new da){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const s=t[n[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,c=s.length;o<c;o++){const h=s[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=o}}}}getVertexPosition(e,t){const n=this.geometry,s=n.attributes.position,o=n.morphAttributes.position,c=n.morphTargetsRelative;t.fromBufferAttribute(s,e);const h=this.morphTargetInfluences;if(o&&h){oh.set(0,0,0);for(let _=0,I=o.length;_<I;_++){const O=h[_],U=o[_];O!==0&&(pp.fromBufferAttribute(U,e),c?oh.addScaledVector(pp,O):oh.addScaledVector(pp.sub(t),O))}t.add(oh)}return t}raycast(e,t){const n=this.geometry,s=this.material,o=this.matrixWorld;s!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),sh.copy(n.boundingSphere),sh.applyMatrix4(o),Qa.copy(e.ray).recast(e.near),!(sh.containsPoint(Qa.origin)===!1&&(Qa.intersectSphere(sh,gg)===null||Qa.origin.distanceToSquared(gg)>(e.far-e.near)**2))&&(Ag.copy(o).invert(),Qa.copy(e.ray).applyMatrix4(Ag),!(n.boundingBox!==null&&Qa.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,Qa)))}_computeIntersections(e,t,n){let s;const o=this.geometry,c=this.material,h=o.index,_=o.attributes.position,I=o.attributes.uv,O=o.attributes.uv1,U=o.attributes.normal,N=o.groups,Q=o.drawRange;if(h!==null)if(Array.isArray(c))for(let K=0,Z=N.length;K<Z;K++){const Y=N[K],V=c[Y.materialIndex],he=Math.max(Y.start,Q.start),ce=Math.min(h.count,Math.min(Y.start+Y.count,Q.start+Q.count));for(let oe=he,Ge=ce;oe<Ge;oe+=3){const Se=h.getX(oe),Le=h.getX(oe+1),Ue=h.getX(oe+2);s=uh(this,V,e,n,I,O,U,Se,Le,Ue),s&&(s.faceIndex=Math.floor(oe/3),s.face.materialIndex=Y.materialIndex,t.push(s))}}else{const K=Math.max(0,Q.start),Z=Math.min(h.count,Q.start+Q.count);for(let Y=K,V=Z;Y<V;Y+=3){const he=h.getX(Y),ce=h.getX(Y+1),oe=h.getX(Y+2);s=uh(this,c,e,n,I,O,U,he,ce,oe),s&&(s.faceIndex=Math.floor(Y/3),t.push(s))}}else if(_!==void 0)if(Array.isArray(c))for(let K=0,Z=N.length;K<Z;K++){const Y=N[K],V=c[Y.materialIndex],he=Math.max(Y.start,Q.start),ce=Math.min(_.count,Math.min(Y.start+Y.count,Q.start+Q.count));for(let oe=he,Ge=ce;oe<Ge;oe+=3){const Se=oe,Le=oe+1,Ue=oe+2;s=uh(this,V,e,n,I,O,U,Se,Le,Ue),s&&(s.faceIndex=Math.floor(oe/3),s.face.materialIndex=Y.materialIndex,t.push(s))}}else{const K=Math.max(0,Q.start),Z=Math.min(_.count,Q.start+Q.count);for(let Y=K,V=Z;Y<V;Y+=3){const he=Y,ce=Y+1,oe=Y+2;s=uh(this,c,e,n,I,O,U,he,ce,oe),s&&(s.faceIndex=Math.floor(Y/3),t.push(s))}}}}function b2(a,e,t,n,s,o,c,h){let _;if(e.side===T?_=n.intersectTriangle(c,o,s,!0,h):_=n.intersectTriangle(s,o,c,e.side===x,h),_===null)return null;hh.copy(h),hh.applyMatrix4(a.matrixWorld);const I=t.ray.origin.distanceTo(hh);return I<t.near||I>t.far?null:{distance:I,point:hh.clone(),object:a}}function uh(a,e,t,n,s,o,c,h,_,I){a.getVertexPosition(h,Ol),a.getVertexPosition(_,kl),a.getVertexPosition(I,Fl);const O=b2(a,e,t,n,Ol,kl,Fl,dh);if(O){s&&(ah.fromBufferAttribute(s,h),lh.fromBufferAttribute(s,_),ch.fromBufferAttribute(s,I),O.uv=Ps.getInterpolation(dh,Ol,kl,Fl,ah,lh,ch,new Mt)),o&&(ah.fromBufferAttribute(o,h),lh.fromBufferAttribute(o,_),ch.fromBufferAttribute(o,I),O.uv1=Ps.getInterpolation(dh,Ol,kl,Fl,ah,lh,ch,new Mt)),c&&(vg.fromBufferAttribute(c,h),bg.fromBufferAttribute(c,_),yg.fromBufferAttribute(c,I),O.normal=Ps.getInterpolation(dh,Ol,kl,Fl,vg,bg,yg,new _e),O.normal.dot(n.direction)>0&&O.normal.multiplyScalar(-1));const U={a:h,b:_,c:I,normal:new _e,materialIndex:0};Ps.getNormal(Ol,kl,Fl,U.normal),O.face=U}return O}class Ha extends ai{constructor(e=1,t=1,n=1,s=1,o=1,c=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:s,heightSegments:o,depthSegments:c};const h=this;s=Math.floor(s),o=Math.floor(o),c=Math.floor(c);const _=[],I=[],O=[],U=[];let N=0,Q=0;K("z","y","x",-1,-1,n,t,e,c,o,0),K("z","y","x",1,-1,n,t,-e,c,o,1),K("x","z","y",1,1,e,n,t,s,c,2),K("x","z","y",1,-1,e,n,-t,s,c,3),K("x","y","z",1,-1,e,t,n,s,o,4),K("x","y","z",-1,-1,e,t,-n,s,o,5),this.setIndex(_),this.setAttribute("position",new _n(I,3)),this.setAttribute("normal",new _n(O,3)),this.setAttribute("uv",new _n(U,2));function K(Z,Y,V,he,ce,oe,Ge,Se,Le,Ue,ye){const me=oe/Le,Ne=Ge/Ue,$e=oe/2,ze=Ge/2,Ze=Se/2,ct=Le+1,xt=Ue+1;let Jt=0,ht=0;const jt=new _e;for(let $t=0;$t<xt;$t++){const yn=$t*Ne-ze;for(let li=0;li<ct;li++){const Bi=li*me-$e;jt[Z]=Bi*he,jt[Y]=yn*ce,jt[V]=Ze,I.push(jt.x,jt.y,jt.z),jt[Z]=0,jt[Y]=0,jt[V]=Se>0?1:-1,O.push(jt.x,jt.y,jt.z),U.push(li/Le),U.push(1-$t/Ue),Jt+=1}}for(let $t=0;$t<Ue;$t++)for(let yn=0;yn<Le;yn++){const li=N+yn+ct*$t,Bi=N+yn+ct*($t+1),Yi=N+(yn+1)+ct*($t+1),Si=N+(yn+1)+ct*$t;_.push(li,Bi,Si),_.push(Bi,Yi,Si),ht+=6}h.addGroup(Q,ht,ye),Q+=ht,N+=Jt}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ha(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ul(a){const e={};for(const t in a){e[t]={};for(const n in a[t]){const s=a[t][n];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=s.clone():Array.isArray(s)?e[t][n]=s.slice():e[t][n]=s}}return e}function fs(a){const e={};for(let t=0;t<a.length;t++){const n=Ul(a[t]);for(const s in n)e[s]=n[s]}return e}function y2(a){const e=[];for(let t=0;t<a.length;t++)e.push(a[t].clone());return e}function Eg(a){const e=a.getRenderTarget();return e===null?a.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Ti.workingColorSpace}const xg={clone:Ul,merge:fs};var E2="void main() {\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",x2="void main() {\n	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";class no extends ns{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=E2,this.fragmentShader=x2,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ul(e.uniforms),this.uniformsGroups=y2(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const s in this.uniforms){const c=this.uniforms[s].value;c&&c.isTexture?t.uniforms[s]={type:"t",value:c.toJSON(e).uuid}:c&&c.isColor?t.uniforms[s]={type:"c",value:c.getHex()}:c&&c.isVector2?t.uniforms[s]={type:"v2",value:c.toArray()}:c&&c.isVector3?t.uniforms[s]={type:"v3",value:c.toArray()}:c&&c.isVector4?t.uniforms[s]={type:"v4",value:c.toArray()}:c&&c.isMatrix3?t.uniforms[s]={type:"m3",value:c.toArray()}:c&&c.isMatrix4?t.uniforms[s]={type:"m4",value:c.toArray()}:t.uniforms[s]={value:c}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const s in this.extensions)this.extensions[s]===!0&&(n[s]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class fh extends Mi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new xn,this.projectionMatrix=new xn,this.projectionMatrixInverse=new xn,this.coordinateSystem=zs}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const ha=new _e,Cg=new Mt,wg=new Mt;class Pr extends fh{constructor(e=50,t=1,n=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=s,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=ia*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Do*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return ia*2*Math.atan(Math.tan(Do*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){ha.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(ha.x,ha.y).multiplyScalar(-e/ha.z),ha.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(ha.x,ha.y).multiplyScalar(-e/ha.z)}getViewSize(e,t){return this.getViewBounds(e,Cg,wg),t.subVectors(wg,Cg)}setViewOffset(e,t,n,s,o,c){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=s,this.view.width=o,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Do*.5*this.fov)/this.zoom,n=2*t,s=this.aspect*n,o=-.5*s;const c=this.view;if(this.view!==null&&this.view.enabled){const _=c.fullWidth,I=c.fullHeight;o+=c.offsetX*s/_,t-=c.offsetY*n/I,s*=c.width/_,n*=c.height/I}const h=this.filmOffset;h!==0&&(o+=e*h/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+s,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Nl=-90,Gl=1;class _g extends Mi{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new Pr(Nl,Gl,e,t);s.layers=this.layers,this.add(s);const o=new Pr(Nl,Gl,e,t);o.layers=this.layers,this.add(o);const c=new Pr(Nl,Gl,e,t);c.layers=this.layers,this.add(c);const h=new Pr(Nl,Gl,e,t);h.layers=this.layers,this.add(h);const _=new Pr(Nl,Gl,e,t);_.layers=this.layers,this.add(_);const I=new Pr(Nl,Gl,e,t);I.layers=this.layers,this.add(I)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,s,o,c,h,_]=t;for(const I of t)this.remove(I);if(e===zs)n.up.set(0,1,0),n.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),c.up.set(0,0,1),c.lookAt(0,-1,0),h.up.set(0,1,0),h.lookAt(0,0,1),_.up.set(0,1,0),_.lookAt(0,0,-1);else if(e===Ua)n.up.set(0,-1,0),n.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),c.up.set(0,0,-1),c.lookAt(0,-1,0),h.up.set(0,-1,0),h.lookAt(0,0,1),_.up.set(0,-1,0),_.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const I of t)this.add(I),I.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:s}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,c,h,_,I,O]=this.children,U=e.getRenderTarget(),N=e.getActiveCubeFace(),Q=e.getActiveMipmapLevel(),K=e.xr.enabled;e.xr.enabled=!1;const Z=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,s),e.render(t,o),e.setRenderTarget(n,1,s),e.render(t,c),e.setRenderTarget(n,2,s),e.render(t,h),e.setRenderTarget(n,3,s),e.render(t,_),e.setRenderTarget(n,4,s),e.render(t,I),n.texture.generateMipmaps=Z,e.setRenderTarget(n,5,s),e.render(t,O),e.setRenderTarget(U,N,Q),e.xr.enabled=K,n.texture.needsPMREMUpdate=!0}}class Rc extends Ki{constructor(e,t,n,s,o,c,h,_,I,O){e=e!==void 0?e:[],t=t!==void 0?t:J,super(e,t,n,s,o,c,h,_,I,O),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Mg extends ys{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},s=[n,n,n,n,n,n];this.texture=new Rc(s,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Rn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n				varying vec3 vWorldDirection;\n\n				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n				}\n\n				void main() {\n\n					vWorldDirection = transformDirection( position, modelMatrix );\n\n					#include <begin_vertex>\n					#include <project_vertex>\n\n				}\n			",fragmentShader:"\n\n				uniform sampler2D tEquirect;\n\n				varying vec3 vWorldDirection;\n\n				#include <common>\n\n				void main() {\n\n					vec3 direction = normalize( vWorldDirection );\n\n					vec2 sampleUV = equirectUv( direction );\n\n					gl_FragColor = texture2D( tEquirect, sampleUV );\n\n				}\n			"},s=new Ha(5,5,5),o=new no({name:"CubemapFromEquirect",uniforms:Ul(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:T,blending:R});o.uniforms.tEquirect.value=t;const c=new Tr(s,o),h=t.minFilter;return t.minFilter===Li&&(t.minFilter=Rn),new _g(1,10,this).update(e,c),t.minFilter=h,c.geometry.dispose(),c.material.dispose(),this}clear(e,t,n,s){const o=e.getRenderTarget();for(let c=0;c<6;c++)e.setRenderTarget(this,c),e.clear(t,n,s);e.setRenderTarget(o)}}const mp=new _e,C2=new _e,w2=new jn;class ua{constructor(e=new _e(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,s){return this.normal.set(e,t,n),this.constant=s,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const s=mp.subVectors(n,t).cross(C2.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(mp),s=this.normal.dot(n);if(s===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/s;return o<0||o>1?null:t.copy(e.start).addScaledVector(n,o)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||w2.getNormalMatrix(e),s=this.coplanarPoint(mp).applyMatrix4(e),o=this.normal.applyMatrix3(n).normalize();return this.constant=-s.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Va=new Lr,ph=new _e;class Lc{constructor(e=new ua,t=new ua,n=new ua,s=new ua,o=new ua,c=new ua){this.planes=[e,t,n,s,o,c]}set(e,t,n,s,o,c){const h=this.planes;return h[0].copy(e),h[1].copy(t),h[2].copy(n),h[3].copy(s),h[4].copy(o),h[5].copy(c),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=zs){const n=this.planes,s=e.elements,o=s[0],c=s[1],h=s[2],_=s[3],I=s[4],O=s[5],U=s[6],N=s[7],Q=s[8],K=s[9],Z=s[10],Y=s[11],V=s[12],he=s[13],ce=s[14],oe=s[15];if(n[0].setComponents(_-o,N-I,Y-Q,oe-V).normalize(),n[1].setComponents(_+o,N+I,Y+Q,oe+V).normalize(),n[2].setComponents(_+c,N+O,Y+K,oe+he).normalize(),n[3].setComponents(_-c,N-O,Y-K,oe-he).normalize(),n[4].setComponents(_-h,N-U,Y-Z,oe-ce).normalize(),t===zs)n[5].setComponents(_+h,N+U,Y+Z,oe+ce).normalize();else if(t===Ua)n[5].setComponents(h,U,Z,ce).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Va.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Va.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Va)}intersectsSprite(e){return Va.center.set(0,0,0),Va.radius=.7071067811865476,Va.applyMatrix4(e.matrixWorld),this.intersectsSphere(Va)}intersectsSphere(e){const t=this.planes,n=e.center,s=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(n)<s)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const s=t[n];if(ph.x=s.normal.x>0?e.max.x:e.min.x,ph.y=s.normal.y>0?e.max.y:e.min.y,ph.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint(ph)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Ap(){let a=null,e=!1,t=null,n=null;function s(o,c){t(o,c),n=a.requestAnimationFrame(s)}return{start:function(){e!==!0&&t!==null&&(n=a.requestAnimationFrame(s),e=!0)},stop:function(){a.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){a=o}}}function _2(a){const e=new WeakMap;function t(h,_){const I=h.array,O=h.usage,U=I.byteLength,N=a.createBuffer();a.bindBuffer(_,N),a.bufferData(_,I,O),h.onUploadCallback();let Q;if(I instanceof Float32Array)Q=a.FLOAT;else if(I instanceof Uint16Array)h.isFloat16BufferAttribute?Q=a.HALF_FLOAT:Q=a.UNSIGNED_SHORT;else if(I instanceof Int16Array)Q=a.SHORT;else if(I instanceof Uint32Array)Q=a.UNSIGNED_INT;else if(I instanceof Int32Array)Q=a.INT;else if(I instanceof Int8Array)Q=a.BYTE;else if(I instanceof Uint8Array)Q=a.UNSIGNED_BYTE;else if(I instanceof Uint8ClampedArray)Q=a.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+I);return{buffer:N,type:Q,bytesPerElement:I.BYTES_PER_ELEMENT,version:h.version,size:U}}function n(h,_,I){const O=_.array,U=_._updateRange,N=_.updateRanges;if(a.bindBuffer(I,h),U.count===-1&&N.length===0&&a.bufferSubData(I,0,O),N.length!==0){for(let Q=0,K=N.length;Q<K;Q++){const Z=N[Q];a.bufferSubData(I,Z.start*O.BYTES_PER_ELEMENT,O,Z.start,Z.count)}_.clearUpdateRanges()}U.count!==-1&&(a.bufferSubData(I,U.offset*O.BYTES_PER_ELEMENT,O,U.offset,U.count),U.count=-1),_.onUploadCallback()}function s(h){return h.isInterleavedBufferAttribute&&(h=h.data),e.get(h)}function o(h){h.isInterleavedBufferAttribute&&(h=h.data);const _=e.get(h);_&&(a.deleteBuffer(_.buffer),e.delete(h))}function c(h,_){if(h.isGLBufferAttribute){const O=e.get(h);(!O||O.version<h.version)&&e.set(h,{buffer:h.buffer,type:h.type,bytesPerElement:h.elementSize,version:h.version});return}h.isInterleavedBufferAttribute&&(h=h.data);const I=e.get(h);if(I===void 0)e.set(h,t(h,_));else if(I.version<h.version){if(I.size!==h.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(I.buffer,h,_),I.version=h.version}}return{get:s,remove:o,update:c}}class Ql extends ai{constructor(e=1,t=1,n=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:s};const o=e/2,c=t/2,h=Math.floor(n),_=Math.floor(s),I=h+1,O=_+1,U=e/h,N=t/_,Q=[],K=[],Z=[],Y=[];for(let V=0;V<O;V++){const he=V*N-c;for(let ce=0;ce<I;ce++){const oe=ce*U-o;K.push(oe,-he,0),Z.push(0,0,1),Y.push(ce/h),Y.push(1-V/_)}}for(let V=0;V<_;V++)for(let he=0;he<h;he++){const ce=he+I*V,oe=he+I*(V+1),Ge=he+1+I*(V+1),Se=he+1+I*V;Q.push(ce,oe,Se),Q.push(oe,Ge,Se)}this.setIndex(Q),this.setAttribute("position",new _n(K,3)),this.setAttribute("normal",new _n(Z,3)),this.setAttribute("uv",new _n(Y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ql(e.width,e.height,e.widthSegments,e.heightSegments)}}var M2="#ifdef USE_ALPHAHASH\n	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",S2="#ifdef USE_ALPHAHASH\n	const float ALPHA_HASH_SCALE = 0.05;\n	float hash2D( vec2 value ) {\n		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n	}\n	float hash3D( vec3 value ) {\n		return hash2D( vec2( hash2D( value.xy ), value.z ) );\n	}\n	float getAlphaHashThreshold( vec3 position ) {\n		float maxDeriv = max(\n			length( dFdx( position.xyz ) ),\n			length( dFdy( position.xyz ) )\n		);\n		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n		vec2 pixScales = vec2(\n			exp2( floor( log2( pixScale ) ) ),\n			exp2( ceil( log2( pixScale ) ) )\n		);\n		vec2 alpha = vec2(\n			hash3D( floor( pixScales.x * position.xyz ) ),\n			hash3D( floor( pixScales.y * position.xyz ) )\n		);\n		float lerpFactor = fract( log2( pixScale ) );\n		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n		float a = min( lerpFactor, 1.0 - lerpFactor );\n		vec3 cases = vec3(\n			x * x / ( 2.0 * a * ( 1.0 - a ) ),\n			( x - 0.5 * a ) / ( 1.0 - a ),\n			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n		);\n		float threshold = ( x < ( 1.0 - a ) )\n			? ( ( x < a ) ? cases.x : cases.y )\n			: cases.z;\n		return clamp( threshold , 1.0e-6, 1.0 );\n	}\n#endif",I2="#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",T2="#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif",B2="#ifdef USE_ALPHATEST\n	#ifdef ALPHA_TO_COVERAGE\n	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n	if ( diffuseColor.a == 0.0 ) discard;\n	#else\n	if ( diffuseColor.a < alphaTest ) discard;\n	#endif\n#endif",R2="#ifdef USE_ALPHATEST\n	uniform float alphaTest;\n#endif",L2="#ifdef USE_AOMAP\n	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n	reflectedLight.indirectDiffuse *= ambientOcclusion;\n	#if defined( USE_CLEARCOAT ) \n		clearcoatSpecularIndirect *= ambientOcclusion;\n	#endif\n	#if defined( USE_SHEEN ) \n		sheenSpecularIndirect *= ambientOcclusion;\n	#endif\n	#if defined( USE_ENVMAP ) && defined( STANDARD )\n		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n	#endif\n#endif",D2="#ifdef USE_AOMAP\n	uniform sampler2D aoMap;\n	uniform float aoMapIntensity;\n#endif",P2="#ifdef USE_BATCHING\n	attribute float batchId;\n	uniform highp sampler2D batchingTexture;\n	mat4 getBatchingMatrix( const in float i ) {\n		int size = textureSize( batchingTexture, 0 ).x;\n		int j = int( i ) * 4;\n		int x = j % size;\n		int y = j / size;\n		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n		return mat4( v1, v2, v3, v4 );\n	}\n#endif",O2="#ifdef USE_BATCHING\n	mat4 batchingMatrix = getBatchingMatrix( batchId );\n#endif",k2="vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n	vPosition = vec3( position );\n#endif",F2="vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n	vec3 objectTangent = vec3( tangent.xyz );\n#endif",U2="float G_BlinnPhong_Implicit( ) {\n	return 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float dotVH = saturate( dot( viewDir, halfDir ) );\n	vec3 F = F_Schlick( specularColor, 1.0, dotVH );\n	float G = G_BlinnPhong_Implicit( );\n	float D = D_BlinnPhong( shininess, dotNH );\n	return F * ( G * D );\n} // validated",N2="#ifdef USE_IRIDESCENCE\n	const mat3 XYZ_TO_REC709 = mat3(\n		 3.2404542, -0.9692660,  0.0556434,\n		-1.5371385,  1.8760108, -0.2040259,\n		-0.4985314,  0.0415560,  1.0572252\n	);\n	vec3 Fresnel0ToIor( vec3 fresnel0 ) {\n		vec3 sqrtF0 = sqrt( fresnel0 );\n		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n	}\n	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n	}\n	float IorToFresnel0( float transmittedIor, float incidentIor ) {\n		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n	}\n	vec3 evalSensitivity( float OPD, vec3 shift ) {\n		float phase = 2.0 * PI * OPD * 1.0e-9;\n		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n		xyz /= 1.0685e-7;\n		vec3 rgb = XYZ_TO_REC709 * xyz;\n		return rgb;\n	}\n	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n		vec3 I;\n		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n		float cosTheta2Sq = 1.0 - sinTheta2Sq;\n		if ( cosTheta2Sq < 0.0 ) {\n			return vec3( 1.0 );\n		}\n		float cosTheta2 = sqrt( cosTheta2Sq );\n		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n		float R12 = F_Schlick( R0, 1.0, cosTheta1 );\n		float T121 = 1.0 - R12;\n		float phi12 = 0.0;\n		if ( iridescenceIOR < outsideIOR ) phi12 = PI;\n		float phi21 = PI - phi12;\n		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n		vec3 phi23 = vec3( 0.0 );\n		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n		vec3 phi = vec3( phi21 ) + phi23;\n		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n		vec3 r123 = sqrt( R123 );\n		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n		vec3 C0 = R12 + Rs;\n		I = C0;\n		vec3 Cm = Rs - T121;\n		for ( int m = 1; m <= 2; ++ m ) {\n			Cm *= r123;\n			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n			I += Cm * Sm;\n		}\n		return max( I, vec3( 0.0 ) );\n	}\n#endif",G2="#ifdef USE_BUMPMAP\n	uniform sampler2D bumpMap;\n	uniform float bumpScale;\n	vec2 dHdxy_fwd() {\n		vec2 dSTdx = dFdx( vBumpMapUv );\n		vec2 dSTdy = dFdy( vBumpMapUv );\n		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n		return vec2( dBx, dBy );\n	}\n	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n		vec3 vN = surf_norm;\n		vec3 R1 = cross( vSigmaY, vN );\n		vec3 R2 = cross( vN, vSigmaX );\n		float fDet = dot( vSigmaX, R1 ) * faceDirection;\n		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n		return normalize( abs( fDet ) * surf_norm - vGrad );\n	}\n#endif",Q2="#if NUM_CLIPPING_PLANES > 0\n	vec4 plane;\n	#ifdef ALPHA_TO_COVERAGE\n		float distanceToPlane, distanceGradient;\n		float clipOpacity = 1.0;\n		#pragma unroll_loop_start\n		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n			plane = clippingPlanes[ i ];\n			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n			distanceGradient = fwidth( distanceToPlane ) / 2.0;\n			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n			if ( clipOpacity == 0.0 ) discard;\n		}\n		#pragma unroll_loop_end\n		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n			float unionClipOpacity = 1.0;\n			#pragma unroll_loop_start\n			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n				plane = clippingPlanes[ i ];\n				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n				distanceGradient = fwidth( distanceToPlane ) / 2.0;\n				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n			}\n			#pragma unroll_loop_end\n			clipOpacity *= 1.0 - unionClipOpacity;\n		#endif\n		diffuseColor.a *= clipOpacity;\n		if ( diffuseColor.a == 0.0 ) discard;\n	#else\n		#pragma unroll_loop_start\n		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n			plane = clippingPlanes[ i ];\n			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n		}\n		#pragma unroll_loop_end\n		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n			bool clipped = true;\n			#pragma unroll_loop_start\n			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n				plane = clippingPlanes[ i ];\n				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n			}\n			#pragma unroll_loop_end\n			if ( clipped ) discard;\n		#endif\n	#endif\n#endif",H2="#if NUM_CLIPPING_PLANES > 0\n	varying vec3 vClipPosition;\n	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",V2="#if NUM_CLIPPING_PLANES > 0\n	varying vec3 vClipPosition;\n#endif",z2="#if NUM_CLIPPING_PLANES > 0\n	vClipPosition = - mvPosition.xyz;\n#endif",j2="#if defined( USE_COLOR_ALPHA )\n	diffuseColor *= vColor;\n#elif defined( USE_COLOR )\n	diffuseColor.rgb *= vColor;\n#endif",W2="#if defined( USE_COLOR_ALPHA )\n	varying vec4 vColor;\n#elif defined( USE_COLOR )\n	varying vec3 vColor;\n#endif",K2="#if defined( USE_COLOR_ALPHA )\n	varying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n	varying vec3 vColor;\n#endif",X2="#if defined( USE_COLOR_ALPHA )\n	vColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n	vColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n	vColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n	vColor.xyz *= instanceColor.xyz;\n#endif",Y2="#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n	const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n	return fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n	float precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n	float precisionSafeLength( vec3 v ) {\n		float maxComponent = max3( abs( v ) );\n		return length( v / maxComponent ) * maxComponent;\n	}\n#endif\nstruct IncidentLight {\n	vec3 color;\n	vec3 direction;\n	bool visible;\n};\nstruct ReflectedLight {\n	vec3 directDiffuse;\n	vec3 directSpecular;\n	vec3 indirectDiffuse;\n	vec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n	varying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n	mat3 tmp;\n	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n	return tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n	return dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n	return m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n	return vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n	return RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",$2="#ifdef ENVMAP_TYPE_CUBE_UV\n	#define cubeUV_minMipLevel 4.0\n	#define cubeUV_minTileSize 16.0\n	float getFace( vec3 direction ) {\n		vec3 absDirection = abs( direction );\n		float face = - 1.0;\n		if ( absDirection.x > absDirection.z ) {\n			if ( absDirection.x > absDirection.y )\n				face = direction.x > 0.0 ? 0.0 : 3.0;\n			else\n				face = direction.y > 0.0 ? 1.0 : 4.0;\n		} else {\n			if ( absDirection.z > absDirection.y )\n				face = direction.z > 0.0 ? 2.0 : 5.0;\n			else\n				face = direction.y > 0.0 ? 1.0 : 4.0;\n		}\n		return face;\n	}\n	vec2 getUV( vec3 direction, float face ) {\n		vec2 uv;\n		if ( face == 0.0 ) {\n			uv = vec2( direction.z, direction.y ) / abs( direction.x );\n		} else if ( face == 1.0 ) {\n			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n		} else if ( face == 2.0 ) {\n			uv = vec2( - direction.x, direction.y ) / abs( direction.z );\n		} else if ( face == 3.0 ) {\n			uv = vec2( - direction.z, direction.y ) / abs( direction.x );\n		} else if ( face == 4.0 ) {\n			uv = vec2( - direction.x, direction.z ) / abs( direction.y );\n		} else {\n			uv = vec2( direction.x, direction.y ) / abs( direction.z );\n		}\n		return 0.5 * ( uv + 1.0 );\n	}\n	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n		float face = getFace( direction );\n		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n		mipInt = max( mipInt, cubeUV_minMipLevel );\n		float faceSize = exp2( mipInt );\n		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n		if ( face > 2.0 ) {\n			uv.y += faceSize;\n			face -= 3.0;\n		}\n		uv.x += face * faceSize;\n		uv.x += filterInt * 3.0 * cubeUV_minTileSize;\n		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n		uv.x *= CUBEUV_TEXEL_WIDTH;\n		uv.y *= CUBEUV_TEXEL_HEIGHT;\n		#ifdef texture2DGradEXT\n			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n		#else\n			return texture2D( envMap, uv ).rgb;\n		#endif\n	}\n	#define cubeUV_r0 1.0\n	#define cubeUV_m0 - 2.0\n	#define cubeUV_r1 0.8\n	#define cubeUV_m1 - 1.0\n	#define cubeUV_r4 0.4\n	#define cubeUV_m4 2.0\n	#define cubeUV_r5 0.305\n	#define cubeUV_m5 3.0\n	#define cubeUV_r6 0.21\n	#define cubeUV_m6 4.0\n	float roughnessToMip( float roughness ) {\n		float mip = 0.0;\n		if ( roughness >= cubeUV_r1 ) {\n			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n		} else if ( roughness >= cubeUV_r4 ) {\n			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n		} else if ( roughness >= cubeUV_r5 ) {\n			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n		} else if ( roughness >= cubeUV_r6 ) {\n			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n		} else {\n			mip = - 2.0 * log2( 1.16 * roughness );		}\n		return mip;\n	}\n	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n		float mipF = fract( mip );\n		float mipInt = floor( mip );\n		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n		if ( mipF == 0.0 ) {\n			return vec4( color0, 1.0 );\n		} else {\n			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n			return vec4( mix( color0, color1, mipF ), 1.0 );\n		}\n	}\n#endif",q2="vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n	vec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n	mat3 bm = mat3( batchingMatrix );\n	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n	transformedNormal = bm * transformedNormal;\n	#ifdef USE_TANGENT\n		transformedTangent = bm * transformedTangent;\n	#endif\n#endif\n#ifdef USE_INSTANCING\n	mat3 im = mat3( instanceMatrix );\n	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n	transformedNormal = im * transformedNormal;\n	#ifdef USE_TANGENT\n		transformedTangent = im * transformedTangent;\n	#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n	transformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n	#ifdef FLIP_SIDED\n		transformedTangent = - transformedTangent;\n	#endif\n#endif",J2="#ifdef USE_DISPLACEMENTMAP\n	uniform sampler2D displacementMap;\n	uniform float displacementScale;\n	uniform float displacementBias;\n#endif",Z2="#ifdef USE_DISPLACEMENTMAP\n	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",ex="#ifdef USE_EMISSIVEMAP\n	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n	totalEmissiveRadiance *= emissiveColor.rgb;\n#endif",tx="#ifdef USE_EMISSIVEMAP\n	uniform sampler2D emissiveMap;\n#endif",nx="gl_FragColor = linearToOutputTexel( gl_FragColor );",ix="\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n	vec3( 0.8224621, 0.177538, 0.0 ),\n	vec3( 0.0331941, 0.9668058, 0.0 ),\n	vec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n	vec3( 1.2249401, - 0.2249404, 0.0 ),\n	vec3( - 0.0420569, 1.0420571, 0.0 ),\n	vec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n	return value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n	return value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n	return sRGBTransferOETF( value );\n}",rx="#ifdef USE_ENVMAP\n	#ifdef ENV_WORLDPOS\n		vec3 cameraToFrag;\n		if ( isOrthographic ) {\n			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n		} else {\n			cameraToFrag = normalize( vWorldPosition - cameraPosition );\n		}\n		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vec3 reflectVec = reflect( cameraToFrag, worldNormal );\n		#else\n			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n		#endif\n	#else\n		vec3 reflectVec = vReflect;\n	#endif\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n	#else\n		vec4 envColor = vec4( 0.0 );\n	#endif\n	#ifdef ENVMAP_BLENDING_MULTIPLY\n		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_MIX )\n		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_ADD )\n		outgoingLight += envColor.xyz * specularStrength * reflectivity;\n	#endif\n#endif",sx="#ifdef USE_ENVMAP\n	uniform float envMapIntensity;\n	uniform float flipEnvMap;\n	uniform mat3 envMapRotation;\n	#ifdef ENVMAP_TYPE_CUBE\n		uniform samplerCube envMap;\n	#else\n		uniform sampler2D envMap;\n	#endif\n	\n#endif",ox="#ifdef USE_ENVMAP\n	uniform float reflectivity;\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n		#define ENV_WORLDPOS\n	#endif\n	#ifdef ENV_WORLDPOS\n		varying vec3 vWorldPosition;\n		uniform float refractionRatio;\n	#else\n		varying vec3 vReflect;\n	#endif\n#endif",ax="#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n		#define ENV_WORLDPOS\n	#endif\n	#ifdef ENV_WORLDPOS\n		\n		varying vec3 vWorldPosition;\n	#else\n		varying vec3 vReflect;\n		uniform float refractionRatio;\n	#endif\n#endif",lx="#ifdef USE_ENVMAP\n	#ifdef ENV_WORLDPOS\n		vWorldPosition = worldPosition.xyz;\n	#else\n		vec3 cameraToVertex;\n		if ( isOrthographic ) {\n			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n		} else {\n			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n		}\n		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vReflect = reflect( cameraToVertex, worldNormal );\n		#else\n			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n		#endif\n	#endif\n#endif",cx="#ifdef USE_FOG\n	vFogDepth = - mvPosition.z;\n#endif",dx="#ifdef USE_FOG\n	varying float vFogDepth;\n#endif",hx="#ifdef USE_FOG\n	#ifdef FOG_EXP2\n		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n	#else\n		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n	#endif\n	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",ux="#ifdef USE_FOG\n	uniform vec3 fogColor;\n	varying float vFogDepth;\n	#ifdef FOG_EXP2\n		uniform float fogDensity;\n	#else\n		uniform float fogNear;\n		uniform float fogFar;\n	#endif\n#endif",fx="#ifdef USE_GRADIENTMAP\n	uniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n	float dotNL = dot( normal, lightDirection );\n	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n	#ifdef USE_GRADIENTMAP\n		return vec3( texture2D( gradientMap, coord ).r );\n	#else\n		vec2 fw = fwidth( coord ) * 0.5;\n		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n	#endif\n}",px="#ifdef USE_LIGHTMAP\n	uniform sampler2D lightMap;\n	uniform float lightMapIntensity;\n#endif",mx="LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",Ax="varying vec3 vViewPosition;\nstruct LambertMaterial {\n	vec3 diffuseColor;\n	float specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_Lambert\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert",gx="uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n	uniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n	float x = normal.x, y = normal.y, z = normal.z;\n	vec3 result = shCoefficients[ 0 ] * 0.886227;\n	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n	return result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n	return irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n	vec3 irradiance = ambientLightColor;\n	return irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n	#if defined ( LEGACY_LIGHTS )\n		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n		}\n		return 1.0;\n	#else\n		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n		if ( cutoffDistance > 0.0 ) {\n			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n		}\n		return distanceFalloff;\n	#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n	return smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n	struct DirectionalLight {\n		vec3 direction;\n		vec3 color;\n	};\n	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n		light.color = directionalLight.color;\n		light.direction = directionalLight.direction;\n		light.visible = true;\n	}\n#endif\n#if NUM_POINT_LIGHTS > 0\n	struct PointLight {\n		vec3 position;\n		vec3 color;\n		float distance;\n		float decay;\n	};\n	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n		vec3 lVector = pointLight.position - geometryPosition;\n		light.direction = normalize( lVector );\n		float lightDistance = length( lVector );\n		light.color = pointLight.color;\n		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n		light.visible = ( light.color != vec3( 0.0 ) );\n	}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n	struct SpotLight {\n		vec3 position;\n		vec3 direction;\n		vec3 color;\n		float distance;\n		float decay;\n		float coneCos;\n		float penumbraCos;\n	};\n	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n		vec3 lVector = spotLight.position - geometryPosition;\n		light.direction = normalize( lVector );\n		float angleCos = dot( light.direction, spotLight.direction );\n		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n		if ( spotAttenuation > 0.0 ) {\n			float lightDistance = length( lVector );\n			light.color = spotLight.color * spotAttenuation;\n			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n			light.visible = ( light.color != vec3( 0.0 ) );\n		} else {\n			light.color = vec3( 0.0 );\n			light.visible = false;\n		}\n	}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n	struct RectAreaLight {\n		vec3 color;\n		vec3 position;\n		vec3 halfWidth;\n		vec3 halfHeight;\n	};\n	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;\n	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n	struct HemisphereLight {\n		vec3 direction;\n		vec3 skyColor;\n		vec3 groundColor;\n	};\n	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n		float dotNL = dot( normal, hemiLight.direction );\n		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n		return irradiance;\n	}\n#endif",vx="#ifdef USE_ENVMAP\n	vec3 getIBLIrradiance( const in vec3 normal ) {\n		#ifdef ENVMAP_TYPE_CUBE_UV\n			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n			return PI * envMapColor.rgb * envMapIntensity;\n		#else\n			return vec3( 0.0 );\n		#endif\n	}\n	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n		#ifdef ENVMAP_TYPE_CUBE_UV\n			vec3 reflectVec = reflect( - viewDir, normal );\n			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n			return envMapColor.rgb * envMapIntensity;\n		#else\n			return vec3( 0.0 );\n		#endif\n	}\n	#ifdef USE_ANISOTROPY\n		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n			#ifdef ENVMAP_TYPE_CUBE_UV\n				vec3 bentNormal = cross( bitangent, viewDir );\n				bentNormal = normalize( cross( bentNormal, bitangent ) );\n				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n				return getIBLRadiance( viewDir, bentNormal, roughness );\n			#else\n				return vec3( 0.0 );\n			#endif\n		}\n	#endif\n#endif",bx="ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",yx="varying vec3 vViewPosition;\nstruct ToonMaterial {\n	vec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_Toon\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon",Ex="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",xx="varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n	vec3 diffuseColor;\n	vec3 specularColor;\n	float specularShininess;\n	float specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_BlinnPhong\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong",Cx="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n	material.ior = ior;\n	#ifdef USE_SPECULAR\n		float specularIntensityFactor = specularIntensity;\n		vec3 specularColorFactor = specularColor;\n		#ifdef USE_SPECULAR_COLORMAP\n			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n		#endif\n		#ifdef USE_SPECULAR_INTENSITYMAP\n			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n		#endif\n		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n	#else\n		float specularIntensityFactor = 1.0;\n		vec3 specularColorFactor = vec3( 1.0 );\n		material.specularF90 = 1.0;\n	#endif\n	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n	material.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n	material.clearcoat = clearcoat;\n	material.clearcoatRoughness = clearcoatRoughness;\n	material.clearcoatF0 = vec3( 0.04 );\n	material.clearcoatF90 = 1.0;\n	#ifdef USE_CLEARCOATMAP\n		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n	#endif\n	#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n	#endif\n	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n	material.clearcoatRoughness += geometryRoughness;\n	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n	material.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n	material.iridescence = iridescence;\n	material.iridescenceIOR = iridescenceIOR;\n	#ifdef USE_IRIDESCENCEMAP\n		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n	#endif\n	#ifdef USE_IRIDESCENCE_THICKNESSMAP\n		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n	#else\n		material.iridescenceThickness = iridescenceThicknessMaximum;\n	#endif\n#endif\n#ifdef USE_SHEEN\n	material.sheenColor = sheenColor;\n	#ifdef USE_SHEEN_COLORMAP\n		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n	#endif\n	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n	#ifdef USE_SHEEN_ROUGHNESSMAP\n		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n	#endif\n#endif\n#ifdef USE_ANISOTROPY\n	#ifdef USE_ANISOTROPYMAP\n		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n	#else\n		vec2 anisotropyV = anisotropyVector;\n	#endif\n	material.anisotropy = length( anisotropyV );\n	if( material.anisotropy == 0.0 ) {\n		anisotropyV = vec2( 1.0, 0.0 );\n	} else {\n		anisotropyV /= material.anisotropy;\n		material.anisotropy = saturate( material.anisotropy );\n	}\n	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",wx="struct PhysicalMaterial {\n	vec3 diffuseColor;\n	float roughness;\n	vec3 specularColor;\n	float specularF90;\n	float dispersion;\n	#ifdef USE_CLEARCOAT\n		float clearcoat;\n		float clearcoatRoughness;\n		vec3 clearcoatF0;\n		float clearcoatF90;\n	#endif\n	#ifdef USE_IRIDESCENCE\n		float iridescence;\n		float iridescenceIOR;\n		float iridescenceThickness;\n		vec3 iridescenceFresnel;\n		vec3 iridescenceF0;\n	#endif\n	#ifdef USE_SHEEN\n		vec3 sheenColor;\n		float sheenRoughness;\n	#endif\n	#ifdef IOR\n		float ior;\n	#endif\n	#ifdef USE_TRANSMISSION\n		float transmission;\n		float transmissionAlpha;\n		float thickness;\n		float attenuationDistance;\n		vec3 attenuationColor;\n	#endif\n	#ifdef USE_ANISOTROPY\n		float anisotropy;\n		float alphaT;\n		vec3 anisotropyT;\n		vec3 anisotropyB;\n	#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n	float a2 = pow2( alpha );\n	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n	return 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n	float a2 = pow2( alpha );\n	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n	return RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n		float v = 0.5 / ( gv + gl );\n		return saturate(v);\n	}\n	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n		float a2 = alphaT * alphaB;\n		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n		highp float v2 = dot( v, v );\n		float w2 = a2 / v2;\n		return RECIPROCAL_PI * a2 * pow2 ( w2 );\n	}\n#endif\n#ifdef USE_CLEARCOAT\n	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n		vec3 f0 = material.clearcoatF0;\n		float f90 = material.clearcoatF90;\n		float roughness = material.clearcoatRoughness;\n		float alpha = pow2( roughness );\n		vec3 halfDir = normalize( lightDir + viewDir );\n		float dotNL = saturate( dot( normal, lightDir ) );\n		float dotNV = saturate( dot( normal, viewDir ) );\n		float dotNH = saturate( dot( normal, halfDir ) );\n		float dotVH = saturate( dot( viewDir, halfDir ) );\n		vec3 F = F_Schlick( f0, f90, dotVH );\n		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n		float D = D_GGX( alpha, dotNH );\n		return F * ( V * D );\n	}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n	vec3 f0 = material.specularColor;\n	float f90 = material.specularF90;\n	float roughness = material.roughness;\n	float alpha = pow2( roughness );\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNL = saturate( dot( normal, lightDir ) );\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float dotVH = saturate( dot( viewDir, halfDir ) );\n	vec3 F = F_Schlick( f0, f90, dotVH );\n	#ifdef USE_IRIDESCENCE\n		F = mix( F, material.iridescenceFresnel, material.iridescence );\n	#endif\n	#ifdef USE_ANISOTROPY\n		float dotTL = dot( material.anisotropyT, lightDir );\n		float dotTV = dot( material.anisotropyT, viewDir );\n		float dotTH = dot( material.anisotropyT, halfDir );\n		float dotBL = dot( material.anisotropyB, lightDir );\n		float dotBV = dot( material.anisotropyB, viewDir );\n		float dotBH = dot( material.anisotropyB, halfDir );\n		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n	#else\n		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n		float D = D_GGX( alpha, dotNH );\n	#endif\n	return F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n	const float LUT_SIZE = 64.0;\n	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n	const float LUT_BIAS = 0.5 / LUT_SIZE;\n	float dotNV = saturate( dot( N, V ) );\n	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n	uv = uv * LUT_SCALE + LUT_BIAS;\n	return uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n	float l = length( f );\n	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n	float x = dot( v1, v2 );\n	float y = abs( x );\n	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n	float b = 3.4175940 + ( 4.1616724 + y ) * y;\n	float v = a / b;\n	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n	return cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n	vec3 lightNormal = cross( v1, v2 );\n	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n	vec3 T1, T2;\n	T1 = normalize( V - N * dot( V, N ) );\n	T2 = - cross( N, T1 );\n	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n	vec3 coords[ 4 ];\n	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n	coords[ 0 ] = normalize( coords[ 0 ] );\n	coords[ 1 ] = normalize( coords[ 1 ] );\n	coords[ 2 ] = normalize( coords[ 2 ] );\n	coords[ 3 ] = normalize( coords[ 3 ] );\n	vec3 vectorFormFactor = vec3( 0.0 );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n	return vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n	float alpha = pow2( roughness );\n	float invAlpha = 1.0 / alpha;\n	float cos2h = dotNH * dotNH;\n	float sin2h = max( 1.0 - cos2h, 0.0078125 );\n	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNL = saturate( dot( normal, lightDir ) );\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float D = D_Charlie( sheenRoughness, dotNH );\n	float V = V_Neubelt( dotNV, dotNL );\n	return sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float r2 = roughness * roughness;\n	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n	return saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n	float dotNV = saturate( dot( normal, viewDir ) );\n	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n	vec4 r = roughness * c0 + c1;\n	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n	return fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n	vec2 fab = DFGApprox( normal, viewDir, roughness );\n	return specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n	vec2 fab = DFGApprox( normal, viewDir, roughness );\n	#ifdef USE_IRIDESCENCE\n		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n	#else\n		vec3 Fr = specularColor;\n	#endif\n	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n	float Ess = fab.x + fab.y;\n	float Ems = 1.0 - Ess;\n	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n	singleScatter += FssEss;\n	multiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n		vec3 normal = geometryNormal;\n		vec3 viewDir = geometryViewDir;\n		vec3 position = geometryPosition;\n		vec3 lightPos = rectAreaLight.position;\n		vec3 halfWidth = rectAreaLight.halfWidth;\n		vec3 halfHeight = rectAreaLight.halfHeight;\n		vec3 lightColor = rectAreaLight.color;\n		float roughness = material.roughness;\n		vec3 rectCoords[ 4 ];\n		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n		vec2 uv = LTC_Uv( normal, viewDir, roughness );\n		vec4 t1 = texture2D( ltc_1, uv );\n		vec4 t2 = texture2D( ltc_2, uv );\n		mat3 mInv = mat3(\n			vec3( t1.x, 0, t1.y ),\n			vec3(    0, 1,    0 ),\n			vec3( t1.z, 0, t1.w )\n		);\n		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n	}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	#ifdef USE_CLEARCOAT\n		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n		vec3 ccIrradiance = dotNLcc * directLight.color;\n		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n	#endif\n	#ifdef USE_SHEEN\n		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n	#endif\n	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n	#ifdef USE_CLEARCOAT\n		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n	#endif\n	#ifdef USE_SHEEN\n		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n	#endif\n	vec3 singleScattering = vec3( 0.0 );\n	vec3 multiScattering = vec3( 0.0 );\n	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n	#ifdef USE_IRIDESCENCE\n		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n	#else\n		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n	#endif\n	vec3 totalScattering = singleScattering + multiScattering;\n	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n	reflectedLight.indirectSpecular += radiance * singleScattering;\n	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct				RE_Direct_Physical\n#define RE_Direct_RectArea		RE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular		RE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",_x="\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n	geometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n	float dotNVi = saturate( dot( normal, geometryViewDir ) );\n	if ( material.iridescenceThickness == 0.0 ) {\n		material.iridescence = 0.0;\n	} else {\n		material.iridescence = saturate( material.iridescence );\n	}\n	if ( material.iridescence > 0.0 ) {\n		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n	}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n	PointLight pointLight;\n	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n	PointLightShadow pointLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		pointLight = pointLights[ i ];\n		getPointLightInfo( pointLight, geometryPosition, directLight );\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n		pointLightShadow = pointLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n	SpotLight spotLight;\n	vec4 spotColor;\n	vec3 spotLightCoord;\n	bool inSpotLightMap;\n	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n	SpotLightShadow spotLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		spotLight = spotLights[ i ];\n		getSpotLightInfo( spotLight, geometryPosition, directLight );\n		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n		#else\n		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n		#endif\n		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n		#endif\n		#undef SPOT_LIGHT_MAP_INDEX\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n		spotLightShadow = spotLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n	DirectionalLight directionalLight;\n	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n	DirectionalLightShadow directionalLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		directionalLight = directionalLights[ i ];\n		getDirectionalLightInfo( directionalLight, directLight );\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n		directionalLightShadow = directionalLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n	RectAreaLight rectAreaLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n		rectAreaLight = rectAreaLights[ i ];\n		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n	vec3 iblIrradiance = vec3( 0.0 );\n	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n	#if defined( USE_LIGHT_PROBES )\n		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n	#endif\n	#if ( NUM_HEMI_LIGHTS > 0 )\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n		}\n		#pragma unroll_loop_end\n	#endif\n#endif\n#if defined( RE_IndirectSpecular )\n	vec3 radiance = vec3( 0.0 );\n	vec3 clearcoatRadiance = vec3( 0.0 );\n#endif",Mx="#if defined( RE_IndirectDiffuse )\n	#ifdef USE_LIGHTMAP\n		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n		irradiance += lightMapIrradiance;\n	#endif\n	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n		iblIrradiance += getIBLIrradiance( geometryNormal );\n	#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n	#ifdef USE_ANISOTROPY\n		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n	#else\n		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n	#endif\n	#ifdef USE_CLEARCOAT\n		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n	#endif\n#endif",Sx="#if defined( RE_IndirectDiffuse )\n	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",Ix="#if defined( USE_LOGDEPTHBUF )\n	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",Tx="#if defined( USE_LOGDEPTHBUF )\n	uniform float logDepthBufFC;\n	varying float vFragDepth;\n	varying float vIsPerspective;\n#endif",Bx="#ifdef USE_LOGDEPTHBUF\n	varying float vFragDepth;\n	varying float vIsPerspective;\n#endif",Rx="#ifdef USE_LOGDEPTHBUF\n	vFragDepth = 1.0 + gl_Position.w;\n	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",Lx="#ifdef USE_MAP\n	vec4 sampledDiffuseColor = texture2D( map, vMapUv );\n	#ifdef DECODE_VIDEO_TEXTURE\n		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n	\n	#endif\n	diffuseColor *= sampledDiffuseColor;\n#endif",Dx="#ifdef USE_MAP\n	uniform sampler2D map;\n#endif",Px="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n	#if defined( USE_POINTS_UV )\n		vec2 uv = vUv;\n	#else\n		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n	#endif\n#endif\n#ifdef USE_MAP\n	diffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",Ox="#if defined( USE_POINTS_UV )\n	varying vec2 vUv;\n#else\n	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n		uniform mat3 uvTransform;\n	#endif\n#endif\n#ifdef USE_MAP\n	uniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif",kx="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n	metalnessFactor *= texelMetalness.b;\n#endif",Fx="#ifdef USE_METALNESSMAP\n	uniform sampler2D metalnessMap;\n#endif",Ux="#ifdef USE_INSTANCING_MORPH\n	float morphTargetInfluences[MORPHTARGETS_COUNT];\n	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n	}\n#endif",Nx="#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n	vColor *= morphTargetBaseInfluence;\n	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n		#if defined( USE_COLOR_ALPHA )\n			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n		#elif defined( USE_COLOR )\n			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n		#endif\n	}\n#endif",Gx="#ifdef USE_MORPHNORMALS\n	objectNormal *= morphTargetBaseInfluence;\n	#ifdef MORPHTARGETS_TEXTURE\n		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n		}\n	#else\n		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n	#endif\n#endif",Qx="#ifdef USE_MORPHTARGETS\n	#ifndef USE_INSTANCING_MORPH\n		uniform float morphTargetBaseInfluence;\n	#endif\n	#ifdef MORPHTARGETS_TEXTURE\n		#ifndef USE_INSTANCING_MORPH\n			uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n		#endif\n		uniform sampler2DArray morphTargetsTexture;\n		uniform ivec2 morphTargetsTextureSize;\n		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n			int y = texelIndex / morphTargetsTextureSize.x;\n			int x = texelIndex - y * morphTargetsTextureSize.x;\n			ivec3 morphUV = ivec3( x, y, morphTargetIndex );\n			return texelFetch( morphTargetsTexture, morphUV, 0 );\n		}\n	#else\n		#ifndef USE_MORPHNORMALS\n			uniform float morphTargetInfluences[ 8 ];\n		#else\n			uniform float morphTargetInfluences[ 4 ];\n		#endif\n	#endif\n#endif",Hx="#ifdef USE_MORPHTARGETS\n	transformed *= morphTargetBaseInfluence;\n	#ifdef MORPHTARGETS_TEXTURE\n		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n		}\n	#else\n		transformed += morphTarget0 * morphTargetInfluences[ 0 ];\n		transformed += morphTarget1 * morphTargetInfluences[ 1 ];\n		transformed += morphTarget2 * morphTargetInfluences[ 2 ];\n		transformed += morphTarget3 * morphTargetInfluences[ 3 ];\n		#ifndef USE_MORPHNORMALS\n			transformed += morphTarget4 * morphTargetInfluences[ 4 ];\n			transformed += morphTarget5 * morphTargetInfluences[ 5 ];\n			transformed += morphTarget6 * morphTargetInfluences[ 6 ];\n			transformed += morphTarget7 * morphTargetInfluences[ 7 ];\n		#endif\n	#endif\n#endif",Vx="float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n	vec3 fdx = dFdx( vViewPosition );\n	vec3 fdy = dFdy( vViewPosition );\n	vec3 normal = normalize( cross( fdx, fdy ) );\n#else\n	vec3 normal = normalize( vNormal );\n	#ifdef DOUBLE_SIDED\n		normal *= faceDirection;\n	#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n	#ifdef USE_TANGENT\n		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n	#else\n		mat3 tbn = getTangentFrame( - vViewPosition, normal,\n		#if defined( USE_NORMALMAP )\n			vNormalMapUv\n		#elif defined( USE_CLEARCOAT_NORMALMAP )\n			vClearcoatNormalMapUv\n		#else\n			vUv\n		#endif\n		);\n	#endif\n	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n		tbn[0] *= faceDirection;\n		tbn[1] *= faceDirection;\n	#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	#ifdef USE_TANGENT\n		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n	#else\n		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n	#endif\n	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n		tbn2[0] *= faceDirection;\n		tbn2[1] *= faceDirection;\n	#endif\n#endif\nvec3 nonPerturbedNormal = normal;",zx="#ifdef USE_NORMALMAP_OBJECTSPACE\n	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n	#ifdef FLIP_SIDED\n		normal = - normal;\n	#endif\n	#ifdef DOUBLE_SIDED\n		normal = normal * faceDirection;\n	#endif\n	normal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n	mapN.xy *= normalScale;\n	normal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",jx="#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n	#ifdef USE_TANGENT\n		varying vec3 vTangent;\n		varying vec3 vBitangent;\n	#endif\n#endif",Wx="#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n	#ifdef USE_TANGENT\n		varying vec3 vTangent;\n		varying vec3 vBitangent;\n	#endif\n#endif",Kx="#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n	#ifdef USE_TANGENT\n		vTangent = normalize( transformedTangent );\n		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n	#endif\n#endif",Xx="#ifdef USE_NORMALMAP\n	uniform sampler2D normalMap;\n	uniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n	uniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n		vec3 q0 = dFdx( eye_pos.xyz );\n		vec3 q1 = dFdy( eye_pos.xyz );\n		vec2 st0 = dFdx( uv.st );\n		vec2 st1 = dFdy( uv.st );\n		vec3 N = surf_norm;\n		vec3 q1perp = cross( q1, N );\n		vec3 q0perp = cross( N, q0 );\n		vec3 T = q1perp * st0.x + q0perp * st1.x;\n		vec3 B = q1perp * st0.y + q0perp * st1.y;\n		float det = max( dot( T, T ), dot( B, B ) );\n		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n		return mat3( T * scale, B * scale, N );\n	}\n#endif",Yx="#ifdef USE_CLEARCOAT\n	vec3 clearcoatNormal = nonPerturbedNormal;\n#endif",$x="#ifdef USE_CLEARCOAT_NORMALMAP\n	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n	clearcoatMapN.xy *= clearcoatNormalScale;\n	clearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",qx="#ifdef USE_CLEARCOATMAP\n	uniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	uniform sampler2D clearcoatNormalMap;\n	uniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	uniform sampler2D clearcoatRoughnessMap;\n#endif",Jx="#ifdef USE_IRIDESCENCEMAP\n	uniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	uniform sampler2D iridescenceThicknessMap;\n#endif",Zx="#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",eC="vec3 packNormalToRGB( const in vec3 normal ) {\n	return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n	return 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n	vec4 r = vec4( fract( v * PackFactors ), v );\n	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n	return dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n	return packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n	return ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n	return depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n	return ( near * far ) / ( ( far - near ) * depth - far );\n}",tC="#ifdef PREMULTIPLIED_ALPHA\n	gl_FragColor.rgb *= gl_FragColor.a;\n#endif",nC="vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n	mvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n	mvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",iC="#ifdef DITHERING\n	gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",rC="#ifdef DITHERING\n	vec3 dithering( vec3 color ) {\n		float grid_position = rand( gl_FragCoord.xy );\n		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n		return color + dither_shift_RGB;\n	}\n#endif",sC="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n	roughnessFactor *= texelRoughness.g;\n#endif",oC="#ifdef USE_ROUGHNESSMAP\n	uniform sampler2D roughnessMap;\n#endif",aC="#if NUM_SPOT_LIGHT_COORDS > 0\n	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n		struct DirectionalLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n		struct SpotLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n		struct PointLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n			float shadowCameraNear;\n			float shadowCameraFar;\n		};\n		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n	#endif\n	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n	}\n	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n		return unpackRGBATo2Half( texture2D( shadow, uv ) );\n	}\n	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n		float occlusion = 1.0;\n		vec2 distribution = texture2DDistribution( shadow, uv );\n		float hard_shadow = step( compare , distribution.x );\n		if (hard_shadow != 1.0 ) {\n			float distance = compare - distribution.x ;\n			float variance = max( 0.00000, distribution.y * distribution.y );\n			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n		}\n		return occlusion;\n	}\n	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n		float shadow = 1.0;\n		shadowCoord.xyz /= shadowCoord.w;\n		shadowCoord.z += shadowBias;\n		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n		if ( frustumTest ) {\n		#if defined( SHADOWMAP_TYPE_PCF )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx0 = - texelSize.x * shadowRadius;\n			float dy0 = - texelSize.y * shadowRadius;\n			float dx1 = + texelSize.x * shadowRadius;\n			float dy1 = + texelSize.y * shadowRadius;\n			float dx2 = dx0 / 2.0;\n			float dy2 = dy0 / 2.0;\n			float dx3 = dx1 / 2.0;\n			float dy3 = dy1 / 2.0;\n			shadow = (\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n			) * ( 1.0 / 17.0 );\n		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx = texelSize.x;\n			float dy = texelSize.y;\n			vec2 uv = shadowCoord.xy;\n			vec2 f = fract( uv * shadowMapSize + 0.5 );\n			uv -= f * texelSize;\n			shadow = (\n				texture2DCompare( shadowMap, uv, shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n					 f.x ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n					 f.x ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n					 f.y ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n					 f.y ) +\n				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n						  f.x ),\n					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n						  f.x ),\n					 f.y )\n			) * ( 1.0 / 9.0 );\n		#elif defined( SHADOWMAP_TYPE_VSM )\n			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n		#else\n			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n		#endif\n		}\n		return shadow;\n	}\n	vec2 cubeToUV( vec3 v, float texelSizeY ) {\n		vec3 absV = abs( v );\n		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n		absV *= scaleToCube;\n		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n		vec2 planar = v.xy;\n		float almostATexel = 1.5 * texelSizeY;\n		float almostOne = 1.0 - almostATexel;\n		if ( absV.z >= almostOne ) {\n			if ( v.z > 0.0 )\n				planar.x = 4.0 - v.x;\n		} else if ( absV.x >= almostOne ) {\n			float signX = sign( v.x );\n			planar.x = v.z * signX + 2.0 * signX;\n		} else if ( absV.y >= almostOne ) {\n			float signY = sign( v.y );\n			planar.x = v.x + 2.0 * signY + 2.0;\n			planar.y = v.z * signY - 2.0;\n		}\n		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n	}\n	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n		float shadow = 1.0;\n		vec3 lightToPosition = shadowCoord.xyz;\n		\n		float lightToPositionLength = length( lightToPosition );\n		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;\n			vec3 bd3D = normalize( lightToPosition );\n			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n				shadow = (\n					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n				) * ( 1.0 / 9.0 );\n			#else\n				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n			#endif\n		}\n		return shadow;\n	}\n#endif",lC="#if NUM_SPOT_LIGHT_COORDS > 0\n	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n		struct DirectionalLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n		struct SpotLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n		struct PointLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n			float shadowCameraNear;\n			float shadowCameraFar;\n		};\n		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n	#endif\n#endif",cC="#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n	vec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n		}\n		#pragma unroll_loop_end\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n		}\n		#pragma unroll_loop_end\n	#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n		shadowWorldPosition = worldPosition;\n		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n		#endif\n		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n	}\n	#pragma unroll_loop_end\n#endif",dC="float getShadowMask() {\n	float shadow = 1.0;\n	#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n	DirectionalLightShadow directionalLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n		directionalLight = directionalLightShadows[ i ];\n		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n	SpotLightShadow spotLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n		spotLight = spotLightShadows[ i ];\n		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n	PointLightShadow pointLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n		pointLight = pointLightShadows[ i ];\n		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#endif\n	return shadow;\n}",hC="#ifdef USE_SKINNING\n	mat4 boneMatX = getBoneMatrix( skinIndex.x );\n	mat4 boneMatY = getBoneMatrix( skinIndex.y );\n	mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n	mat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",uC="#ifdef USE_SKINNING\n	uniform mat4 bindMatrix;\n	uniform mat4 bindMatrixInverse;\n	uniform highp sampler2D boneTexture;\n	mat4 getBoneMatrix( const in float i ) {\n		int size = textureSize( boneTexture, 0 ).x;\n		int j = int( i ) * 4;\n		int x = j % size;\n		int y = j / size;\n		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n		return mat4( v1, v2, v3, v4 );\n	}\n#endif",fC="#ifdef USE_SKINNING\n	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n	vec4 skinned = vec4( 0.0 );\n	skinned += boneMatX * skinVertex * skinWeight.x;\n	skinned += boneMatY * skinVertex * skinWeight.y;\n	skinned += boneMatZ * skinVertex * skinWeight.z;\n	skinned += boneMatW * skinVertex * skinWeight.w;\n	transformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",pC="#ifdef USE_SKINNING\n	mat4 skinMatrix = mat4( 0.0 );\n	skinMatrix += skinWeight.x * boneMatX;\n	skinMatrix += skinWeight.y * boneMatY;\n	skinMatrix += skinWeight.z * boneMatZ;\n	skinMatrix += skinWeight.w * boneMatW;\n	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n	#ifdef USE_TANGENT\n		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n	#endif\n#endif",mC="float specularStrength;\n#ifdef USE_SPECULARMAP\n	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n	specularStrength = texelSpecular.r;\n#else\n	specularStrength = 1.0;\n#endif",AC="#ifdef USE_SPECULARMAP\n	uniform sampler2D specularMap;\n#endif",gC="#if defined( TONE_MAPPING )\n	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",vC="#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n	return saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	return saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	color = max( vec3( 0.0 ), color - 0.004 );\n	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n	return a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n	const mat3 ACESInputMat = mat3(\n		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),\n		vec3( 0.04823, 0.01566, 0.83777 )\n	);\n	const mat3 ACESOutputMat = mat3(\n		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),\n		vec3( -0.07367, -0.00605,  1.07602 )\n	);\n	color *= toneMappingExposure / 0.6;\n	color = ACESInputMat * color;\n	color = RRTAndODTFit( color );\n	color = ACESOutputMat * color;\n	return saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n	vec3( 1.6605, - 0.1246, - 0.0182 ),\n	vec3( - 0.5876, 1.1329, - 0.1006 ),\n	vec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n	vec3( 0.6274, 0.0691, 0.0164 ),\n	vec3( 0.3293, 0.9195, 0.0880 ),\n	vec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n	vec3 x2 = x * x;\n	vec3 x4 = x2 * x2;\n	return + 15.5 * x4 * x2\n		- 40.14 * x4 * x\n		+ 31.96 * x4\n		- 6.868 * x2 * x\n		+ 0.4298 * x2\n		+ 0.1191 * x\n		- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n	const mat3 AgXInsetMatrix = mat3(\n		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n	);\n	const mat3 AgXOutsetMatrix = mat3(\n		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n	);\n	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;\n	color *= toneMappingExposure;\n	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n	color = AgXInsetMatrix * color;\n	color = max( color, 1e-10 );	color = log2( color );\n	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n	color = clamp( color, 0.0, 1.0 );\n	color = agxDefaultContrastApprox( color );\n	color = AgXOutsetMatrix * color;\n	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n	color = clamp( color, 0.0, 1.0 );\n	return color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n	const float StartCompression = 0.8 - 0.04;\n	const float Desaturation = 0.15;\n	color *= toneMappingExposure;\n	float x = min( color.r, min( color.g, color.b ) );\n	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n	color -= offset;\n	float peak = max( color.r, max( color.g, color.b ) );\n	if ( peak < StartCompression ) return color;\n	float d = 1. - StartCompression;\n	float newPeak = 1. - d * d / ( peak + d - StartCompression );\n	color *= newPeak / peak;\n	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n	return mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",bC="#ifdef USE_TRANSMISSION\n	material.transmission = transmission;\n	material.transmissionAlpha = 1.0;\n	material.thickness = thickness;\n	material.attenuationDistance = attenuationDistance;\n	material.attenuationColor = attenuationColor;\n	#ifdef USE_TRANSMISSIONMAP\n		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n	#endif\n	#ifdef USE_THICKNESSMAP\n		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n	#endif\n	vec3 pos = vWorldPosition;\n	vec3 v = normalize( cameraPosition - pos );\n	vec3 n = inverseTransformDirection( normal, viewMatrix );\n	vec4 transmitted = getIBLVolumeRefraction(\n		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n		material.attenuationColor, material.attenuationDistance );\n	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",yC="#ifdef USE_TRANSMISSION\n	uniform float transmission;\n	uniform float thickness;\n	uniform float attenuationDistance;\n	uniform vec3 attenuationColor;\n	#ifdef USE_TRANSMISSIONMAP\n		uniform sampler2D transmissionMap;\n	#endif\n	#ifdef USE_THICKNESSMAP\n		uniform sampler2D thicknessMap;\n	#endif\n	uniform vec2 transmissionSamplerSize;\n	uniform sampler2D transmissionSamplerMap;\n	uniform mat4 modelMatrix;\n	uniform mat4 projectionMatrix;\n	varying vec3 vWorldPosition;\n	float w0( float a ) {\n		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n	}\n	float w1( float a ) {\n		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n	}\n	float w2( float a ){\n		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n	}\n	float w3( float a ) {\n		return ( 1.0 / 6.0 ) * ( a * a * a );\n	}\n	float g0( float a ) {\n		return w0( a ) + w1( a );\n	}\n	float g1( float a ) {\n		return w2( a ) + w3( a );\n	}\n	float h0( float a ) {\n		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n	}\n	float h1( float a ) {\n		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n	}\n	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n		uv = uv * texelSize.zw + 0.5;\n		vec2 iuv = floor( uv );\n		vec2 fuv = fract( uv );\n		float g0x = g0( fuv.x );\n		float g1x = g1( fuv.x );\n		float h0x = h0( fuv.x );\n		float h1x = h1( fuv.x );\n		float h0y = h0( fuv.y );\n		float h1y = h1( fuv.y );\n		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n	}\n	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n		vec2 fLodSizeInv = 1.0 / fLodSize;\n		vec2 cLodSizeInv = 1.0 / cLodSize;\n		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n		return mix( fSample, cSample, fract( lod ) );\n	}\n	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n		vec3 modelScale;\n		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n		return normalize( refractionVector ) * thickness * modelScale;\n	}\n	float applyIorToRoughness( const in float roughness, const in float ior ) {\n		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n	}\n	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n	}\n	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n		if ( isinf( attenuationDistance ) ) {\n			return vec3( 1.0 );\n		} else {\n			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;\n		}\n	}\n	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n		const in vec3 attenuationColor, const in float attenuationDistance ) {\n		vec4 transmittedLight;\n		vec3 transmittance;\n		#ifdef USE_DISPERSION\n			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n			for ( int i = 0; i < 3; i ++ ) {\n				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n				vec3 refractedRayExit = position + transmissionRay;\n		\n				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n				vec2 refractionCoords = ndcPos.xy / ndcPos.w;\n				refractionCoords += 1.0;\n				refractionCoords /= 2.0;\n		\n				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n				transmittedLight[ i ] = transmissionSample[ i ];\n				transmittedLight.a += transmissionSample.a;\n				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n			}\n			transmittedLight.a /= 3.0;\n		\n		#else\n		\n			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n			vec3 refractedRayExit = position + transmissionRay;\n			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n			vec2 refractionCoords = ndcPos.xy / ndcPos.w;\n			refractionCoords += 1.0;\n			refractionCoords /= 2.0;\n			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n		\n		#endif\n		vec3 attenuatedColor = transmittance * transmittedLight.rgb;\n		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n	}\n#endif",EC="#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n	varying vec2 vUv;\n#endif\n#ifdef USE_MAP\n	varying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n	varying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n	varying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n	varying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n	varying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n	varying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n	varying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n	varying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	varying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n	varying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n	varying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	varying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	varying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	varying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	varying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	varying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	varying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n	varying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	varying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	varying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	uniform mat3 transmissionMapTransform;\n	varying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n	uniform mat3 thicknessMapTransform;\n	varying vec2 vThicknessMapUv;\n#endif",xC="#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n	varying vec2 vUv;\n#endif\n#ifdef USE_MAP\n	uniform mat3 mapTransform;\n	varying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n	uniform mat3 alphaMapTransform;\n	varying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n	uniform mat3 lightMapTransform;\n	varying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n	uniform mat3 aoMapTransform;\n	varying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n	uniform mat3 bumpMapTransform;\n	varying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n	uniform mat3 normalMapTransform;\n	varying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n	uniform mat3 displacementMapTransform;\n	varying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n	uniform mat3 emissiveMapTransform;\n	varying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n	uniform mat3 metalnessMapTransform;\n	varying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	uniform mat3 roughnessMapTransform;\n	varying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n	uniform mat3 anisotropyMapTransform;\n	varying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n	uniform mat3 clearcoatMapTransform;\n	varying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	uniform mat3 clearcoatNormalMapTransform;\n	varying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	uniform mat3 clearcoatRoughnessMapTransform;\n	varying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	uniform mat3 sheenColorMapTransform;\n	varying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	uniform mat3 sheenRoughnessMapTransform;\n	varying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	uniform mat3 iridescenceMapTransform;\n	varying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	uniform mat3 iridescenceThicknessMapTransform;\n	varying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n	uniform mat3 specularMapTransform;\n	varying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	uniform mat3 specularColorMapTransform;\n	varying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	uniform mat3 specularIntensityMapTransform;\n	varying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	uniform mat3 transmissionMapTransform;\n	varying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n	uniform mat3 thicknessMapTransform;\n	varying vec2 vThicknessMapUv;\n#endif",CC="#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n	vUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",wC="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n	vec4 worldPosition = vec4( transformed, 1.0 );\n	#ifdef USE_BATCHING\n		worldPosition = batchingMatrix * worldPosition;\n	#endif\n	#ifdef USE_INSTANCING\n		worldPosition = instanceMatrix * worldPosition;\n	#endif\n	worldPosition = modelMatrix * worldPosition;\n#endif";const ri={alphahash_fragment:M2,alphahash_pars_fragment:S2,alphamap_fragment:I2,alphamap_pars_fragment:T2,alphatest_fragment:B2,alphatest_pars_fragment:R2,aomap_fragment:L2,aomap_pars_fragment:D2,batching_pars_vertex:P2,batching_vertex:O2,begin_vertex:k2,beginnormal_vertex:F2,bsdfs:U2,iridescence_fragment:N2,bumpmap_pars_fragment:G2,clipping_planes_fragment:Q2,clipping_planes_pars_fragment:H2,clipping_planes_pars_vertex:V2,clipping_planes_vertex:z2,color_fragment:j2,color_pars_fragment:W2,color_pars_vertex:K2,color_vertex:X2,common:Y2,cube_uv_reflection_fragment:$2,defaultnormal_vertex:q2,displacementmap_pars_vertex:J2,displacementmap_vertex:Z2,emissivemap_fragment:ex,emissivemap_pars_fragment:tx,colorspace_fragment:nx,colorspace_pars_fragment:ix,envmap_fragment:rx,envmap_common_pars_fragment:sx,envmap_pars_fragment:ox,envmap_pars_vertex:ax,envmap_physical_pars_fragment:vx,envmap_vertex:lx,fog_vertex:cx,fog_pars_vertex:dx,fog_fragment:hx,fog_pars_fragment:ux,gradientmap_pars_fragment:fx,lightmap_pars_fragment:px,lights_lambert_fragment:mx,lights_lambert_pars_fragment:Ax,lights_pars_begin:gx,lights_toon_fragment:bx,lights_toon_pars_fragment:yx,lights_phong_fragment:Ex,lights_phong_pars_fragment:xx,lights_physical_fragment:Cx,lights_physical_pars_fragment:wx,lights_fragment_begin:_x,lights_fragment_maps:Mx,lights_fragment_end:Sx,logdepthbuf_fragment:Ix,logdepthbuf_pars_fragment:Tx,logdepthbuf_pars_vertex:Bx,logdepthbuf_vertex:Rx,map_fragment:Lx,map_pars_fragment:Dx,map_particle_fragment:Px,map_particle_pars_fragment:Ox,metalnessmap_fragment:kx,metalnessmap_pars_fragment:Fx,morphinstance_vertex:Ux,morphcolor_vertex:Nx,morphnormal_vertex:Gx,morphtarget_pars_vertex:Qx,morphtarget_vertex:Hx,normal_fragment_begin:Vx,normal_fragment_maps:zx,normal_pars_fragment:jx,normal_pars_vertex:Wx,normal_vertex:Kx,normalmap_pars_fragment:Xx,clearcoat_normal_fragment_begin:Yx,clearcoat_normal_fragment_maps:$x,clearcoat_pars_fragment:qx,iridescence_pars_fragment:Jx,opaque_fragment:Zx,packing:eC,premultiplied_alpha_fragment:tC,project_vertex:nC,dithering_fragment:iC,dithering_pars_fragment:rC,roughnessmap_fragment:sC,roughnessmap_pars_fragment:oC,shadowmap_pars_fragment:aC,shadowmap_pars_vertex:lC,shadowmap_vertex:cC,shadowmask_pars_fragment:dC,skinbase_vertex:hC,skinning_pars_vertex:uC,skinning_vertex:fC,skinnormal_vertex:pC,specularmap_fragment:mC,specularmap_pars_fragment:AC,tonemapping_fragment:gC,tonemapping_pars_fragment:vC,transmission_fragment:bC,transmission_pars_fragment:yC,uv_pars_fragment:EC,uv_pars_vertex:xC,uv_vertex:CC,worldpos_vertex:wC,background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n	gl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n	vec4 texColor = texture2D( t2D, vUv );\n	#ifdef DECODE_VIDEO_TEXTURE\n		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n	#endif\n	texColor.rgb *= backgroundIntensity;\n	gl_FragColor = texColor;\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	gl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n	uniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n	uniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n	#elif defined( ENVMAP_TYPE_CUBE_UV )\n		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n	#else\n		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n	#endif\n	texColor.rgb *= backgroundIntensity;\n	gl_FragColor = texColor;\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	gl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n	gl_FragColor = texColor;\n	gl_FragColor.a *= opacity;\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n	#include <uv_vertex>\n	#include <batching_vertex>\n	#include <skinbase_vertex>\n	#include <morphinstance_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n	uniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n	vec4 diffuseColor = vec4( 1.0 );\n	#include <clipping_planes_fragment>\n	#if DEPTH_PACKING == 3200\n		diffuseColor.a = opacity;\n	#endif\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <logdepthbuf_fragment>\n	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n	#if DEPTH_PACKING == 3200\n		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n	#elif DEPTH_PACKING == 3201\n		gl_FragColor = packDepthToRGBA( fragCoordZ );\n	#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <batching_vertex>\n	#include <skinbase_vertex>\n	#include <morphinstance_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <worldpos_vertex>\n	#include <clipping_planes_vertex>\n	vWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n	vec4 diffuseColor = vec4( 1.0 );\n	#include <clipping_planes_fragment>\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	float dist = length( vWorldPosition - referencePosition );\n	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n	dist = saturate( dist );\n	gl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vec3 direction = normalize( vWorldDirection );\n	vec2 sampleUV = equirectUv( direction );\n	gl_FragColor = texture2D( tEquirect, sampleUV );\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	vLineDistance = scale * lineDistance;\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	if ( mod( vLineDistance, totalSize ) > dashSize ) {\n		discard;\n	}\n	vec3 outgoingLight = vec3( 0.0 );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinbase_vertex>\n		#include <skinnormal_vertex>\n		#include <defaultnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <specularmap_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	#ifdef USE_LIGHTMAP\n		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n	#else\n		reflectedLight.indirectDiffuse += vec3( 1.0 );\n	#endif\n	#include <aomap_fragment>\n	reflectedLight.indirectDiffuse *= diffuseColor.rgb;\n	vec3 outgoingLight = reflectedLight.indirectDiffuse;\n	#include <envmap_fragment>\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_lambert_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n	vViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	vec3 viewDir = normalize( vViewPosition );\n	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n	vec3 y = cross( viewDir, x );\n	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n	#ifdef USE_MATCAP\n		vec4 matcapColor = texture2D( matcap, uv );\n	#else\n		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n	#endif\n	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	varying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphinstance_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	vViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	varying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n	#include <clipping_planes_fragment>\n	#include <logdepthbuf_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n	#ifdef OPAQUE\n		gl_FragColor.a = 1.0;\n	#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphinstance_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_phong_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n	varying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n	vWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n	#define IOR\n	#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n	uniform float ior;\n#endif\n#ifdef USE_SPECULAR\n	uniform float specularIntensity;\n	uniform vec3 specularColor;\n	#ifdef USE_SPECULAR_COLORMAP\n		uniform sampler2D specularColorMap;\n	#endif\n	#ifdef USE_SPECULAR_INTENSITYMAP\n		uniform sampler2D specularIntensityMap;\n	#endif\n#endif\n#ifdef USE_CLEARCOAT\n	uniform float clearcoat;\n	uniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n	uniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n	uniform float iridescence;\n	uniform float iridescenceIOR;\n	uniform float iridescenceThicknessMinimum;\n	uniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n	uniform vec3 sheenColor;\n	uniform float sheenRoughness;\n	#ifdef USE_SHEEN_COLORMAP\n		uniform sampler2D sheenColorMap;\n	#endif\n	#ifdef USE_SHEEN_ROUGHNESSMAP\n		uniform sampler2D sheenRoughnessMap;\n	#endif\n#endif\n#ifdef USE_ANISOTROPY\n	uniform vec2 anisotropyVector;\n	#ifdef USE_ANISOTROPYMAP\n		uniform sampler2D anisotropyMap;\n	#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <roughnessmap_fragment>\n	#include <metalnessmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <clearcoat_normal_fragment_begin>\n	#include <clearcoat_normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_physical_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n	#include <transmission_fragment>\n	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n	#ifdef USE_SHEEN\n		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n	#endif\n	#ifdef USE_CLEARCOAT\n		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n	#endif\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_toon_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n	varying vec2 vUv;\n	uniform mat3 uvTransform;\n#endif\nvoid main() {\n	#ifdef USE_POINTS_UV\n		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n	#endif\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	gl_PointSize = size;\n	#ifdef USE_SIZEATTENUATION\n		bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n	#endif\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	#include <logdepthbuf_fragment>\n	#include <map_particle_fragment>\n	#include <color_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphinstance_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n	#include <logdepthbuf_fragment>\n	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n	vec2 scale;\n	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n	#ifndef USE_SIZEATTENUATION\n		bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n		if ( isPerspective ) scale *= - mvPosition.z;\n	#endif\n	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n	vec2 rotatedPosition;\n	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n	mvPosition.xy += rotatedPosition;\n	gl_Position = projectionMatrix * mvPosition;\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n}"},tn={common:{diffuse:{value:new pn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new jn},alphaMap:{value:null},alphaMapTransform:{value:new jn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new jn}},envmap:{envMap:{value:null},envMapRotation:{value:new jn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new jn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new jn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new jn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new jn},normalScale:{value:new Mt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new jn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new jn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new jn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new jn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new pn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new pn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new jn},alphaTest:{value:0},uvTransform:{value:new jn}},sprite:{diffuse:{value:new pn(16777215)},opacity:{value:1},center:{value:new Mt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new jn},alphaMap:{value:null},alphaMapTransform:{value:new jn},alphaTest:{value:0}}},io={basic:{uniforms:fs([tn.common,tn.specularmap,tn.envmap,tn.aomap,tn.lightmap,tn.fog]),vertexShader:ri.meshbasic_vert,fragmentShader:ri.meshbasic_frag},lambert:{uniforms:fs([tn.common,tn.specularmap,tn.envmap,tn.aomap,tn.lightmap,tn.emissivemap,tn.bumpmap,tn.normalmap,tn.displacementmap,tn.fog,tn.lights,{emissive:{value:new pn(0)}}]),vertexShader:ri.meshlambert_vert,fragmentShader:ri.meshlambert_frag},phong:{uniforms:fs([tn.common,tn.specularmap,tn.envmap,tn.aomap,tn.lightmap,tn.emissivemap,tn.bumpmap,tn.normalmap,tn.displacementmap,tn.fog,tn.lights,{emissive:{value:new pn(0)},specular:{value:new pn(1118481)},shininess:{value:30}}]),vertexShader:ri.meshphong_vert,fragmentShader:ri.meshphong_frag},standard:{uniforms:fs([tn.common,tn.envmap,tn.aomap,tn.lightmap,tn.emissivemap,tn.bumpmap,tn.normalmap,tn.displacementmap,tn.roughnessmap,tn.metalnessmap,tn.fog,tn.lights,{emissive:{value:new pn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ri.meshphysical_vert,fragmentShader:ri.meshphysical_frag},toon:{uniforms:fs([tn.common,tn.aomap,tn.lightmap,tn.emissivemap,tn.bumpmap,tn.normalmap,tn.displacementmap,tn.gradientmap,tn.fog,tn.lights,{emissive:{value:new pn(0)}}]),vertexShader:ri.meshtoon_vert,fragmentShader:ri.meshtoon_frag},matcap:{uniforms:fs([tn.common,tn.bumpmap,tn.normalmap,tn.displacementmap,tn.fog,{matcap:{value:null}}]),vertexShader:ri.meshmatcap_vert,fragmentShader:ri.meshmatcap_frag},points:{uniforms:fs([tn.points,tn.fog]),vertexShader:ri.points_vert,fragmentShader:ri.points_frag},dashed:{uniforms:fs([tn.common,tn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ri.linedashed_vert,fragmentShader:ri.linedashed_frag},depth:{uniforms:fs([tn.common,tn.displacementmap]),vertexShader:ri.depth_vert,fragmentShader:ri.depth_frag},normal:{uniforms:fs([tn.common,tn.bumpmap,tn.normalmap,tn.displacementmap,{opacity:{value:1}}]),vertexShader:ri.meshnormal_vert,fragmentShader:ri.meshnormal_frag},sprite:{uniforms:fs([tn.sprite,tn.fog]),vertexShader:ri.sprite_vert,fragmentShader:ri.sprite_frag},background:{uniforms:{uvTransform:{value:new jn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ri.background_vert,fragmentShader:ri.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new jn}},vertexShader:ri.backgroundCube_vert,fragmentShader:ri.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ri.cube_vert,fragmentShader:ri.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ri.equirect_vert,fragmentShader:ri.equirect_frag},distanceRGBA:{uniforms:fs([tn.common,tn.displacementmap,{referencePosition:{value:new _e},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ri.distanceRGBA_vert,fragmentShader:ri.distanceRGBA_frag},shadow:{uniforms:fs([tn.lights,tn.fog,{color:{value:new pn(0)},opacity:{value:1}}]),vertexShader:ri.shadow_vert,fragmentShader:ri.shadow_frag}};io.physical={uniforms:fs([io.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new jn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new jn},clearcoatNormalScale:{value:new Mt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new jn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new jn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new jn},sheen:{value:0},sheenColor:{value:new pn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new jn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new jn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new jn},transmissionSamplerSize:{value:new Mt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new jn},attenuationDistance:{value:0},attenuationColor:{value:new pn(0)},specularColor:{value:new pn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new jn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new jn},anisotropyVector:{value:new Mt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new jn}}]),vertexShader:ri.meshphysical_vert,fragmentShader:ri.meshphysical_frag};const mh={r:0,b:0,g:0},za=new Ds,_C=new xn;function MC(a,e,t,n,s,o,c){const h=new pn(0);let _=o===!0?0:1,I,O,U=null,N=0,Q=null;function K(he){let ce=he.isScene===!0?he.background:null;return ce&&ce.isTexture&&(ce=(he.backgroundBlurriness>0?t:e).get(ce)),ce}function Z(he){let ce=!1;const oe=K(he);oe===null?V(h,_):oe&&oe.isColor&&(V(oe,1),ce=!0);const Ge=a.xr.getEnvironmentBlendMode();Ge==="additive"?n.buffers.color.setClear(0,0,0,1,c):Ge==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,c),(a.autoClear||ce)&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil)}function Y(he,ce){const oe=K(ce);oe&&(oe.isCubeTexture||oe.mapping===ge)?(O===void 0&&(O=new Tr(new Ha(1e4,1e4,1e4),new no({name:"BackgroundCubeMaterial",uniforms:Ul(io.backgroundCube.uniforms),vertexShader:io.backgroundCube.vertexShader,fragmentShader:io.backgroundCube.fragmentShader,side:T,depthTest:!1,depthWrite:!1,fog:!1})),O.geometry.deleteAttribute("normal"),O.geometry.deleteAttribute("uv"),O.onBeforeRender=function(Ge,Se,Le){this.matrixWorld.copyPosition(Le.matrixWorld)},Object.defineProperty(O.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(O)),za.copy(ce.backgroundRotation),za.x*=-1,za.y*=-1,za.z*=-1,oe.isCubeTexture&&oe.isRenderTargetTexture===!1&&(za.y*=-1,za.z*=-1),O.material.uniforms.envMap.value=oe,O.material.uniforms.flipEnvMap.value=oe.isCubeTexture&&oe.isRenderTargetTexture===!1?-1:1,O.material.uniforms.backgroundBlurriness.value=ce.backgroundBlurriness,O.material.uniforms.backgroundIntensity.value=ce.backgroundIntensity,O.material.uniforms.backgroundRotation.value.setFromMatrix4(_C.makeRotationFromEuler(za)),O.material.toneMapped=Ti.getTransfer(oe.colorSpace)!==Vi,(U!==oe||N!==oe.version||Q!==a.toneMapping)&&(O.material.needsUpdate=!0,U=oe,N=oe.version,Q=a.toneMapping),O.layers.enableAll(),he.unshift(O,O.geometry,O.material,0,0,null)):oe&&oe.isTexture&&(I===void 0&&(I=new Tr(new Ql(2,2),new no({name:"BackgroundMaterial",uniforms:Ul(io.background.uniforms),vertexShader:io.background.vertexShader,fragmentShader:io.background.fragmentShader,side:x,depthTest:!1,depthWrite:!1,fog:!1})),I.geometry.deleteAttribute("normal"),Object.defineProperty(I.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(I)),I.material.uniforms.t2D.value=oe,I.material.uniforms.backgroundIntensity.value=ce.backgroundIntensity,I.material.toneMapped=Ti.getTransfer(oe.colorSpace)!==Vi,oe.matrixAutoUpdate===!0&&oe.updateMatrix(),I.material.uniforms.uvTransform.value.copy(oe.matrix),(U!==oe||N!==oe.version||Q!==a.toneMapping)&&(I.material.needsUpdate=!0,U=oe,N=oe.version,Q=a.toneMapping),I.layers.enableAll(),he.unshift(I,I.geometry,I.material,0,0,null))}function V(he,ce){he.getRGB(mh,Eg(a)),n.buffers.color.setClear(mh.r,mh.g,mh.b,ce,c)}return{getClearColor:function(){return h},setClearColor:function(he,ce=1){h.set(he),_=ce,V(h,_)},getClearAlpha:function(){return _},setClearAlpha:function(he){_=he,V(h,_)},render:Z,addToRenderList:Y}}function SC(a,e){const t=a.getParameter(a.MAX_VERTEX_ATTRIBS),n={},s=N(null);let o=s,c=!1;function h(me,Ne,$e,ze,Ze){let ct=!1;const xt=U(ze,$e,Ne);o!==xt&&(o=xt,I(o.object)),ct=Q(me,ze,$e,Ze),ct&&K(me,ze,$e,Ze),Ze!==null&&e.update(Ze,a.ELEMENT_ARRAY_BUFFER),(ct||c)&&(c=!1,oe(me,Ne,$e,ze),Ze!==null&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,e.get(Ze).buffer))}function _(){return a.createVertexArray()}function I(me){return a.bindVertexArray(me)}function O(me){return a.deleteVertexArray(me)}function U(me,Ne,$e){const ze=$e.wireframe===!0;let Ze=n[me.id];Ze===void 0&&(Ze={},n[me.id]=Ze);let ct=Ze[Ne.id];ct===void 0&&(ct={},Ze[Ne.id]=ct);let xt=ct[ze];return xt===void 0&&(xt=N(_()),ct[ze]=xt),xt}function N(me){const Ne=[],$e=[],ze=[];for(let Ze=0;Ze<t;Ze++)Ne[Ze]=0,$e[Ze]=0,ze[Ze]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Ne,enabledAttributes:$e,attributeDivisors:ze,object:me,attributes:{},index:null}}function Q(me,Ne,$e,ze){const Ze=o.attributes,ct=Ne.attributes;let xt=0;const Jt=$e.getAttributes();for(const ht in Jt)if(Jt[ht].location>=0){const $t=Ze[ht];let yn=ct[ht];if(yn===void 0&&(ht==="instanceMatrix"&&me.instanceMatrix&&(yn=me.instanceMatrix),ht==="instanceColor"&&me.instanceColor&&(yn=me.instanceColor)),$t===void 0||$t.attribute!==yn||yn&&$t.data!==yn.data)return!0;xt++}return o.attributesNum!==xt||o.index!==ze}function K(me,Ne,$e,ze){const Ze={},ct=Ne.attributes;let xt=0;const Jt=$e.getAttributes();for(const ht in Jt)if(Jt[ht].location>=0){let $t=ct[ht];$t===void 0&&(ht==="instanceMatrix"&&me.instanceMatrix&&($t=me.instanceMatrix),ht==="instanceColor"&&me.instanceColor&&($t=me.instanceColor));const yn={};yn.attribute=$t,$t&&$t.data&&(yn.data=$t.data),Ze[ht]=yn,xt++}o.attributes=Ze,o.attributesNum=xt,o.index=ze}function Z(){const me=o.newAttributes;for(let Ne=0,$e=me.length;Ne<$e;Ne++)me[Ne]=0}function Y(me){V(me,0)}function V(me,Ne){const $e=o.newAttributes,ze=o.enabledAttributes,Ze=o.attributeDivisors;$e[me]=1,ze[me]===0&&(a.enableVertexAttribArray(me),ze[me]=1),Ze[me]!==Ne&&(a.vertexAttribDivisor(me,Ne),Ze[me]=Ne)}function he(){const me=o.newAttributes,Ne=o.enabledAttributes;for(let $e=0,ze=Ne.length;$e<ze;$e++)Ne[$e]!==me[$e]&&(a.disableVertexAttribArray($e),Ne[$e]=0)}function ce(me,Ne,$e,ze,Ze,ct,xt){xt===!0?a.vertexAttribIPointer(me,Ne,$e,Ze,ct):a.vertexAttribPointer(me,Ne,$e,ze,Ze,ct)}function oe(me,Ne,$e,ze){Z();const Ze=ze.attributes,ct=$e.getAttributes(),xt=Ne.defaultAttributeValues;for(const Jt in ct){const ht=ct[Jt];if(ht.location>=0){let jt=Ze[Jt];if(jt===void 0&&(Jt==="instanceMatrix"&&me.instanceMatrix&&(jt=me.instanceMatrix),Jt==="instanceColor"&&me.instanceColor&&(jt=me.instanceColor)),jt!==void 0){const $t=jt.normalized,yn=jt.itemSize,li=e.get(jt);if(li===void 0)continue;const Bi=li.buffer,Yi=li.type,Si=li.bytesPerElement,zi=Yi===a.INT||Yi===a.UNSIGNED_INT||jt.gpuType===Hs;if(jt.isInterleavedBufferAttribute){const Cn=jt.data,It=Cn.stride,en=jt.offset;if(Cn.isInstancedInterleavedBuffer){for(let nn=0;nn<ht.locationSize;nn++)V(ht.location+nn,Cn.meshPerAttribute);me.isInstancedMesh!==!0&&ze._maxInstanceCount===void 0&&(ze._maxInstanceCount=Cn.meshPerAttribute*Cn.count)}else for(let nn=0;nn<ht.locationSize;nn++)Y(ht.location+nn);a.bindBuffer(a.ARRAY_BUFFER,Bi);for(let nn=0;nn<ht.locationSize;nn++)ce(ht.location+nn,yn/ht.locationSize,Yi,$t,It*Si,(en+yn/ht.locationSize*nn)*Si,zi)}else{if(jt.isInstancedBufferAttribute){for(let Cn=0;Cn<ht.locationSize;Cn++)V(ht.location+Cn,jt.meshPerAttribute);me.isInstancedMesh!==!0&&ze._maxInstanceCount===void 0&&(ze._maxInstanceCount=jt.meshPerAttribute*jt.count)}else for(let Cn=0;Cn<ht.locationSize;Cn++)Y(ht.location+Cn);a.bindBuffer(a.ARRAY_BUFFER,Bi);for(let Cn=0;Cn<ht.locationSize;Cn++)ce(ht.location+Cn,yn/ht.locationSize,Yi,$t,yn*Si,yn/ht.locationSize*Cn*Si,zi)}}else if(xt!==void 0){const $t=xt[Jt];if($t!==void 0)switch($t.length){case 2:a.vertexAttrib2fv(ht.location,$t);break;case 3:a.vertexAttrib3fv(ht.location,$t);break;case 4:a.vertexAttrib4fv(ht.location,$t);break;default:a.vertexAttrib1fv(ht.location,$t)}}}}he()}function Ge(){Ue();for(const me in n){const Ne=n[me];for(const $e in Ne){const ze=Ne[$e];for(const Ze in ze)O(ze[Ze].object),delete ze[Ze];delete Ne[$e]}delete n[me]}}function Se(me){if(n[me.id]===void 0)return;const Ne=n[me.id];for(const $e in Ne){const ze=Ne[$e];for(const Ze in ze)O(ze[Ze].object),delete ze[Ze];delete Ne[$e]}delete n[me.id]}function Le(me){for(const Ne in n){const $e=n[Ne];if($e[me.id]===void 0)continue;const ze=$e[me.id];for(const Ze in ze)O(ze[Ze].object),delete ze[Ze];delete $e[me.id]}}function Ue(){ye(),c=!0,o!==s&&(o=s,I(o.object))}function ye(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:h,reset:Ue,resetDefaultState:ye,dispose:Ge,releaseStatesOfGeometry:Se,releaseStatesOfProgram:Le,initAttributes:Z,enableAttribute:Y,disableUnusedAttributes:he}}function IC(a,e,t){let n;function s(I){n=I}function o(I,O){a.drawArrays(n,I,O),t.update(O,n,1)}function c(I,O,U){U!==0&&(a.drawArraysInstanced(n,I,O,U),t.update(O,n,U))}function h(I,O,U){if(U===0)return;const N=e.get("WEBGL_multi_draw");if(N===null)for(let Q=0;Q<U;Q++)this.render(I[Q],O[Q]);else{N.multiDrawArraysWEBGL(n,I,0,O,0,U);let Q=0;for(let K=0;K<U;K++)Q+=O[K];t.update(Q,n,1)}}function _(I,O,U,N){if(U===0)return;const Q=e.get("WEBGL_multi_draw");if(Q===null)for(let K=0;K<I.length;K++)c(I[K],O[K],N[K]);else{Q.multiDrawArraysInstancedWEBGL(n,I,0,O,0,N,0,U);let K=0;for(let Z=0;Z<U;Z++)K+=O[Z];for(let Z=0;Z<N.length;Z++)t.update(K,n,N[Z])}}this.setMode=s,this.render=o,this.renderInstances=c,this.renderMultiDraw=h,this.renderMultiDrawInstances=_}function TC(a,e,t,n){let s;function o(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const Se=e.get("EXT_texture_filter_anisotropic");s=a.getParameter(Se.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function c(Se){return!(Se!==Pe&&n.convert(Se)!==a.getParameter(a.IMPLEMENTATION_COLOR_READ_FORMAT))}function h(Se){const Le=Se===Di&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(Se!==er&&n.convert(Se)!==a.getParameter(a.IMPLEMENTATION_COLOR_READ_TYPE)&&Se!==tr&&!Le)}function _(Se){if(Se==="highp"){if(a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).precision>0&&a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision>0)return"highp";Se="mediump"}return Se==="mediump"&&a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).precision>0&&a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let I=t.precision!==void 0?t.precision:"highp";const O=_(I);O!==I&&(console.warn("THREE.WebGLRenderer:",I,"not supported, using",O,"instead."),I=O);const U=t.logarithmicDepthBuffer===!0,N=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),Q=a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS),K=a.getParameter(a.MAX_TEXTURE_SIZE),Z=a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE),Y=a.getParameter(a.MAX_VERTEX_ATTRIBS),V=a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS),he=a.getParameter(a.MAX_VARYING_VECTORS),ce=a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS),oe=Q>0,Ge=a.getParameter(a.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:_,textureFormatReadable:c,textureTypeReadable:h,precision:I,logarithmicDepthBuffer:U,maxTextures:N,maxVertexTextures:Q,maxTextureSize:K,maxCubemapSize:Z,maxAttributes:Y,maxVertexUniforms:V,maxVaryings:he,maxFragmentUniforms:ce,vertexTextures:oe,maxSamples:Ge}}function BC(a){const e=this;let t=null,n=0,s=!1,o=!1;const c=new ua,h=new jn,_={value:null,needsUpdate:!1};this.uniform=_,this.numPlanes=0,this.numIntersection=0,this.init=function(U,N){const Q=U.length!==0||N||n!==0||s;return s=N,n=U.length,Q},this.beginShadows=function(){o=!0,O(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(U,N){t=O(U,N,0)},this.setState=function(U,N,Q){const K=U.clippingPlanes,Z=U.clipIntersection,Y=U.clipShadows,V=a.get(U);if(!s||K===null||K.length===0||o&&!Y)o?O(null):I();else{const he=o?0:n,ce=he*4;let oe=V.clippingState||null;_.value=oe,oe=O(K,N,ce,Q);for(let Ge=0;Ge!==ce;++Ge)oe[Ge]=t[Ge];V.clippingState=oe,this.numIntersection=Z?this.numPlanes:0,this.numPlanes+=he}};function I(){_.value!==t&&(_.value=t,_.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function O(U,N,Q,K){const Z=U!==null?U.length:0;let Y=null;if(Z!==0){if(Y=_.value,K!==!0||Y===null){const V=Q+Z*4,he=N.matrixWorldInverse;h.getNormalMatrix(he),(Y===null||Y.length<V)&&(Y=new Float32Array(V));for(let ce=0,oe=Q;ce!==Z;++ce,oe+=4)c.copy(U[ce]).applyMatrix4(he,h),c.normal.toArray(Y,oe),Y[oe+3]=c.constant}_.value=Y,_.needsUpdate=!0}return e.numPlanes=Z,e.numIntersection=0,Y}}function RC(a){let e=new WeakMap;function t(c,h){return h===G?c.mapping=J:h===le&&(c.mapping=k),c}function n(c){if(c&&c.isTexture){const h=c.mapping;if(h===G||h===le)if(e.has(c)){const _=e.get(c).texture;return t(_,c.mapping)}else{const _=c.image;if(_&&_.height>0){const I=new Mg(_.height);return I.fromEquirectangularTexture(a,c),e.set(c,I),c.addEventListener("dispose",s),t(I.texture,c.mapping)}else return null}}return c}function s(c){const h=c.target;h.removeEventListener("dispose",s);const _=e.get(h);_!==void 0&&(e.delete(h),_.dispose())}function o(){e=new WeakMap}return{get:n,dispose:o}}class Ah extends fh{constructor(e=-1,t=1,n=1,s=-1,o=.1,c=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=s,this.near=o,this.far=c,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,s,o,c){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=s,this.view.width=o,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let o=n-e,c=n+e,h=s+t,_=s-t;if(this.view!==null&&this.view.enabled){const I=(this.right-this.left)/this.view.fullWidth/this.zoom,O=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=I*this.view.offsetX,c=o+I*this.view.width,h-=O*this.view.offsetY,_=h-O*this.view.height}this.projectionMatrix.makeOrthographic(o,c,h,_,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Hl=4,Sg=[.125,.215,.35,.446,.526,.582],ja=20,gp=new Ah,Ig=new pn;let vp=null,bp=0,yp=0,Ep=!1;const Wa=(1+Math.sqrt(5))/2,Vl=1/Wa,Tg=[new _e(-Wa,Vl,0),new _e(Wa,Vl,0),new _e(-Vl,0,Wa),new _e(Vl,0,Wa),new _e(0,Wa,-Vl),new _e(0,Wa,Vl),new _e(-1,1,-1),new _e(1,1,-1),new _e(-1,1,1),new _e(1,1,1)];class xp{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,s=100){vp=this._renderer.getRenderTarget(),bp=this._renderer.getActiveCubeFace(),yp=this._renderer.getActiveMipmapLevel(),Ep=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,n,s,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Lg(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Rg(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(vp,bp,yp),this._renderer.xr.enabled=Ep,e.scissorTest=!1,gh(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===J||e.mapping===k?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),vp=this._renderer.getRenderTarget(),bp=this._renderer.getActiveCubeFace(),yp=this._renderer.getActiveMipmapLevel(),Ep=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Rn,minFilter:Rn,generateMipmaps:!1,type:Di,format:Pe,colorSpace:eo,depthBuffer:!1},s=Bg(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Bg(e,t,n);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=LC(o)),this._blurMaterial=DC(o,e,t)}return s}_compileMaterial(e){const t=new Tr(this._lodPlanes[0],e);this._renderer.compile(t,gp)}_sceneToCubeUV(e,t,n,s){const h=new Pr(90,1,t,n),_=[1,-1,1,1,1,1],I=[1,1,1,-1,-1,-1],O=this._renderer,U=O.autoClear,N=O.toneMapping;O.getClearColor(Ig),O.toneMapping=Xt,O.autoClear=!1;const Q=new da({name:"PMREM.Background",side:T,depthWrite:!1,depthTest:!1}),K=new Tr(new Ha,Q);let Z=!1;const Y=e.background;Y?Y.isColor&&(Q.color.copy(Y),e.background=null,Z=!0):(Q.color.copy(Ig),Z=!0);for(let V=0;V<6;V++){const he=V%3;he===0?(h.up.set(0,_[V],0),h.lookAt(I[V],0,0)):he===1?(h.up.set(0,0,_[V]),h.lookAt(0,I[V],0)):(h.up.set(0,_[V],0),h.lookAt(0,0,I[V]));const ce=this._cubeSize;gh(s,he*ce,V>2?ce:0,ce,ce),O.setRenderTarget(s),Z&&O.render(K,h),O.render(e,h)}K.geometry.dispose(),K.material.dispose(),O.toneMapping=N,O.autoClear=U,e.background=Y}_textureToCubeUV(e,t){const n=this._renderer,s=e.mapping===J||e.mapping===k;s?(this._cubemapMaterial===null&&(this._cubemapMaterial=Lg()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Rg());const o=s?this._cubemapMaterial:this._equirectMaterial,c=new Tr(this._lodPlanes[0],o),h=o.uniforms;h.envMap.value=e;const _=this._cubeSize;gh(t,0,0,3*_,2*_),n.setRenderTarget(t),n.render(c,gp)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const s=this._lodPlanes.length;for(let o=1;o<s;o++){const c=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),h=Tg[(s-o-1)%Tg.length];this._blur(e,o-1,o,c,h)}t.autoClear=n}_blur(e,t,n,s,o){const c=this._pingPongRenderTarget;this._halfBlur(e,c,t,n,s,"latitudinal",o),this._halfBlur(c,e,n,n,s,"longitudinal",o)}_halfBlur(e,t,n,s,o,c,h){const _=this._renderer,I=this._blurMaterial;c!=="latitudinal"&&c!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const O=3,U=new Tr(this._lodPlanes[s],I),N=I.uniforms,Q=this._sizeLods[n]-1,K=isFinite(o)?Math.PI/(2*Q):2*Math.PI/(2*ja-1),Z=o/K,Y=isFinite(o)?1+Math.floor(O*Z):ja;Y>ja&&console.warn("sigmaRadians, ".concat(o,", is too large and will clip, as it requested ").concat(Y," samples when the maximum is set to ").concat(ja));const V=[];let he=0;for(let Le=0;Le<ja;++Le){const Ue=Le/Z,ye=Math.exp(-Ue*Ue/2);V.push(ye),Le===0?he+=ye:Le<Y&&(he+=2*ye)}for(let Le=0;Le<V.length;Le++)V[Le]=V[Le]/he;N.envMap.value=e.texture,N.samples.value=Y,N.weights.value=V,N.latitudinal.value=c==="latitudinal",h&&(N.poleAxis.value=h);const{_lodMax:ce}=this;N.dTheta.value=K,N.mipInt.value=ce-n;const oe=this._sizeLods[s],Ge=3*oe*(s>ce-Hl?s-ce+Hl:0),Se=4*(this._cubeSize-oe);gh(t,Ge,Se,3*oe,2*oe),_.setRenderTarget(t),_.render(U,gp)}}function LC(a){const e=[],t=[],n=[];let s=a;const o=a-Hl+1+Sg.length;for(let c=0;c<o;c++){const h=Math.pow(2,s);t.push(h);let _=1/h;c>a-Hl?_=Sg[c-a+Hl-1]:c===0&&(_=0),n.push(_);const I=1/(h-2),O=-I,U=1+I,N=[O,O,U,O,U,U,O,O,U,U,O,U],Q=6,K=6,Z=3,Y=2,V=1,he=new Float32Array(Z*K*Q),ce=new Float32Array(Y*K*Q),oe=new Float32Array(V*K*Q);for(let Se=0;Se<Q;Se++){const Le=Se%3*2/3-1,Ue=Se>2?0:-1,ye=[Le,Ue,0,Le+2/3,Ue,0,Le+2/3,Ue+1,0,Le,Ue,0,Le+2/3,Ue+1,0,Le,Ue+1,0];he.set(ye,Z*K*Se),ce.set(N,Y*K*Se);const me=[Se,Se,Se,Se,Se,Se];oe.set(me,V*K*Se)}const Ge=new ai;Ge.setAttribute("position",new Gi(he,Z)),Ge.setAttribute("uv",new Gi(ce,Y)),Ge.setAttribute("faceIndex",new Gi(oe,V)),e.push(Ge),s>Hl&&s--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function Bg(a,e,t){const n=new ys(a,e,t);return n.texture.mapping=ge,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function gh(a,e,t,n,s){a.viewport.set(e,t,n,s),a.scissor.set(e,t,n,s)}function DC(a,e,t){const n=new Float32Array(ja),s=new _e(0,1,0);return new no({name:"SphericalGaussianBlur",defines:{n:ja,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:"".concat(a,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:Cp(),fragmentShader:"\n\n			precision mediump float;\n			precision mediump int;\n\n			varying vec3 vOutputDirection;\n\n			uniform sampler2D envMap;\n			uniform int samples;\n			uniform float weights[ n ];\n			uniform bool latitudinal;\n			uniform float dTheta;\n			uniform float mipInt;\n			uniform vec3 poleAxis;\n\n			#define ENVMAP_TYPE_CUBE_UV\n			#include <cube_uv_reflection_fragment>\n\n			vec3 getSample( float theta, vec3 axis ) {\n\n				float cosTheta = cos( theta );\n				// Rodrigues' axis-angle rotation\n				vec3 sampleDirection = vOutputDirection * cosTheta\n					+ cross( axis, vOutputDirection ) * sin( theta )\n					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n				return bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n			}\n\n			void main() {\n\n				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n				}\n\n				axis = normalize( axis );\n\n				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n				for ( int i = 1; i < n; i++ ) {\n\n					if ( i >= samples ) {\n\n						break;\n\n					}\n\n					float theta = dTheta * float( i );\n					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n				}\n\n			}\n		",blending:R,depthTest:!1,depthWrite:!1})}function Rg(){return new no({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Cp(),fragmentShader:"\n\n			precision mediump float;\n			precision mediump int;\n\n			varying vec3 vOutputDirection;\n\n			uniform sampler2D envMap;\n\n			#include <common>\n\n			void main() {\n\n				vec3 outputDirection = normalize( vOutputDirection );\n				vec2 uv = equirectUv( outputDirection );\n\n				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n			}\n		",blending:R,depthTest:!1,depthWrite:!1})}function Lg(){return new no({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Cp(),fragmentShader:"\n\n			precision mediump float;\n			precision mediump int;\n\n			uniform float flipEnvMap;\n\n			varying vec3 vOutputDirection;\n\n			uniform samplerCube envMap;\n\n			void main() {\n\n				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n			}\n		",blending:R,depthTest:!1,depthWrite:!1})}function Cp(){return"\n\n		precision mediump float;\n		precision mediump int;\n\n		attribute float faceIndex;\n\n		varying vec3 vOutputDirection;\n\n		// RH coordinate system; PMREM face-indexing convention\n		vec3 getDirection( vec2 uv, float face ) {\n\n			uv = 2.0 * uv - 1.0;\n\n			vec3 direction = vec3( uv, 1.0 );\n\n			if ( face == 0.0 ) {\n\n				direction = direction.zyx; // ( 1, v, u ) pos x\n\n			} else if ( face == 1.0 ) {\n\n				direction = direction.xzy;\n				direction.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n			} else if ( face == 2.0 ) {\n\n				direction.x *= -1.0; // ( -u, v, 1 ) pos z\n\n			} else if ( face == 3.0 ) {\n\n				direction = direction.zyx;\n				direction.xz *= -1.0; // ( -1, v, -u ) neg x\n\n			} else if ( face == 4.0 ) {\n\n				direction = direction.xzy;\n				direction.xy *= -1.0; // ( -u, -1, v ) neg y\n\n			} else if ( face == 5.0 ) {\n\n				direction.z *= -1.0; // ( u, v, -1 ) neg z\n\n			}\n\n			return direction;\n\n		}\n\n		void main() {\n\n			vOutputDirection = getDirection( uv, faceIndex );\n			gl_Position = vec4( position, 1.0 );\n\n		}\n	"}function PC(a){let e=new WeakMap,t=null;function n(h){if(h&&h.isTexture){const _=h.mapping,I=_===G||_===le,O=_===J||_===k;if(I||O){let U=e.get(h);const N=U!==void 0?U.texture.pmremVersion:0;if(h.isRenderTargetTexture&&h.pmremVersion!==N)return t===null&&(t=new xp(a)),U=I?t.fromEquirectangular(h,U):t.fromCubemap(h,U),U.texture.pmremVersion=h.pmremVersion,e.set(h,U),U.texture;if(U!==void 0)return U.texture;{const Q=h.image;return I&&Q&&Q.height>0||O&&Q&&s(Q)?(t===null&&(t=new xp(a)),U=I?t.fromEquirectangular(h):t.fromCubemap(h),U.texture.pmremVersion=h.pmremVersion,e.set(h,U),h.addEventListener("dispose",o),U.texture):null}}}return h}function s(h){let _=0;const I=6;for(let O=0;O<I;O++)h[O]!==void 0&&_++;return _===I}function o(h){const _=h.target;_.removeEventListener("dispose",o);const I=e.get(_);I!==void 0&&(e.delete(_),I.dispose())}function c(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:c}}function OC(a){const e={};function t(n){if(e[n]!==void 0)return e[n];let s;switch(n){case"WEBGL_depth_texture":s=a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=a.getExtension(n)}return e[n]=s,s}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const s=t(n);return s===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),s}}}function kC(a,e,t,n){const s={},o=new WeakMap;function c(U){const N=U.target;N.index!==null&&e.remove(N.index);for(const K in N.attributes)e.remove(N.attributes[K]);for(const K in N.morphAttributes){const Z=N.morphAttributes[K];for(let Y=0,V=Z.length;Y<V;Y++)e.remove(Z[Y])}N.removeEventListener("dispose",c),delete s[N.id];const Q=o.get(N);Q&&(e.remove(Q),o.delete(N)),n.releaseStatesOfGeometry(N),N.isInstancedBufferGeometry===!0&&delete N._maxInstanceCount,t.memory.geometries--}function h(U,N){return s[N.id]===!0||(N.addEventListener("dispose",c),s[N.id]=!0,t.memory.geometries++),N}function _(U){const N=U.attributes;for(const K in N)e.update(N[K],a.ARRAY_BUFFER);const Q=U.morphAttributes;for(const K in Q){const Z=Q[K];for(let Y=0,V=Z.length;Y<V;Y++)e.update(Z[Y],a.ARRAY_BUFFER)}}function I(U){const N=[],Q=U.index,K=U.attributes.position;let Z=0;if(Q!==null){const he=Q.array;Z=Q.version;for(let ce=0,oe=he.length;ce<oe;ce+=3){const Ge=he[ce+0],Se=he[ce+1],Le=he[ce+2];N.push(Ge,Se,Se,Le,Le,Ge)}}else if(K!==void 0){const he=K.array;Z=K.version;for(let ce=0,oe=he.length/3-1;ce<oe;ce+=3){const Ge=ce+0,Se=ce+1,Le=ce+2;N.push(Ge,Se,Se,Le,Le,Ge)}}else return;const Y=new(Wd(N)?up:hp)(N,1);Y.version=Z;const V=o.get(U);V&&e.remove(V),o.set(U,Y)}function O(U){const N=o.get(U);if(N){const Q=U.index;Q!==null&&N.version<Q.version&&I(U)}else I(U);return o.get(U)}return{get:h,update:_,getWireframeAttribute:O}}function FC(a,e,t){let n;function s(N){n=N}let o,c;function h(N){o=N.type,c=N.bytesPerElement}function _(N,Q){a.drawElements(n,Q,o,N*c),t.update(Q,n,1)}function I(N,Q,K){K!==0&&(a.drawElementsInstanced(n,Q,o,N*c,K),t.update(Q,n,K))}function O(N,Q,K){if(K===0)return;const Z=e.get("WEBGL_multi_draw");if(Z===null)for(let Y=0;Y<K;Y++)this.render(N[Y]/c,Q[Y]);else{Z.multiDrawElementsWEBGL(n,Q,0,o,N,0,K);let Y=0;for(let V=0;V<K;V++)Y+=Q[V];t.update(Y,n,1)}}function U(N,Q,K,Z){if(K===0)return;const Y=e.get("WEBGL_multi_draw");if(Y===null)for(let V=0;V<N.length;V++)I(N[V]/c,Q[V],Z[V]);else{Y.multiDrawElementsInstancedWEBGL(n,Q,0,o,N,0,Z,0,K);let V=0;for(let he=0;he<K;he++)V+=Q[he];for(let he=0;he<Z.length;he++)t.update(V,n,Z[he])}}this.setMode=s,this.setIndex=h,this.render=_,this.renderInstances=I,this.renderMultiDraw=O,this.renderMultiDrawInstances=U}function UC(a){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(o,c,h){switch(t.calls++,c){case a.TRIANGLES:t.triangles+=h*(o/3);break;case a.LINES:t.lines+=h*(o/2);break;case a.LINE_STRIP:t.lines+=h*(o-1);break;case a.LINE_LOOP:t.lines+=h*o;break;case a.POINTS:t.points+=h*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",c);break}}function s(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:s,update:n}}function NC(a,e,t){const n=new WeakMap,s=new Ci;function o(c,h,_){const I=c.morphTargetInfluences,O=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,U=O!==void 0?O.length:0;let N=n.get(h);if(N===void 0||N.count!==U){let Q=function(){Ue.dispose(),n.delete(h),h.removeEventListener("dispose",Q)};N!==void 0&&N.texture.dispose();const K=h.morphAttributes.position!==void 0,Z=h.morphAttributes.normal!==void 0,Y=h.morphAttributes.color!==void 0,V=h.morphAttributes.position||[],he=h.morphAttributes.normal||[],ce=h.morphAttributes.color||[];let oe=0;K===!0&&(oe=1),Z===!0&&(oe=2),Y===!0&&(oe=3);let Ge=h.attributes.position.count*oe,Se=1;Ge>e.maxTextureSize&&(Se=Math.ceil(Ge/e.maxTextureSize),Ge=e.maxTextureSize);const Le=new Float32Array(Ge*Se*4*U),Ue=new _l(Le,Ge,Se,U);Ue.type=tr,Ue.needsUpdate=!0;const ye=oe*4;for(let me=0;me<U;me++){const Ne=V[me],$e=he[me],ze=ce[me],Ze=Ge*Se*4*me;for(let ct=0;ct<Ne.count;ct++){const xt=ct*ye;K===!0&&(s.fromBufferAttribute(Ne,ct),Le[Ze+xt+0]=s.x,Le[Ze+xt+1]=s.y,Le[Ze+xt+2]=s.z,Le[Ze+xt+3]=0),Z===!0&&(s.fromBufferAttribute($e,ct),Le[Ze+xt+4]=s.x,Le[Ze+xt+5]=s.y,Le[Ze+xt+6]=s.z,Le[Ze+xt+7]=0),Y===!0&&(s.fromBufferAttribute(ze,ct),Le[Ze+xt+8]=s.x,Le[Ze+xt+9]=s.y,Le[Ze+xt+10]=s.z,Le[Ze+xt+11]=ze.itemSize===4?s.w:1)}}N={count:U,texture:Ue,size:new Mt(Ge,Se)},n.set(h,N),h.addEventListener("dispose",Q)}if(c.isInstancedMesh===!0&&c.morphTexture!==null)_.getUniforms().setValue(a,"morphTexture",c.morphTexture,t);else{let Q=0;for(let Z=0;Z<I.length;Z++)Q+=I[Z];const K=h.morphTargetsRelative?1:1-Q;_.getUniforms().setValue(a,"morphTargetBaseInfluence",K),_.getUniforms().setValue(a,"morphTargetInfluences",I)}_.getUniforms().setValue(a,"morphTargetsTexture",N.texture,t),_.getUniforms().setValue(a,"morphTargetsTextureSize",N.size)}return{update:o}}class GC{constructor(e,t,n){if(this.renderer=e,this.DEFAULT_NUMVIEWS=2,this.maxNumViews=0,this.gl=n,this.extensions=t,this.available=this.extensions.has("OCULUS_multiview"),this.available){const o=this.extensions.get("OCULUS_multiview");this.maxNumViews=this.gl.getParameter(o.MAX_VIEWS_OVR),this.mat4=[],this.mat3=[],this.cameraArray=[];for(var s=0;s<this.maxNumViews;s++)this.mat4[s]=new xn,this.mat3[s]=new jn}}getCameraArray(e){return e.isArrayCamera?e.cameras:(this.cameraArray[0]=e,this.cameraArray)}updateCameraProjectionMatricesUniform(e,t){for(var n=this.getCameraArray(e),s=0;s<n.length;s++)this.mat4[s].copy(n[s].projectionMatrix);t.setValue(this.gl,"projectionMatrices",this.mat4)}updateCameraViewMatricesUniform(e,t){for(var n=this.getCameraArray(e),s=0;s<n.length;s++)this.mat4[s].copy(n[s].matrixWorldInverse);t.setValue(this.gl,"viewMatrices",this.mat4)}updateObjectMatricesUniforms(e,t,n){for(var s=this.getCameraArray(t),o=0;o<s.length;o++)this.mat4[o].multiplyMatrices(s[o].matrixWorldInverse,e.matrixWorld),this.mat3[o].getNormalMatrix(this.mat4[o]);n.setValue(this.gl,"modelViewMatrices",this.mat4),n.setValue(this.gl,"normalMatrices",this.mat3)}}function QC(a,e,t,n){let s=new WeakMap;function o(_){const I=n.render.frame,O=_.geometry,U=e.get(_,O);if(s.get(U)!==I&&(e.update(U),s.set(U,I)),_.isInstancedMesh&&(_.hasEventListener("dispose",h)===!1&&_.addEventListener("dispose",h),s.get(_)!==I&&(t.update(_.instanceMatrix,a.ARRAY_BUFFER),_.instanceColor!==null&&t.update(_.instanceColor,a.ARRAY_BUFFER),s.set(_,I))),_.isSkinnedMesh){const N=_.skeleton;s.get(N)!==I&&(N.update(),s.set(N,I))}return U}function c(){s=new WeakMap}function h(_){const I=_.target;I.removeEventListener("dispose",h),t.remove(I.instanceMatrix),I.instanceColor!==null&&t.remove(I.instanceColor)}return{update:o,dispose:c}}class wp extends Ki{constructor(e,t,n,s,o,c,h,_,I,O){if(O=O!==void 0?O:st,O!==st&&O!==bt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&O===st&&(n=Wr),n===void 0&&O===bt&&(n=Is),super(null,s,o,c,h,_,O,n,I),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=h!==void 0?h:Yt,this.minFilter=_!==void 0?_:Yt,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const Dg=new Ki,Pg=new wp(1,1);Pg.compareFunction=Ec;const Og=new _l,kg=new Wn,Fg=new Rc,Ug=[],Ng=[],Gg=new Float32Array(16),Qg=new Float32Array(9),Hg=new Float32Array(4);function zl(a,e,t){const n=a[0];if(n<=0||n>0)return a;const s=e*t;let o=Ug[s];if(o===void 0&&(o=new Float32Array(s),Ug[s]=o),e!==0){n.toArray(o,0);for(let c=1,h=0;c!==e;++c)h+=t,a[c].toArray(o,h)}return o}function Or(a,e){if(a.length!==e.length)return!1;for(let t=0,n=a.length;t<n;t++)if(a[t]!==e[t])return!1;return!0}function kr(a,e){for(let t=0,n=e.length;t<n;t++)a[t]=e[t]}function vh(a,e){let t=Ng[e];t===void 0&&(t=new Int32Array(e),Ng[e]=t);for(let n=0;n!==e;++n)t[n]=a.allocateTextureUnit();return t}function HC(a,e){const t=this.cache;t[0]!==e&&(a.uniform1f(this.addr,e),t[0]=e)}function VC(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(a.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Or(t,e))return;a.uniform2fv(this.addr,e),kr(t,e)}}function zC(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(a.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(a.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Or(t,e))return;a.uniform3fv(this.addr,e),kr(t,e)}}function jC(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(a.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Or(t,e))return;a.uniform4fv(this.addr,e),kr(t,e)}}function WC(a,e){const t=this.cache,n=e.elements;if(n===void 0){if(Or(t,e))return;a.uniformMatrix2fv(this.addr,!1,e),kr(t,e)}else{if(Or(t,n))return;Hg.set(n),a.uniformMatrix2fv(this.addr,!1,Hg),kr(t,n)}}function KC(a,e){const t=this.cache,n=e.elements;if(n===void 0){if(Or(t,e))return;a.uniformMatrix3fv(this.addr,!1,e),kr(t,e)}else{if(Or(t,n))return;Qg.set(n),a.uniformMatrix3fv(this.addr,!1,Qg),kr(t,n)}}function XC(a,e){const t=this.cache,n=e.elements;if(n===void 0){if(Or(t,e))return;a.uniformMatrix4fv(this.addr,!1,e),kr(t,e)}else{if(Or(t,n))return;Gg.set(n),a.uniformMatrix4fv(this.addr,!1,Gg),kr(t,n)}}function YC(a,e){const t=this.cache;t[0]!==e&&(a.uniform1i(this.addr,e),t[0]=e)}function $C(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(a.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Or(t,e))return;a.uniform2iv(this.addr,e),kr(t,e)}}function qC(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(a.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Or(t,e))return;a.uniform3iv(this.addr,e),kr(t,e)}}function JC(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(a.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Or(t,e))return;a.uniform4iv(this.addr,e),kr(t,e)}}function ZC(a,e){const t=this.cache;t[0]!==e&&(a.uniform1ui(this.addr,e),t[0]=e)}function ew(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(a.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Or(t,e))return;a.uniform2uiv(this.addr,e),kr(t,e)}}function tw(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(a.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Or(t,e))return;a.uniform3uiv(this.addr,e),kr(t,e)}}function nw(a,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(a.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Or(t,e))return;a.uniform4uiv(this.addr,e),kr(t,e)}}function iw(a,e,t){const n=this.cache,s=t.allocateTextureUnit();n[0]!==s&&(a.uniform1i(this.addr,s),n[0]=s);const o=this.type===a.SAMPLER_2D_SHADOW?Pg:Dg;t.setTexture2D(e||o,s)}function rw(a,e,t){const n=this.cache,s=t.allocateTextureUnit();n[0]!==s&&(a.uniform1i(this.addr,s),n[0]=s),t.setTexture3D(e||kg,s)}function sw(a,e,t){const n=this.cache,s=t.allocateTextureUnit();n[0]!==s&&(a.uniform1i(this.addr,s),n[0]=s),t.setTextureCube(e||Fg,s)}function ow(a,e,t){const n=this.cache,s=t.allocateTextureUnit();n[0]!==s&&(a.uniform1i(this.addr,s),n[0]=s),t.setTexture2DArray(e||Og,s)}function aw(a){switch(a){case 5126:return HC;case 35664:return VC;case 35665:return zC;case 35666:return jC;case 35674:return WC;case 35675:return KC;case 35676:return XC;case 5124:case 35670:return YC;case 35667:case 35671:return $C;case 35668:case 35672:return qC;case 35669:case 35673:return JC;case 5125:return ZC;case 36294:return ew;case 36295:return tw;case 36296:return nw;case 35678:case 36198:case 36298:case 36306:case 35682:return iw;case 35679:case 36299:case 36307:return rw;case 35680:case 36300:case 36308:case 36293:return sw;case 36289:case 36303:case 36311:case 36292:return ow}}function lw(a,e){a.uniform1fv(this.addr,e)}function cw(a,e){const t=zl(e,this.size,2);a.uniform2fv(this.addr,t)}function dw(a,e){const t=zl(e,this.size,3);a.uniform3fv(this.addr,t)}function hw(a,e){const t=zl(e,this.size,4);a.uniform4fv(this.addr,t)}function uw(a,e){const t=zl(e,this.size,4);a.uniformMatrix2fv(this.addr,!1,t)}function fw(a,e){const t=zl(e,this.size,9);a.uniformMatrix3fv(this.addr,!1,t)}function pw(a,e){const t=zl(e,this.size,16);a.uniformMatrix4fv(this.addr,!1,t)}function mw(a,e){a.uniform1iv(this.addr,e)}function Aw(a,e){a.uniform2iv(this.addr,e)}function gw(a,e){a.uniform3iv(this.addr,e)}function vw(a,e){a.uniform4iv(this.addr,e)}function bw(a,e){a.uniform1uiv(this.addr,e)}function yw(a,e){a.uniform2uiv(this.addr,e)}function Ew(a,e){a.uniform3uiv(this.addr,e)}function xw(a,e){a.uniform4uiv(this.addr,e)}function Cw(a,e,t){const n=this.cache,s=e.length,o=vh(t,s);Or(n,o)||(a.uniform1iv(this.addr,o),kr(n,o));for(let c=0;c!==s;++c)t.setTexture2D(e[c]||Dg,o[c])}function ww(a,e,t){const n=this.cache,s=e.length,o=vh(t,s);Or(n,o)||(a.uniform1iv(this.addr,o),kr(n,o));for(let c=0;c!==s;++c)t.setTexture3D(e[c]||kg,o[c])}function _w(a,e,t){const n=this.cache,s=e.length,o=vh(t,s);Or(n,o)||(a.uniform1iv(this.addr,o),kr(n,o));for(let c=0;c!==s;++c)t.setTextureCube(e[c]||Fg,o[c])}function Mw(a,e,t){const n=this.cache,s=e.length,o=vh(t,s);Or(n,o)||(a.uniform1iv(this.addr,o),kr(n,o));for(let c=0;c!==s;++c)t.setTexture2DArray(e[c]||Og,o[c])}function Sw(a){switch(a){case 5126:return lw;case 35664:return cw;case 35665:return dw;case 35666:return hw;case 35674:return uw;case 35675:return fw;case 35676:return pw;case 5124:case 35670:return mw;case 35667:case 35671:return Aw;case 35668:case 35672:return gw;case 35669:case 35673:return vw;case 5125:return bw;case 36294:return yw;case 36295:return Ew;case 36296:return xw;case 35678:case 36198:case 36298:case 36306:case 35682:return Cw;case 35679:case 36299:case 36307:return ww;case 35680:case 36300:case 36308:case 36293:return _w;case 36289:case 36303:case 36311:case 36292:return Mw}}class Iw{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=aw(t.type)}}class Tw{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Sw(t.type)}}class Bw{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const s=this.seq;for(let o=0,c=s.length;o!==c;++o){const h=s[o];h.setValue(e,t[h.id],n)}}}const _p=/(\w+)(\])?(\[|\.)?/g;function Vg(a,e){a.seq.push(e),a.map[e.id]=e}function Rw(a,e,t){const n=a.name,s=n.length;for(_p.lastIndex=0;;){const o=_p.exec(n),c=_p.lastIndex;let h=o[1];const _=o[2]==="]",I=o[3];if(_&&(h=h|0),I===void 0||I==="["&&c+2===s){Vg(t,I===void 0?new Iw(h,a,e):new Tw(h,a,e));break}else{let U=t.map[h];U===void 0&&(U=new Bw(h),Vg(t,U)),t=U}}}class bh{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let s=0;s<n;++s){const o=e.getActiveUniform(t,s),c=e.getUniformLocation(t,o.name);Rw(o,c,this)}}setValue(e,t,n,s){const o=this.map[t];o!==void 0&&o.setValue(e,n,s)}setOptional(e,t,n){const s=t[n];s!==void 0&&this.setValue(e,n,s)}static upload(e,t,n,s){for(let o=0,c=t.length;o!==c;++o){const h=t[o],_=n[h.id];_.needsUpdate!==!1&&h.setValue(e,_.value,s)}}static seqWithValue(e,t){const n=[];for(let s=0,o=e.length;s!==o;++s){const c=e[s];c.id in t&&n.push(c)}return n}}function zg(a,e,t){const n=a.createShader(e);return a.shaderSource(n,t),a.compileShader(n),n}const Lw=37297;let Dw=0;function Pw(a,e){const t=a.split("\n"),n=[],s=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let c=s;c<o;c++){const h=c+1;n.push("".concat(h===e?">":" "," ").concat(h,": ").concat(t[c]))}return n.join("\n")}function Ow(a){const e=Ti.getPrimaries(Ti.workingColorSpace),t=Ti.getPrimaries(a);let n;switch(e===t?n="":e===ka&&t===Oa?n="LinearDisplayP3ToLinearSRGB":e===Oa&&t===ka&&(n="LinearSRGBToLinearDisplayP3"),a){case eo:case Da:return[n,"LinearTransferOETF"];case yi:case El:return[n,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",a),[n,"LinearTransferOETF"]}}function jg(a,e,t){const n=a.getShaderParameter(e,a.COMPILE_STATUS),s=a.getShaderInfoLog(e).trim();if(n&&s==="")return"";const o=/ERROR: 0:(\d+)/.exec(s);if(o){const c=parseInt(o[1]);return t.toUpperCase()+"\n\n"+s+"\n\n"+Pw(a.getShaderSource(e),c)}else return s}function kw(a,e){const t=Ow(e);return"vec4 ".concat(a,"( vec4 value ) { return ").concat(t[0],"( ").concat(t[1],"( value ) ); }")}function Fw(a,e){let t;switch(e){case En:t="Linear";break;case Dn:t="Reinhard";break;case Bn:t="OptimizedCineon";break;case mt:t="ACESFilmic";break;case fe:t="AgX";break;case Ie:t="Neutral";break;case pe:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+a+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Uw(a){return[a.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",a.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Dc).join("\n")}function Nw(a){const e=[];for(const t in a){const n=a[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join("\n")}function Gw(a,e){const t={},n=a.getProgramParameter(e,a.ACTIVE_ATTRIBUTES);for(let s=0;s<n;s++){const o=a.getActiveAttrib(e,s),c=o.name;let h=1;o.type===a.FLOAT_MAT2&&(h=2),o.type===a.FLOAT_MAT3&&(h=3),o.type===a.FLOAT_MAT4&&(h=4),t[c]={type:o.type,location:a.getAttribLocation(e,c),locationSize:h}}return t}function Dc(a){return a!==""}function Wg(a,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return a.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Kg(a,e){return a.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Qw=/^[ \t]*#include +<([\w\d./]+)>/gm;function Mp(a){return a.replace(Qw,Vw)}const Hw=new Map;function Vw(a,e){let t=ri[e];if(t===void 0){const n=Hw.get(e);if(n!==void 0)t=ri[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return Mp(t)}const zw=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Xg(a){return a.replace(zw,jw)}function jw(a,e,t,n){let s="";for(let o=parseInt(e);o<parseInt(t);o++)s+=n.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return s}function Yg(a){let e="precision ".concat(a.precision," float;\n	precision ").concat(a.precision," int;\n	precision ").concat(a.precision," sampler2D;\n	precision ").concat(a.precision," samplerCube;\n	precision ").concat(a.precision," sampler3D;\n	precision ").concat(a.precision," sampler2DArray;\n	precision ").concat(a.precision," sampler2DShadow;\n	precision ").concat(a.precision," samplerCubeShadow;\n	precision ").concat(a.precision," sampler2DArrayShadow;\n	precision ").concat(a.precision," isampler2D;\n	precision ").concat(a.precision," isampler3D;\n	precision ").concat(a.precision," isamplerCube;\n	precision ").concat(a.precision," isampler2DArray;\n	precision ").concat(a.precision," usampler2D;\n	precision ").concat(a.precision," usampler3D;\n	precision ").concat(a.precision," usamplerCube;\n	precision ").concat(a.precision," usampler2DArray;\n	");return a.precision==="highp"?e+="\n#define HIGH_PRECISION":a.precision==="mediump"?e+="\n#define MEDIUM_PRECISION":a.precision==="lowp"&&(e+="\n#define LOW_PRECISION"),e}function Ww(a){let e="SHADOWMAP_TYPE_BASIC";return a.shadowMapType===E?e="SHADOWMAP_TYPE_PCF":a.shadowMapType===C?e="SHADOWMAP_TYPE_PCF_SOFT":a.shadowMapType===v&&(e="SHADOWMAP_TYPE_VSM"),e}function Kw(a){let e="ENVMAP_TYPE_CUBE";if(a.envMap)switch(a.envMapMode){case J:case k:e="ENVMAP_TYPE_CUBE";break;case ge:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Xw(a){let e="ENVMAP_MODE_REFLECTION";if(a.envMap)switch(a.envMapMode){case k:e="ENVMAP_MODE_REFRACTION";break}return e}function Yw(a){let e="ENVMAP_BLENDING_NONE";if(a.envMap)switch(a.combine){case gt:e="ENVMAP_BLENDING_MULTIPLY";break;case Kt:e="ENVMAP_BLENDING_MIX";break;case Qt:e="ENVMAP_BLENDING_ADD";break}return e}function $w(a){const e=a.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:n,maxMip:t}}function qw(a,e,t,n){const s=a.getContext(),o=t.defines;let c=t.vertexShader,h=t.fragmentShader;const _=Ww(t),I=Kw(t),O=Xw(t),U=Yw(t),N=$w(t),Q=Uw(t),K=Nw(o),Z=s.createProgram();let Y,V,he=t.glslVersion?"#version "+t.glslVersion+"\n":"";const ce=t.numMultiviewViews;t.isRawShaderMaterial?(Y=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,K].filter(Dc).join("\n"),Y.length>0&&(Y+="\n"),V=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,K].filter(Dc).join("\n"),V.length>0&&(V+="\n")):(Y=[Yg(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,K,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+O:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+_:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif","\n"].filter(Dc).join("\n"),V=[Yg(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,K,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+I:"",t.envMap?"#define "+O:"",t.envMap?"#define "+U:"",N?"#define CUBEUV_TEXEL_WIDTH "+N.texelWidth:"",N?"#define CUBEUV_TEXEL_HEIGHT "+N.texelHeight:"",N?"#define CUBEUV_MAX_MIP "+N.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+_:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Xt?"#define TONE_MAPPING":"",t.toneMapping!==Xt?ri.tonemapping_pars_fragment:"",t.toneMapping!==Xt?Fw("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",ri.colorspace_pars_fragment,kw("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(Dc).join("\n")),c=Mp(c),c=Wg(c,t),c=Kg(c,t),h=Mp(h),h=Wg(h,t),h=Kg(h,t),c=Xg(c),h=Xg(h),t.isRawShaderMaterial!==!0&&(he="#version 300 es\n",Y=[Q,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+Y,V=["#define varying in",t.glslVersion===xc?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===xc?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+V,ce>0&&(Y=["#extension GL_OVR_multiview : require","layout(num_views = "+ce+") in;","#define VIEW_ID gl_ViewID_OVR"].join("\n")+"\n"+Y,Y=Y.replace(["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;"].join("\n"),["uniform mat4 modelViewMatrices["+ce+"];","uniform mat4 projectionMatrices["+ce+"];","uniform mat4 viewMatrices["+ce+"];","uniform mat3 normalMatrices["+ce+"];","#define modelViewMatrix modelViewMatrices[VIEW_ID]","#define projectionMatrix projectionMatrices[VIEW_ID]","#define viewMatrix viewMatrices[VIEW_ID]","#define normalMatrix normalMatrices[VIEW_ID]"].join("\n")),V=["#extension GL_OVR_multiview : require","#define VIEW_ID gl_ViewID_OVR"].join("\n")+"\n"+V,V=V.replace("uniform mat4 viewMatrix;",["uniform mat4 viewMatrices["+ce+"];","#define viewMatrix viewMatrices[VIEW_ID]"].join("\n"))));const oe=he+Y+c,Ge=he+V+h,Se=zg(s,s.VERTEX_SHADER,oe),Le=zg(s,s.FRAGMENT_SHADER,Ge);s.attachShader(Z,Se),s.attachShader(Z,Le),t.index0AttributeName!==void 0?s.bindAttribLocation(Z,0,t.index0AttributeName):t.morphTargets===!0&&s.bindAttribLocation(Z,0,"position"),s.linkProgram(Z);function Ue($e){if(a.debug.checkShaderErrors){const ze=s.getProgramInfoLog(Z).trim(),Ze=s.getShaderInfoLog(Se).trim(),ct=s.getShaderInfoLog(Le).trim();let xt=!0,Jt=!0;if(s.getProgramParameter(Z,s.LINK_STATUS)===!1)if(xt=!1,typeof a.debug.onShaderError=="function")a.debug.onShaderError(s,Z,Se,Le);else{const ht=jg(s,Se,"vertex"),jt=jg(s,Le,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(Z,s.VALIDATE_STATUS)+"\n\nMaterial Name: "+$e.name+"\nMaterial Type: "+$e.type+"\n\nProgram Info Log: "+ze+"\n"+ht+"\n"+jt)}else ze!==""?console.warn("THREE.WebGLProgram: Program Info Log:",ze):(Ze===""||ct==="")&&(Jt=!1);Jt&&($e.diagnostics={runnable:xt,programLog:ze,vertexShader:{log:Ze,prefix:Y},fragmentShader:{log:ct,prefix:V}})}s.deleteShader(Se),s.deleteShader(Le),ye=new bh(s,Z),me=Gw(s,Z)}let ye;this.getUniforms=function(){return ye===void 0&&Ue(this),ye};let me;this.getAttributes=function(){return me===void 0&&Ue(this),me};let Ne=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return Ne===!1&&(Ne=s.getProgramParameter(Z,Lw)),Ne},this.destroy=function(){n.releaseStatesOfProgram(this),s.deleteProgram(Z),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Dw++,this.cacheKey=e,this.usedTimes=1,this.program=Z,this.vertexShader=Se,this.fragmentShader=Le,this.numMultiviewViews=ce,this}let Jw=0;class Zw{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,s=this._getShaderStage(t),o=this._getShaderStage(n),c=this._getShaderCacheForMaterial(e);return c.has(s)===!1&&(c.add(s),s.usedTimes++),c.has(o)===!1&&(c.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new e_(e),t.set(e,n)),n}}class e_{constructor(e){this.id=Jw++,this.code=e,this.usedTimes=0}}function t_(a,e,t,n,s,o,c){const h=new th,_=new Zw,I=new Set,O=[],U=s.logarithmicDepthBuffer,N=s.vertexTextures;let Q=s.precision;const K={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function Z(ye){return I.add(ye),ye===0?"uv":"uv".concat(ye)}function Y(ye,me,Ne,$e,ze){const Ze=$e.fog,ct=ze.geometry,xt=ye.isMeshStandardMaterial?$e.environment:null,Jt=(ye.isMeshStandardMaterial?t:e).get(ye.envMap||xt),ht=Jt&&Jt.mapping===ge?Jt.image.height:null,jt=K[ye.type];ye.precision!==null&&(Q=s.getMaxPrecision(ye.precision),Q!==ye.precision&&console.warn("THREE.WebGLProgram.getParameters:",ye.precision,"not supported, using",Q,"instead."));const $t=ct.morphAttributes.position||ct.morphAttributes.normal||ct.morphAttributes.color,yn=$t!==void 0?$t.length:0;let li=0;ct.morphAttributes.position!==void 0&&(li=1),ct.morphAttributes.normal!==void 0&&(li=2),ct.morphAttributes.color!==void 0&&(li=3);let Bi,Yi,Si,zi;if(jt){const Fr=io[jt];Bi=Fr.vertexShader,Yi=Fr.fragmentShader}else Bi=ye.vertexShader,Yi=ye.fragmentShader,_.update(ye),Si=_.getVertexShaderID(ye),zi=_.getFragmentShaderID(ye);const Cn=a.getRenderTarget(),It=Cn&&Cn.isWebGLMultiviewRenderTarget?Cn.numViews:0,en=ze.isInstancedMesh===!0,nn=ze.isBatchedMesh===!0,et=!!ye.map,Tt=!!ye.matcap,vt=!!Jt,zt=!!ye.aoMap,Ht=!!ye.lightMap,Ft=!!ye.bumpMap,on=!!ye.normalMap,fn=!!ye.displacementMap,zn=!!ye.emissiveMap,$n=!!ye.metalnessMap,Ii=!!ye.roughnessMap,mr=ye.anisotropy>0,$i=ye.clearcoat>0,Oe=ye.dispersion>0,Ae=ye.iridescence>0,At=ye.sheen>0,St=ye.transmission>0,Rt=mr&&!!ye.anisotropyMap,Bt=$i&&!!ye.clearcoatMap,Mn=$i&&!!ye.clearcoatNormalMap,Zt=$i&&!!ye.clearcoatRoughnessMap,mn=Ae&&!!ye.iridescenceMap,ki=Ae&&!!ye.iridescenceThicknessMap,An=At&&!!ye.sheenColorMap,In=At&&!!ye.sheenRoughnessMap,si=!!ye.specularMap,Nn=!!ye.specularColorMap,He=!!ye.specularIntensityMap,Ut=St&&!!ye.transmissionMap,qt=St&&!!ye.thicknessMap,Sn=!!ye.gradientMap,dn=!!ye.alphaMap,oi=ye.alphaTest>0,hn=!!ye.alphaHash,an=!!ye.extensions;let di=Xt;ye.toneMapped&&(Cn===null||Cn.isXRRenderTarget===!0)&&(di=a.toneMapping);const Qn={shaderID:jt,shaderType:ye.type,shaderName:ye.name,vertexShader:Bi,fragmentShader:Yi,defines:ye.defines,customVertexShaderID:Si,customFragmentShaderID:zi,isRawShaderMaterial:ye.isRawShaderMaterial===!0,glslVersion:ye.glslVersion,precision:Q,batching:nn,instancing:en,instancingColor:en&&ze.instanceColor!==null,instancingMorph:en&&ze.morphTexture!==null,supportsVertexTextures:N,numMultiviewViews:It,outputColorSpace:Cn===null?a.outputColorSpace:Cn.isXRRenderTarget===!0?Cn.texture.colorSpace:eo,alphaToCoverage:!!ye.alphaToCoverage,map:et,matcap:Tt,envMap:vt,envMapMode:vt&&Jt.mapping,envMapCubeUVHeight:ht,aoMap:zt,lightMap:Ht,bumpMap:Ft,normalMap:on,displacementMap:N&&fn,emissiveMap:zn,normalMapObjectSpace:on&&ye.normalMapType===Ao,normalMapTangentSpace:on&&ye.normalMapType===Zr,metalnessMap:$n,roughnessMap:Ii,anisotropy:mr,anisotropyMap:Rt,clearcoat:$i,clearcoatMap:Bt,clearcoatNormalMap:Mn,clearcoatRoughnessMap:Zt,dispersion:Oe,iridescence:Ae,iridescenceMap:mn,iridescenceThicknessMap:ki,sheen:At,sheenColorMap:An,sheenRoughnessMap:In,specularMap:si,specularColorMap:Nn,specularIntensityMap:He,transmission:St,transmissionMap:Ut,thicknessMap:qt,gradientMap:Sn,opaque:ye.transparent===!1&&ye.blending===F&&ye.alphaToCoverage===!1,alphaMap:dn,alphaTest:oi,alphaHash:hn,combine:ye.combine,mapUv:et&&Z(ye.map.channel),aoMapUv:zt&&Z(ye.aoMap.channel),lightMapUv:Ht&&Z(ye.lightMap.channel),bumpMapUv:Ft&&Z(ye.bumpMap.channel),normalMapUv:on&&Z(ye.normalMap.channel),displacementMapUv:fn&&Z(ye.displacementMap.channel),emissiveMapUv:zn&&Z(ye.emissiveMap.channel),metalnessMapUv:$n&&Z(ye.metalnessMap.channel),roughnessMapUv:Ii&&Z(ye.roughnessMap.channel),anisotropyMapUv:Rt&&Z(ye.anisotropyMap.channel),clearcoatMapUv:Bt&&Z(ye.clearcoatMap.channel),clearcoatNormalMapUv:Mn&&Z(ye.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Zt&&Z(ye.clearcoatRoughnessMap.channel),iridescenceMapUv:mn&&Z(ye.iridescenceMap.channel),iridescenceThicknessMapUv:ki&&Z(ye.iridescenceThicknessMap.channel),sheenColorMapUv:An&&Z(ye.sheenColorMap.channel),sheenRoughnessMapUv:In&&Z(ye.sheenRoughnessMap.channel),specularMapUv:si&&Z(ye.specularMap.channel),specularColorMapUv:Nn&&Z(ye.specularColorMap.channel),specularIntensityMapUv:He&&Z(ye.specularIntensityMap.channel),transmissionMapUv:Ut&&Z(ye.transmissionMap.channel),thicknessMapUv:qt&&Z(ye.thicknessMap.channel),alphaMapUv:dn&&Z(ye.alphaMap.channel),vertexTangents:!!ct.attributes.tangent&&(on||mr),vertexColors:ye.vertexColors,vertexAlphas:ye.vertexColors===!0&&!!ct.attributes.color&&ct.attributes.color.itemSize===4,pointsUvs:ze.isPoints===!0&&!!ct.attributes.uv&&(et||dn),fog:!!Ze,useFog:ye.fog===!0,fogExp2:!!Ze&&Ze.isFogExp2,flatShading:ye.flatShading===!0,sizeAttenuation:ye.sizeAttenuation===!0,logarithmicDepthBuffer:U,skinning:ze.isSkinnedMesh===!0,morphTargets:ct.morphAttributes.position!==void 0,morphNormals:ct.morphAttributes.normal!==void 0,morphColors:ct.morphAttributes.color!==void 0,morphTargetsCount:yn,morphTextureStride:li,numDirLights:me.directional.length,numPointLights:me.point.length,numSpotLights:me.spot.length,numSpotLightMaps:me.spotLightMap.length,numRectAreaLights:me.rectArea.length,numHemiLights:me.hemi.length,numDirLightShadows:me.directionalShadowMap.length,numPointLightShadows:me.pointShadowMap.length,numSpotLightShadows:me.spotShadowMap.length,numSpotLightShadowsWithMaps:me.numSpotLightShadowsWithMaps,numLightProbes:me.numLightProbes,numClippingPlanes:c.numPlanes,numClipIntersection:c.numIntersection,dithering:ye.dithering,shadowMapEnabled:a.shadowMap.enabled&&Ne.length>0,shadowMapType:a.shadowMap.type,toneMapping:di,useLegacyLights:a._useLegacyLights,decodeVideoTexture:et&&ye.map.isVideoTexture===!0&&Ti.getTransfer(ye.map.colorSpace)===Vi,premultipliedAlpha:ye.premultipliedAlpha,doubleSided:ye.side===L,flipSided:ye.side===T,useDepthPacking:ye.depthPacking>=0,depthPacking:ye.depthPacking||0,index0AttributeName:ye.index0AttributeName,extensionClipCullDistance:an&&ye.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:an&&ye.extensions.multiDraw===!0&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:ye.customProgramCacheKey()};return Qn.vertexUv1s=I.has(1),Qn.vertexUv2s=I.has(2),Qn.vertexUv3s=I.has(3),I.clear(),Qn}function V(ye){const me=[];if(ye.shaderID?me.push(ye.shaderID):(me.push(ye.customVertexShaderID),me.push(ye.customFragmentShaderID)),ye.defines!==void 0)for(const Ne in ye.defines)me.push(Ne),me.push(ye.defines[Ne]);return ye.isRawShaderMaterial===!1&&(he(me,ye),ce(me,ye),me.push(a.outputColorSpace)),me.push(ye.customProgramCacheKey),me.join()}function he(ye,me){ye.push(me.precision),ye.push(me.outputColorSpace),ye.push(me.envMapMode),ye.push(me.envMapCubeUVHeight),ye.push(me.mapUv),ye.push(me.alphaMapUv),ye.push(me.lightMapUv),ye.push(me.aoMapUv),ye.push(me.bumpMapUv),ye.push(me.normalMapUv),ye.push(me.displacementMapUv),ye.push(me.emissiveMapUv),ye.push(me.metalnessMapUv),ye.push(me.roughnessMapUv),ye.push(me.anisotropyMapUv),ye.push(me.clearcoatMapUv),ye.push(me.clearcoatNormalMapUv),ye.push(me.clearcoatRoughnessMapUv),ye.push(me.iridescenceMapUv),ye.push(me.iridescenceThicknessMapUv),ye.push(me.sheenColorMapUv),ye.push(me.sheenRoughnessMapUv),ye.push(me.specularMapUv),ye.push(me.specularColorMapUv),ye.push(me.specularIntensityMapUv),ye.push(me.transmissionMapUv),ye.push(me.thicknessMapUv),ye.push(me.combine),ye.push(me.fogExp2),ye.push(me.sizeAttenuation),ye.push(me.morphTargetsCount),ye.push(me.morphAttributeCount),ye.push(me.numDirLights),ye.push(me.numPointLights),ye.push(me.numSpotLights),ye.push(me.numSpotLightMaps),ye.push(me.numHemiLights),ye.push(me.numRectAreaLights),ye.push(me.numDirLightShadows),ye.push(me.numPointLightShadows),ye.push(me.numSpotLightShadows),ye.push(me.numSpotLightShadowsWithMaps),ye.push(me.numLightProbes),ye.push(me.shadowMapType),ye.push(me.toneMapping),ye.push(me.numClippingPlanes),ye.push(me.numClipIntersection),ye.push(me.depthPacking)}function ce(ye,me){h.disableAll(),me.supportsVertexTextures&&h.enable(0),me.instancing&&h.enable(1),me.instancingColor&&h.enable(2),me.instancingMorph&&h.enable(3),me.matcap&&h.enable(4),me.envMap&&h.enable(5),me.normalMapObjectSpace&&h.enable(6),me.normalMapTangentSpace&&h.enable(7),me.clearcoat&&h.enable(8),me.iridescence&&h.enable(9),me.alphaTest&&h.enable(10),me.vertexColors&&h.enable(11),me.vertexAlphas&&h.enable(12),me.vertexUv1s&&h.enable(13),me.vertexUv2s&&h.enable(14),me.vertexUv3s&&h.enable(15),me.vertexTangents&&h.enable(16),me.anisotropy&&h.enable(17),me.alphaHash&&h.enable(18),me.batching&&h.enable(19),me.dispersion&&h.enable(20),ye.push(h.mask),h.disableAll(),me.fog&&h.enable(0),me.useFog&&h.enable(1),me.flatShading&&h.enable(2),me.logarithmicDepthBuffer&&h.enable(3),me.skinning&&h.enable(4),me.morphTargets&&h.enable(5),me.morphNormals&&h.enable(6),me.morphColors&&h.enable(7),me.premultipliedAlpha&&h.enable(8),me.shadowMapEnabled&&h.enable(9),me.useLegacyLights&&h.enable(10),me.doubleSided&&h.enable(11),me.flipSided&&h.enable(12),me.useDepthPacking&&h.enable(13),me.dithering&&h.enable(14),me.transmission&&h.enable(15),me.sheen&&h.enable(16),me.opaque&&h.enable(17),me.pointsUvs&&h.enable(18),me.decodeVideoTexture&&h.enable(19),me.alphaToCoverage&&h.enable(20),me.numMultiviewViews&&h.enable(21),ye.push(h.mask)}function oe(ye){const me=K[ye.type];let Ne;if(me){const $e=io[me];Ne=xg.clone($e.uniforms)}else Ne=ye.uniforms;return Ne}function Ge(ye,me){let Ne;for(let $e=0,ze=O.length;$e<ze;$e++){const Ze=O[$e];if(Ze.cacheKey===me){Ne=Ze,++Ne.usedTimes;break}}return Ne===void 0&&(Ne=new qw(a,me,ye,o),O.push(Ne)),Ne}function Se(ye){if(--ye.usedTimes===0){const me=O.indexOf(ye);O[me]=O[O.length-1],O.pop(),ye.destroy()}}function Le(ye){_.remove(ye)}function Ue(){_.dispose()}return{getParameters:Y,getProgramCacheKey:V,getUniforms:oe,acquireProgram:Ge,releaseProgram:Se,releaseShaderCache:Le,programs:O,dispose:Ue}}function n_(){let a=new WeakMap;function e(o){let c=a.get(o);return c===void 0&&(c={},a.set(o,c)),c}function t(o){a.delete(o)}function n(o,c,h){a.get(o)[c]=h}function s(){a=new WeakMap}return{get:e,remove:t,update:n,dispose:s}}function i_(a,e){return a.groupOrder!==e.groupOrder?a.groupOrder-e.groupOrder:a.renderOrder!==e.renderOrder?a.renderOrder-e.renderOrder:a.material.id!==e.material.id?a.material.id-e.material.id:a.z!==e.z?a.z-e.z:a.id-e.id}function $g(a,e){return a.groupOrder!==e.groupOrder?a.groupOrder-e.groupOrder:a.renderOrder!==e.renderOrder?a.renderOrder-e.renderOrder:a.z!==e.z?e.z-a.z:a.id-e.id}function qg(){const a=[];let e=0;const t=[],n=[],s=[];function o(){e=0,t.length=0,n.length=0,s.length=0}function c(U,N,Q,K,Z,Y){let V=a[e];return V===void 0?(V={id:U.id,object:U,geometry:N,material:Q,groupOrder:K,renderOrder:U.renderOrder,z:Z,group:Y},a[e]=V):(V.id=U.id,V.object=U,V.geometry=N,V.material=Q,V.groupOrder=K,V.renderOrder=U.renderOrder,V.z=Z,V.group=Y),e++,V}function h(U,N,Q,K,Z,Y){const V=c(U,N,Q,K,Z,Y);Q.transmission>0?n.push(V):Q.transparent===!0?s.push(V):t.push(V)}function _(U,N,Q,K,Z,Y){const V=c(U,N,Q,K,Z,Y);Q.transmission>0?n.unshift(V):Q.transparent===!0?s.unshift(V):t.unshift(V)}function I(U,N){t.length>1&&t.sort(U||i_),n.length>1&&n.sort(N||$g),s.length>1&&s.sort(N||$g)}function O(){for(let U=e,N=a.length;U<N;U++){const Q=a[U];if(Q.id===null)break;Q.id=null,Q.object=null,Q.geometry=null,Q.material=null,Q.group=null}}return{opaque:t,transmissive:n,transparent:s,init:o,push:h,unshift:_,finish:O,sort:I}}function r_(){let a=new WeakMap;function e(n,s){const o=a.get(n);let c;return o===void 0?(c=new qg,a.set(n,[c])):s>=o.length?(c=new qg,o.push(c)):c=o[s],c}function t(){a=new WeakMap}return{get:e,dispose:t}}function s_(){const a={};return{get:function(e){if(a[e.id]!==void 0)return a[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new _e,color:new pn};break;case"SpotLight":t={position:new _e,direction:new _e,color:new pn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new _e,color:new pn,distance:0,decay:0};break;case"HemisphereLight":t={direction:new _e,skyColor:new pn,groundColor:new pn};break;case"RectAreaLight":t={color:new pn,position:new _e,halfWidth:new _e,halfHeight:new _e};break}return a[e.id]=t,t}}}function o_(){const a={};return{get:function(e){if(a[e.id]!==void 0)return a[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Mt};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Mt};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Mt,shadowCameraNear:1,shadowCameraFar:1e3};break}return a[e.id]=t,t}}}let a_=0;function l_(a,e){return(e.castShadow?2:0)-(a.castShadow?2:0)+(e.map?1:0)-(a.map?1:0)}function c_(a){const e=new s_,t=o_(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let I=0;I<9;I++)n.probe.push(new _e);const s=new _e,o=new xn,c=new xn;function h(I,O){let U=0,N=0,Q=0;for(let Ne=0;Ne<9;Ne++)n.probe[Ne].set(0,0,0);let K=0,Z=0,Y=0,V=0,he=0,ce=0,oe=0,Ge=0,Se=0,Le=0,Ue=0;I.sort(l_);const ye=O===!0?Math.PI:1;for(let Ne=0,$e=I.length;Ne<$e;Ne++){const ze=I[Ne],Ze=ze.color,ct=ze.intensity,xt=ze.distance,Jt=ze.shadow&&ze.shadow.map?ze.shadow.map.texture:null;if(ze.isAmbientLight)U+=Ze.r*ct*ye,N+=Ze.g*ct*ye,Q+=Ze.b*ct*ye;else if(ze.isLightProbe){for(let ht=0;ht<9;ht++)n.probe[ht].addScaledVector(ze.sh.coefficients[ht],ct);Ue++}else if(ze.isDirectionalLight){const ht=e.get(ze);if(ht.color.copy(ze.color).multiplyScalar(ze.intensity*ye),ze.castShadow){const jt=ze.shadow,$t=t.get(ze);$t.shadowBias=jt.bias,$t.shadowNormalBias=jt.normalBias,$t.shadowRadius=jt.radius,$t.shadowMapSize=jt.mapSize,n.directionalShadow[K]=$t,n.directionalShadowMap[K]=Jt,n.directionalShadowMatrix[K]=ze.shadow.matrix,ce++}n.directional[K]=ht,K++}else if(ze.isSpotLight){const ht=e.get(ze);ht.position.setFromMatrixPosition(ze.matrixWorld),ht.color.copy(Ze).multiplyScalar(ct*ye),ht.distance=xt,ht.coneCos=Math.cos(ze.angle),ht.penumbraCos=Math.cos(ze.angle*(1-ze.penumbra)),ht.decay=ze.decay,n.spot[Y]=ht;const jt=ze.shadow;if(ze.map&&(n.spotLightMap[Se]=ze.map,Se++,jt.updateMatrices(ze),ze.castShadow&&Le++),n.spotLightMatrix[Y]=jt.matrix,ze.castShadow){const $t=t.get(ze);$t.shadowBias=jt.bias,$t.shadowNormalBias=jt.normalBias,$t.shadowRadius=jt.radius,$t.shadowMapSize=jt.mapSize,n.spotShadow[Y]=$t,n.spotShadowMap[Y]=Jt,Ge++}Y++}else if(ze.isRectAreaLight){const ht=e.get(ze);ht.color.copy(Ze).multiplyScalar(ct),ht.halfWidth.set(ze.width*.5,0,0),ht.halfHeight.set(0,ze.height*.5,0),n.rectArea[V]=ht,V++}else if(ze.isPointLight){const ht=e.get(ze);if(ht.color.copy(ze.color).multiplyScalar(ze.intensity*ye),ht.distance=ze.distance,ht.decay=ze.decay,ze.castShadow){const jt=ze.shadow,$t=t.get(ze);$t.shadowBias=jt.bias,$t.shadowNormalBias=jt.normalBias,$t.shadowRadius=jt.radius,$t.shadowMapSize=jt.mapSize,$t.shadowCameraNear=jt.camera.near,$t.shadowCameraFar=jt.camera.far,n.pointShadow[Z]=$t,n.pointShadowMap[Z]=Jt,n.pointShadowMatrix[Z]=ze.shadow.matrix,oe++}n.point[Z]=ht,Z++}else if(ze.isHemisphereLight){const ht=e.get(ze);ht.skyColor.copy(ze.color).multiplyScalar(ct*ye),ht.groundColor.copy(ze.groundColor).multiplyScalar(ct*ye),n.hemi[he]=ht,he++}}V>0&&(a.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=tn.LTC_FLOAT_1,n.rectAreaLTC2=tn.LTC_FLOAT_2):(n.rectAreaLTC1=tn.LTC_HALF_1,n.rectAreaLTC2=tn.LTC_HALF_2)),n.ambient[0]=U,n.ambient[1]=N,n.ambient[2]=Q;const me=n.hash;(me.directionalLength!==K||me.pointLength!==Z||me.spotLength!==Y||me.rectAreaLength!==V||me.hemiLength!==he||me.numDirectionalShadows!==ce||me.numPointShadows!==oe||me.numSpotShadows!==Ge||me.numSpotMaps!==Se||me.numLightProbes!==Ue)&&(n.directional.length=K,n.spot.length=Y,n.rectArea.length=V,n.point.length=Z,n.hemi.length=he,n.directionalShadow.length=ce,n.directionalShadowMap.length=ce,n.pointShadow.length=oe,n.pointShadowMap.length=oe,n.spotShadow.length=Ge,n.spotShadowMap.length=Ge,n.directionalShadowMatrix.length=ce,n.pointShadowMatrix.length=oe,n.spotLightMatrix.length=Ge+Se-Le,n.spotLightMap.length=Se,n.numSpotLightShadowsWithMaps=Le,n.numLightProbes=Ue,me.directionalLength=K,me.pointLength=Z,me.spotLength=Y,me.rectAreaLength=V,me.hemiLength=he,me.numDirectionalShadows=ce,me.numPointShadows=oe,me.numSpotShadows=Ge,me.numSpotMaps=Se,me.numLightProbes=Ue,n.version=a_++)}function _(I,O){let U=0,N=0,Q=0,K=0,Z=0;const Y=O.matrixWorldInverse;for(let V=0,he=I.length;V<he;V++){const ce=I[V];if(ce.isDirectionalLight){const oe=n.directional[U];oe.direction.setFromMatrixPosition(ce.matrixWorld),s.setFromMatrixPosition(ce.target.matrixWorld),oe.direction.sub(s),oe.direction.transformDirection(Y),U++}else if(ce.isSpotLight){const oe=n.spot[Q];oe.position.setFromMatrixPosition(ce.matrixWorld),oe.position.applyMatrix4(Y),oe.direction.setFromMatrixPosition(ce.matrixWorld),s.setFromMatrixPosition(ce.target.matrixWorld),oe.direction.sub(s),oe.direction.transformDirection(Y),Q++}else if(ce.isRectAreaLight){const oe=n.rectArea[K];oe.position.setFromMatrixPosition(ce.matrixWorld),oe.position.applyMatrix4(Y),c.identity(),o.copy(ce.matrixWorld),o.premultiply(Y),c.extractRotation(o),oe.halfWidth.set(ce.width*.5,0,0),oe.halfHeight.set(0,ce.height*.5,0),oe.halfWidth.applyMatrix4(c),oe.halfHeight.applyMatrix4(c),K++}else if(ce.isPointLight){const oe=n.point[N];oe.position.setFromMatrixPosition(ce.matrixWorld),oe.position.applyMatrix4(Y),N++}else if(ce.isHemisphereLight){const oe=n.hemi[Z];oe.direction.setFromMatrixPosition(ce.matrixWorld),oe.direction.transformDirection(Y),Z++}}}return{setup:h,setupView:_,state:n}}function Jg(a){const e=new c_(a),t=[],n=[];function s(O){I.camera=O,t.length=0,n.length=0}function o(O){t.push(O)}function c(O){n.push(O)}function h(O){e.setup(t,O)}function _(O){e.setupView(t,O)}const I={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:s,state:I,setupLights:h,setupLightsView:_,pushLight:o,pushShadow:c}}function d_(a){let e=new WeakMap;function t(s,o=0){const c=e.get(s);let h;return c===void 0?(h=new Jg(a),e.set(s,[h])):o>=c.length?(h=new Jg(a),c.push(h)):h=c[o],h}function n(){e=new WeakMap}return{get:t,dispose:n}}class Sp extends ns{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=po,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Ip extends ns{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const h_="void main() {\n	gl_Position = vec4( position, 1.0 );\n}",u_="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n	const float samples = float( VSM_SAMPLES );\n	float mean = 0.0;\n	float squared_mean = 0.0;\n	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n	for ( float i = 0.0; i < samples; i ++ ) {\n		float uvOffset = uvStart + i * uvStride;\n		#ifdef HORIZONTAL_PASS\n			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n			mean += distribution.x;\n			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n		#else\n			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n			mean += depth;\n			squared_mean += depth * depth;\n		#endif\n	}\n	mean = mean / samples;\n	squared_mean = squared_mean / samples;\n	float std_dev = sqrt( squared_mean - mean * mean );\n	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function f_(a,e,t){let n=new Lc;const s=new Mt,o=new Mt,c=new Ci,h=new Sp({depthPacking:mo}),_=new Ip,I={},O=t.maxTextureSize,U={[x]:T,[T]:x,[L]:L},N=new no({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Mt},radius:{value:4}},vertexShader:h_,fragmentShader:u_}),Q=N.clone();Q.defines.HORIZONTAL_PASS=1;const K=new ai;K.setAttribute("position",new Gi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const Z=new Tr(K,N),Y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=E;let V=this.type;this.render=function(Se,Le,Ue){if(Y.enabled===!1||Y.autoUpdate===!1&&Y.needsUpdate===!1||Se.length===0)return;const ye=a.getRenderTarget(),me=a.getActiveCubeFace(),Ne=a.getActiveMipmapLevel(),$e=a.state;$e.setBlending(R),$e.buffers.color.setClear(1,1,1,1),$e.buffers.depth.setTest(!0),$e.setScissorTest(!1);const ze=V!==v&&this.type===v,Ze=V===v&&this.type!==v;for(let ct=0,xt=Se.length;ct<xt;ct++){const Jt=Se[ct],ht=Jt.shadow;if(ht===void 0){console.warn("THREE.WebGLShadowMap:",Jt,"has no shadow.");continue}if(ht.autoUpdate===!1&&ht.needsUpdate===!1)continue;s.copy(ht.mapSize);const jt=ht.getFrameExtents();if(s.multiply(jt),o.copy(ht.mapSize),(s.x>O||s.y>O)&&(s.x>O&&(o.x=Math.floor(O/jt.x),s.x=o.x*jt.x,ht.mapSize.x=o.x),s.y>O&&(o.y=Math.floor(O/jt.y),s.y=o.y*jt.y,ht.mapSize.y=o.y)),ht.map===null||ze===!0||Ze===!0){const yn=this.type!==v?{minFilter:Yt,magFilter:Yt}:{};ht.map!==null&&ht.map.dispose(),ht.map=new ys(s.x,s.y,yn),ht.map.texture.name=Jt.name+".shadowMap",ht.camera.updateProjectionMatrix()}a.setRenderTarget(ht.map),a.clear();const $t=ht.getViewportCount();for(let yn=0;yn<$t;yn++){const li=ht.getViewport(yn);c.set(o.x*li.x,o.y*li.y,o.x*li.z,o.y*li.w),$e.viewport(c),ht.updateMatrices(Jt,yn),n=ht.getFrustum(),oe(Le,Ue,ht.camera,Jt,this.type)}ht.isPointLightShadow!==!0&&this.type===v&&he(ht,Ue),ht.needsUpdate=!1}V=this.type,Y.needsUpdate=!1,a.setRenderTarget(ye,me,Ne)};function he(Se,Le){const Ue=e.update(Z);N.defines.VSM_SAMPLES!==Se.blurSamples&&(N.defines.VSM_SAMPLES=Se.blurSamples,Q.defines.VSM_SAMPLES=Se.blurSamples,N.needsUpdate=!0,Q.needsUpdate=!0),Se.mapPass===null&&(Se.mapPass=new ys(s.x,s.y)),N.uniforms.shadow_pass.value=Se.map.texture,N.uniforms.resolution.value=Se.mapSize,N.uniforms.radius.value=Se.radius,a.setRenderTarget(Se.mapPass),a.clear(),a.renderBufferDirect(Le,null,Ue,N,Z,null),Q.uniforms.shadow_pass.value=Se.mapPass.texture,Q.uniforms.resolution.value=Se.mapSize,Q.uniforms.radius.value=Se.radius,a.setRenderTarget(Se.map),a.clear(),a.renderBufferDirect(Le,null,Ue,Q,Z,null)}function ce(Se,Le,Ue,ye){let me=null;const Ne=Ue.isPointLight===!0?Se.customDistanceMaterial:Se.customDepthMaterial;if(Ne!==void 0)me=Ne;else if(me=Ue.isPointLight===!0?_:h,a.localClippingEnabled&&Le.clipShadows===!0&&Array.isArray(Le.clippingPlanes)&&Le.clippingPlanes.length!==0||Le.displacementMap&&Le.displacementScale!==0||Le.alphaMap&&Le.alphaTest>0||Le.map&&Le.alphaTest>0){const $e=me.uuid,ze=Le.uuid;let Ze=I[$e];Ze===void 0&&(Ze={},I[$e]=Ze);let ct=Ze[ze];ct===void 0&&(ct=me.clone(),Ze[ze]=ct,Le.addEventListener("dispose",Ge)),me=ct}if(me.visible=Le.visible,me.wireframe=Le.wireframe,ye===v?me.side=Le.shadowSide!==null?Le.shadowSide:Le.side:me.side=Le.shadowSide!==null?Le.shadowSide:U[Le.side],me.alphaMap=Le.alphaMap,me.alphaTest=Le.alphaTest,me.map=Le.map,me.clipShadows=Le.clipShadows,me.clippingPlanes=Le.clippingPlanes,me.clipIntersection=Le.clipIntersection,me.displacementMap=Le.displacementMap,me.displacementScale=Le.displacementScale,me.displacementBias=Le.displacementBias,me.wireframeLinewidth=Le.wireframeLinewidth,me.linewidth=Le.linewidth,Ue.isPointLight===!0&&me.isMeshDistanceMaterial===!0){const $e=a.properties.get(me);$e.light=Ue}return me}function oe(Se,Le,Ue,ye,me){if(Se.visible===!1)return;if(Se.layers.test(Le.layers)&&(Se.isMesh||Se.isLine||Se.isPoints)&&(Se.castShadow||Se.receiveShadow&&me===v)&&(!Se.frustumCulled||n.intersectsObject(Se))){Se.modelViewMatrix.multiplyMatrices(Ue.matrixWorldInverse,Se.matrixWorld);const ze=e.update(Se),Ze=Se.material;if(Array.isArray(Ze)){const ct=ze.groups;for(let xt=0,Jt=ct.length;xt<Jt;xt++){const ht=ct[xt],jt=Ze[ht.materialIndex];if(jt&&jt.visible){const $t=ce(Se,jt,ye,me);Se.onBeforeShadow(a,Se,Le,Ue,ze,$t,ht),a.renderBufferDirect(Ue,null,ze,$t,Se,ht),Se.onAfterShadow(a,Se,Le,Ue,ze,$t,ht)}}}else if(Ze.visible){const ct=ce(Se,Ze,ye,me);Se.onBeforeShadow(a,Se,Le,Ue,ze,ct,null),a.renderBufferDirect(Ue,null,ze,ct,Se,null),Se.onAfterShadow(a,Se,Le,Ue,ze,ct,null)}}const $e=Se.children;for(let ze=0,Ze=$e.length;ze<Ze;ze++)oe($e[ze],Le,Ue,ye,me)}function Ge(Se){Se.target.removeEventListener("dispose",Ge);for(const Ue in I){const ye=I[Ue],me=Se.target.uuid;me in ye&&(ye[me].dispose(),delete ye[me])}}}function p_(a){function e(){let He=!1;const Ut=new Ci;let qt=null;const Sn=new Ci(0,0,0,0);return{setMask:function(dn){qt!==dn&&!He&&(a.colorMask(dn,dn,dn,dn),qt=dn)},setLocked:function(dn){He=dn},setClear:function(dn,oi,hn,an,di){di===!0&&(dn*=an,oi*=an,hn*=an),Ut.set(dn,oi,hn,an),Sn.equals(Ut)===!1&&(a.clearColor(dn,oi,hn,an),Sn.copy(Ut))},reset:function(){He=!1,qt=null,Sn.set(-1,0,0,0)}}}function t(){let He=!1,Ut=null,qt=null,Sn=null;return{setTest:function(dn){dn?zi(a.DEPTH_TEST):Cn(a.DEPTH_TEST)},setMask:function(dn){Ut!==dn&&!He&&(a.depthMask(dn),Ut=dn)},setFunc:function(dn){if(qt!==dn){switch(dn){case Te:a.depthFunc(a.NEVER);break;case je:a.depthFunc(a.ALWAYS);break;case ot:a.depthFunc(a.LESS);break;case Je:a.depthFunc(a.LEQUAL);break;case ut:a.depthFunc(a.EQUAL);break;case Lt:a.depthFunc(a.GEQUAL);break;case _t:a.depthFunc(a.GREATER);break;case Pt:a.depthFunc(a.NOTEQUAL);break;default:a.depthFunc(a.LEQUAL)}qt=dn}},setLocked:function(dn){He=dn},setClear:function(dn){Sn!==dn&&(a.clearDepth(dn),Sn=dn)},reset:function(){He=!1,Ut=null,qt=null,Sn=null}}}function n(){let He=!1,Ut=null,qt=null,Sn=null,dn=null,oi=null,hn=null,an=null,di=null;return{setTest:function(Qn){He||(Qn?zi(a.STENCIL_TEST):Cn(a.STENCIL_TEST))},setMask:function(Qn){Ut!==Qn&&!He&&(a.stencilMask(Qn),Ut=Qn)},setFunc:function(Qn,Fr,Eo){(qt!==Qn||Sn!==Fr||dn!==Eo)&&(a.stencilFunc(Qn,Fr,Eo),qt=Qn,Sn=Fr,dn=Eo)},setOp:function(Qn,Fr,Eo){(oi!==Qn||hn!==Fr||an!==Eo)&&(a.stencilOp(Qn,Fr,Eo),oi=Qn,hn=Fr,an=Eo)},setLocked:function(Qn){He=Qn},setClear:function(Qn){di!==Qn&&(a.clearStencil(Qn),di=Qn)},reset:function(){He=!1,Ut=null,qt=null,Sn=null,dn=null,oi=null,hn=null,an=null,di=null}}}const s=new e,o=new t,c=new n,h=new WeakMap,_=new WeakMap;let I={},O={},U=new WeakMap,N=[],Q=null,K=!1,Z=null,Y=null,V=null,he=null,ce=null,oe=null,Ge=null,Se=new pn(0,0,0),Le=0,Ue=!1,ye=null,me=null,Ne=null,$e=null,ze=null;const Ze=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ct=!1,xt=0;const Jt=a.getParameter(a.VERSION);Jt.indexOf("WebGL")!==-1?(xt=parseFloat(/^WebGL (\d)/.exec(Jt)[1]),ct=xt>=1):Jt.indexOf("OpenGL ES")!==-1&&(xt=parseFloat(/^OpenGL ES (\d)/.exec(Jt)[1]),ct=xt>=2);let ht=null,jt={};const $t=a.getParameter(a.SCISSOR_BOX),yn=a.getParameter(a.VIEWPORT),li=new Ci().fromArray($t),Bi=new Ci().fromArray(yn);function Yi(He,Ut,qt,Sn){const dn=new Uint8Array(4),oi=a.createTexture();a.bindTexture(He,oi),a.texParameteri(He,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(He,a.TEXTURE_MAG_FILTER,a.NEAREST);for(let hn=0;hn<qt;hn++)He===a.TEXTURE_3D||He===a.TEXTURE_2D_ARRAY?a.texImage3D(Ut,0,a.RGBA,1,1,Sn,0,a.RGBA,a.UNSIGNED_BYTE,dn):a.texImage2D(Ut+hn,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,dn);return oi}const Si={};Si[a.TEXTURE_2D]=Yi(a.TEXTURE_2D,a.TEXTURE_2D,1),Si[a.TEXTURE_CUBE_MAP]=Yi(a.TEXTURE_CUBE_MAP,a.TEXTURE_CUBE_MAP_POSITIVE_X,6),Si[a.TEXTURE_2D_ARRAY]=Yi(a.TEXTURE_2D_ARRAY,a.TEXTURE_2D_ARRAY,1,1),Si[a.TEXTURE_3D]=Yi(a.TEXTURE_3D,a.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),c.setClear(0),zi(a.DEPTH_TEST),o.setFunc(Je),Ht(!1),Ft(d),zi(a.CULL_FACE),vt(R);function zi(He){I[He]!==!0&&(a.enable(He),I[He]=!0)}function Cn(He){I[He]!==!1&&(a.disable(He),I[He]=!1)}function It(He,Ut){return O[He]!==Ut?(a.bindFramebuffer(He,Ut),O[He]=Ut,He===a.DRAW_FRAMEBUFFER&&(O[a.FRAMEBUFFER]=Ut),He===a.FRAMEBUFFER&&(O[a.DRAW_FRAMEBUFFER]=Ut),!0):!1}function en(He,Ut){let qt=N,Sn=!1;if(He){qt=U.get(Ut),qt===void 0&&(qt=[],U.set(Ut,qt));const dn=He.textures;if(qt.length!==dn.length||qt[0]!==a.COLOR_ATTACHMENT0){for(let oi=0,hn=dn.length;oi<hn;oi++)qt[oi]=a.COLOR_ATTACHMENT0+oi;qt.length=dn.length,Sn=!0}}else qt[0]!==a.BACK&&(qt[0]=a.BACK,Sn=!0);Sn&&a.drawBuffers(qt)}function nn(He){return Q!==He?(a.useProgram(He),Q=He,!0):!1}const et={[ee]:a.FUNC_ADD,[de]:a.FUNC_SUBTRACT,[ie]:a.FUNC_REVERSE_SUBTRACT};et[ne]=a.MIN,et[X]=a.MAX;const Tt={[z]:a.ZERO,[se]:a.ONE,[ae]:a.SRC_COLOR,[Re]:a.SRC_ALPHA,[rt]:a.SRC_ALPHA_SATURATE,[Fe]:a.DST_COLOR,[Ke]:a.DST_ALPHA,[be]:a.ONE_MINUS_SRC_COLOR,[ke]:a.ONE_MINUS_SRC_ALPHA,[qe]:a.ONE_MINUS_DST_COLOR,[Xe]:a.ONE_MINUS_DST_ALPHA,[it]:a.CONSTANT_COLOR,[Ct]:a.ONE_MINUS_CONSTANT_COLOR,[Nt]:a.CONSTANT_ALPHA,[xe]:a.ONE_MINUS_CONSTANT_ALPHA};function vt(He,Ut,qt,Sn,dn,oi,hn,an,di,Qn){if(He===R){K===!0&&(Cn(a.BLEND),K=!1);return}if(K===!1&&(zi(a.BLEND),K=!0),He!==te){if(He!==Z||Qn!==Ue){if((Y!==ee||ce!==ee)&&(a.blendEquation(a.FUNC_ADD),Y=ee,ce=ee),Qn)switch(He){case F:a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case P:a.blendFunc(a.ONE,a.ONE);break;case H:a.blendFuncSeparate(a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ZERO,a.ONE);break;case $:a.blendFuncSeparate(a.ZERO,a.SRC_COLOR,a.ZERO,a.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",He);break}else switch(He){case F:a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case P:a.blendFunc(a.SRC_ALPHA,a.ONE);break;case H:a.blendFuncSeparate(a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ZERO,a.ONE);break;case $:a.blendFunc(a.ZERO,a.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",He);break}V=null,he=null,oe=null,Ge=null,Se.set(0,0,0),Le=0,Z=He,Ue=Qn}return}dn=dn||Ut,oi=oi||qt,hn=hn||Sn,(Ut!==Y||dn!==ce)&&(a.blendEquationSeparate(et[Ut],et[dn]),Y=Ut,ce=dn),(qt!==V||Sn!==he||oi!==oe||hn!==Ge)&&(a.blendFuncSeparate(Tt[qt],Tt[Sn],Tt[oi],Tt[hn]),V=qt,he=Sn,oe=oi,Ge=hn),(an.equals(Se)===!1||di!==Le)&&(a.blendColor(an.r,an.g,an.b,di),Se.copy(an),Le=di),Z=He,Ue=!1}function zt(He,Ut){He.side===L?Cn(a.CULL_FACE):zi(a.CULL_FACE);let qt=He.side===T;Ut&&(qt=!qt),Ht(qt),He.blending===F&&He.transparent===!1?vt(R):vt(He.blending,He.blendEquation,He.blendSrc,He.blendDst,He.blendEquationAlpha,He.blendSrcAlpha,He.blendDstAlpha,He.blendColor,He.blendAlpha,He.premultipliedAlpha),o.setFunc(He.depthFunc),o.setTest(He.depthTest),o.setMask(He.depthWrite),s.setMask(He.colorWrite);const Sn=He.stencilWrite;c.setTest(Sn),Sn&&(c.setMask(He.stencilWriteMask),c.setFunc(He.stencilFunc,He.stencilRef,He.stencilFuncMask),c.setOp(He.stencilFail,He.stencilZFail,He.stencilZPass)),fn(He.polygonOffset,He.polygonOffsetFactor,He.polygonOffsetUnits),He.alphaToCoverage===!0?zi(a.SAMPLE_ALPHA_TO_COVERAGE):Cn(a.SAMPLE_ALPHA_TO_COVERAGE)}function Ht(He){ye!==He&&(He?a.frontFace(a.CW):a.frontFace(a.CCW),ye=He)}function Ft(He){He!==b?(zi(a.CULL_FACE),He!==me&&(He===d?a.cullFace(a.BACK):He===g?a.cullFace(a.FRONT):a.cullFace(a.FRONT_AND_BACK))):Cn(a.CULL_FACE),me=He}function on(He){He!==Ne&&(ct&&a.lineWidth(He),Ne=He)}function fn(He,Ut,qt){He?(zi(a.POLYGON_OFFSET_FILL),($e!==Ut||ze!==qt)&&(a.polygonOffset(Ut,qt),$e=Ut,ze=qt)):Cn(a.POLYGON_OFFSET_FILL)}function zn(He){He?zi(a.SCISSOR_TEST):Cn(a.SCISSOR_TEST)}function $n(He){He===void 0&&(He=a.TEXTURE0+Ze-1),ht!==He&&(a.activeTexture(He),ht=He)}function Ii(He,Ut,qt){qt===void 0&&(ht===null?qt=a.TEXTURE0+Ze-1:qt=ht);let Sn=jt[qt];Sn===void 0&&(Sn={type:void 0,texture:void 0},jt[qt]=Sn),(Sn.type!==He||Sn.texture!==Ut)&&(ht!==qt&&(a.activeTexture(qt),ht=qt),a.bindTexture(He,Ut||Si[He]),Sn.type=He,Sn.texture=Ut)}function mr(){const He=jt[ht];He!==void 0&&He.type!==void 0&&(a.bindTexture(He.type,null),He.type=void 0,He.texture=void 0)}function $i(){try{a.compressedTexImage2D.apply(a,arguments)}catch(He){console.error("THREE.WebGLState:",He)}}function Oe(){try{a.compressedTexImage3D.apply(a,arguments)}catch(He){console.error("THREE.WebGLState:",He)}}function Ae(){try{a.texSubImage2D.apply(a,arguments)}catch(He){console.error("THREE.WebGLState:",He)}}function At(){try{a.texSubImage3D.apply(a,arguments)}catch(He){console.error("THREE.WebGLState:",He)}}function St(){try{a.compressedTexSubImage2D.apply(a,arguments)}catch(He){console.error("THREE.WebGLState:",He)}}function Rt(){try{a.compressedTexSubImage3D.apply(a,arguments)}catch(He){console.error("THREE.WebGLState:",He)}}function Bt(){try{a.texStorage2D.apply(a,arguments)}catch(He){console.error("THREE.WebGLState:",He)}}function Mn(){try{a.texStorage3D.apply(a,arguments)}catch(He){console.error("THREE.WebGLState:",He)}}function Zt(){try{a.texImage2D.apply(a,arguments)}catch(He){console.error("THREE.WebGLState:",He)}}function mn(){try{a.texImage3D.apply(a,arguments)}catch(He){console.error("THREE.WebGLState:",He)}}function ki(He){li.equals(He)===!1&&(a.scissor(He.x,He.y,He.z,He.w),li.copy(He))}function An(He){Bi.equals(He)===!1&&(a.viewport(He.x,He.y,He.z,He.w),Bi.copy(He))}function In(He,Ut){let qt=_.get(Ut);qt===void 0&&(qt=new WeakMap,_.set(Ut,qt));let Sn=qt.get(He);Sn===void 0&&(Sn=a.getUniformBlockIndex(Ut,He.name),qt.set(He,Sn))}function si(He,Ut){const Sn=_.get(Ut).get(He);h.get(Ut)!==Sn&&(a.uniformBlockBinding(Ut,Sn,He.__bindingPointIndex),h.set(Ut,Sn))}function Nn(){a.disable(a.BLEND),a.disable(a.CULL_FACE),a.disable(a.DEPTH_TEST),a.disable(a.POLYGON_OFFSET_FILL),a.disable(a.SCISSOR_TEST),a.disable(a.STENCIL_TEST),a.disable(a.SAMPLE_ALPHA_TO_COVERAGE),a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ONE,a.ZERO),a.blendFuncSeparate(a.ONE,a.ZERO,a.ONE,a.ZERO),a.blendColor(0,0,0,0),a.colorMask(!0,!0,!0,!0),a.clearColor(0,0,0,0),a.depthMask(!0),a.depthFunc(a.LESS),a.clearDepth(1),a.stencilMask(4294967295),a.stencilFunc(a.ALWAYS,0,4294967295),a.stencilOp(a.KEEP,a.KEEP,a.KEEP),a.clearStencil(0),a.cullFace(a.BACK),a.frontFace(a.CCW),a.polygonOffset(0,0),a.activeTexture(a.TEXTURE0),a.bindFramebuffer(a.FRAMEBUFFER,null),a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null),a.bindFramebuffer(a.READ_FRAMEBUFFER,null),a.useProgram(null),a.lineWidth(1),a.scissor(0,0,a.canvas.width,a.canvas.height),a.viewport(0,0,a.canvas.width,a.canvas.height),I={},ht=null,jt={},O={},U=new WeakMap,N=[],Q=null,K=!1,Z=null,Y=null,V=null,he=null,ce=null,oe=null,Ge=null,Se=new pn(0,0,0),Le=0,Ue=!1,ye=null,me=null,Ne=null,$e=null,ze=null,li.set(0,0,a.canvas.width,a.canvas.height),Bi.set(0,0,a.canvas.width,a.canvas.height),s.reset(),o.reset(),c.reset()}return{buffers:{color:s,depth:o,stencil:c},enable:zi,disable:Cn,bindFramebuffer:It,drawBuffers:en,useProgram:nn,setBlending:vt,setMaterial:zt,setFlipSided:Ht,setCullFace:Ft,setLineWidth:on,setPolygonOffset:fn,setScissorTest:zn,activeTexture:$n,bindTexture:Ii,unbindTexture:mr,compressedTexImage2D:$i,compressedTexImage3D:Oe,texImage2D:Zt,texImage3D:mn,updateUBOMapping:In,uniformBlockBinding:si,texStorage2D:Bt,texStorage3D:Mn,texSubImage2D:Ae,texSubImage3D:At,compressedTexSubImage2D:St,compressedTexSubImage3D:Rt,scissor:ki,viewport:An,reset:Nn}}function m_(a,e,t,n,s,o,c){const h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,_=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),I=e.has("OCULUS_multiview")?e.get("OCULUS_multiview"):null,O=new Mt,U=new WeakMap;let N;const Q=new WeakMap;let K=[],Z=!1,Y=!1;try{Y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch(Oe){}function V(Oe,Ae){return Y?new OffscreenCanvas(Oe,Ae):Ga("canvas")}function he(Oe,Ae,At){let St=1;const Rt=$i(Oe);if((Rt.width>At||Rt.height>At)&&(St=At/Math.max(Rt.width,Rt.height)),St<1)if(typeof HTMLImageElement<"u"&&Oe instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Oe instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Oe instanceof ImageBitmap||typeof VideoFrame<"u"&&Oe instanceof VideoFrame){const Bt=Math.floor(St*Rt.width),Mn=Math.floor(St*Rt.height);N===void 0&&(N=V(Bt,Mn));const Zt=Ae?V(Bt,Mn):N;return Zt.width=Bt,Zt.height=Mn,Zt.getContext("2d").drawImage(Oe,0,0,Bt,Mn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Rt.width+"x"+Rt.height+") to ("+Bt+"x"+Mn+")."),Zt}else return"data"in Oe&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Rt.width+"x"+Rt.height+")."),Oe;return Oe}function ce(Oe){return Oe.generateMipmaps&&Oe.minFilter!==Yt&&Oe.minFilter!==Rn}function oe(Oe){a.generateMipmap(Oe)}function Ge(Oe,Ae,At,St,Rt=!1){if(Oe!==null){if(a[Oe]!==void 0)return a[Oe];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Oe+"'")}let Bt=Ae;if(Ae===a.RED&&(At===a.FLOAT&&(Bt=a.R32F),At===a.HALF_FLOAT&&(Bt=a.R16F),At===a.UNSIGNED_BYTE&&(Bt=a.R8)),Ae===a.RED_INTEGER&&(At===a.UNSIGNED_BYTE&&(Bt=a.R8UI),At===a.UNSIGNED_SHORT&&(Bt=a.R16UI),At===a.UNSIGNED_INT&&(Bt=a.R32UI),At===a.BYTE&&(Bt=a.R8I),At===a.SHORT&&(Bt=a.R16I),At===a.INT&&(Bt=a.R32I)),Ae===a.RG&&(At===a.FLOAT&&(Bt=a.RG32F),At===a.HALF_FLOAT&&(Bt=a.RG16F),At===a.UNSIGNED_BYTE&&(Bt=a.RG8)),Ae===a.RG_INTEGER&&(At===a.UNSIGNED_BYTE&&(Bt=a.RG8UI),At===a.UNSIGNED_SHORT&&(Bt=a.RG16UI),At===a.UNSIGNED_INT&&(Bt=a.RG32UI),At===a.BYTE&&(Bt=a.RG8I),At===a.SHORT&&(Bt=a.RG16I),At===a.INT&&(Bt=a.RG32I)),Ae===a.RGB&&At===a.UNSIGNED_INT_5_9_9_9_REV&&(Bt=a.RGB9_E5),Ae===a.RGBA){const Mn=Rt?Pa:Ti.getTransfer(St);At===a.FLOAT&&(Bt=a.RGBA32F),At===a.HALF_FLOAT&&(Bt=a.RGBA16F),At===a.UNSIGNED_BYTE&&(Bt=Mn===Vi?a.SRGB8_ALPHA8:a.RGBA8),At===a.UNSIGNED_SHORT_4_4_4_4&&(Bt=a.RGBA4),At===a.UNSIGNED_SHORT_5_5_5_1&&(Bt=a.RGB5_A1)}return(Bt===a.R16F||Bt===a.R32F||Bt===a.RG16F||Bt===a.RG32F||Bt===a.RGBA16F||Bt===a.RGBA32F)&&e.get("EXT_color_buffer_float"),Bt}function Se(Oe,Ae){return ce(Oe)===!0||Oe.isFramebufferTexture&&Oe.minFilter!==Yt&&Oe.minFilter!==Rn?Math.log2(Math.max(Ae.width,Ae.height))+1:Oe.mipmaps!==void 0&&Oe.mipmaps.length>0?Oe.mipmaps.length:Oe.isCompressedTexture&&Array.isArray(Oe.image)?Ae.mipmaps.length:1}function Le(Oe){const Ae=Oe.target;Ae.removeEventListener("dispose",Le),ye(Ae),Ae.isVideoTexture&&U.delete(Ae)}function Ue(Oe){const Ae=Oe.target;Ae.removeEventListener("dispose",Ue),Ne(Ae)}function ye(Oe){const Ae=n.get(Oe);if(Ae.__webglInit===void 0)return;const At=Oe.source,St=Q.get(At);if(St){const Rt=St[Ae.__cacheKey];Rt.usedTimes--,Rt.usedTimes===0&&me(Oe),Object.keys(St).length===0&&Q.delete(At)}n.remove(Oe)}function me(Oe){const Ae=n.get(Oe);a.deleteTexture(Ae.__webglTexture);const At=Oe.source,St=Q.get(At);delete St[Ae.__cacheKey],c.memory.textures--}function Ne(Oe){const Ae=n.get(Oe);if(Oe.depthTexture&&Oe.depthTexture.dispose(),Oe.isWebGLCubeRenderTarget)for(let St=0;St<6;St++){if(Array.isArray(Ae.__webglFramebuffer[St]))for(let Rt=0;Rt<Ae.__webglFramebuffer[St].length;Rt++)a.deleteFramebuffer(Ae.__webglFramebuffer[St][Rt]);else a.deleteFramebuffer(Ae.__webglFramebuffer[St]);Ae.__webglDepthbuffer&&a.deleteRenderbuffer(Ae.__webglDepthbuffer[St])}else{if(Array.isArray(Ae.__webglFramebuffer))for(let St=0;St<Ae.__webglFramebuffer.length;St++)a.deleteFramebuffer(Ae.__webglFramebuffer[St]);else a.deleteFramebuffer(Ae.__webglFramebuffer);if(Ae.__webglDepthbuffer&&a.deleteRenderbuffer(Ae.__webglDepthbuffer),Ae.__webglMultisampledFramebuffer&&a.deleteFramebuffer(Ae.__webglMultisampledFramebuffer),Ae.__webglColorRenderbuffer)for(let St=0;St<Ae.__webglColorRenderbuffer.length;St++)Ae.__webglColorRenderbuffer[St]&&a.deleteRenderbuffer(Ae.__webglColorRenderbuffer[St]);Ae.__webglDepthRenderbuffer&&a.deleteRenderbuffer(Ae.__webglDepthRenderbuffer)}const At=Oe.textures;for(let St=0,Rt=At.length;St<Rt;St++){const Bt=n.get(At[St]);Bt.__webglTexture&&(a.deleteTexture(Bt.__webglTexture),c.memory.textures--),n.remove(At[St])}n.remove(Oe)}let $e=0;function ze(){$e=0}function Ze(){const Oe=$e;return Oe>=s.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Oe+" texture units while this GPU supports only "+s.maxTextures),$e+=1,Oe}function ct(Oe){const Ae=[];return Ae.push(Oe.wrapS),Ae.push(Oe.wrapT),Ae.push(Oe.wrapR||0),Ae.push(Oe.magFilter),Ae.push(Oe.minFilter),Ae.push(Oe.anisotropy),Ae.push(Oe.internalFormat),Ae.push(Oe.format),Ae.push(Oe.type),Ae.push(Oe.generateMipmaps),Ae.push(Oe.premultiplyAlpha),Ae.push(Oe.flipY),Ae.push(Oe.unpackAlignment),Ae.push(Oe.colorSpace),Ae.join()}function xt(Oe,Ae){const At=n.get(Oe);if(Oe.isVideoTexture&&Ii(Oe),Oe.isRenderTargetTexture===!1&&Oe.version>0&&At.__version!==Oe.version){const St=Oe.image;if(St===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(St.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else if(Cn(At,Oe,Ae))return}t.bindTexture(a.TEXTURE_2D,At.__webglTexture,a.TEXTURE0+Ae)}function Jt(Oe,Ae){const At=n.get(Oe);if(Oe.version>0&&At.__version!==Oe.version){Cn(At,Oe,Ae);return}t.bindTexture(a.TEXTURE_2D_ARRAY,At.__webglTexture,a.TEXTURE0+Ae)}function ht(Oe,Ae){const At=n.get(Oe);if(Oe.version>0&&At.__version!==Oe.version){Cn(At,Oe,Ae);return}t.bindTexture(a.TEXTURE_3D,At.__webglTexture,a.TEXTURE0+Ae)}function jt(Oe,Ae){const At=n.get(Oe);if(Oe.version>0&&At.__version!==Oe.version){It(At,Oe,Ae);return}t.bindTexture(a.TEXTURE_CUBE_MAP,At.__webglTexture,a.TEXTURE0+Ae)}const $t={[De]:a.REPEAT,[Ve]:a.CLAMP_TO_EDGE,[kt]:a.MIRRORED_REPEAT},yn={[Yt]:a.NEAREST,[Gt]:a.NEAREST_MIPMAP_NEAREST,[un]:a.NEAREST_MIPMAP_LINEAR,[Rn]:a.LINEAR,[Zi]:a.LINEAR_MIPMAP_NEAREST,[Li]:a.LINEAR_MIPMAP_LINEAR},li={[Ud]:a.NEVER,[zd]:a.ALWAYS,[Nd]:a.LESS,[Ec]:a.LEQUAL,[Gd]:a.EQUAL,[Vd]:a.GEQUAL,[Qd]:a.GREATER,[Hd]:a.NOTEQUAL};function Bi(Oe,Ae){if(Ae.type===tr&&e.has("OES_texture_float_linear")===!1&&(Ae.magFilter===Rn||Ae.magFilter===Zi||Ae.magFilter===un||Ae.magFilter===Li||Ae.minFilter===Rn||Ae.minFilter===Zi||Ae.minFilter===un||Ae.minFilter===Li)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),a.texParameteri(Oe,a.TEXTURE_WRAP_S,$t[Ae.wrapS]),a.texParameteri(Oe,a.TEXTURE_WRAP_T,$t[Ae.wrapT]),(Oe===a.TEXTURE_3D||Oe===a.TEXTURE_2D_ARRAY)&&a.texParameteri(Oe,a.TEXTURE_WRAP_R,$t[Ae.wrapR]),a.texParameteri(Oe,a.TEXTURE_MAG_FILTER,yn[Ae.magFilter]),a.texParameteri(Oe,a.TEXTURE_MIN_FILTER,yn[Ae.minFilter]),Ae.compareFunction&&(a.texParameteri(Oe,a.TEXTURE_COMPARE_MODE,a.COMPARE_REF_TO_TEXTURE),a.texParameteri(Oe,a.TEXTURE_COMPARE_FUNC,li[Ae.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(Ae.magFilter===Yt||Ae.minFilter!==un&&Ae.minFilter!==Li||Ae.type===tr&&e.has("OES_texture_float_linear")===!1)return;if(Ae.anisotropy>1||n.get(Ae).__currentAnisotropy){const At=e.get("EXT_texture_filter_anisotropic");a.texParameterf(Oe,At.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Ae.anisotropy,s.getMaxAnisotropy())),n.get(Ae).__currentAnisotropy=Ae.anisotropy}}}function Yi(Oe,Ae){let At=!1;Oe.__webglInit===void 0&&(Oe.__webglInit=!0,Ae.addEventListener("dispose",Le));const St=Ae.source;let Rt=Q.get(St);Rt===void 0&&(Rt={},Q.set(St,Rt));const Bt=ct(Ae);if(Bt!==Oe.__cacheKey){Rt[Bt]===void 0&&(Rt[Bt]={texture:a.createTexture(),usedTimes:0},c.memory.textures++,At=!0),Rt[Bt].usedTimes++;const Mn=Rt[Oe.__cacheKey];Mn!==void 0&&(Rt[Oe.__cacheKey].usedTimes--,Mn.usedTimes===0&&me(Ae)),Oe.__cacheKey=Bt,Oe.__webglTexture=Rt[Bt].texture}return At}function Si(Oe){Z=Oe}function zi(){const Oe=Z;Z=!1;for(const Ae of K)Cn(Ae.textureProperties,Ae.texture,Ae.slot),Ae.texture.isPendingDeferredUpload=!1;K=[],Z=Oe}function Cn(Oe,Ae,At){if(Z)return Ae.isPendingDeferredUpload||(Ae.isPendingDeferredUpload=!0,K.push({textureProperties:Oe,texture:Ae,slot:At})),!1;let St=a.TEXTURE_2D;(Ae.isDataArrayTexture||Ae.isCompressedArrayTexture)&&(St=a.TEXTURE_2D_ARRAY),Ae.isData3DTexture&&(St=a.TEXTURE_3D);const Rt=Yi(Oe,Ae),Bt=Ae.source;t.bindTexture(St,Oe.__webglTexture,a.TEXTURE0+At);const Mn=n.get(Bt);if(Bt.version!==Mn.__version||Rt===!0){t.activeTexture(a.TEXTURE0+At);const Zt=Ti.getPrimaries(Ti.workingColorSpace),mn=Ae.colorSpace===Kr?null:Ti.getPrimaries(Ae.colorSpace),ki=Ae.colorSpace===Kr||Zt===mn?a.NONE:a.BROWSER_DEFAULT_WEBGL;a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,Ae.flipY),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ae.premultiplyAlpha),a.pixelStorei(a.UNPACK_ALIGNMENT,Ae.unpackAlignment),a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,ki);let An=he(Ae.image,!1,s.maxTextureSize);An=mr(Ae,An);const In=o.convert(Ae.format,Ae.colorSpace),si=o.convert(Ae.type);let Nn=Ge(Ae.internalFormat,In,si,Ae.colorSpace,Ae.isVideoTexture);Bi(St,Ae);let He;const Ut=Ae.mipmaps,qt=Ae.isVideoTexture!==!0,Sn=Mn.__version===void 0||Rt===!0,dn=Bt.dataReady,oi=Se(Ae,An);if(Ae.isDepthTexture)Nn=a.DEPTH_COMPONENT16,Ae.type===tr?Nn=a.DEPTH_COMPONENT32F:Ae.type===Wr?Nn=a.DEPTH_COMPONENT24:Ae.type===Is&&(Nn=a.DEPTH24_STENCIL8),Sn&&(qt?t.texStorage2D(a.TEXTURE_2D,1,Nn,An.width,An.height):t.texImage2D(a.TEXTURE_2D,0,Nn,An.width,An.height,0,In,si,null));else if(Ae.isDataTexture)if(Ut.length>0){qt&&Sn&&t.texStorage2D(a.TEXTURE_2D,oi,Nn,Ut[0].width,Ut[0].height);for(let hn=0,an=Ut.length;hn<an;hn++)He=Ut[hn],qt?dn&&t.texSubImage2D(a.TEXTURE_2D,hn,0,0,He.width,He.height,In,si,He.data):t.texImage2D(a.TEXTURE_2D,hn,Nn,He.width,He.height,0,In,si,He.data);Ae.generateMipmaps=!1}else qt?(Sn&&t.texStorage2D(a.TEXTURE_2D,oi,Nn,An.width,An.height),dn&&t.texSubImage2D(a.TEXTURE_2D,0,0,0,An.width,An.height,In,si,An.data)):t.texImage2D(a.TEXTURE_2D,0,Nn,An.width,An.height,0,In,si,An.data);else if(Ae.isCompressedTexture)if(Ae.isCompressedArrayTexture){qt&&Sn&&t.texStorage3D(a.TEXTURE_2D_ARRAY,oi,Nn,Ut[0].width,Ut[0].height,An.depth);for(let hn=0,an=Ut.length;hn<an;hn++)He=Ut[hn],Ae.format!==Pe?In!==null?qt?dn&&t.compressedTexSubImage3D(a.TEXTURE_2D_ARRAY,hn,0,0,0,He.width,He.height,An.depth,In,He.data,0,0):t.compressedTexImage3D(a.TEXTURE_2D_ARRAY,hn,Nn,He.width,He.height,An.depth,0,He.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):qt?dn&&t.texSubImage3D(a.TEXTURE_2D_ARRAY,hn,0,0,0,He.width,He.height,An.depth,In,si,He.data):t.texImage3D(a.TEXTURE_2D_ARRAY,hn,Nn,He.width,He.height,An.depth,0,In,si,He.data)}else{qt&&Sn&&t.texStorage2D(a.TEXTURE_2D,oi,Nn,Ut[0].width,Ut[0].height);for(let hn=0,an=Ut.length;hn<an;hn++)He=Ut[hn],Ae.format!==Pe?In!==null?qt?dn&&t.compressedTexSubImage2D(a.TEXTURE_2D,hn,0,0,He.width,He.height,In,He.data):t.compressedTexImage2D(a.TEXTURE_2D,hn,Nn,He.width,He.height,0,He.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):qt?dn&&t.texSubImage2D(a.TEXTURE_2D,hn,0,0,He.width,He.height,In,si,He.data):t.texImage2D(a.TEXTURE_2D,hn,Nn,He.width,He.height,0,In,si,He.data)}else if(Ae.isDataArrayTexture)qt?(Sn&&t.texStorage3D(a.TEXTURE_2D_ARRAY,oi,Nn,An.width,An.height,An.depth),dn&&t.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,0,An.width,An.height,An.depth,In,si,An.data)):t.texImage3D(a.TEXTURE_2D_ARRAY,0,Nn,An.width,An.height,An.depth,0,In,si,An.data);else if(Ae.isData3DTexture)qt?(Sn&&t.texStorage3D(a.TEXTURE_3D,oi,Nn,An.width,An.height,An.depth),dn&&t.texSubImage3D(a.TEXTURE_3D,0,0,0,0,An.width,An.height,An.depth,In,si,An.data)):t.texImage3D(a.TEXTURE_3D,0,Nn,An.width,An.height,An.depth,0,In,si,An.data);else if(Ae.isFramebufferTexture){if(Sn)if(qt)t.texStorage2D(a.TEXTURE_2D,oi,Nn,An.width,An.height);else{let hn=An.width,an=An.height;for(let di=0;di<oi;di++)t.texImage2D(a.TEXTURE_2D,di,Nn,hn,an,0,In,si,null),hn>>=1,an>>=1}}else if(Ut.length>0){if(qt&&Sn){const hn=$i(Ut[0]);t.texStorage2D(a.TEXTURE_2D,oi,Nn,hn.width,hn.height)}for(let hn=0,an=Ut.length;hn<an;hn++)He=Ut[hn],qt?dn&&t.texSubImage2D(a.TEXTURE_2D,hn,0,0,In,si,He):t.texImage2D(a.TEXTURE_2D,hn,Nn,In,si,He);Ae.generateMipmaps=!1}else if(qt){if(Sn){const hn=$i(An);t.texStorage2D(a.TEXTURE_2D,oi,Nn,hn.width,hn.height)}dn&&t.texSubImage2D(a.TEXTURE_2D,0,0,0,In,si,An)}else t.texImage2D(a.TEXTURE_2D,0,Nn,In,si,An);ce(Ae)&&oe(St),Mn.__version=Bt.version,Ae.onUpdate&&Ae.onUpdate(Ae)}return Oe.__version=Ae.version,!0}function It(Oe,Ae,At){if(Ae.image.length!==6)return;const St=Yi(Oe,Ae),Rt=Ae.source;t.bindTexture(a.TEXTURE_CUBE_MAP,Oe.__webglTexture,a.TEXTURE0+At);const Bt=n.get(Rt);if(Rt.version!==Bt.__version||St===!0){t.activeTexture(a.TEXTURE0+At);const Mn=Ti.getPrimaries(Ti.workingColorSpace),Zt=Ae.colorSpace===Kr?null:Ti.getPrimaries(Ae.colorSpace),mn=Ae.colorSpace===Kr||Mn===Zt?a.NONE:a.BROWSER_DEFAULT_WEBGL;a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,Ae.flipY),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ae.premultiplyAlpha),a.pixelStorei(a.UNPACK_ALIGNMENT,Ae.unpackAlignment),a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,mn);const ki=Ae.isCompressedTexture||Ae.image[0].isCompressedTexture,An=Ae.image[0]&&Ae.image[0].isDataTexture,In=[];for(let an=0;an<6;an++)!ki&&!An?In[an]=he(Ae.image[an],!0,s.maxCubemapSize):In[an]=An?Ae.image[an].image:Ae.image[an],In[an]=mr(Ae,In[an]);const si=In[0],Nn=o.convert(Ae.format,Ae.colorSpace),He=o.convert(Ae.type),Ut=Ge(Ae.internalFormat,Nn,He,Ae.colorSpace),qt=Ae.isVideoTexture!==!0,Sn=Bt.__version===void 0||St===!0,dn=Rt.dataReady;let oi=Se(Ae,si);Bi(a.TEXTURE_CUBE_MAP,Ae);let hn;if(ki){qt&&Sn&&t.texStorage2D(a.TEXTURE_CUBE_MAP,oi,Ut,si.width,si.height);for(let an=0;an<6;an++){hn=In[an].mipmaps;for(let di=0;di<hn.length;di++){const Qn=hn[di];Ae.format!==Pe?Nn!==null?qt?dn&&t.compressedTexSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+an,di,0,0,Qn.width,Qn.height,Nn,Qn.data):t.compressedTexImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+an,di,Ut,Qn.width,Qn.height,0,Qn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):qt?dn&&t.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+an,di,0,0,Qn.width,Qn.height,Nn,He,Qn.data):t.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+an,di,Ut,Qn.width,Qn.height,0,Nn,He,Qn.data)}}}else{if(hn=Ae.mipmaps,qt&&Sn){hn.length>0&&oi++;const an=$i(In[0]);t.texStorage2D(a.TEXTURE_CUBE_MAP,oi,Ut,an.width,an.height)}for(let an=0;an<6;an++)if(An){qt?dn&&t.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+an,0,0,0,In[an].width,In[an].height,Nn,He,In[an].data):t.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+an,0,Ut,In[an].width,In[an].height,0,Nn,He,In[an].data);for(let di=0;di<hn.length;di++){const Fr=hn[di].image[an].image;qt?dn&&t.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+an,di+1,0,0,Fr.width,Fr.height,Nn,He,Fr.data):t.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+an,di+1,Ut,Fr.width,Fr.height,0,Nn,He,Fr.data)}}else{qt?dn&&t.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+an,0,0,0,Nn,He,In[an]):t.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+an,0,Ut,Nn,He,In[an]);for(let di=0;di<hn.length;di++){const Qn=hn[di];qt?dn&&t.texSubImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+an,di+1,0,0,Nn,He,Qn.image[an]):t.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+an,di+1,Ut,Nn,He,Qn.image[an])}}}ce(Ae)&&oe(a.TEXTURE_CUBE_MAP),Bt.__version=Rt.version,Ae.onUpdate&&Ae.onUpdate(Ae)}Oe.__version=Ae.version}function en(Oe,Ae,At,St,Rt,Bt){const Mn=o.convert(At.format,At.colorSpace),Zt=o.convert(At.type),mn=Ge(At.internalFormat,Mn,Zt,At.colorSpace);if(!n.get(Ae).__hasExternalTextures){const In=Math.max(1,Ae.width>>Bt),si=Math.max(1,Ae.height>>Bt);Ae.isWebGLMultiviewRenderTarget===!0?t.texStorage3D(a.TEXTURE_2D_ARRAY,0,mn,Ae.width,Ae.height,Ae.numViews):Rt===a.TEXTURE_3D||Rt===a.TEXTURE_2D_ARRAY?t.texImage3D(Rt,Bt,mn,In,si,Ae.depth,0,Mn,Zt,null):t.texImage2D(Rt,Bt,mn,In,si,0,Mn,Zt,null)}t.bindFramebuffer(a.FRAMEBUFFER,Oe);const An=$n(Ae);Ae.isWebGLMultiviewRenderTarget===!0?An?I.framebufferTextureMultisampleMultiviewOVR(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,n.get(At).__webglTexture,0,zn(Ae),0,Ae.numViews):I.framebufferTextureMultiviewOVR(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,n.get(At).__webglTexture,0,0,Ae.numViews):(Rt===a.TEXTURE_2D||Rt>=a.TEXTURE_CUBE_MAP_POSITIVE_X&&Rt<=a.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&(An?h.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,St,Rt,n.get(At).__webglTexture,0,zn(Ae)):a.framebufferTexture2D(a.FRAMEBUFFER,St,Rt,n.get(At).__webglTexture,Bt)),t.bindFramebuffer(a.FRAMEBUFFER,null)}function nn(Oe,Ae,At){if(a.bindRenderbuffer(a.RENDERBUFFER,Oe),Ae.isWebGLMultiviewRenderTarget===!0){const St=$n(Ae),Rt=Ae.numViews,Bt=Ae.depthTexture;let Mn=a.DEPTH_COMPONENT24,Zt=a.DEPTH_ATTACHMENT;Bt&&Bt.isDepthTexture&&(Bt.type===tr?Mn=a.DEPTH_COMPONENT32F:Bt.type===Is&&(Mn=a.DEPTH24_STENCIL8,Zt=a.DEPTH_STENCIL_ATTACHMENT));let mn=n.get(Ae.depthTexture).__webglTexture;mn===void 0&&(mn=a.createTexture(),a.bindTexture(a.TEXTURE_2D_ARRAY,mn),a.texStorage3D(a.TEXTURE_2D_ARRAY,1,Mn,Ae.width,Ae.height,Rt)),St?I.framebufferTextureMultisampleMultiviewOVR(a.FRAMEBUFFER,Zt,mn,0,zn(Ae),0,Rt):I.framebufferTextureMultiviewOVR(a.FRAMEBUFFER,Zt,mn,0,0,Rt)}else if(Ae.depthBuffer&&!Ae.stencilBuffer){let St=a.DEPTH_COMPONENT24;if(At||$n(Ae)){const Rt=Ae.depthTexture;Rt&&Rt.isDepthTexture&&(Rt.type===tr?St=a.DEPTH_COMPONENT32F:Rt.type===Wr&&(St=a.DEPTH_COMPONENT24));const Bt=zn(Ae);$n(Ae)?h.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,Bt,St,Ae.width,Ae.height):a.renderbufferStorageMultisample(a.RENDERBUFFER,Bt,St,Ae.width,Ae.height)}else a.renderbufferStorage(a.RENDERBUFFER,St,Ae.width,Ae.height);a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,Oe)}else if(Ae.depthBuffer&&Ae.stencilBuffer){const St=zn(Ae);At&&$n(Ae)===!1?a.renderbufferStorageMultisample(a.RENDERBUFFER,St,a.DEPTH24_STENCIL8,Ae.width,Ae.height):$n(Ae)?h.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,St,a.DEPTH24_STENCIL8,Ae.width,Ae.height):a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,Ae.width,Ae.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,Oe)}else{const St=Ae.textures;for(let Rt=0;Rt<St.length;Rt++){const Bt=St[Rt],Mn=o.convert(Bt.format,Bt.colorSpace),Zt=o.convert(Bt.type),mn=Ge(Bt.internalFormat,Mn,Zt,Bt.colorSpace),ki=zn(Ae);At&&$n(Ae)===!1?a.renderbufferStorageMultisample(a.RENDERBUFFER,ki,mn,Ae.width,Ae.height):$n(Ae)?h.renderbufferStorageMultisampleEXT(a.RENDERBUFFER,ki,mn,Ae.width,Ae.height):a.renderbufferStorage(a.RENDERBUFFER,mn,Ae.width,Ae.height)}}a.bindRenderbuffer(a.RENDERBUFFER,null)}function et(Oe,Ae){if(Ae&&Ae.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(a.FRAMEBUFFER,Oe),!(Ae.depthTexture&&Ae.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(Ae.depthTexture).__webglTexture||Ae.depthTexture.image.width!==Ae.width||Ae.depthTexture.image.height!==Ae.height)&&(Ae.depthTexture.image.width=Ae.width,Ae.depthTexture.image.height=Ae.height,Ae.depthTexture.needsUpdate=!0),xt(Ae.depthTexture,0),Ae.depthTexture.image.depth!=1?Jt(Ae.depthTexture,0):xt(Ae.depthTexture,0);const St=n.get(Ae.depthTexture).__webglTexture,Rt=zn(Ae);if(Ae.isWebGLMultiviewRenderTarget===!0){const Bt=$n(Ae),Mn=Ae.numViews;if(Ae.depthTexture.format===st)Bt?I.framebufferTextureMultisampleMultiviewOVR(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,St,0,Rt,0,Mn):I.framebufferTextureMultiviewOVR(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,St,0,0,Mn);else if(Ae.depthTexture.format===bt)Bt?I.framebufferTextureMultisampleMultiviewOVR(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,St,0,Rt,0,Mn):I.framebufferTextureMultiviewOVR(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,St,0,0,Mn);else throw new Error("Unknown depthTexture format")}else if(Ae.depthTexture.format===st)$n(Ae)?h.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.TEXTURE_2D,St,0,Rt):a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.TEXTURE_2D,St,0);else if(Ae.depthTexture.format===bt)$n(Ae)?h.framebufferTexture2DMultisampleEXT(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,St,0,Rt):a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,St,0);else throw new Error("Unknown depthTexture format")}function Tt(Oe){const Ae=n.get(Oe),At=Oe.isWebGLCubeRenderTarget===!0;if(Oe.depthTexture&&!Ae.__autoAllocateDepthBuffer){if(At)throw new Error("target.depthTexture not supported in Cube render targets");et(Ae.__webglFramebuffer,Oe)}else if(At){Ae.__webglDepthbuffer=[];for(let St=0;St<6;St++)t.bindFramebuffer(a.FRAMEBUFFER,Ae.__webglFramebuffer[St]),Ae.__webglDepthbuffer[St]=a.createRenderbuffer(),nn(Ae.__webglDepthbuffer[St],Oe,!1)}else t.bindFramebuffer(a.FRAMEBUFFER,Ae.__webglFramebuffer),Ae.__webglDepthbuffer=a.createRenderbuffer(),nn(Ae.__webglDepthbuffer,Oe,!1);t.bindFramebuffer(a.FRAMEBUFFER,null)}function vt(Oe,Ae,At){const St=n.get(Oe);Ae!==void 0&&en(St.__webglFramebuffer,Oe,Oe.texture,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,0),At!==void 0&&Tt(Oe)}function zt(Oe){const Ae=Oe.texture,At=n.get(Oe),St=n.get(Ae);Oe.addEventListener("dispose",Ue);const Rt=Oe.textures,Bt=Oe.isWebGLCubeRenderTarget===!0,Mn=Rt.length>1;if(Mn||(St.__webglTexture===void 0&&(St.__webglTexture=a.createTexture()),St.__version=Ae.version,c.memory.textures++),Bt){At.__webglFramebuffer=[];for(let Zt=0;Zt<6;Zt++)if(Ae.mipmaps&&Ae.mipmaps.length>0){At.__webglFramebuffer[Zt]=[];for(let mn=0;mn<Ae.mipmaps.length;mn++)At.__webglFramebuffer[Zt][mn]=a.createFramebuffer()}else At.__webglFramebuffer[Zt]=a.createFramebuffer()}else{if(Ae.mipmaps&&Ae.mipmaps.length>0){At.__webglFramebuffer=[];for(let Zt=0;Zt<Ae.mipmaps.length;Zt++)At.__webglFramebuffer[Zt]=a.createFramebuffer()}else At.__webglFramebuffer=a.createFramebuffer();if(Mn)for(let Zt=0,mn=Rt.length;Zt<mn;Zt++){const ki=n.get(Rt[Zt]);ki.__webglTexture===void 0&&(ki.__webglTexture=a.createTexture(),c.memory.textures++)}if(Oe.samples>0&&$n(Oe)===!1){At.__webglMultisampledFramebuffer=a.createFramebuffer(),At.__webglColorRenderbuffer=[],t.bindFramebuffer(a.FRAMEBUFFER,At.__webglMultisampledFramebuffer);for(let Zt=0;Zt<Rt.length;Zt++){const mn=Rt[Zt];At.__webglColorRenderbuffer[Zt]=a.createRenderbuffer(),a.bindRenderbuffer(a.RENDERBUFFER,At.__webglColorRenderbuffer[Zt]);const ki=o.convert(mn.format,mn.colorSpace),An=o.convert(mn.type),In=Ge(mn.internalFormat,ki,An,mn.colorSpace,Oe.isXRRenderTarget===!0),si=zn(Oe);a.renderbufferStorageMultisample(a.RENDERBUFFER,si,In,Oe.width,Oe.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+Zt,a.RENDERBUFFER,At.__webglColorRenderbuffer[Zt])}a.bindRenderbuffer(a.RENDERBUFFER,null),Oe.depthBuffer&&(At.__webglDepthRenderbuffer=a.createRenderbuffer(),nn(At.__webglDepthRenderbuffer,Oe,!0)),t.bindFramebuffer(a.FRAMEBUFFER,null)}}if(Bt){t.bindTexture(a.TEXTURE_CUBE_MAP,St.__webglTexture),Bi(a.TEXTURE_CUBE_MAP,Ae);for(let Zt=0;Zt<6;Zt++)if(Ae.mipmaps&&Ae.mipmaps.length>0)for(let mn=0;mn<Ae.mipmaps.length;mn++)en(At.__webglFramebuffer[Zt][mn],Oe,Ae,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,mn);else en(At.__webglFramebuffer[Zt],Oe,Ae,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+Zt,0);ce(Ae)&&oe(a.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Mn){for(let Zt=0,mn=Rt.length;Zt<mn;Zt++){const ki=Rt[Zt],An=n.get(ki);t.bindTexture(a.TEXTURE_2D,An.__webglTexture),Bi(a.TEXTURE_2D,ki),en(At.__webglFramebuffer,Oe,ki,a.COLOR_ATTACHMENT0+Zt,a.TEXTURE_2D,0),ce(ki)&&oe(a.TEXTURE_2D)}t.unbindTexture()}else{let Zt=a.TEXTURE_2D;if((Oe.isWebGL3DRenderTarget||Oe.isWebGLArrayRenderTarget)&&(Zt=Oe.isWebGL3DRenderTarget?a.TEXTURE_3D:a.TEXTURE_2D_ARRAY),Oe.isWebGLMultiviewRenderTarget===!0&&(Zt=a.TEXTURE_2D_ARRAY),t.bindTexture(Zt,St.__webglTexture),Bi(Zt,Ae),Ae.mipmaps&&Ae.mipmaps.length>0)for(let mn=0;mn<Ae.mipmaps.length;mn++)en(At.__webglFramebuffer[mn],Oe,Ae,a.COLOR_ATTACHMENT0,Zt,mn);else en(At.__webglFramebuffer,Oe,Ae,a.COLOR_ATTACHMENT0,Zt,0);ce(Ae)&&oe(Zt),t.unbindTexture()}(Oe.depthBuffer||Oe.isWebGLMultiviewRenderTarget===!0)&&this.setupDepthRenderbuffer(Oe)}function Ht(Oe){const Ae=Oe.textures;for(let At=0,St=Ae.length;At<St;At++){const Rt=Ae[At];if(ce(Rt)){const Bt=Oe.isWebGLCubeRenderTarget?a.TEXTURE_CUBE_MAP:a.TEXTURE_2D,Mn=n.get(Rt).__webglTexture;t.bindTexture(Bt,Mn),oe(Bt),t.unbindTexture()}}}const Ft=[],on=[];function fn(Oe){if(Oe.samples>0){if($n(Oe)===!1){const Ae=Oe.textures,At=Oe.width,St=Oe.height;let Rt=a.COLOR_BUFFER_BIT;const Bt=Oe.stencilBuffer?a.DEPTH_STENCIL_ATTACHMENT:a.DEPTH_ATTACHMENT,Mn=n.get(Oe),Zt=Ae.length>1;if(Zt)for(let mn=0;mn<Ae.length;mn++)t.bindFramebuffer(a.FRAMEBUFFER,Mn.__webglMultisampledFramebuffer),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+mn,a.RENDERBUFFER,null),t.bindFramebuffer(a.FRAMEBUFFER,Mn.__webglFramebuffer),a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0+mn,a.TEXTURE_2D,null,0);t.bindFramebuffer(a.READ_FRAMEBUFFER,Mn.__webglMultisampledFramebuffer),t.bindFramebuffer(a.DRAW_FRAMEBUFFER,Mn.__webglFramebuffer);for(let mn=0;mn<Ae.length;mn++){if(Oe.resolveDepthBuffer&&(Oe.depthBuffer&&(Rt|=a.DEPTH_BUFFER_BIT),Oe.stencilBuffer&&Oe.resolveStencilBuffer&&(Rt|=a.STENCIL_BUFFER_BIT)),Zt){a.framebufferRenderbuffer(a.READ_FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.RENDERBUFFER,Mn.__webglColorRenderbuffer[mn]);const ki=n.get(Ae[mn]).__webglTexture;a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,ki,0)}a.blitFramebuffer(0,0,At,St,0,0,At,St,Rt,a.NEAREST),_===!0&&(Ft.length=0,on.length=0,Ft.push(a.COLOR_ATTACHMENT0+mn),Oe.depthBuffer&&Oe.resolveDepthBuffer===!1&&(Ft.push(Bt),on.push(Bt),a.invalidateFramebuffer(a.DRAW_FRAMEBUFFER,on)),a.invalidateFramebuffer(a.READ_FRAMEBUFFER,Ft))}if(t.bindFramebuffer(a.READ_FRAMEBUFFER,null),t.bindFramebuffer(a.DRAW_FRAMEBUFFER,null),Zt)for(let mn=0;mn<Ae.length;mn++){t.bindFramebuffer(a.FRAMEBUFFER,Mn.__webglMultisampledFramebuffer),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0+mn,a.RENDERBUFFER,Mn.__webglColorRenderbuffer[mn]);const ki=n.get(Ae[mn]).__webglTexture;t.bindFramebuffer(a.FRAMEBUFFER,Mn.__webglFramebuffer),a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0+mn,a.TEXTURE_2D,ki,0)}t.bindFramebuffer(a.DRAW_FRAMEBUFFER,Mn.__webglMultisampledFramebuffer)}else if(Oe.depthBuffer&&Oe.resolveDepthBuffer===!1&&_){const Ae=Oe.stencilBuffer?a.DEPTH_STENCIL_ATTACHMENT:a.DEPTH_ATTACHMENT;a.invalidateFramebuffer(a.DRAW_FRAMEBUFFER,[Ae])}}}function zn(Oe){return Math.min(s.maxSamples,Oe.samples)}function $n(Oe){const Ae=n.get(Oe);return Oe.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Ae.__useRenderToTexture!==!1}function Ii(Oe){const Ae=c.render.frame;U.get(Oe)!==Ae&&(U.set(Oe,Ae),Oe.update())}function mr(Oe,Ae){const At=Oe.colorSpace,St=Oe.format,Rt=Oe.type;return Oe.isCompressedTexture===!0||Oe.isVideoTexture===!0||At!==eo&&At!==Kr&&(Ti.getTransfer(At)===Vi?(St!==Pe||Rt!==er)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",At)),Ae}function $i(Oe){return typeof HTMLImageElement<"u"&&Oe instanceof HTMLImageElement?(O.width=Oe.naturalWidth||Oe.width,O.height=Oe.naturalHeight||Oe.height):typeof VideoFrame<"u"&&Oe instanceof VideoFrame?(O.width=Oe.displayWidth,O.height=Oe.displayHeight):(O.width=Oe.width,O.height=Oe.height),O}this.allocateTextureUnit=Ze,this.resetTextureUnits=ze,this.setTexture2D=xt,this.setTexture2DArray=Jt,this.setTexture3D=ht,this.setTextureCube=jt,this.rebindTextures=vt,this.uploadTexture=Cn,this.setupRenderTarget=zt,this.updateRenderTargetMipmap=Ht,this.updateMultisampleRenderTarget=fn,this.setupDepthTexture=et,this.setupDepthRenderbuffer=Tt,this.setupFrameBufferTexture=en,this.useMultisampledRTT=$n,this.runDeferredUploads=zi,this.setDeferTextureUploads=Si}function Zg(a,e){function t(n,s=Kr){let o;const c=Ti.getTransfer(s);if(n===er)return a.UNSIGNED_BYTE;if(n===yr)return a.UNSIGNED_SHORT_4_4_4_4;if(n===Io)return a.UNSIGNED_SHORT_5_5_5_1;if(n===na)return a.UNSIGNED_INT_5_9_9_9_REV;if(n===Qs)return a.BYTE;if(n===br)return a.SHORT;if(n===cs)return a.UNSIGNED_SHORT;if(n===Hs)return a.INT;if(n===Wr)return a.UNSIGNED_INT;if(n===tr)return a.FLOAT;if(n===Di)return a.HALF_FLOAT;if(n===fo)return a.ALPHA;if(n===Ee)return a.RGB;if(n===Pe)return a.RGBA;if(n===Ye)return a.LUMINANCE;if(n===ft)return a.LUMINANCE_ALPHA;if(n===st)return a.DEPTH_COMPONENT;if(n===bt)return a.DEPTH_STENCIL;if(n===Ot)return a.RED;if(n===gn)return a.RED_INTEGER;if(n===rn)return a.RG;if(n===yt)return a.RG_INTEGER;if(n===wn)return a.RGBA_INTEGER;if(n===Ln||n===Un||n===Pi||n===Zn)if(c===Vi)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(n===Ln)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Un)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Pi)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===Zn)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(n===Ln)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Un)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Pi)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Zn)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===Vn||n===fi||n===ji||n===Er)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(n===Vn)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===fi)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===ji)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Er)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===sn||n===ei||n===hr)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(n===sn||n===ei)return c===Vi?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(n===hr)return c===Vi?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===Ai||n===W||n===q||n===re||n===ue||n===Ce||n===Qe||n===We||n===wt||n===Et||n===tt||n===pt||n===Dt||n===ln)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(n===Ai)return c===Vi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===W)return c===Vi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===q)return c===Vi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===re)return c===Vi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===ue)return c===Vi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===Ce)return c===Vi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===Qe)return c===Vi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===We)return c===Vi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===wt)return c===Vi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Et)return c===Vi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===tt)return c===Vi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===pt)return c===Vi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Dt)return c===Vi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===ln)return c===Vi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===bn||n===Pn||n===Xn)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(n===bn)return c===Vi?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===Pn)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===Xn)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===Gn||n===kn||n===bi||n===Oi)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(n===bn)return o.COMPRESSED_RED_RGTC1_EXT;if(n===kn)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===bi)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===Oi)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===Is?a.UNSIGNED_INT_24_8:a[n]!==void 0?a[n]:null}return{convert:t}}class Ka extends Mi{constructor(){super(),this.isGroup=!0,this.type="Group"}}class Tp extends Pr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}var e0=new _e,t0=new _e;function A_(a,e,t){e0.setFromMatrixPosition(e.matrixWorld),t0.setFromMatrixPosition(t.matrixWorld);var n=e0.distanceTo(t0),s=e.projectionMatrix.elements,o=t.projectionMatrix.elements,c=s[14]/(s[10]-1),h=s[14]/(s[10]+1),_=(s[9]+1)/s[5],I=(s[9]-1)/s[5],O=(s[8]-1)/s[0],U=(o[8]+1)/o[0],N=c*O,Q=c*U,K=n/(-O+U),Z=K*-O;e.matrixWorld.decompose(a.position,a.quaternion,a.scale),a.translateX(Z),a.translateZ(K),a.matrixWorld.compose(a.position,a.quaternion,a.scale),a.matrixWorldInverse.copy(a.matrixWorld).invert();var Y=c+K,V=h+K,he=N-Z,ce=Q+(n-Z),oe=_*h/V*Y,Ge=I*h/V*Y;a.projectionMatrix.makePerspective(he,ce,oe,Ge,Y,V)}function n0(a){var e,t,n=this,s=null,o=null,c=null,h=[],_=new xn,I=new xn,O=1,U="local-floor";typeof window<"u"&&"VRFrameData"in window&&(o=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",oe,!1));var N=new xn,Q=new _i,K=new _e,Z=new Pr;Z.viewport=new Ci,Z.layers.enable(1);var Y=new Pr;Y.viewport=new Ci,Y.layers.enable(2);var V=new Tp([Z,Y]);V.layers.enable(1),V.layers.enable(2);var he=new Mt,ce;function oe(){var Ne=n.isPresenting=s!==null&&s.isPresenting===!0;if(Ne){var $e=s.getEyeParameters("left");e=2*$e.renderWidth*O,t=$e.renderHeight*O,ce=a.getPixelRatio(),a.getSize(he),a.setDrawingBufferSize(e,t,1),Z.viewport.set(0,0,e/2,t),Y.viewport.set(e/2,0,e/2,t),me.start(),n.dispatchEvent({type:"sessionstart"})}else n.enabled&&a.setDrawingBufferSize(he.width,he.height,ce),me.stop(),n.dispatchEvent({type:"sessionend"})}var Ge=[],Se=[];function Le(Ne){for(var $e=navigator.getGamepads&&navigator.getGamepads(),ze=0,Ze=$e.length;ze<Ze;ze++){var ct=$e[ze];if(ct&&(ct.id==="Daydream Controller"||ct.id==="Gear VR Controller"||ct.id==="Oculus Go Controller"||ct.id==="OpenVR Gamepad"||ct.id.startsWith("Oculus Touch")||ct.id.startsWith("HTC Vive Focus")||ct.id.startsWith("Spatial Controller"))){var xt=ct.hand;if(Ne===0&&(xt===""||xt==="right")||Ne===1&&xt==="left")return ct}}}function Ue(){for(var Ne=0;Ne<h.length;Ne++){var $e=h[Ne],ze=Le(Ne);if(ze!==void 0&&ze.pose!==void 0){if(ze.pose===null)return;var Ze=ze.pose;Ze.hasPosition===!1&&$e.position.set(.2,-.6,-.05),Ze.position!==null&&$e.position.fromArray(Ze.position),Ze.orientation!==null&&$e.quaternion.fromArray(Ze.orientation),$e.matrix.compose($e.position,$e.quaternion,$e.scale),$e.matrix.premultiply(_),$e.matrix.decompose($e.position,$e.quaternion,$e.scale),$e.matrixWorldNeedsUpdate=!0,$e.visible=!0;var ct=ze.id==="Daydream Controller"?0:1;Ge[Ne]===void 0&&(Ge[Ne]=!1),Ge[Ne]!==ze.buttons[ct].pressed&&(Ge[Ne]=ze.buttons[ct].pressed,Ge[Ne]===!0?$e.dispatchEvent({type:"selectstart"}):($e.dispatchEvent({type:"selectend"}),$e.dispatchEvent({type:"select"}))),ct=2,Se[Ne]===void 0&&(Se[Ne]=!1),ze.buttons[ct]!==void 0&&Se[Ne]!==ze.buttons[ct].pressed&&(Se[Ne]=ze.buttons[ct].pressed,Se[Ne]===!0?$e.dispatchEvent({type:"squeezestart"}):($e.dispatchEvent({type:"squeezeend"}),$e.dispatchEvent({type:"squeeze"})))}else $e.visible=!1}}function ye(Ne,$e){$e!==null&&$e.length===4&&Ne.set($e[0]*e,$e[1]*t,$e[2]*e,$e[3]*t)}this.enabled=!1,this.getController=function(Ne){var $e=h[Ne];return $e===void 0&&($e=new Ka,$e.matrixAutoUpdate=!1,$e.visible=!1,h[Ne]=$e),$e},this.getDevice=function(){return s},this.setDevice=function(Ne){Ne!==void 0&&(s=Ne),me.setContext(Ne)},this.setFramebufferScaleFactor=function(Ne){O=Ne},this.setReferenceSpaceType=function(Ne){U=Ne},this.setPoseTarget=function(Ne){Ne!==void 0&&(c=Ne)},this.cameraAutoUpdate=!0,this.updateCamera=function(Ne){var $e=U==="local-floor"?1.6:0;if(s.depthNear=Ne.near,s.depthFar=Ne.far,s.getFrameData(o),U==="local-floor"){var ze=s.stageParameters;ze?_.fromArray(ze.sittingToStandingTransform):_.makeTranslation(0,$e,0)}var Ze=o.pose,ct=c!==null?c:Ne;ct.matrix.copy(_),ct.matrix.decompose(ct.position,ct.quaternion,ct.scale),Ze.orientation!==null&&(Q.fromArray(Ze.orientation),ct.quaternion.multiply(Q)),Ze.position!==null&&(Q.setFromRotationMatrix(_),K.fromArray(Ze.position),K.applyQuaternion(Q),ct.position.add(K)),ct.updateMatrixWorld();for(var xt=ct.children,Jt=0,ht=xt.length;Jt<ht;Jt++)xt[Jt].updateMatrixWorld(!0);Z.near=Ne.near,Y.near=Ne.near,Z.far=Ne.far,Y.far=Ne.far,Z.matrixWorldInverse.fromArray(o.leftViewMatrix),Y.matrixWorldInverse.fromArray(o.rightViewMatrix),I.copy(_).invert(),U==="local-floor"&&(Z.matrixWorldInverse.multiply(I),Y.matrixWorldInverse.multiply(I));var jt=ct.parent;jt!==null&&(N.copy(jt.matrixWorld).invert(),Z.matrixWorldInverse.multiply(N),Y.matrixWorldInverse.multiply(N)),Z.matrixWorld.copy(Z.matrixWorldInverse).invert(),Y.matrixWorld.copy(Y.matrixWorldInverse).invert(),Z.projectionMatrix.fromArray(o.leftProjectionMatrix),Y.projectionMatrix.fromArray(o.rightProjectionMatrix),A_(V,Z,Y);var $t=s.getLayers();if($t.length){var yn=$t[0];ye(Z.viewport,yn.leftBounds),ye(Y.viewport,yn.rightBounds)}return Ue(),V},this.getCamera=function(){return V},this.getFoveation=function(){return 1},this.setFoveation=function(Ne){Ne!==1&&console.warn("THREE.WebVRManager: setFoveation() not used in WebVR.")},this.getEnvironmentBlendMode=function(){if(n.isPresenting)return"opaque"},this.getStandingMatrix=function(){return _},this.isPresenting=!1;var me=new Ap;this.setAnimationLoop=function(Ne){me.setAnimationLoop(Ne),this.isPresenting&&me.start()},this.submitFrame=function(){this.isPresenting&&s.submitFrame()},this.dispose=function(){typeof window<"u"&&window.removeEventListener("vrdisplaypresentchange",oe)},this.setFrameOfReferenceType=function(){console.warn("THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.")}}Object.assign(n0.prototype,{addEventListener:ds.prototype.addEventListener,hasEventListener:ds.prototype.hasEventListener,removeEventListener:ds.prototype.removeEventListener,dispatchEvent:ds.prototype.dispatchEvent});class i0 extends ys{constructor(e,t,n,s={}){super(e,t,s),this.depthBuffer=!1,this.stencilBuffer=!1,this.numViews=n}copy(e){return super.copy(e),this.numViews=e.numViews,this}}i0.prototype.isWebGLMultiviewRenderTarget=!0;const g_={type:"move"};class Bp{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ka,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ka,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new _e,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new _e),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ka,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new _e,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new _e),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let s=null,o=null,c=null;const h=this._targetRay,_=this._grip,I=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(I&&e.hand){c=!0;for(const Z of e.hand.values()){const Y=t.getJointPose(Z,n),V=this._getHandJoint(I,Z);Y!==null&&(V.matrix.fromArray(Y.transform.matrix),V.matrix.decompose(V.position,V.rotation,V.scale),V.matrixWorldNeedsUpdate=!0,V.jointRadius=Y.radius),V.visible=Y!==null}const O=I.joints["index-finger-tip"],U=I.joints["thumb-tip"],N=O.position.distanceTo(U.position),Q=.02,K=.005;I.inputState.pinching&&N>Q+K?(I.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!I.inputState.pinching&&N<=Q-K&&(I.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else _!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,n),o!==null&&(_.matrix.fromArray(o.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.matrixWorldNeedsUpdate=!0,o.linearVelocity?(_.hasLinearVelocity=!0,_.linearVelocity.copy(o.linearVelocity)):_.hasLinearVelocity=!1,o.angularVelocity?(_.hasAngularVelocity=!0,_.angularVelocity.copy(o.angularVelocity)):_.hasAngularVelocity=!1));h!==null&&(s=t.getPose(e.targetRaySpace,n),s===null&&o!==null&&(s=o),s!==null&&(h.matrix.fromArray(s.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,s.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(s.linearVelocity)):h.hasLinearVelocity=!1,s.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(s.angularVelocity)):h.hasAngularVelocity=!1,this.dispatchEvent(g_)))}return h!==null&&(h.visible=s!==null),_!==null&&(_.visible=o!==null),I!==null&&(I.visible=c!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new Ka;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}const v_="\nvoid main() {\n\n	gl_Position = vec4( position, 1.0 );\n\n}",b_="\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n	if ( coord.x >= 1.0 ) {\n\n		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n	} else {\n\n		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n	}\n\n}";class y_{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(this.texture===null){const s=new Ki,o=e.properties.get(s);o.__webglTexture=t.texture,(t.depthNear!=n.depthNear||t.depthFar!=n.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=s}}render(e,t){if(this.texture!==null){if(this.mesh===null){const n=t.cameras[0].viewport,s=new no({vertexShader:v_,fragmentShader:b_,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Tr(new Ql(20,20),s)}e.render(this.mesh,t)}}reset(){this.texture=null,this.mesh=null}}class E_ extends ds{constructor(e,t,n,s){super();const o=this;let c=null,h=1;var _=null;let I=null,O="local-floor",U=1,N=null,Q=null;var K=[];let Z=null,Y=null,V=null,he=null;const ce=new y_,oe=t.getContextAttributes();let Ge=null,Se=null;const Le=[],Ue=[],ye=new Mt;let me=null;const Ne=new Pr;Ne.layers.enable(1),Ne.viewport=new Ci;const $e=new Pr;$e.layers.enable(2),$e.viewport=new Ci;const ze=[Ne,$e],Ze=new Tp;Ze.layers.enable(1),Ze.layers.enable(2);let ct=null,xt=null;this.cameraAutoUpdate=!0,this.layersEnabled=!1,this.enabled=!1,this.isPresenting=!1,this.isMultiview=!1,this.getCameraPose=function(){return Q},this.getController=function(It){let en=Le[It];return en===void 0&&(en=new Bp,Le[It]=en),en.getTargetRaySpace()},this.getControllerGrip=function(It){let en=Le[It];return en===void 0&&(en=new Bp,Le[It]=en),en.getGripSpace()},this.getHand=function(It){let en=Le[It];return en===void 0&&(en=new Bp,Le[It]=en),en.getHandSpace()};function Jt(It){const en=Ue.indexOf(It.inputSource);if(en===-1)return;const nn=Le[en];nn!==void 0&&(nn.update(It.inputSource,It.frame,N||I),nn.dispatchEvent({type:It.type,data:It.inputSource}))}function ht(){c.removeEventListener("select",Jt),c.removeEventListener("selectstart",Jt),c.removeEventListener("selectend",Jt),c.removeEventListener("squeeze",Jt),c.removeEventListener("squeezestart",Jt),c.removeEventListener("squeezeend",Jt),c.removeEventListener("end",ht),c.removeEventListener("inputsourceschange",jt);for(let It=0;It<Le.length;It++){const en=Ue[It];en!==null&&(Ue[It]=null,Le[It].disconnect(en))}ct=null,xt=null,ce.reset(),e.setRenderTarget(Ge),V=null,Y=null,Z=null,c=null,Se=null,Cn.stop(),o.isPresenting=!1,e.setPixelRatio(me),e.setSize(ye.width,ye.height,!1),o.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(It){h=It,o.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(It){O=It,o.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return N||I},this.setReferenceSpace=function(It){N=It},this.getBaseLayer=function(){return Y!==null?Y:V},this.getBinding=function(){return Z},this.getFrame=function(){return he},this.getSession=function(){return c},this.setSession=async function(It){if(c=It,c!==null){if(Ge=e.getRenderTarget(),c.addEventListener("select",Jt),c.addEventListener("selectstart",Jt),c.addEventListener("selectend",Jt),c.addEventListener("squeeze",Jt),c.addEventListener("squeezestart",Jt),c.addEventListener("squeezeend",Jt),c.addEventListener("end",ht),c.addEventListener("inputsourceschange",jt),oe.xrCompatible!==!0&&await t.makeXRCompatible(),me=e.getPixelRatio(),e.getSize(ye),c.renderState.layers===void 0){const en={antialias:oe.antialias,alpha:!0,depth:oe.depth,stencil:oe.stencil,framebufferScaleFactor:h};V=new XRWebGLLayer(c,t,en),c.updateRenderState({baseLayer:V}),e.setPixelRatio(1),e.setSize(V.framebufferWidth,V.framebufferHeight,!1),Se=new ys(V.framebufferWidth,V.framebufferHeight,{format:Pe,type:er,colorSpace:e.outputColorSpace,stencilBuffer:oe.stencil})}else{let en=null,nn=null,et=null;oe.depth&&(et=oe.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,en=oe.stencil?bt:st,nn=oe.stencil?Is:Wr),o.isMultiview=s&&n.has("OCULUS_multiview");const Tt={colorFormat:t.RGBA8,depthFormat:et,scaleFactor:h};o.isMultiview&&(Tt.textureType="texture-array"),Z=new XRWebGLBinding(c,t),Y=Z.createProjectionLayer(Tt),c.updateRenderState({layers:[Y]}),e.setPixelRatio(1),e.setSize(Y.textureWidth,Y.textureHeight,!1);const vt={format:Pe,type:er,depthTexture:new wp(Y.textureWidth,Y.textureHeight,nn,void 0,void 0,void 0,void 0,void 0,void 0,en),stencilBuffer:oe.stencil,colorSpace:e.outputColorSpace,samples:oe.antialias?4:0,resolveDepthBuffer:Y.ignoreDepthValues===!1};if(o.isMultiview){const zt=n.get("OCULUS_multiview");this.maxNumViews=t.getParameter(zt.MAX_VIEWS_OVR),Se=new i0(Y.textureWidth,Y.textureHeight,2,vt)}else Se=new ys(Y.textureWidth,Y.textureHeight,vt)}Se.isXRRenderTarget=!0,this.setFoveation(U),N=null,I=await c.requestReferenceSpace(O),Cn.setContext(c),Cn.start(),o.isPresenting=!0,o.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(c!==null)return c.environmentBlendMode},this.addLayer=function(It){!window.XRWebGLBinding||!this.layersEnabled||!c||(K.push(It),this.updateLayers())},this.removeLayer=function(It){K.splice(K.indexOf(It),1),!(!window.XRWebGLBinding||!this.layersEnabled||!c)&&this.updateLayers()},this.updateLayers=function(){var It=K.map(function(en){return en});It.unshift(c.renderState.layers[0]),c.updateRenderState({layers:It})};function jt(It){for(let en=0;en<It.removed.length;en++){const nn=It.removed[en],et=Ue.indexOf(nn);et>=0&&(Ue[et]=null,Le[et].disconnect(nn))}for(let en=0;en<It.added.length;en++){const nn=It.added[en];let et=Ue.indexOf(nn);if(et===-1){for(let vt=0;vt<Le.length;vt++)if(vt>=Ue.length){Ue.push(nn),et=vt;break}else if(Ue[vt]===null){Ue[vt]=nn,et=vt;break}if(et===-1)break}const Tt=Le[et];Tt&&Tt.connect(nn)}}const $t=new _e,yn=new _e;function li(It,en,nn){$t.setFromMatrixPosition(en.matrixWorld),yn.setFromMatrixPosition(nn.matrixWorld);const et=$t.distanceTo(yn),Tt=en.projectionMatrix.elements,vt=nn.projectionMatrix.elements,zt=Tt[14]/(Tt[10]-1),Ht=Tt[14]/(Tt[10]+1),Ft=(Tt[9]+1)/Tt[5],on=(Tt[9]-1)/Tt[5],fn=(Tt[8]-1)/Tt[0],zn=(vt[8]+1)/vt[0],$n=zt*fn,Ii=zt*zn,mr=et/(-fn+zn),$i=mr*-fn;en.matrixWorld.decompose(It.position,It.quaternion,It.scale),It.translateX($i),It.translateZ(mr),It.matrixWorld.compose(It.position,It.quaternion,It.scale),It.matrixWorldInverse.copy(It.matrixWorld).invert();const Oe=zt+mr,Ae=Ht+mr,At=$n-$i,St=Ii+(et-$i),Rt=Ft*Ht/Ae*Oe,Bt=on*Ht/Ae*Oe;It.projectionMatrix.makePerspective(At,St,Rt,Bt,Oe,Ae),It.projectionMatrixInverse.copy(It.projectionMatrix).invert()}function Bi(It,en){en===null?It.matrixWorld.copy(It.matrix):It.matrixWorld.multiplyMatrices(en.matrixWorld,It.matrix),It.matrixWorldInverse.copy(It.matrixWorld).invert()}this.setPoseTarget=function(It){It!==void 0&&(_=It)},this.updateCamera=function(It){if(c===null)return;ce.texture!==null&&(It.near=ce.depthNear,It.far=ce.depthFar),Ze.near=$e.near=Ne.near=It.near,Ze.far=$e.far=Ne.far=It.far,(ct!==Ze.near||xt!==Ze.far)&&(c.updateRenderState({depthNear:Ze.near,depthFar:Ze.far}),ct=Ze.near,xt=Ze.far,Ne.near=ct,Ne.far=xt,$e.near=ct,$e.far=xt,Ne.updateProjectionMatrix(),$e.updateProjectionMatrix(),It.updateProjectionMatrix());const en=Ze.cameras;var nn=_||It;const et=nn.parent;Bi(Ze,et);for(let Tt=0;Tt<en.length;Tt++)Bi(en[Tt],et);en.length===2?li(Ze,Ne,$e):Ze.projectionMatrix.copy(Ne.projectionMatrix),Yi(It,Ze,nn)};function Yi(It,en,nn){en.matrixWorld.decompose(en.position,en.quaternion,en.scale),nn.parent===null?nn.matrix.copy(en.matrixWorld):(nn.matrix.copy(nn.parent.matrixWorld),nn.matrix.invert(),nn.matrix.multiply(en.matrixWorld)),nn.matrix.decompose(nn.position,nn.quaternion,nn.scale),nn.updateMatrixWorld(!0),It.projectionMatrix.copy(en.projectionMatrix),It.projectionMatrixInverse.copy(en.projectionMatrixInverse),It.isPerspectiveCamera&&(It.fov=ia*2*Math.atan(1/It.projectionMatrix.elements[5]),It.zoom=1)}this.getCamera=function(){return Ze},this.getFoveation=function(){if(!(Y===null&&V===null))return U},this.setFoveation=function(It){U=It,Y!==null&&(Y.fixedFoveation=It),V!==null&&V.fixedFoveation!==void 0&&(V.fixedFoveation=It)},this.hasDepthSensing=function(){return ce.texture!==null};let Si=null;function zi(It,en){if(Q=en.getViewerPose(N||I),he=en,Q!==null){const nn=Q.views;V!==null&&(e.setRenderTargetFramebuffer(Se,V.framebuffer),e.setRenderTarget(Se));let et=!1;nn.length!==Ze.cameras.length&&(Ze.cameras.length=0,et=!0);for(let vt=0;vt<nn.length;vt++){const zt=nn[vt];let Ht=null;if(V!==null)Ht=V.getViewport(zt);else{const on=Z.getViewSubImage(Y,zt);Ht=on.viewport,vt===0&&(e.setRenderTargetTextures(Se,on.colorTexture,Y.ignoreDepthValues?void 0:on.depthStencilTexture),e.setRenderTarget(Se))}let Ft=ze[vt];Ft===void 0&&(Ft=new Pr,Ft.layers.enable(vt),Ft.viewport=new Ci,ze[vt]=Ft),Ft.matrix.fromArray(zt.transform.matrix),Ft.matrix.decompose(Ft.position,Ft.quaternion,Ft.scale),Ft.projectionMatrix.fromArray(zt.projectionMatrix),Ft.projectionMatrixInverse.copy(Ft.projectionMatrix).invert(),Ft.viewport.set(Ht.x,Ht.y,Ht.width,Ht.height),vt===0&&(Ze.matrix.copy(Ft.matrix),Ze.matrix.decompose(Ze.position,Ze.quaternion,Ze.scale)),et===!0&&Ze.cameras.push(Ft)}const Tt=c.enabledFeatures;if(Tt&&Tt.includes("depth-sensing")){const vt=Z.getDepthInformation(nn[0]);vt&&vt.isValid&&vt.texture&&ce.init(e,vt,c.renderState)}}for(let nn=0;nn<Le.length;nn++){const et=Ue[nn],Tt=Le[nn];et!==null&&Tt!==void 0&&Tt.update(et,en,N||I)}ce.render(e,Ze),Si&&Si(It,en),en.detectedPlanes&&o.dispatchEvent({type:"planesdetected",data:en}),he=null}const Cn=new Ap;Cn.setAnimationLoop(zi),this.setAnimationLoop=function(It){Si=It},this.dispose=function(){}}}const Xa=new Ds,x_=new xn;function C_(a,e){function t(Y,V){Y.matrixAutoUpdate===!0&&Y.updateMatrix(),V.value.copy(Y.matrix)}function n(Y,V){V.color.getRGB(Y.fogColor.value,Eg(a)),V.isFog?(Y.fogNear.value=V.near,Y.fogFar.value=V.far):V.isFogExp2&&(Y.fogDensity.value=V.density)}function s(Y,V,he,ce,oe){V.isMeshBasicMaterial||V.isMeshLambertMaterial?o(Y,V):V.isMeshToonMaterial?(o(Y,V),U(Y,V)):V.isMeshPhongMaterial?(o(Y,V),O(Y,V)):V.isMeshStandardMaterial?(o(Y,V),N(Y,V),V.isMeshPhysicalMaterial&&Q(Y,V,oe)):V.isMeshMatcapMaterial?(o(Y,V),K(Y,V)):V.isMeshDepthMaterial?o(Y,V):V.isMeshDistanceMaterial?(o(Y,V),Z(Y,V)):V.isMeshNormalMaterial?o(Y,V):V.isLineBasicMaterial?(c(Y,V),V.isLineDashedMaterial&&h(Y,V)):V.isPointsMaterial?_(Y,V,he,ce):V.isSpriteMaterial?I(Y,V):V.isShadowMaterial?(Y.color.value.copy(V.color),Y.opacity.value=V.opacity):V.isShaderMaterial&&(V.uniformsNeedUpdate=!1)}function o(Y,V){Y.opacity.value=V.opacity,V.color&&Y.diffuse.value.copy(V.color),V.emissive&&Y.emissive.value.copy(V.emissive).multiplyScalar(V.emissiveIntensity),V.map&&(Y.map.value=V.map,t(V.map,Y.mapTransform)),V.alphaMap&&(Y.alphaMap.value=V.alphaMap,t(V.alphaMap,Y.alphaMapTransform)),V.bumpMap&&(Y.bumpMap.value=V.bumpMap,t(V.bumpMap,Y.bumpMapTransform),Y.bumpScale.value=V.bumpScale,V.side===T&&(Y.bumpScale.value*=-1)),V.normalMap&&(Y.normalMap.value=V.normalMap,t(V.normalMap,Y.normalMapTransform),Y.normalScale.value.copy(V.normalScale),V.side===T&&Y.normalScale.value.negate()),V.displacementMap&&(Y.displacementMap.value=V.displacementMap,t(V.displacementMap,Y.displacementMapTransform),Y.displacementScale.value=V.displacementScale,Y.displacementBias.value=V.displacementBias),V.emissiveMap&&(Y.emissiveMap.value=V.emissiveMap,t(V.emissiveMap,Y.emissiveMapTransform)),V.specularMap&&(Y.specularMap.value=V.specularMap,t(V.specularMap,Y.specularMapTransform)),V.alphaTest>0&&(Y.alphaTest.value=V.alphaTest);const he=e.get(V),ce=he.envMap,oe=he.envMapRotation;if(ce&&(Y.envMap.value=ce,Xa.copy(oe),Xa.x*=-1,Xa.y*=-1,Xa.z*=-1,ce.isCubeTexture&&ce.isRenderTargetTexture===!1&&(Xa.y*=-1,Xa.z*=-1),Y.envMapRotation.value.setFromMatrix4(x_.makeRotationFromEuler(Xa)),Y.flipEnvMap.value=ce.isCubeTexture&&ce.isRenderTargetTexture===!1?-1:1,Y.reflectivity.value=V.reflectivity,Y.ior.value=V.ior,Y.refractionRatio.value=V.refractionRatio),V.lightMap){Y.lightMap.value=V.lightMap;const Ge=a._useLegacyLights===!0?Math.PI:1;Y.lightMapIntensity.value=V.lightMapIntensity*Ge,t(V.lightMap,Y.lightMapTransform)}V.aoMap&&(Y.aoMap.value=V.aoMap,Y.aoMapIntensity.value=V.aoMapIntensity,t(V.aoMap,Y.aoMapTransform))}function c(Y,V){Y.diffuse.value.copy(V.color),Y.opacity.value=V.opacity,V.map&&(Y.map.value=V.map,t(V.map,Y.mapTransform))}function h(Y,V){Y.dashSize.value=V.dashSize,Y.totalSize.value=V.dashSize+V.gapSize,Y.scale.value=V.scale}function _(Y,V,he,ce){Y.diffuse.value.copy(V.color),Y.opacity.value=V.opacity,Y.size.value=V.size*he,Y.scale.value=ce*.5,V.map&&(Y.map.value=V.map,t(V.map,Y.uvTransform)),V.alphaMap&&(Y.alphaMap.value=V.alphaMap,t(V.alphaMap,Y.alphaMapTransform)),V.alphaTest>0&&(Y.alphaTest.value=V.alphaTest)}function I(Y,V){Y.diffuse.value.copy(V.color),Y.opacity.value=V.opacity,Y.rotation.value=V.rotation,V.map&&(Y.map.value=V.map,t(V.map,Y.mapTransform)),V.alphaMap&&(Y.alphaMap.value=V.alphaMap,t(V.alphaMap,Y.alphaMapTransform)),V.alphaTest>0&&(Y.alphaTest.value=V.alphaTest)}function O(Y,V){Y.specular.value.copy(V.specular),Y.shininess.value=Math.max(V.shininess,1e-4)}function U(Y,V){V.gradientMap&&(Y.gradientMap.value=V.gradientMap)}function N(Y,V){Y.metalness.value=V.metalness,V.metalnessMap&&(Y.metalnessMap.value=V.metalnessMap,t(V.metalnessMap,Y.metalnessMapTransform)),Y.roughness.value=V.roughness,V.roughnessMap&&(Y.roughnessMap.value=V.roughnessMap,t(V.roughnessMap,Y.roughnessMapTransform)),V.envMap&&(Y.envMapIntensity.value=V.envMapIntensity)}function Q(Y,V,he){Y.ior.value=V.ior,V.sheen>0&&(Y.sheenColor.value.copy(V.sheenColor).multiplyScalar(V.sheen),Y.sheenRoughness.value=V.sheenRoughness,V.sheenColorMap&&(Y.sheenColorMap.value=V.sheenColorMap,t(V.sheenColorMap,Y.sheenColorMapTransform)),V.sheenRoughnessMap&&(Y.sheenRoughnessMap.value=V.sheenRoughnessMap,t(V.sheenRoughnessMap,Y.sheenRoughnessMapTransform))),V.clearcoat>0&&(Y.clearcoat.value=V.clearcoat,Y.clearcoatRoughness.value=V.clearcoatRoughness,V.clearcoatMap&&(Y.clearcoatMap.value=V.clearcoatMap,t(V.clearcoatMap,Y.clearcoatMapTransform)),V.clearcoatRoughnessMap&&(Y.clearcoatRoughnessMap.value=V.clearcoatRoughnessMap,t(V.clearcoatRoughnessMap,Y.clearcoatRoughnessMapTransform)),V.clearcoatNormalMap&&(Y.clearcoatNormalMap.value=V.clearcoatNormalMap,t(V.clearcoatNormalMap,Y.clearcoatNormalMapTransform),Y.clearcoatNormalScale.value.copy(V.clearcoatNormalScale),V.side===T&&Y.clearcoatNormalScale.value.negate())),V.dispersion>0&&(Y.dispersion.value=V.dispersion),V.iridescence>0&&(Y.iridescence.value=V.iridescence,Y.iridescenceIOR.value=V.iridescenceIOR,Y.iridescenceThicknessMinimum.value=V.iridescenceThicknessRange[0],Y.iridescenceThicknessMaximum.value=V.iridescenceThicknessRange[1],V.iridescenceMap&&(Y.iridescenceMap.value=V.iridescenceMap,t(V.iridescenceMap,Y.iridescenceMapTransform)),V.iridescenceThicknessMap&&(Y.iridescenceThicknessMap.value=V.iridescenceThicknessMap,t(V.iridescenceThicknessMap,Y.iridescenceThicknessMapTransform))),V.transmission>0&&(Y.transmission.value=V.transmission,Y.transmissionSamplerMap.value=he.texture,Y.transmissionSamplerSize.value.set(he.width,he.height),V.transmissionMap&&(Y.transmissionMap.value=V.transmissionMap,t(V.transmissionMap,Y.transmissionMapTransform)),Y.thickness.value=V.thickness,V.thicknessMap&&(Y.thicknessMap.value=V.thicknessMap,t(V.thicknessMap,Y.thicknessMapTransform)),Y.attenuationDistance.value=V.attenuationDistance,Y.attenuationColor.value.copy(V.attenuationColor)),V.anisotropy>0&&(Y.anisotropyVector.value.set(V.anisotropy*Math.cos(V.anisotropyRotation),V.anisotropy*Math.sin(V.anisotropyRotation)),V.anisotropyMap&&(Y.anisotropyMap.value=V.anisotropyMap,t(V.anisotropyMap,Y.anisotropyMapTransform))),Y.specularIntensity.value=V.specularIntensity,Y.specularColor.value.copy(V.specularColor),V.specularColorMap&&(Y.specularColorMap.value=V.specularColorMap,t(V.specularColorMap,Y.specularColorMapTransform)),V.specularIntensityMap&&(Y.specularIntensityMap.value=V.specularIntensityMap,t(V.specularIntensityMap,Y.specularIntensityMapTransform))}function K(Y,V){V.matcap&&(Y.matcap.value=V.matcap)}function Z(Y,V){const he=e.get(V).light;Y.referencePosition.value.setFromMatrixPosition(he.matrixWorld),Y.nearDistance.value=he.shadow.camera.near,Y.farDistance.value=he.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:s}}function w_(a,e,t,n){let s={},o={},c=[];const h=a.getParameter(a.MAX_UNIFORM_BUFFER_BINDINGS);function _(he,ce){const oe=ce.program;n.uniformBlockBinding(he,oe)}function I(he,ce){let oe=s[he.id];oe===void 0&&(K(he),oe=O(he),s[he.id]=oe,he.addEventListener("dispose",Y));const Ge=ce.program;n.updateUBOMapping(he,Ge);const Se=e.render.frame;o[he.id]!==Se&&(N(he),o[he.id]=Se)}function O(he){const ce=U();he.__bindingPointIndex=ce;const oe=a.createBuffer(),Ge=he.__size,Se=he.usage;return a.bindBuffer(a.UNIFORM_BUFFER,oe),a.bufferData(a.UNIFORM_BUFFER,Ge,Se),a.bindBuffer(a.UNIFORM_BUFFER,null),a.bindBufferBase(a.UNIFORM_BUFFER,ce,oe),oe}function U(){for(let he=0;he<h;he++)if(c.indexOf(he)===-1)return c.push(he),he;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function N(he){const ce=s[he.id],oe=he.uniforms,Ge=he.__cache;a.bindBuffer(a.UNIFORM_BUFFER,ce);for(let Se=0,Le=oe.length;Se<Le;Se++){const Ue=Array.isArray(oe[Se])?oe[Se]:[oe[Se]];for(let ye=0,me=Ue.length;ye<me;ye++){const Ne=Ue[ye];if(Q(Ne,Se,ye,Ge)===!0){const $e=Ne.__offset,ze=Array.isArray(Ne.value)?Ne.value:[Ne.value];let Ze=0;for(let ct=0;ct<ze.length;ct++){const xt=ze[ct],Jt=Z(xt);typeof xt=="number"||typeof xt=="boolean"?(Ne.__data[0]=xt,a.bufferSubData(a.UNIFORM_BUFFER,$e+Ze,Ne.__data)):xt.isMatrix3?(Ne.__data[0]=xt.elements[0],Ne.__data[1]=xt.elements[1],Ne.__data[2]=xt.elements[2],Ne.__data[3]=0,Ne.__data[4]=xt.elements[3],Ne.__data[5]=xt.elements[4],Ne.__data[6]=xt.elements[5],Ne.__data[7]=0,Ne.__data[8]=xt.elements[6],Ne.__data[9]=xt.elements[7],Ne.__data[10]=xt.elements[8],Ne.__data[11]=0):(xt.toArray(Ne.__data,Ze),Ze+=Jt.storage/Float32Array.BYTES_PER_ELEMENT)}a.bufferSubData(a.UNIFORM_BUFFER,$e,Ne.__data)}}}a.bindBuffer(a.UNIFORM_BUFFER,null)}function Q(he,ce,oe,Ge){const Se=he.value,Le=ce+"_"+oe;if(Ge[Le]===void 0)return typeof Se=="number"||typeof Se=="boolean"?Ge[Le]=Se:Ge[Le]=Se.clone(),!0;{const Ue=Ge[Le];if(typeof Se=="number"||typeof Se=="boolean"){if(Ue!==Se)return Ge[Le]=Se,!0}else if(Ue.equals(Se)===!1)return Ue.copy(Se),!0}return!1}function K(he){const ce=he.uniforms;let oe=0;const Ge=16;for(let Le=0,Ue=ce.length;Le<Ue;Le++){const ye=Array.isArray(ce[Le])?ce[Le]:[ce[Le]];for(let me=0,Ne=ye.length;me<Ne;me++){const $e=ye[me],ze=Array.isArray($e.value)?$e.value:[$e.value];for(let Ze=0,ct=ze.length;Ze<ct;Ze++){const xt=ze[Ze],Jt=Z(xt),ht=oe%Ge;ht!==0&&Ge-ht<Jt.boundary&&(oe+=Ge-ht),$e.__data=new Float32Array(Jt.storage/Float32Array.BYTES_PER_ELEMENT),$e.__offset=oe,oe+=Jt.storage}}}const Se=oe%Ge;return Se>0&&(oe+=Ge-Se),he.__size=oe,he.__cache={},this}function Z(he){const ce={boundary:0,storage:0};return typeof he=="number"||typeof he=="boolean"?(ce.boundary=4,ce.storage=4):he.isVector2?(ce.boundary=8,ce.storage=8):he.isVector3||he.isColor?(ce.boundary=16,ce.storage=12):he.isVector4?(ce.boundary=16,ce.storage=16):he.isMatrix3?(ce.boundary=48,ce.storage=48):he.isMatrix4?(ce.boundary=64,ce.storage=64):he.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",he),ce}function Y(he){const ce=he.target;ce.removeEventListener("dispose",Y);const oe=c.indexOf(ce.__bindingPointIndex);c.splice(oe,1),a.deleteBuffer(s[ce.id]),delete s[ce.id],delete o[ce.id]}function V(){for(const he in s)a.deleteBuffer(s[he]);c=[],s={},o={}}return{bind:_,update:I,dispose:V}}class __{constructor(e={}){const{canvas:t=Kd(),context:n=null,depth:s=!0,stencil:o=!1,alpha:c=!1,antialias:h=!1,premultipliedAlpha:_=!0,preserveDrawingBuffer:I=!1,powerPreference:O="default",failIfMajorPerformanceCaveat:U=!1,multiviewStereo:N=!1}=e;this.isWebGLRenderer=!0;let Q;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");Q=n.getContextAttributes().alpha}else Q=c;const K=new Uint32Array(4),Z=new Int32Array(4);let Y=null,V=null;const he=[],ce=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=yi,this._useLegacyLights=!1,this.toneMapping=Xt,this.toneMappingExposure=1;const oe=this;let Ge=!1,Se=0,Le=0,Ue=null,ye=-1,me=null;const Ne=new Ci,$e=new Ci;let ze=null;const Ze=new pn(0);let ct=0,xt=t.width,Jt=t.height,ht=1,jt=null,$t=null;const yn=new Ci(0,0,xt,Jt),li=new Ci(0,0,xt,Jt);let Bi=!1;const Yi=new Lc;let Si=!1,zi=!1;const Cn=new xn,It=new _e,en={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function nn(){return Ue===null?ht:1}let et=n;function Tt(we,nt){return t.getContext(we,nt)}try{const we={alpha:!0,depth:s,stencil:o,antialias:h,premultipliedAlpha:_,preserveDrawingBuffer:I,powerPreference:O,failIfMajorPerformanceCaveat:U};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r".concat(p)),t.addEventListener("webglcontextlost",qt,!1),t.addEventListener("webglcontextrestored",Sn,!1),t.addEventListener("webglcontextcreationerror",dn,!1),et===null){const nt="webgl2";if(et=Tt(nt,we),et===null)throw Tt(nt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(we){throw console.error("THREE.WebGLRenderer: "+we.message),we}let vt,zt,Ht,Ft,on,fn,zn,$n,Ii,mr,$i,Oe,Ae,At,St,Rt,Bt,Mn,Zt,mn,ki,An,In,si,Nn;function He(){vt=new OC(et),vt.init(),In=new Zg(et,vt),zt=new TC(et,vt,e,In),Ht=new p_(et),Ft=new UC(et),on=new n_,fn=new m_(et,vt,Ht,on,zt,In,Ft),zn=new RC(oe),$n=new PC(oe),Ii=new _2(et),si=new SC(et,Ii),mr=new kC(et,Ii,Ft,si),$i=new QC(et,mr,Ii,Ft),mn=new NC(et,zt,fn),Rt=new BC(on),Oe=new t_(oe,zn,$n,vt,zt,si,Rt),Ae=new C_(oe,on),At=new r_,St=new d_(vt),Zt=new MC(oe,zn,$n,Ht,$i,Q,_),Mn=new GC(oe,vt,et),Bt=new f_(oe,$i,zt),Nn=new w_(et,Ft,zt,Ht),ki=new IC(et,vt,Ft),An=new FC(et,vt,Ft),Ft.programs=Oe.programs,oe.capabilities=zt,oe.extensions=vt,oe.properties=on,oe.renderLists=At,oe.shadowMap=Bt,oe.state=Ht,oe.info=Ft}He();const Ut=typeof navigator<"u"&&"xr"in navigator?new E_(oe,et,vt,N):new n0(oe);this.xr=Ut,this.getContext=function(){return et},this.getContextAttributes=function(){return et.getContextAttributes()},this.forceContextLoss=function(){const we=vt.get("WEBGL_lose_context");we&&we.loseContext()},this.forceContextRestore=function(){const we=vt.get("WEBGL_lose_context");we&&we.restoreContext()},this.getPixelRatio=function(){return ht},this.setPixelRatio=function(we){we!==void 0&&(ht=we,this.setSize(xt,Jt,!1))},this.getSize=function(we){return we.set(xt,Jt)},this.setSize=function(we,nt,dt=!0){if(Ut.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}xt=we,Jt=nt,t.width=Math.floor(we*ht),t.height=Math.floor(nt*ht),dt===!0&&(t.style.width=we+"px",t.style.height=nt+"px"),this.setViewport(0,0,we,nt)},this.getDrawingBufferSize=function(we){return we.set(xt*ht,Jt*ht).floor()},this.setDrawingBufferSize=function(we,nt,dt){xt=we,Jt=nt,ht=dt,t.width=Math.floor(we*dt),t.height=Math.floor(nt*dt),this.setViewport(0,0,we,nt)},this.getCurrentViewport=function(we){return we.copy(Ne)},this.getViewport=function(we){return we.copy(yn)},this.setViewport=function(we,nt,dt,at){we.isVector4?yn.set(we.x,we.y,we.z,we.w):yn.set(we,nt,dt,at),Ht.viewport(Ne.copy(yn).multiplyScalar(ht).round())},this.getScissor=function(we){return we.copy(li)},this.setScissor=function(we,nt,dt,at){we.isVector4?li.set(we.x,we.y,we.z,we.w):li.set(we,nt,dt,at),Ht.scissor($e.copy(li).multiplyScalar(ht).round())},this.getScissorTest=function(){return Bi},this.setScissorTest=function(we){Ht.setScissorTest(Bi=we)},this.setOpaqueSort=function(we){jt=we},this.setTransparentSort=function(we){$t=we},this.getClearColor=function(we){return we.copy(Zt.getClearColor())},this.setClearColor=function(){Zt.setClearColor.apply(Zt,arguments)},this.getClearAlpha=function(){return Zt.getClearAlpha()},this.setClearAlpha=function(){Zt.setClearAlpha.apply(Zt,arguments)},this.clear=function(we=!0,nt=!0,dt=!0){let at=0;if(we){let lt=!1;if(Ue!==null){const cn=Ue.texture.format;lt=cn===wn||cn===yt||cn===gn}if(lt){const cn=Ue.texture.type,Tn=cn===er||cn===Wr||cn===cs||cn===Is||cn===yr||cn===Io,On=Zt.getClearColor(),Hn=Zt.getClearAlpha(),ti=On.r,ci=On.g,pi=On.b;Tn?(K[0]=ti,K[1]=ci,K[2]=pi,K[3]=Hn,et.clearBufferuiv(et.COLOR,0,K)):(Z[0]=ti,Z[1]=ci,Z[2]=pi,Z[3]=Hn,et.clearBufferiv(et.COLOR,0,Z))}else at|=et.COLOR_BUFFER_BIT}nt&&(at|=et.DEPTH_BUFFER_BIT),dt&&(at|=et.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),et.clear(at)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",qt,!1),t.removeEventListener("webglcontextrestored",Sn,!1),t.removeEventListener("webglcontextcreationerror",dn,!1),At.dispose(),St.dispose(),on.dispose(),zn.dispose(),$n.dispose(),$i.dispose(),si.dispose(),Nn.dispose(),Oe.dispose(),Ut.dispose(),Ut.removeEventListener("sessionstart",Eo),Ut.removeEventListener("sessionend",zv),al.stop()};function qt(we){we.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),Ge=!0}function Sn(){console.log("THREE.WebGLRenderer: Context Restored."),Ge=!1;const we=Ft.autoReset,nt=Bt.enabled,dt=Bt.autoUpdate,at=Bt.needsUpdate,lt=Bt.type;He(),Ft.autoReset=we,Bt.enabled=nt,Bt.autoUpdate=dt,Bt.needsUpdate=at,Bt.type=lt}function dn(we){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",we.statusMessage)}function oi(we){const nt=we.target;nt.removeEventListener("dispose",oi),hn(nt)}function hn(we){an(we),on.remove(we)}function an(we){const nt=on.get(we).programs;nt!==void 0&&(nt.forEach(function(dt){Oe.releaseProgram(dt)}),we.isShaderMaterial&&Oe.releaseShaderCache(we))}this.renderBufferDirect=function(we,nt,dt,at,lt,cn){nt===null&&(nt=en);const Tn=lt.isMesh&&lt.matrixWorld.determinant()<0,On=bM(we,nt,dt,at,lt);Ht.setMaterial(at,Tn);let Hn=dt.index,ti=1;if(at.wireframe===!0){if(Hn=mr.getWireframeAttribute(dt),Hn===void 0)return;ti=2}const ci=dt.drawRange,pi=dt.attributes.position;let Br=ci.start*ti,rs=(ci.start+ci.count)*ti;cn!==null&&(Br=Math.max(Br,cn.start*ti),rs=Math.min(rs,(cn.start+cn.count)*ti)),Hn!==null?(Br=Math.max(Br,0),rs=Math.min(rs,Hn.count)):pi!=null&&(Br=Math.max(Br,0),rs=Math.min(rs,pi.count));const ks=rs-Br;if(ks<0||ks===1/0)return;si.setup(lt,at,On,dt,Hn);let ba,Ri=ki;if(Hn!==null&&(ba=Ii.get(Hn),Ri=An,Ri.setIndex(ba)),lt.isMesh)at.wireframe===!0?(Ht.setLineWidth(at.wireframeLinewidth*nn()),Ri.setMode(et.LINES)):Ri.setMode(et.TRIANGLES);else if(lt.isLine){let zo=at.linewidth;zo===void 0&&(zo=1),Ht.setLineWidth(zo*nn()),lt.isLineSegments?Ri.setMode(et.LINES):lt.isLineLoop?Ri.setMode(et.LINE_LOOP):Ri.setMode(et.LINE_STRIP)}else lt.isPoints?Ri.setMode(et.POINTS):lt.isSprite&&Ri.setMode(et.TRIANGLES);if(lt.isBatchedMesh)lt._multiDrawInstances!==null?Ri.renderMultiDrawInstances(lt._multiDrawStarts,lt._multiDrawCounts,lt._multiDrawCount,lt._multiDrawInstances):Ri.renderMultiDraw(lt._multiDrawStarts,lt._multiDrawCounts,lt._multiDrawCount);else if(lt.isInstancedMesh)Ri.renderInstances(Br,ks,lt.count);else if(dt.isInstancedBufferGeometry){const zo=dt._maxInstanceCount!==void 0?dt._maxInstanceCount:1/0,hi=Math.min(dt.instanceCount,zo);Ri.renderInstances(Br,ks,hi)}else Ri.render(Br,ks)};function di(we,nt,dt){we.transparent===!0&&we.side===L&&we.forceSinglePass===!1?(we.side=T,we.needsUpdate=!0,mu(we,nt,dt),we.side=x,we.needsUpdate=!0,mu(we,nt,dt),we.side=L):mu(we,nt,dt)}this.compile=function(we,nt,dt=null){dt===null&&(dt=we),V=St.get(dt),V.init(nt),ce.push(V),dt.traverseVisible(function(lt){lt.isLight&&lt.layers.test(nt.layers)&&(V.pushLight(lt),lt.castShadow&&V.pushShadow(lt))}),we!==dt&&we.traverseVisible(function(lt){lt.isLight&&lt.layers.test(nt.layers)&&(V.pushLight(lt),lt.castShadow&&V.pushShadow(lt))}),V.setupLights(oe._useLegacyLights);const at=new Set;return we.traverse(function(lt){const cn=lt.material;if(cn)if(Array.isArray(cn))for(let Tn=0;Tn<cn.length;Tn++){const On=cn[Tn];di(On,dt,lt),at.add(On)}else di(cn,dt,lt),at.add(cn)}),ce.pop(),V=null,at},this.compileAsync=function(we,nt,dt=null){const at=this.compile(we,nt,dt);return new Promise(lt=>{function cn(){if(at.forEach(function(Tn){on.get(Tn).currentProgram.isReady()&&at.delete(Tn)}),at.size===0){lt(we);return}setTimeout(cn,10)}vt.get("KHR_parallel_shader_compile")!==null?cn():setTimeout(cn,10)})};let Qn=null;function Fr(we){Qn&&Qn(we)}function Eo(){al.stop()}function zv(){al.start()}const al=new Ap;al.setAnimationLoop(Fr),typeof self<"u"&&al.setContext(self),this.setAnimationLoop=function(we){Qn=we,Ut.setAnimationLoop(we),we===null?al.stop():al.start()},Ut.addEventListener("sessionstart",Eo),Ut.addEventListener("sessionend",zv),this.render=function(we,nt){if(nt!==void 0&&nt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(Ge===!0)return;we.matrixWorldAutoUpdate===!0&&we.updateMatrixWorld(),nt.parent===null&&nt.matrixWorldAutoUpdate===!0&&nt.updateMatrixWorld(),Ut.enabled===!0&&Ut.isPresenting===!0&&(Ut.cameraAutoUpdate===!0&&Ut.updateCamera(nt),nt=Ut.getCamera()),we.isScene===!0&&we.onBeforeRender(oe,we,nt,Ue),V=St.get(we,ce.length),V.init(nt),ce.push(V),Cn.multiplyMatrices(nt.projectionMatrix,nt.matrixWorldInverse),Yi.setFromProjectionMatrix(Cn),zi=this.localClippingEnabled,Si=Rt.init(this.clippingPlanes,zi),Y=At.get(we,he.length),Y.init(),he.push(Y),jv(we,nt,0,oe.sortObjects),Y.finish(),oe.sortObjects===!0&&Y.sort(jt,$t);const dt=Ut.enabled===!1||Ut.isPresenting===!1||Ut.hasDepthSensing()===!1;dt&&Zt.addToRenderList(Y,we),this.info.render.frame++,Si===!0&&Rt.beginShadows();const at=V.state.shadowsArray;Bt.render(at,we,nt),Si===!0&&Rt.endShadows(),this.info.autoReset===!0&&this.info.reset();const lt=Y.opaque,cn=Y.transmissive;if(V.setupLights(oe._useLegacyLights),nt.isArrayCamera){const Tn=nt.cameras;if(cn.length>0)for(let On=0,Hn=Tn.length;On<Hn;On++){const ti=Tn[On];Wv(lt,cn,we,ti)}if(dt&&Zt.render(we),Ut.enabled&&Ut.isMultiview)fn.setDeferTextureUploads(!0),Am(Y,we,nt,nt.cameras[0].viewport);else for(let On=0,Hn=Tn.length;On<Hn;On++){const ti=Tn[On];Am(Y,we,ti,ti.viewport)}}else cn.length>0&&Wv(lt,cn,we,nt),dt&&Zt.render(we),Am(Y,we,nt);Ue!==null&&(fn.updateMultisampleRenderTarget(Ue),fn.updateRenderTargetMipmap(Ue)),we.isScene===!0&&we.onAfterRender(oe,we,nt),fn.runDeferredUploads(),Ut.enabled&&Ut.submitFrame&&Ut.submitFrame(),si.resetDefaultState(),ye=-1,me=null,ce.pop(),ce.length>0?(V=ce[ce.length-1],Si===!0&&Rt.setGlobalState(oe.clippingPlanes,V.state.camera)):V=null,he.pop(),he.length>0?Y=he[he.length-1]:Y=null};function jv(we,nt,dt,at){if(we.visible===!1)return;if(we.layers.test(nt.layers)){if(we.isGroup)dt=we.renderOrder;else if(we.isLOD)we.autoUpdate===!0&&we.update(nt);else if(we.isLight)V.pushLight(we),we.castShadow&&V.pushShadow(we);else if(we.isSprite){if(!we.frustumCulled||Yi.intersectsSprite(we)){at&&It.setFromMatrixPosition(we.matrixWorld).applyMatrix4(Cn);const Tn=$i.update(we),On=we.material;On.visible&&Y.push(we,Tn,On,dt,It.z,null)}}else if((we.isMesh||we.isLine||we.isPoints)&&(!we.frustumCulled||Yi.intersectsObject(we))){const Tn=$i.update(we),On=we.material;if(at&&(we.boundingSphere!==void 0?(we.boundingSphere===null&&we.computeBoundingSphere(),It.copy(we.boundingSphere.center)):(Tn.boundingSphere===null&&Tn.computeBoundingSphere(),It.copy(Tn.boundingSphere.center)),It.applyMatrix4(we.matrixWorld).applyMatrix4(Cn)),Array.isArray(On)){const Hn=Tn.groups;for(let ti=0,ci=Hn.length;ti<ci;ti++){const pi=Hn[ti],Br=On[pi.materialIndex];Br&&Br.visible&&Y.push(we,Tn,Br,dt,It.z,pi)}}else On.visible&&Y.push(we,Tn,On,dt,It.z,null)}}const cn=we.children;for(let Tn=0,On=cn.length;Tn<On;Tn++)jv(cn[Tn],nt,dt,at)}function Am(we,nt,dt,at){const lt=we.opaque,cn=we.transmissive,Tn=we.transparent;V.setupLightsView(dt),Si===!0&&Rt.setGlobalState(oe.clippingPlanes,dt),at&&Ht.viewport(Ne.copy(at)),lt.length>0&&pu(lt,nt,dt),cn.length>0&&pu(cn,nt,dt),Tn.length>0&&pu(Tn,nt,dt),Ht.buffers.depth.setTest(!0),Ht.buffers.depth.setMask(!0),Ht.buffers.color.setMask(!0),Ht.setPolygonOffset(!1)}function Wv(we,nt,dt,at){if((dt.isScene===!0?dt.overrideMaterial:null)!==null)return;V.state.transmissionRenderTarget[at.id]===void 0&&(V.state.transmissionRenderTarget[at.id]=new ys(1,1,{generateMipmaps:!0,type:vt.has("EXT_color_buffer_half_float")||vt.has("EXT_color_buffer_float")?Di:er,minFilter:Li,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1}));const cn=V.state.transmissionRenderTarget[at.id],Tn=at.viewport||Ne;cn.setSize(Tn.z,Tn.w);const On=oe.getRenderTarget();oe.setRenderTarget(cn),oe.getClearColor(Ze),ct=oe.getClearAlpha(),ct<1&&oe.setClearColor(16777215,.5),oe.clear();const Hn=oe.toneMapping;oe.toneMapping=Xt;const ti=at.viewport;if(at.viewport!==void 0&&(at.viewport=void 0),V.setupLightsView(at),Si===!0&&Rt.setGlobalState(oe.clippingPlanes,at),pu(we,dt,at),fn.updateMultisampleRenderTarget(cn),fn.updateRenderTargetMipmap(cn),vt.has("WEBGL_multisampled_render_to_texture")===!1){let ci=!1;for(let pi=0,Br=nt.length;pi<Br;pi++){const rs=nt[pi],ks=rs.object,ba=rs.geometry,Ri=rs.material,zo=rs.group;if(Ri.side===L&&ks.layers.test(at.layers)){const hi=Ri.side;Ri.side=T,Ri.needsUpdate=!0,Kv(ks,dt,at,ba,Ri,zo),Ri.side=hi,Ri.needsUpdate=!0,ci=!0}}ci===!0&&(fn.updateMultisampleRenderTarget(cn),fn.updateRenderTargetMipmap(cn))}oe.setRenderTarget(On),oe.setClearColor(Ze,ct),ti!==void 0&&(at.viewport=ti),oe.toneMapping=Hn}function pu(we,nt,dt){const at=nt.isScene===!0?nt.overrideMaterial:null;for(let lt=0,cn=we.length;lt<cn;lt++){const Tn=we[lt],On=Tn.object,Hn=Tn.geometry,ti=at===null?Tn.material:at,ci=Tn.group;On.layers.test(dt.layers)&&Kv(On,nt,dt,Hn,ti,ci)}}function Kv(we,nt,dt,at,lt,cn){we.onBeforeRender(oe,nt,dt,at,lt,cn),we.modelViewMatrix.multiplyMatrices(dt.matrixWorldInverse,we.matrixWorld),we.normalMatrix.getNormalMatrix(we.modelViewMatrix),lt.onBeforeRender(oe,nt,dt,at,we,cn),lt.transparent===!0&&lt.side===L&&lt.forceSinglePass===!1?(lt.side=T,lt.needsUpdate=!0,oe.renderBufferDirect(dt,nt,at,lt,we,cn),lt.side=x,lt.needsUpdate=!0,oe.renderBufferDirect(dt,nt,at,lt,we,cn),lt.side=L):oe.renderBufferDirect(dt,nt,at,lt,we,cn),we.onAfterRender(oe,nt,dt,at,lt,cn)}function mu(we,nt,dt){nt.isScene!==!0&&(nt=en);const at=on.get(we),lt=V.state.lights,cn=V.state.shadowsArray,Tn=lt.state.version,On=Oe.getParameters(we,lt.state,cn,nt,dt),Hn=Oe.getProgramCacheKey(On);let ti=at.programs;at.environment=we.isMeshStandardMaterial?nt.environment:null,at.fog=nt.fog,at.envMap=(we.isMeshStandardMaterial?$n:zn).get(we.envMap||at.environment),at.envMapRotation=at.environment!==null&&we.envMap===null?nt.environmentRotation:we.envMapRotation,ti===void 0&&(we.addEventListener("dispose",oi),ti=new Map,at.programs=ti);let ci=ti.get(Hn);if(ci!==void 0){if(at.currentProgram===ci&&at.lightsStateVersion===Tn)return Yv(we,On),ci}else On.uniforms=Oe.getUniforms(we),we.onBuild(dt,On,oe),we.onBeforeCompile(On,oe),ci=Oe.acquireProgram(On,Hn),ti.set(Hn,ci),at.uniforms=On.uniforms;const pi=at.uniforms;return(!we.isShaderMaterial&&!we.isRawShaderMaterial||we.clipping===!0)&&(pi.clippingPlanes=Rt.uniform),Yv(we,On),at.needsLights=EM(we),at.lightsStateVersion=Tn,at.needsLights&&(pi.ambientLightColor.value=lt.state.ambient,pi.lightProbe.value=lt.state.probe,pi.directionalLights.value=lt.state.directional,pi.directionalLightShadows.value=lt.state.directionalShadow,pi.spotLights.value=lt.state.spot,pi.spotLightShadows.value=lt.state.spotShadow,pi.rectAreaLights.value=lt.state.rectArea,pi.ltc_1.value=lt.state.rectAreaLTC1,pi.ltc_2.value=lt.state.rectAreaLTC2,pi.pointLights.value=lt.state.point,pi.pointLightShadows.value=lt.state.pointShadow,pi.hemisphereLights.value=lt.state.hemi,pi.directionalShadowMap.value=lt.state.directionalShadowMap,pi.directionalShadowMatrix.value=lt.state.directionalShadowMatrix,pi.spotShadowMap.value=lt.state.spotShadowMap,pi.spotLightMatrix.value=lt.state.spotLightMatrix,pi.spotLightMap.value=lt.state.spotLightMap,pi.pointShadowMap.value=lt.state.pointShadowMap,pi.pointShadowMatrix.value=lt.state.pointShadowMatrix),at.currentProgram=ci,at.uniformsList=null,ci}function Xv(we){if(we.uniformsList===null){const nt=we.currentProgram.getUniforms();we.uniformsList=bh.seqWithValue(nt.seq,we.uniforms)}return we.uniformsList}function Yv(we,nt){const dt=on.get(we);dt.outputColorSpace=nt.outputColorSpace,dt.batching=nt.batching,dt.instancing=nt.instancing,dt.instancingColor=nt.instancingColor,dt.instancingMorph=nt.instancingMorph,dt.skinning=nt.skinning,dt.morphTargets=nt.morphTargets,dt.morphNormals=nt.morphNormals,dt.morphColors=nt.morphColors,dt.morphTargetsCount=nt.morphTargetsCount,dt.numClippingPlanes=nt.numClippingPlanes,dt.numIntersection=nt.numClipIntersection,dt.vertexAlphas=nt.vertexAlphas,dt.vertexTangents=nt.vertexTangents,dt.toneMapping=nt.toneMapping,dt.numMultiviewViews=nt.numMultiviewViews}function bM(we,nt,dt,at,lt){nt.isScene!==!0&&(nt=en),fn.resetTextureUnits();const cn=nt.fog,Tn=at.isMeshStandardMaterial?nt.environment:null,On=Ue===null?oe.outputColorSpace:Ue.isXRRenderTarget===!0?Ue.texture.colorSpace:eo,Hn=(at.isMeshStandardMaterial?$n:zn).get(at.envMap||Tn),ti=at.vertexColors===!0&&!!dt.attributes.color&&dt.attributes.color.itemSize===4,ci=!!dt.attributes.tangent&&(!!at.normalMap||at.anisotropy>0),pi=!!dt.morphAttributes.position,Br=!!dt.morphAttributes.normal,rs=!!dt.morphAttributes.color;let ks=Xt;at.toneMapped&&(Ue===null||Ue.isXRRenderTarget===!0)&&(ks=oe.toneMapping);const ba=Ue&&Ue.isWebGLMultiviewRenderTarget?Ue.numViews:0,Ri=dt.morphAttributes.position||dt.morphAttributes.normal||dt.morphAttributes.color,zo=Ri!==void 0?Ri.length:0,hi=on.get(at),xM=V.state.lights;if(Si===!0&&(zi===!0||we!==me)){const Ks=we===me&&at.id===ye;Rt.setState(at,we,Ks)}let rr=!1;at.version===hi.__version?(hi.needsLights&&hi.lightsStateVersion!==xM.state.version||hi.outputColorSpace!==On||lt.isBatchedMesh&&hi.batching===!1||!lt.isBatchedMesh&&hi.batching===!0||lt.isInstancedMesh&&hi.instancing===!1||!lt.isInstancedMesh&&hi.instancing===!0||lt.isSkinnedMesh&&hi.skinning===!1||!lt.isSkinnedMesh&&hi.skinning===!0||lt.isInstancedMesh&&hi.instancingColor===!0&&lt.instanceColor===null||lt.isInstancedMesh&&hi.instancingColor===!1&&lt.instanceColor!==null||lt.isInstancedMesh&&hi.instancingMorph===!0&&lt.morphTexture===null||lt.isInstancedMesh&&hi.instancingMorph===!1&&lt.morphTexture!==null||hi.envMap!==Hn||at.fog===!0&&hi.fog!==cn||hi.numClippingPlanes!==void 0&&(hi.numClippingPlanes!==Rt.numPlanes||hi.numIntersection!==Rt.numIntersection)||hi.vertexAlphas!==ti||hi.vertexTangents!==ci||hi.morphTargets!==pi||hi.morphNormals!==Br||hi.morphColors!==rs||hi.toneMapping!==ks||hi.morphTargetsCount!==zo||hi.numMultiviewViews!==ba)&&(rr=!0):(rr=!0,hi.__version=at.version);let jo=hi.currentProgram;rr===!0&&(jo=mu(at,nt,lt));let $v=!1,nd=!1,gm=!1;const Ur=jo.getUniforms(),ya=hi.uniforms;if(Ht.useProgram(jo.program)&&($v=!0,nd=!0,gm=!0),at.id!==ye&&(ye=at.id,nd=!0),$v||me!==we){jo.numMultiviewViews>0?(Mn.updateCameraProjectionMatricesUniform(we,Ur),Mn.updateCameraViewMatricesUniform(we,Ur)):(Ur.setValue(et,"projectionMatrix",we.projectionMatrix),Ur.setValue(et,"viewMatrix",we.matrixWorldInverse));const Ks=Ur.map.cameraPosition;Ks!==void 0&&Ks.setValue(et,It.setFromMatrixPosition(we.matrixWorld)),zt.logarithmicDepthBuffer&&Ur.setValue(et,"logDepthBufFC",2/(Math.log(we.far+1)/Math.LN2)),(at.isMeshPhongMaterial||at.isMeshToonMaterial||at.isMeshLambertMaterial||at.isMeshBasicMaterial||at.isMeshStandardMaterial||at.isShaderMaterial)&&Ur.setValue(et,"isOrthographic",we.isOrthographicCamera===!0),me!==we&&(me=we,nd=!0,gm=!0)}if(lt.isSkinnedMesh){Ur.setOptional(et,lt,"bindMatrix"),Ur.setOptional(et,lt,"bindMatrixInverse");const Ks=lt.skeleton;Ks&&(Ks.boneTexture===null&&Ks.computeBoneTexture(),Ur.setValue(et,"boneTexture",Ks.boneTexture,fn))}lt.isBatchedMesh&&(Ur.setOptional(et,lt,"batchingTexture"),Ur.setValue(et,"batchingTexture",lt._matricesTexture,fn));const vm=dt.morphAttributes;if((vm.position!==void 0||vm.normal!==void 0||vm.color!==void 0)&&mn.update(lt,dt,jo),(nd||hi.receiveShadow!==lt.receiveShadow)&&(hi.receiveShadow=lt.receiveShadow,Ur.setValue(et,"receiveShadow",lt.receiveShadow)),at.isMeshGouraudMaterial&&at.envMap!==null&&(ya.envMap.value=Hn,ya.flipEnvMap.value=Hn.isCubeTexture&&Hn.isRenderTargetTexture===!1?-1:1),at.isMeshStandardMaterial&&at.envMap===null&&nt.environment!==null&&(ya.envMapIntensity.value=nt.environmentIntensity),nd&&(Ur.setValue(et,"toneMappingExposure",oe.toneMappingExposure),hi.needsLights&&yM(ya,gm),cn&&at.fog===!0&&Ae.refreshFogUniforms(ya,cn),Ae.refreshMaterialUniforms(ya,at,ht,Jt,V.state.transmissionRenderTarget[we.id]),bh.upload(et,Xv(hi),ya,fn)),at.isShaderMaterial&&at.uniformsNeedUpdate===!0&&(bh.upload(et,Xv(hi),ya,fn),at.uniformsNeedUpdate=!1),at.isSpriteMaterial&&Ur.setValue(et,"center",lt.center),jo.numMultiviewViews>0?Mn.updateObjectMatricesUniforms(lt,we,Ur):(Ur.setValue(et,"modelViewMatrix",lt.modelViewMatrix),Ur.setValue(et,"normalMatrix",lt.normalMatrix)),Ur.setValue(et,"modelMatrix",lt.matrixWorld),at.isShaderMaterial||at.isRawShaderMaterial){const Ks=at.uniformsGroups;for(let bm=0,CM=Ks.length;bm<CM;bm++){const qv=Ks[bm];Nn.update(qv,jo),Nn.bind(qv,jo)}}return jo}function yM(we,nt){we.ambientLightColor.needsUpdate=nt,we.lightProbe.needsUpdate=nt,we.directionalLights.needsUpdate=nt,we.directionalLightShadows.needsUpdate=nt,we.pointLights.needsUpdate=nt,we.pointLightShadows.needsUpdate=nt,we.spotLights.needsUpdate=nt,we.spotLightShadows.needsUpdate=nt,we.rectAreaLights.needsUpdate=nt,we.hemisphereLights.needsUpdate=nt}function EM(we){return we.isMeshLambertMaterial||we.isMeshToonMaterial||we.isMeshPhongMaterial||we.isMeshStandardMaterial||we.isShadowMaterial||we.isShaderMaterial&&we.lights===!0}this.setTexture2D=function(){var we=!1;return function(dt,at){dt&&dt.isWebGLRenderTarget&&(we||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),we=!0),dt=dt.texture),fn.setTexture2D(dt,at)}}(),this.getActiveCubeFace=function(){return Se},this.getActiveMipmapLevel=function(){return Le},this.getRenderTarget=function(){return Ue},this.setRenderTargetTextures=function(we,nt,dt){on.get(we.texture).__webglTexture=nt,on.get(we.depthTexture).__webglTexture=dt;const at=on.get(we);at.__hasExternalTextures=!0,at.__autoAllocateDepthBuffer=dt===void 0,!at.__autoAllocateDepthBuffer&&(!Ue||!Ue.isWebGLMultiviewRenderTarget)&&vt.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),at.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(we,nt){const dt=on.get(we);dt.__webglFramebuffer=nt,dt.__useDefaultFramebuffer=nt===void 0},this.setRenderTarget=function(we,nt=0,dt=0){Ue=we,Se=nt,Le=dt;let at=!0,lt=null,cn=!1,Tn=!1;if(we){const Hn=on.get(we);Hn.__useDefaultFramebuffer!==void 0?(Ht.bindFramebuffer(et.FRAMEBUFFER,null),at=!1):Hn.__webglFramebuffer===void 0?fn.setupRenderTarget(we):Hn.__hasExternalTextures&&fn.rebindTextures(we,on.get(we.texture).__webglTexture,on.get(we.depthTexture).__webglTexture);const ti=we.texture;(ti.isData3DTexture||ti.isDataArrayTexture||ti.isCompressedArrayTexture)&&(Tn=!0);const ci=on.get(we).__webglFramebuffer;we.isWebGLCubeRenderTarget?(Array.isArray(ci[nt])?lt=ci[nt][dt]:lt=ci[nt],cn=!0):we.samples>0&&fn.useMultisampledRTT(we)===!1?lt=on.get(we).__webglMultisampledFramebuffer:Array.isArray(ci)?lt=ci[dt]:lt=ci,Ne.copy(we.viewport),$e.copy(we.scissor),ze=we.scissorTest}else Ne.copy(yn).multiplyScalar(ht).floor(),$e.copy(li).multiplyScalar(ht).floor(),ze=Bi;if(Ht.bindFramebuffer(et.FRAMEBUFFER,lt)&&at&&Ht.drawBuffers(we,lt),Ht.viewport(Ne),Ht.scissor($e),Ht.setScissorTest(ze),cn){const Hn=on.get(we.texture);et.framebufferTexture2D(et.FRAMEBUFFER,et.COLOR_ATTACHMENT0,et.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Hn.__webglTexture,dt)}else if(Tn){const Hn=on.get(we.texture),ti=nt||0;et.framebufferTextureLayer(et.FRAMEBUFFER,et.COLOR_ATTACHMENT0,Hn.__webglTexture,dt||0,ti)}ye=-1},this.readRenderTargetPixels=function(we,nt,dt,at,lt,cn,Tn){if(!(we&&we.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let On=on.get(we).__webglFramebuffer;if(we.isWebGLCubeRenderTarget&&Tn!==void 0&&(On=On[Tn]),On){Ht.bindFramebuffer(et.FRAMEBUFFER,On);try{const Hn=we.texture,ti=Hn.format,ci=Hn.type;if(!zt.textureFormatReadable(ti)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!zt.textureTypeReadable(ci)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}nt>=0&&nt<=we.width-at&&dt>=0&&dt<=we.height-lt&&et.readPixels(nt,dt,at,lt,In.convert(ti),In.convert(ci),cn)}finally{const Hn=Ue!==null?on.get(Ue).__webglFramebuffer:null;Ht.bindFramebuffer(et.FRAMEBUFFER,Hn)}}},this.copyFramebufferToTexture=function(we,nt,dt=0){const at=Math.pow(2,-dt),lt=Math.floor(nt.image.width*at),cn=Math.floor(nt.image.height*at);fn.setTexture2D(nt,0),et.copyTexSubImage2D(et.TEXTURE_2D,dt,0,0,we.x,we.y,lt,cn),Ht.unbindTexture()},this.copyTextureToTexture=function(we,nt,dt,at=0){const lt=nt.image.width,cn=nt.image.height,Tn=In.convert(dt.format),On=In.convert(dt.type);fn.setTexture2D(dt,0),et.pixelStorei(et.UNPACK_FLIP_Y_WEBGL,dt.flipY),et.pixelStorei(et.UNPACK_PREMULTIPLY_ALPHA_WEBGL,dt.premultiplyAlpha),et.pixelStorei(et.UNPACK_ALIGNMENT,dt.unpackAlignment),nt.isDataTexture?et.texSubImage2D(et.TEXTURE_2D,at,we.x,we.y,lt,cn,Tn,On,nt.image.data):nt.isCompressedTexture?et.compressedTexSubImage2D(et.TEXTURE_2D,at,we.x,we.y,nt.mipmaps[0].width,nt.mipmaps[0].height,Tn,nt.mipmaps[0].data):et.texSubImage2D(et.TEXTURE_2D,at,we.x,we.y,Tn,On,nt.image),at===0&&dt.generateMipmaps&&et.generateMipmap(et.TEXTURE_2D),Ht.unbindTexture()},this.copyTextureToTexture3D=function(we,nt,dt,at,lt=0){const cn=we.max.x-we.min.x,Tn=we.max.y-we.min.y,On=we.max.z-we.min.z,Hn=In.convert(at.format),ti=In.convert(at.type);let ci;if(at.isData3DTexture)fn.setTexture3D(at,0),ci=et.TEXTURE_3D;else if(at.isDataArrayTexture||at.isCompressedArrayTexture)fn.setTexture2DArray(at,0),ci=et.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}et.pixelStorei(et.UNPACK_FLIP_Y_WEBGL,at.flipY),et.pixelStorei(et.UNPACK_PREMULTIPLY_ALPHA_WEBGL,at.premultiplyAlpha),et.pixelStorei(et.UNPACK_ALIGNMENT,at.unpackAlignment);const pi=et.getParameter(et.UNPACK_ROW_LENGTH),Br=et.getParameter(et.UNPACK_IMAGE_HEIGHT),rs=et.getParameter(et.UNPACK_SKIP_PIXELS),ks=et.getParameter(et.UNPACK_SKIP_ROWS),ba=et.getParameter(et.UNPACK_SKIP_IMAGES),Ri=dt.isCompressedTexture?dt.mipmaps[lt]:dt.image;et.pixelStorei(et.UNPACK_ROW_LENGTH,Ri.width),et.pixelStorei(et.UNPACK_IMAGE_HEIGHT,Ri.height),et.pixelStorei(et.UNPACK_SKIP_PIXELS,we.min.x),et.pixelStorei(et.UNPACK_SKIP_ROWS,we.min.y),et.pixelStorei(et.UNPACK_SKIP_IMAGES,we.min.z),dt.isDataTexture||dt.isData3DTexture?et.texSubImage3D(ci,lt,nt.x,nt.y,nt.z,cn,Tn,On,Hn,ti,Ri.data):at.isCompressedArrayTexture?et.compressedTexSubImage3D(ci,lt,nt.x,nt.y,nt.z,cn,Tn,On,Hn,Ri.data):et.texSubImage3D(ci,lt,nt.x,nt.y,nt.z,cn,Tn,On,Hn,ti,Ri),et.pixelStorei(et.UNPACK_ROW_LENGTH,pi),et.pixelStorei(et.UNPACK_IMAGE_HEIGHT,Br),et.pixelStorei(et.UNPACK_SKIP_PIXELS,rs),et.pixelStorei(et.UNPACK_SKIP_ROWS,ks),et.pixelStorei(et.UNPACK_SKIP_IMAGES,ba),lt===0&&at.generateMipmaps&&et.generateMipmap(ci),Ht.unbindTexture()},this.initTexture=function(we){we.isCubeTexture?fn.setTextureCube(we,0):we.isData3DTexture?fn.setTexture3D(we,0):we.isDataArrayTexture||we.isCompressedArrayTexture?fn.setTexture2DArray(we,0):fn.setTexture2D(we,0),Ht.unbindTexture()},this.resetState=function(){Se=0,Le=0,Ue=null,Ht.reset(),si.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return zs}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===El?"display-p3":"srgb",t.unpackColorSpace=Ti.workingColorSpace===Da?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class yh{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new pn(e),this.density=t}clone(){return new yh(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Eh{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new pn(e),this.near=t,this.far=n}clone(){return new Eh(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class r0 extends Mi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ds,this.environmentIntensity=1,this.environmentRotation=new Ds,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class xh{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Fa,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=hs()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Yd("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let s=0,o=this.stride;s<o;s++)this.array[e+s]=t.array[n+s];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=hs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=hs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ps=new _e;class Ya{constructor(e,t,n,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)ps.fromBufferAttribute(this,t),ps.applyMatrix4(e),this.setXYZ(t,ps.x,ps.y,ps.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)ps.fromBufferAttribute(this,t),ps.applyNormalMatrix(e),this.setXYZ(t,ps.x,ps.y,ps.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)ps.fromBufferAttribute(this,t),ps.transformDirection(e),this.setXYZ(t,ps.x,ps.y,ps.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=Xr(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Yn(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=Yn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Yn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Yn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Yn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Xr(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Xr(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Xr(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Xr(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Yn(t,this.array),n=Yn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Yn(t,this.array),n=Yn(n,this.array),s=Yn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=s,this}setXYZW(e,t,n,s,o){return e=e*this.data.stride+this.offset,this.normalized&&(t=Yn(t,this.array),n=Yn(n,this.array),s=Yn(s,this.array),o=Yn(o,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=s,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const s=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[s+o])}return new Gi(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ya(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const s=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[s+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Rp extends ns{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new pn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let jl;const Pc=new _e,Wl=new _e,Kl=new _e,Xl=new Mt,Oc=new Mt,s0=new xn,Ch=new _e,kc=new _e,wh=new _e,o0=new Mt,Lp=new Mt,a0=new Mt;class l0 extends Mi{constructor(e=new Rp){if(super(),this.isSprite=!0,this.type="Sprite",jl===void 0){jl=new ai;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new xh(t,5);jl.setIndex([0,1,2,0,2,3]),jl.setAttribute("position",new Ya(n,3,0,!1)),jl.setAttribute("uv",new Ya(n,2,3,!1))}this.geometry=jl,this.material=e,this.center=new Mt(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Wl.setFromMatrixScale(this.matrixWorld),s0.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Kl.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Wl.multiplyScalar(-Kl.z);const n=this.material.rotation;let s,o;n!==0&&(o=Math.cos(n),s=Math.sin(n));const c=this.center;_h(Ch.set(-.5,-.5,0),Kl,c,Wl,s,o),_h(kc.set(.5,-.5,0),Kl,c,Wl,s,o),_h(wh.set(.5,.5,0),Kl,c,Wl,s,o),o0.set(0,0),Lp.set(1,0),a0.set(1,1);let h=e.ray.intersectTriangle(Ch,kc,wh,!1,Pc);if(h===null&&(_h(kc.set(-.5,.5,0),Kl,c,Wl,s,o),Lp.set(0,1),h=e.ray.intersectTriangle(Ch,wh,kc,!1,Pc),h===null))return;const _=e.ray.origin.distanceTo(Pc);_<e.near||_>e.far||t.push({distance:_,point:Pc.clone(),uv:Ps.getInterpolation(Pc,Ch,kc,wh,o0,Lp,a0,new Mt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function _h(a,e,t,n,s,o){Xl.subVectors(a,t).addScalar(.5).multiply(n),s!==void 0?(Oc.x=o*Xl.x-s*Xl.y,Oc.y=s*Xl.x+o*Xl.y):Oc.copy(Xl),a.copy(e),a.x+=Oc.x,a.y+=Oc.y,a.applyMatrix4(s0)}const Mh=new _e,c0=new _e;class d0 extends Mi{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,s=t.length;n<s;n++){const o=t[n];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const s=this.levels;let o;for(o=0;o<s.length&&!(t<s[o].distance);o++);return s.splice(o,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,s;for(n=1,s=t.length;n<s;n++){let o=t[n].distance;if(t[n].object.visible&&(o-=o*t[n].hysteresis),e<o)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){Mh.setFromMatrixPosition(this.matrixWorld);const s=e.ray.origin.distanceTo(Mh);this.getObjectForDistance(s).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Mh.setFromMatrixPosition(e.matrixWorld),c0.setFromMatrixPosition(this.matrixWorld);const n=Mh.distanceTo(c0)/e.zoom;t[0].object.visible=!0;let s,o;for(s=1,o=t.length;s<o;s++){let c=t[s].distance;if(t[s].object.visible&&(c-=c*t[s].hysteresis),n>=c)t[s-1].object.visible=!1,t[s].object.visible=!0;else break}for(this._currentLevel=s-1;s<o;s++)t[s].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let s=0,o=n.length;s<o;s++){const c=n[s];t.object.levels.push({object:c.object.uuid,distance:c.distance,hysteresis:c.hysteresis})}return t}}const h0=new _e,u0=new Ci,f0=new Ci,M_=new _e,p0=new xn,Sh=new _e,Dp=new Lr,m0=new xn,Pp=new Dr;class A0 extends Tr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=ve,this.bindMatrix=new xn,this.bindMatrixInverse=new xn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new fr),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Sh),this.boundingBox.expandByPoint(Sh)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Lr),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Sh),this.boundingSphere.expandByPoint(Sh)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,s=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Dp.copy(this.boundingSphere),Dp.applyMatrix4(s),e.ray.intersectsSphere(Dp)!==!1&&(m0.copy(s).invert(),Pp.copy(e.ray).applyMatrix4(m0),!(this.boundingBox!==null&&Pp.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,Pp)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ci,t=this.geometry.attributes.skinWeight;for(let n=0,s=t.count;n<s;n++){e.fromBufferAttribute(t,n);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===ve?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Me?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,s=this.geometry;u0.fromBufferAttribute(s.attributes.skinIndex,e),f0.fromBufferAttribute(s.attributes.skinWeight,e),h0.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const c=f0.getComponent(o);if(c!==0){const h=u0.getComponent(o);p0.multiplyMatrices(n.bones[h].matrixWorld,n.boneInverses[h]),t.addScaledVector(M_.copy(h0).applyMatrix4(p0),c)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Op extends Mi{constructor(){super(),this.isBone=!0,this.type="Bone"}}class fa extends Ki{constructor(e=null,t=1,n=1,s,o,c,h,_,I=Yt,O=Yt,U,N){super(null,c,h,_,I,O,s,o,U,N),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const g0=new xn,S_=new xn;class Ih{constructor(e=[],t=[]){this.uuid=hs(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,s=this.bones.length;n<s;n++)this.boneInverses.push(new xn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new xn;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,s=this.boneTexture;for(let o=0,c=e.length;o<c;o++){const h=e[o]?e[o].matrixWorld:S_;g0.multiplyMatrices(h,t[o]),g0.toArray(n,o*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new Ih(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new fa(t,e,e,Pe,tr);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const s=this.bones[t];if(s.name===e)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,s=e.bones.length;n<s;n++){const o=e.bones[n];let c=t[o];c===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),c=new Op),this.bones.push(c),this.boneInverses.push(new xn().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let s=0,o=t.length;s<o;s++){const c=t[s];e.bones.push(c.uuid);const h=n[s];e.boneInverses.push(h.toArray())}return e}}class Yl extends Gi{constructor(e,t,n,s=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const $l=new xn,v0=new xn,Th=[],b0=new fr,I_=new xn,Fc=new Tr,Uc=new Lr;class y0 extends Tr{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Yl(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<n;s++)this.setMatrixAt(s,I_)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new fr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,$l),b0.copy(e.boundingBox).applyMatrix4($l),this.boundingBox.union(b0)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Lr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,$l),Uc.copy(e.boundingSphere).applyMatrix4($l),this.boundingSphere.union(Uc)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,s=this.morphTexture.source.data.data,o=n.length+1,c=e*o+1;for(let h=0;h<n.length;h++)n[h]=s[c+h]}raycast(e,t){const n=this.matrixWorld,s=this.count;if(Fc.geometry=this.geometry,Fc.material=this.material,Fc.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Uc.copy(this.boundingSphere),Uc.applyMatrix4(n),e.ray.intersectsSphere(Uc)!==!1))for(let o=0;o<s;o++){this.getMatrixAt(o,$l),v0.multiplyMatrices(n,$l),Fc.matrixWorld=v0,Fc.raycast(e,Th);for(let c=0,h=Th.length;c<h;c++){const _=Th[c];_.instanceId=o,_.object=this,t.push(_)}Th.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Yl(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,s=n.length+1;this.morphTexture===null&&(this.morphTexture=new fa(new Float32Array(s*this.count),s,this.count,Ot,tr));const o=this.morphTexture.source.data.data;let c=0;for(let I=0;I<n.length;I++)c+=n[I];const h=this.geometry.morphTargetsRelative?1:1-c,_=s*e;o[_]=h,o.set(n,_+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function T_(a,e){return a.z-e.z}function B_(a,e){return e.z-a.z}class R_{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t){const n=this.pool,s=this.list;this.index>=n.length&&n.push({start:-1,count:-1,z:-1});const o=n[this.index];s.push(o),this.index++,o.start=e.start,o.count=e.count,o.z=t}reset(){this.list.length=0,this.index=0}}const ql="batchId",pa=new xn,E0=new xn,L_=new xn,x0=new xn,kp=new Lc,Bh=new fr,$a=new Lr,Nc=new _e,Fp=new R_,is=new Tr,Rh=[];function D_(a,e,t=0){const n=e.itemSize;if(a.isInterleavedBufferAttribute||a.array.constructor!==e.array.constructor){const s=a.count;for(let o=0;o<s;o++)for(let c=0;c<n;c++)e.setComponent(o+t,c,a.getComponent(o,c))}else e.array.set(a.array,t*n);e.needsUpdate=!0}class C0 extends Tr{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,t,n=t*2,s){super(new ai,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new fa(t,e,e,Pe,tr);this._matricesTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,s=this._maxGeometryCount,o=this._maxIndexCount;if(this._geometryInitialized===!1){for(const h in e.attributes){const _=e.getAttribute(h),{array:I,itemSize:O,normalized:U}=_,N=new I.constructor(n*O),Q=new Gi(N,O,U);t.setAttribute(h,Q)}if(e.getIndex()!==null){const h=n>65536?new Uint32Array(o):new Uint16Array(o);t.setIndex(new Gi(h,1))}const c=s>65536?new Uint32Array(n):new Uint16Array(n);t.setAttribute(ql,new Gi(c,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(ql))throw new Error('BatchedMesh: Geometry cannot use attribute "'.concat(ql,'"'));const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(n===ql)continue;if(!e.hasAttribute(n))throw new Error('BatchedMesh: Added geometry missing "'.concat(n,'". All geometries must have consistent attributes.'));const s=e.getAttribute(n),o=t.getAttribute(n);if(s.itemSize!==o.itemSize||s.normalized!==o.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new fr);const e=this._geometryCount,t=this.boundingBox,n=this._active;t.makeEmpty();for(let s=0;s<e;s++)n[s]!==!1&&(this.getMatrixAt(s,pa),this.getBoundingBoxAt(s,Bh).applyMatrix4(pa),t.union(Bh))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Lr);const e=this._geometryCount,t=this.boundingSphere,n=this._active;t.makeEmpty();for(let s=0;s<e;s++)n[s]!==!1&&(this.getMatrixAt(s,pa),this.getBoundingSphereAt(s,$a).applyMatrix4(pa),t.union($a))}addGeometry(e,t=-1,n=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const s={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let o=null;const c=this._reservedRanges,h=this._drawRanges,_=this._bounds;this._geometryCount!==0&&(o=c[c.length-1]),t===-1?s.vertexCount=e.getAttribute("position").count:s.vertexCount=t,o===null?s.vertexStart=0:s.vertexStart=o.vertexStart+o.vertexCount;const I=e.getIndex(),O=I!==null;if(O&&(n===-1?s.indexCount=I.count:s.indexCount=n,o===null?s.indexStart=0:s.indexStart=o.indexStart+o.indexCount),s.indexStart!==-1&&s.indexStart+s.indexCount>this._maxIndexCount||s.vertexStart+s.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const U=this._visibility,N=this._active,Q=this._matricesTexture,K=this._matricesTexture.image.data;U.push(!0),N.push(!0);const Z=this._geometryCount;this._geometryCount++,L_.toArray(K,Z*16),Q.needsUpdate=!0,c.push(s),h.push({start:O?s.indexStart:s.vertexStart,count:-1}),_.push({boxInitialized:!1,box:new fr,sphereInitialized:!1,sphere:new Lr});const Y=this.geometry.getAttribute(ql);for(let V=0;V<s.vertexCount;V++)Y.setX(s.vertexStart+V,Z);return Y.needsUpdate=!0,this.setGeometryAt(Z,e),Z}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,s=n.getIndex()!==null,o=n.getIndex(),c=t.getIndex(),h=this._reservedRanges[e];if(s&&c.count>h.indexCount||t.attributes.position.count>h.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const _=h.vertexStart,I=h.vertexCount;for(const Q in n.attributes){if(Q===ql)continue;const K=t.getAttribute(Q),Z=n.getAttribute(Q);D_(K,Z,_);const Y=K.itemSize;for(let V=K.count,he=I;V<he;V++){const ce=_+V;for(let oe=0;oe<Y;oe++)Z.setComponent(ce,oe,0)}Z.needsUpdate=!0,Z.addUpdateRange(_*Y,I*Y)}if(s){const Q=h.indexStart;for(let K=0;K<c.count;K++)o.setX(Q+K,_+c.getX(K));for(let K=c.count,Z=h.indexCount;K<Z;K++)o.setX(Q+K,_);o.needsUpdate=!0,o.addUpdateRange(Q,h.indexCount)}const O=this._bounds[e];t.boundingBox!==null?(O.box.copy(t.boundingBox),O.boxInitialized=!0):O.boxInitialized=!1,t.boundingSphere!==null?(O.sphere.copy(t.boundingSphere),O.sphereInitialized=!0):O.sphereInitialized=!1;const U=this._drawRanges[e],N=t.getAttribute("position");return U.count=s?c.count:N.count,this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._active;return e>=t.length||t[e]===!1?this:(t[e]=!1,this._visibilityChanged=!0,this)}getInstanceCountAt(e){return this._multiDrawInstances===null?null:this._multiDrawInstances[e]}setInstanceCountAt(e,t){return this._multiDrawInstances===null&&(this._multiDrawInstances=new Int32Array(this._maxGeometryCount).fill(1)),this._multiDrawInstances[e]=t,e}getBoundingBoxAt(e,t){if(this._active[e]===!1)return null;const s=this._bounds[e],o=s.box,c=this.geometry;if(s.boxInitialized===!1){o.makeEmpty();const h=c.index,_=c.attributes.position,I=this._drawRanges[e];for(let O=I.start,U=I.start+I.count;O<U;O++){let N=O;h&&(N=h.getX(N)),o.expandByPoint(Nc.fromBufferAttribute(_,N))}s.boxInitialized=!0}return t.copy(o),t}getBoundingSphereAt(e,t){if(this._active[e]===!1)return null;const s=this._bounds[e],o=s.sphere,c=this.geometry;if(s.sphereInitialized===!1){o.makeEmpty(),this.getBoundingBoxAt(e,Bh),Bh.getCenter(o.center);const h=c.index,_=c.attributes.position,I=this._drawRanges[e];let O=0;for(let U=I.start,N=I.start+I.count;U<N;U++){let Q=U;h&&(Q=h.getX(Q)),Nc.fromBufferAttribute(_,Q),O=Math.max(O,o.center.distanceToSquared(Nc))}o.radius=Math.sqrt(O),s.sphereInitialized=!0}return t.copy(o),t}setMatrixAt(e,t){const n=this._active,s=this._matricesTexture,o=this._matricesTexture.image.data,c=this._geometryCount;return e>=c||n[e]===!1?this:(t.toArray(o,e*16),s.needsUpdate=!0,this)}getMatrixAt(e,t){const n=this._active,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||n[e]===!1?null:t.fromArray(s,e*16)}setVisibleAt(e,t){const n=this._visibility,s=this._active,o=this._geometryCount;return e>=o||s[e]===!1||n[e]===t?this:(n[e]=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._visibility,n=this._active,s=this._geometryCount;return e>=s||n[e]===!1?!1:t[e]}raycast(e,t){const n=this._visibility,s=this._active,o=this._drawRanges,c=this._geometryCount,h=this.matrixWorld,_=this.geometry;is.material=this.material,is.geometry.index=_.index,is.geometry.attributes=_.attributes,is.geometry.boundingBox===null&&(is.geometry.boundingBox=new fr),is.geometry.boundingSphere===null&&(is.geometry.boundingSphere=new Lr);for(let I=0;I<c;I++){if(!n[I]||!s[I])continue;const O=o[I];is.geometry.setDrawRange(O.start,O.count),this.getMatrixAt(I,is.matrixWorld).premultiply(h),this.getBoundingBoxAt(I,is.geometry.boundingBox),this.getBoundingSphereAt(I,is.geometry.boundingSphere),is.raycast(e,Rh);for(let U=0,N=Rh.length;U<N;U++){const Q=Rh[U];Q.object=this,Q.batchId=I,t.push(Q)}Rh.length=0}is.material=null,is.geometry.index=null,is.geometry.attributes={},is.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(t=>({...t})),this._reservedRanges=e._reservedRanges.map(t=>({...t})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(t=>({boxInitialized:t.boxInitialized,box:t.box.clone(),sphereInitialized:t.sphereInitialized,sphere:t.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,t,n,s,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const c=s.getIndex(),h=c===null?1:c.array.BYTES_PER_ELEMENT,_=this._active,I=this._visibility,O=this._multiDrawStarts,U=this._multiDrawCounts,N=this._drawRanges,Q=this.perObjectFrustumCulled;Q&&(x0.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),kp.setFromProjectionMatrix(x0,e.coordinateSystem));let K=0;if(this.sortObjects){E0.copy(this.matrixWorld).invert(),Nc.setFromMatrixPosition(n.matrixWorld).applyMatrix4(E0);for(let V=0,he=I.length;V<he;V++)if(I[V]&&_[V]){this.getMatrixAt(V,pa),this.getBoundingSphereAt(V,$a).applyMatrix4(pa);let ce=!1;if(Q&&(ce=!kp.intersectsSphere($a)),!ce){const oe=Nc.distanceTo($a.center);Fp.push(N[V],oe)}}const Z=Fp.list,Y=this.customSort;Y===null?Z.sort(o.transparent?B_:T_):Y.call(this,Z,n);for(let V=0,he=Z.length;V<he;V++){const ce=Z[V];O[K]=ce.start*h,U[K]=ce.count,K++}Fp.reset()}else for(let Z=0,Y=I.length;Z<Y;Z++)if(I[Z]&&_[Z]){let V=!1;if(Q&&(this.getMatrixAt(Z,pa),this.getBoundingSphereAt(Z,$a).applyMatrix4(pa),V=!kp.intersectsSphere($a)),!V){const he=N[Z];O[K]=he.start*h,U[K]=he.count,K++}}this._multiDrawCount=K,this._visibilityChanged=!1}onBeforeShadow(e,t,n,s,o,c){this.onBeforeRender(e,null,s,o,c)}}class ms extends ns{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new pn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Lh=new _e,Dh=new _e,w0=new xn,Gc=new Dr,Ph=new Lr,Up=new _e,_0=new _e;class ma extends Mi{constructor(e=new ai,t=new ms){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let s=1,o=t.count;s<o;s++)Lh.fromBufferAttribute(t,s-1),Dh.fromBufferAttribute(t,s),n[s]=n[s-1],n[s]+=Lh.distanceTo(Dh);e.setAttribute("lineDistance",new _n(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,s=this.matrixWorld,o=e.params.Line.threshold,c=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Ph.copy(n.boundingSphere),Ph.applyMatrix4(s),Ph.radius+=o,e.ray.intersectsSphere(Ph)===!1)return;w0.copy(s).invert(),Gc.copy(e.ray).applyMatrix4(w0);const h=o/((this.scale.x+this.scale.y+this.scale.z)/3),_=h*h,I=this.isLineSegments?2:1,O=n.index,N=n.attributes.position;if(O!==null){const Q=Math.max(0,c.start),K=Math.min(O.count,c.start+c.count);for(let Z=Q,Y=K-1;Z<Y;Z+=I){const V=O.getX(Z),he=O.getX(Z+1),ce=Oh(this,e,Gc,_,V,he);ce&&t.push(ce)}if(this.isLineLoop){const Z=O.getX(K-1),Y=O.getX(Q),V=Oh(this,e,Gc,_,Z,Y);V&&t.push(V)}}else{const Q=Math.max(0,c.start),K=Math.min(N.count,c.start+c.count);for(let Z=Q,Y=K-1;Z<Y;Z+=I){const V=Oh(this,e,Gc,_,Z,Z+1);V&&t.push(V)}if(this.isLineLoop){const Z=Oh(this,e,Gc,_,K-1,Q);Z&&t.push(Z)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const s=t[n[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,c=s.length;o<c;o++){const h=s[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=o}}}}}function Oh(a,e,t,n,s,o){const c=a.geometry.attributes.position;if(Lh.fromBufferAttribute(c,s),Dh.fromBufferAttribute(c,o),t.distanceSqToSegment(Lh,Dh,Up,_0)>n)return;Up.applyMatrix4(a.matrixWorld);const _=e.ray.origin.distanceTo(Up);if(!(_<e.near||_>e.far))return{distance:_,point:_0.clone().applyMatrix4(a.matrixWorld),index:s,face:null,faceIndex:null,object:a}}const M0=new _e,S0=new _e;class bo extends ma{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let s=0,o=t.count;s<o;s+=2)M0.fromBufferAttribute(t,s),S0.fromBufferAttribute(t,s+1),n[s]=s===0?0:n[s-1],n[s+1]=n[s]+M0.distanceTo(S0);e.setAttribute("lineDistance",new _n(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class I0 extends ma{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Np extends ns{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new pn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const T0=new xn,Gp=new Dr,kh=new Lr,Fh=new _e;class B0 extends Mi{constructor(e=new ai,t=new Np){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,s=this.matrixWorld,o=e.params.Points.threshold,c=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),kh.copy(n.boundingSphere),kh.applyMatrix4(s),kh.radius+=o,e.ray.intersectsSphere(kh)===!1)return;T0.copy(s).invert(),Gp.copy(e.ray).applyMatrix4(T0);const h=o/((this.scale.x+this.scale.y+this.scale.z)/3),_=h*h,I=n.index,U=n.attributes.position;if(I!==null){const N=Math.max(0,c.start),Q=Math.min(I.count,c.start+c.count);for(let K=N,Z=Q;K<Z;K++){const Y=I.getX(K);Fh.fromBufferAttribute(U,Y),R0(Fh,Y,_,s,e,t,this)}}else{const N=Math.max(0,c.start),Q=Math.min(U.count,c.start+c.count);for(let K=N,Z=Q;K<Z;K++)Fh.fromBufferAttribute(U,K),R0(Fh,K,_,s,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const s=t[n[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,c=s.length;o<c;o++){const h=s[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=o}}}}}function R0(a,e,t,n,s,o,c){const h=Gp.distanceSqToPoint(a);if(h<t){const _=new _e;Gp.closestPointToPoint(a,_),_.applyMatrix4(n);const I=s.ray.origin.distanceTo(_);if(I<s.near||I>s.far)return;o.push({distance:I,distanceToRay:Math.sqrt(h),point:_,index:e,face:null,object:c})}}class P_ extends Ki{constructor(e,t,n,s,o,c,h,_,I){super(e,t,n,s,o,c,h,_,I),this.isVideoTexture=!0,this.minFilter=c!==void 0?c:Rn,this.magFilter=o!==void 0?o:Rn,this.generateMipmaps=!1;const O=this;function U(){O.needsUpdate=!0,e.requestVideoFrameCallback(U)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(U)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class O_ extends Ki{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Yt,this.minFilter=Yt,this.generateMipmaps=!1,this.needsUpdate=!0}}class Uh extends Ki{constructor(e,t,n,s,o,c,h,_,I,O,U,N){super(null,c,h,_,I,O,s,o,U,N),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class k_ extends Uh{constructor(e,t,n,s,o,c){super(e,t,n,o,c),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=Ve}}class F_ extends Uh{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,J),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class U_ extends Ki{constructor(e,t,n,s,o,c,h,_,I){super(e,t,n,s,o,c,h,_,I),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ro{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,s=this.getPoint(0),o=0;t.push(0);for(let c=1;c<=e;c++)n=this.getPoint(c/e),o+=n.distanceTo(s),t.push(o),s=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let s=0;const o=n.length;let c;t?c=t:c=e*n[o-1];let h=0,_=o-1,I;for(;h<=_;)if(s=Math.floor(h+(_-h)/2),I=n[s]-c,I<0)h=s+1;else if(I>0)_=s-1;else{_=s;break}if(s=_,n[s]===c)return s/(o-1);const O=n[s],N=n[s+1]-O,Q=(c-O)/N;return(s+Q)/(o-1)}getTangent(e,t){let s=e-1e-4,o=e+1e-4;s<0&&(s=0),o>1&&(o=1);const c=this.getPoint(s),h=this.getPoint(o),_=t||(c.isVector2?new Mt:new _e);return _.copy(h).sub(c).normalize(),_}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new _e,s=[],o=[],c=[],h=new _e,_=new xn;for(let Q=0;Q<=e;Q++){const K=Q/e;s[Q]=this.getTangentAt(K,new _e)}o[0]=new _e,c[0]=new _e;let I=Number.MAX_VALUE;const O=Math.abs(s[0].x),U=Math.abs(s[0].y),N=Math.abs(s[0].z);O<=I&&(I=O,n.set(1,0,0)),U<=I&&(I=U,n.set(0,1,0)),N<=I&&n.set(0,0,1),h.crossVectors(s[0],n).normalize(),o[0].crossVectors(s[0],h),c[0].crossVectors(s[0],o[0]);for(let Q=1;Q<=e;Q++){if(o[Q]=o[Q-1].clone(),c[Q]=c[Q-1].clone(),h.crossVectors(s[Q-1],s[Q]),h.length()>Number.EPSILON){h.normalize();const K=Math.acos(lr(s[Q-1].dot(s[Q]),-1,1));o[Q].applyMatrix4(_.makeRotationAxis(h,K))}c[Q].crossVectors(s[Q],o[Q])}if(t===!0){let Q=Math.acos(lr(o[0].dot(o[e]),-1,1));Q/=e,s[0].dot(h.crossVectors(o[0],o[e]))>0&&(Q=-Q);for(let K=1;K<=e;K++)o[K].applyMatrix4(_.makeRotationAxis(s[K],Q*K)),c[K].crossVectors(s[K],o[K])}return{tangents:s,normals:o,binormals:c}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Nh extends ro{constructor(e=0,t=0,n=1,s=1,o=0,c=Math.PI*2,h=!1,_=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=s,this.aStartAngle=o,this.aEndAngle=c,this.aClockwise=h,this.aRotation=_}getPoint(e,t=new Mt){const n=t,s=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const c=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=s;for(;o>s;)o-=s;o<Number.EPSILON&&(c?o=0:o=s),this.aClockwise===!0&&!c&&(o===s?o=-s:o=o-s);const h=this.aStartAngle+e*o;let _=this.aX+this.xRadius*Math.cos(h),I=this.aY+this.yRadius*Math.sin(h);if(this.aRotation!==0){const O=Math.cos(this.aRotation),U=Math.sin(this.aRotation),N=_-this.aX,Q=I-this.aY;_=N*O-Q*U+this.aX,I=N*U+Q*O+this.aY}return n.set(_,I)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class L0 extends Nh{constructor(e,t,n,s,o,c){super(e,t,n,n,s,o,c),this.isArcCurve=!0,this.type="ArcCurve"}}function Qp(){let a=0,e=0,t=0,n=0;function s(o,c,h,_){a=o,e=h,t=-3*o+3*c-2*h-_,n=2*o-2*c+h+_}return{initCatmullRom:function(o,c,h,_,I){s(c,h,I*(h-o),I*(_-c))},initNonuniformCatmullRom:function(o,c,h,_,I,O,U){let N=(c-o)/I-(h-o)/(I+O)+(h-c)/O,Q=(h-c)/O-(_-c)/(O+U)+(_-h)/U;N*=O,Q*=O,s(c,h,N,Q)},calc:function(o){const c=o*o,h=c*o;return a+e*o+t*c+n*h}}}const Gh=new _e,Hp=new Qp,Vp=new Qp,zp=new Qp;class D0 extends ro{constructor(e=[],t=!1,n="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=s}getPoint(e,t=new _e){const n=t,s=this.points,o=s.length,c=(o-(this.closed?0:1))*e;let h=Math.floor(c),_=c-h;this.closed?h+=h>0?0:(Math.floor(Math.abs(h)/o)+1)*o:_===0&&h===o-1&&(h=o-2,_=1);let I,O;this.closed||h>0?I=s[(h-1)%o]:(Gh.subVectors(s[0],s[1]).add(s[0]),I=Gh);const U=s[h%o],N=s[(h+1)%o];if(this.closed||h+2<o?O=s[(h+2)%o]:(Gh.subVectors(s[o-1],s[o-2]).add(s[o-1]),O=Gh),this.curveType==="centripetal"||this.curveType==="chordal"){const Q=this.curveType==="chordal"?.5:.25;let K=Math.pow(I.distanceToSquared(U),Q),Z=Math.pow(U.distanceToSquared(N),Q),Y=Math.pow(N.distanceToSquared(O),Q);Z<1e-4&&(Z=1),K<1e-4&&(K=Z),Y<1e-4&&(Y=Z),Hp.initNonuniformCatmullRom(I.x,U.x,N.x,O.x,K,Z,Y),Vp.initNonuniformCatmullRom(I.y,U.y,N.y,O.y,K,Z,Y),zp.initNonuniformCatmullRom(I.z,U.z,N.z,O.z,K,Z,Y)}else this.curveType==="catmullrom"&&(Hp.initCatmullRom(I.x,U.x,N.x,O.x,this.tension),Vp.initCatmullRom(I.y,U.y,N.y,O.y,this.tension),zp.initCatmullRom(I.z,U.z,N.z,O.z,this.tension));return n.set(Hp.calc(_),Vp.calc(_),zp.calc(_)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const s=e.points[t];this.points.push(s.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const s=this.points[t];e.points.push(s.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const s=e.points[t];this.points.push(new _e().fromArray(s))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function P0(a,e,t,n,s){const o=(n-e)*.5,c=(s-t)*.5,h=a*a,_=a*h;return(2*t-2*n+o+c)*_+(-3*t+3*n-2*o-c)*h+o*a+t}function N_(a,e){const t=1-a;return t*t*e}function G_(a,e){return 2*(1-a)*a*e}function Q_(a,e){return a*a*e}function Qc(a,e,t,n){return N_(a,e)+G_(a,t)+Q_(a,n)}function H_(a,e){const t=1-a;return t*t*t*e}function V_(a,e){const t=1-a;return 3*t*t*a*e}function z_(a,e){return 3*(1-a)*a*a*e}function j_(a,e){return a*a*a*e}function Hc(a,e,t,n,s){return H_(a,e)+V_(a,t)+z_(a,n)+j_(a,s)}class jp extends ro{constructor(e=new Mt,t=new Mt,n=new Mt,s=new Mt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=s}getPoint(e,t=new Mt){const n=t,s=this.v0,o=this.v1,c=this.v2,h=this.v3;return n.set(Hc(e,s.x,o.x,c.x,h.x),Hc(e,s.y,o.y,c.y,h.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class O0 extends ro{constructor(e=new _e,t=new _e,n=new _e,s=new _e){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=s}getPoint(e,t=new _e){const n=t,s=this.v0,o=this.v1,c=this.v2,h=this.v3;return n.set(Hc(e,s.x,o.x,c.x,h.x),Hc(e,s.y,o.y,c.y,h.y),Hc(e,s.z,o.z,c.z,h.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Wp extends ro{constructor(e=new Mt,t=new Mt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Mt){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Mt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class k0 extends ro{constructor(e=new _e,t=new _e){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new _e){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new _e){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Kp extends ro{constructor(e=new Mt,t=new Mt,n=new Mt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Mt){const n=t,s=this.v0,o=this.v1,c=this.v2;return n.set(Qc(e,s.x,o.x,c.x),Qc(e,s.y,o.y,c.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Xp extends ro{constructor(e=new _e,t=new _e,n=new _e){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new _e){const n=t,s=this.v0,o=this.v1,c=this.v2;return n.set(Qc(e,s.x,o.x,c.x),Qc(e,s.y,o.y,c.y),Qc(e,s.z,o.z,c.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Yp extends ro{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Mt){const n=t,s=this.points,o=(s.length-1)*e,c=Math.floor(o),h=o-c,_=s[c===0?c:c-1],I=s[c],O=s[c>s.length-2?s.length-1:c+1],U=s[c>s.length-3?s.length-1:c+2];return n.set(P0(h,_.x,I.x,O.x,U.x),P0(h,_.y,I.y,O.y,U.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const s=e.points[t];this.points.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const s=this.points[t];e.points.push(s.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const s=e.points[t];this.points.push(new Mt().fromArray(s))}return this}}var Qh=Object.freeze({__proto__:null,ArcCurve:L0,CatmullRomCurve3:D0,CubicBezierCurve:jp,CubicBezierCurve3:O0,EllipseCurve:Nh,LineCurve:Wp,LineCurve3:k0,QuadraticBezierCurve:Kp,QuadraticBezierCurve3:Xp,SplineCurve:Yp});class F0 extends ro{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Qh[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),s=this.getCurveLengths();let o=0;for(;o<s.length;){if(s[o]>=n){const c=s[o]-n,h=this.curves[o],_=h.getLength(),I=_===0?0:1-c/_;return h.getPointAt(I,t)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,s=this.curves.length;n<s;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let s=0,o=this.curves;s<o.length;s++){const c=o[s],h=c.isEllipseCurve?e*2:c.isLineCurve||c.isLineCurve3?1:c.isSplineCurve?e*c.points.length:e,_=c.getPoints(h);for(let I=0;I<_.length;I++){const O=_[I];n&&n.equals(O)||(t.push(O),n=O)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const s=e.curves[t];this.curves.push(s.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const s=this.curves[t];e.curves.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const s=e.curves[t];this.curves.push(new Qh[s.type]().fromJSON(s))}return this}}class Vc extends F0{constructor(e){super(),this.type="Path",this.currentPoint=new Mt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new Wp(this.currentPoint.clone(),new Mt(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,s){const o=new Kp(this.currentPoint.clone(),new Mt(e,t),new Mt(n,s));return this.curves.push(o),this.currentPoint.set(n,s),this}bezierCurveTo(e,t,n,s,o,c){const h=new jp(this.currentPoint.clone(),new Mt(e,t),new Mt(n,s),new Mt(o,c));return this.curves.push(h),this.currentPoint.set(o,c),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new Yp(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,s,o,c){const h=this.currentPoint.x,_=this.currentPoint.y;return this.absarc(e+h,t+_,n,s,o,c),this}absarc(e,t,n,s,o,c){return this.absellipse(e,t,n,n,s,o,c),this}ellipse(e,t,n,s,o,c,h,_){const I=this.currentPoint.x,O=this.currentPoint.y;return this.absellipse(e+I,t+O,n,s,o,c,h,_),this}absellipse(e,t,n,s,o,c,h,_){const I=new Nh(e,t,n,s,o,c,h,_);if(this.curves.length>0){const U=I.getPoint(0);U.equals(this.currentPoint)||this.lineTo(U.x,U.y)}this.curves.push(I);const O=I.getPoint(1);return this.currentPoint.copy(O),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class zc extends ai{constructor(e=[new Mt(0,-.5),new Mt(.5,0),new Mt(0,.5)],t=12,n=0,s=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:s},t=Math.floor(t),s=lr(s,0,Math.PI*2);const o=[],c=[],h=[],_=[],I=[],O=1/t,U=new _e,N=new Mt,Q=new _e,K=new _e,Z=new _e;let Y=0,V=0;for(let he=0;he<=e.length-1;he++)switch(he){case 0:Y=e[he+1].x-e[he].x,V=e[he+1].y-e[he].y,Q.x=V*1,Q.y=-Y,Q.z=V*0,Z.copy(Q),Q.normalize(),_.push(Q.x,Q.y,Q.z);break;case e.length-1:_.push(Z.x,Z.y,Z.z);break;default:Y=e[he+1].x-e[he].x,V=e[he+1].y-e[he].y,Q.x=V*1,Q.y=-Y,Q.z=V*0,K.copy(Q),Q.x+=Z.x,Q.y+=Z.y,Q.z+=Z.z,Q.normalize(),_.push(Q.x,Q.y,Q.z),Z.copy(K)}for(let he=0;he<=t;he++){const ce=n+he*O*s,oe=Math.sin(ce),Ge=Math.cos(ce);for(let Se=0;Se<=e.length-1;Se++){U.x=e[Se].x*oe,U.y=e[Se].y,U.z=e[Se].x*Ge,c.push(U.x,U.y,U.z),N.x=he/t,N.y=Se/(e.length-1),h.push(N.x,N.y);const Le=_[3*Se+0]*oe,Ue=_[3*Se+1],ye=_[3*Se+0]*Ge;I.push(Le,Ue,ye)}}for(let he=0;he<t;he++)for(let ce=0;ce<e.length-1;ce++){const oe=ce+he*e.length,Ge=oe,Se=oe+e.length,Le=oe+e.length+1,Ue=oe+1;o.push(Ge,Se,Ue),o.push(Le,Ue,Se)}this.setIndex(o),this.setAttribute("position",new _n(c,3)),this.setAttribute("uv",new _n(h,2)),this.setAttribute("normal",new _n(I,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zc(e.points,e.segments,e.phiStart,e.phiLength)}}class Hh extends zc{constructor(e=1,t=1,n=4,s=8){const o=new Vc;o.absarc(0,-t/2,e,Math.PI*1.5,0),o.absarc(0,t/2,e,0,Math.PI*.5),super(o.getPoints(n),s),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:n,radialSegments:s}}static fromJSON(e){return new Hh(e.radius,e.length,e.capSegments,e.radialSegments)}}class Vh extends ai{constructor(e=1,t=32,n=0,s=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:s},t=Math.max(3,t);const o=[],c=[],h=[],_=[],I=new _e,O=new Mt;c.push(0,0,0),h.push(0,0,1),_.push(.5,.5);for(let U=0,N=3;U<=t;U++,N+=3){const Q=n+U/t*s;I.x=e*Math.cos(Q),I.y=e*Math.sin(Q),c.push(I.x,I.y,I.z),h.push(0,0,1),O.x=(c[N]/e+1)/2,O.y=(c[N+1]/e+1)/2,_.push(O.x,O.y)}for(let U=1;U<=t;U++)o.push(U,U+1,0);this.setIndex(o),this.setAttribute("position",new _n(c,3)),this.setAttribute("normal",new _n(h,3)),this.setAttribute("uv",new _n(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vh(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Jl extends ai{constructor(e=1,t=1,n=1,s=32,o=1,c=!1,h=0,_=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:s,heightSegments:o,openEnded:c,thetaStart:h,thetaLength:_};const I=this;s=Math.floor(s),o=Math.floor(o);const O=[],U=[],N=[],Q=[];let K=0;const Z=[],Y=n/2;let V=0;he(),c===!1&&(e>0&&ce(!0),t>0&&ce(!1)),this.setIndex(O),this.setAttribute("position",new _n(U,3)),this.setAttribute("normal",new _n(N,3)),this.setAttribute("uv",new _n(Q,2));function he(){const oe=new _e,Ge=new _e;let Se=0;const Le=(t-e)/n;for(let Ue=0;Ue<=o;Ue++){const ye=[],me=Ue/o,Ne=me*(t-e)+e;for(let $e=0;$e<=s;$e++){const ze=$e/s,Ze=ze*_+h,ct=Math.sin(Ze),xt=Math.cos(Ze);Ge.x=Ne*ct,Ge.y=-me*n+Y,Ge.z=Ne*xt,U.push(Ge.x,Ge.y,Ge.z),oe.set(ct,Le,xt).normalize(),N.push(oe.x,oe.y,oe.z),Q.push(ze,1-me),ye.push(K++)}Z.push(ye)}for(let Ue=0;Ue<s;Ue++)for(let ye=0;ye<o;ye++){const me=Z[ye][Ue],Ne=Z[ye+1][Ue],$e=Z[ye+1][Ue+1],ze=Z[ye][Ue+1];O.push(me,Ne,ze),O.push(Ne,$e,ze),Se+=6}I.addGroup(V,Se,0),V+=Se}function ce(oe){const Ge=K,Se=new Mt,Le=new _e;let Ue=0;const ye=oe===!0?e:t,me=oe===!0?1:-1;for(let $e=1;$e<=s;$e++)U.push(0,Y*me,0),N.push(0,me,0),Q.push(.5,.5),K++;const Ne=K;for(let $e=0;$e<=s;$e++){const Ze=$e/s*_+h,ct=Math.cos(Ze),xt=Math.sin(Ze);Le.x=ye*xt,Le.y=Y*me,Le.z=ye*ct,U.push(Le.x,Le.y,Le.z),N.push(0,me,0),Se.x=ct*.5+.5,Se.y=xt*.5*me+.5,Q.push(Se.x,Se.y),K++}for(let $e=0;$e<s;$e++){const ze=Ge+$e,Ze=Ne+$e;oe===!0?O.push(Ze,Ze+1,ze):O.push(Ze+1,Ze,ze),Ue+=3}I.addGroup(V,Ue,oe===!0?1:2),V+=Ue}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jl(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class zh extends Jl{constructor(e=1,t=1,n=32,s=1,o=!1,c=0,h=Math.PI*2){super(0,e,t,n,s,o,c,h),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:s,openEnded:o,thetaStart:c,thetaLength:h}}static fromJSON(e){return new zh(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Aa extends ai{constructor(e=[],t=[],n=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:s};const o=[],c=[];h(s),I(n),O(),this.setAttribute("position",new _n(o,3)),this.setAttribute("normal",new _n(o.slice(),3)),this.setAttribute("uv",new _n(c,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function h(he){const ce=new _e,oe=new _e,Ge=new _e;for(let Se=0;Se<t.length;Se+=3)Q(t[Se+0],ce),Q(t[Se+1],oe),Q(t[Se+2],Ge),_(ce,oe,Ge,he)}function _(he,ce,oe,Ge){const Se=Ge+1,Le=[];for(let Ue=0;Ue<=Se;Ue++){Le[Ue]=[];const ye=he.clone().lerp(oe,Ue/Se),me=ce.clone().lerp(oe,Ue/Se),Ne=Se-Ue;for(let $e=0;$e<=Ne;$e++)$e===0&&Ue===Se?Le[Ue][$e]=ye:Le[Ue][$e]=ye.clone().lerp(me,$e/Ne)}for(let Ue=0;Ue<Se;Ue++)for(let ye=0;ye<2*(Se-Ue)-1;ye++){const me=Math.floor(ye/2);ye%2===0?(N(Le[Ue][me+1]),N(Le[Ue+1][me]),N(Le[Ue][me])):(N(Le[Ue][me+1]),N(Le[Ue+1][me+1]),N(Le[Ue+1][me]))}}function I(he){const ce=new _e;for(let oe=0;oe<o.length;oe+=3)ce.x=o[oe+0],ce.y=o[oe+1],ce.z=o[oe+2],ce.normalize().multiplyScalar(he),o[oe+0]=ce.x,o[oe+1]=ce.y,o[oe+2]=ce.z}function O(){const he=new _e;for(let ce=0;ce<o.length;ce+=3){he.x=o[ce+0],he.y=o[ce+1],he.z=o[ce+2];const oe=Y(he)/2/Math.PI+.5,Ge=V(he)/Math.PI+.5;c.push(oe,1-Ge)}K(),U()}function U(){for(let he=0;he<c.length;he+=6){const ce=c[he+0],oe=c[he+2],Ge=c[he+4],Se=Math.max(ce,oe,Ge),Le=Math.min(ce,oe,Ge);Se>.9&&Le<.1&&(ce<.2&&(c[he+0]+=1),oe<.2&&(c[he+2]+=1),Ge<.2&&(c[he+4]+=1))}}function N(he){o.push(he.x,he.y,he.z)}function Q(he,ce){const oe=he*3;ce.x=e[oe+0],ce.y=e[oe+1],ce.z=e[oe+2]}function K(){const he=new _e,ce=new _e,oe=new _e,Ge=new _e,Se=new Mt,Le=new Mt,Ue=new Mt;for(let ye=0,me=0;ye<o.length;ye+=9,me+=6){he.set(o[ye+0],o[ye+1],o[ye+2]),ce.set(o[ye+3],o[ye+4],o[ye+5]),oe.set(o[ye+6],o[ye+7],o[ye+8]),Se.set(c[me+0],c[me+1]),Le.set(c[me+2],c[me+3]),Ue.set(c[me+4],c[me+5]),Ge.copy(he).add(ce).add(oe).divideScalar(3);const Ne=Y(Ge);Z(Se,me+0,he,Ne),Z(Le,me+2,ce,Ne),Z(Ue,me+4,oe,Ne)}}function Z(he,ce,oe,Ge){Ge<0&&he.x===1&&(c[ce]=he.x-1),oe.x===0&&oe.z===0&&(c[ce]=Ge/2/Math.PI+.5)}function Y(he){return Math.atan2(he.z,-he.x)}function V(he){return Math.atan2(-he.y,Math.sqrt(he.x*he.x+he.z*he.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Aa(e.vertices,e.indices,e.radius,e.details)}}class jh extends Aa{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,s=1/n,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-n,0,-s,n,0,s,-n,0,s,n,-s,-n,0,-s,n,0,s,-n,0,s,n,0,-n,0,-s,n,0,-s,-n,0,s,n,0,s],c=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,c,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new jh(e.radius,e.detail)}}const Wh=new _e,Kh=new _e,$p=new _e,Xh=new Ps;class U0 extends ai{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const s=Math.pow(10,4),o=Math.cos(Do*t),c=e.getIndex(),h=e.getAttribute("position"),_=c?c.count:h.count,I=[0,0,0],O=["a","b","c"],U=new Array(3),N={},Q=[];for(let K=0;K<_;K+=3){c?(I[0]=c.getX(K),I[1]=c.getX(K+1),I[2]=c.getX(K+2)):(I[0]=K,I[1]=K+1,I[2]=K+2);const{a:Z,b:Y,c:V}=Xh;if(Z.fromBufferAttribute(h,I[0]),Y.fromBufferAttribute(h,I[1]),V.fromBufferAttribute(h,I[2]),Xh.getNormal($p),U[0]="".concat(Math.round(Z.x*s),",").concat(Math.round(Z.y*s),",").concat(Math.round(Z.z*s)),U[1]="".concat(Math.round(Y.x*s),",").concat(Math.round(Y.y*s),",").concat(Math.round(Y.z*s)),U[2]="".concat(Math.round(V.x*s),",").concat(Math.round(V.y*s),",").concat(Math.round(V.z*s)),!(U[0]===U[1]||U[1]===U[2]||U[2]===U[0]))for(let he=0;he<3;he++){const ce=(he+1)%3,oe=U[he],Ge=U[ce],Se=Xh[O[he]],Le=Xh[O[ce]],Ue="".concat(oe,"_").concat(Ge),ye="".concat(Ge,"_").concat(oe);ye in N&&N[ye]?($p.dot(N[ye].normal)<=o&&(Q.push(Se.x,Se.y,Se.z),Q.push(Le.x,Le.y,Le.z)),N[ye]=null):Ue in N||(N[Ue]={index0:I[he],index1:I[ce],normal:$p.clone()})}}for(const K in N)if(N[K]){const{index0:Z,index1:Y}=N[K];Wh.fromBufferAttribute(h,Z),Kh.fromBufferAttribute(h,Y),Q.push(Wh.x,Wh.y,Wh.z),Q.push(Kh.x,Kh.y,Kh.z)}this.setAttribute("position",new _n(Q,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class qa extends Vc{constructor(e){super(e),this.uuid=hs(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,s=this.holes.length;n<s;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const s=e.holes[t];this.holes.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const s=this.holes[t];e.holes.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const s=e.holes[t];this.holes.push(new Vc().fromJSON(s))}return this}}const W_={triangulate:function(a,e,t=2){const n=e&&e.length,s=n?e[0]*t:a.length;let o=N0(a,0,s,t,!0);const c=[];if(!o||o.next===o.prev)return c;let h,_,I,O,U,N,Q;if(n&&(o=q_(a,e,o,t)),a.length>80*t){h=I=a[0],_=O=a[1];for(let K=t;K<s;K+=t)U=a[K],N=a[K+1],U<h&&(h=U),N<_&&(_=N),U>I&&(I=U),N>O&&(O=N);Q=Math.max(I-h,O-_),Q=Q!==0?32767/Q:0}return jc(o,c,t,h,_,Q,0),c}};function N0(a,e,t,n,s){let o,c;if(s===l3(a,e,t,n)>0)for(o=e;o<t;o+=n)c=H0(o,a[o],a[o+1],c);else for(o=t-n;o>=e;o-=n)c=H0(o,a[o],a[o+1],c);return c&&Yh(c,c.next)&&(Kc(c),c=c.next),c}function Ja(a,e){if(!a)return a;e||(e=a);let t=a,n;do if(n=!1,!t.steiner&&(Yh(t,t.next)||pr(t.prev,t,t.next)===0)){if(Kc(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function jc(a,e,t,n,s,o,c){if(!a)return;!c&&o&&n3(a,n,s,o);let h=a,_,I;for(;a.prev!==a.next;){if(_=a.prev,I=a.next,o?X_(a,n,s,o):K_(a)){e.push(_.i/t|0),e.push(a.i/t|0),e.push(I.i/t|0),Kc(a),a=I.next,h=I.next;continue}if(a=I,a===h){c?c===1?(a=Y_(Ja(a),e,t),jc(a,e,t,n,s,o,2)):c===2&&$_(a,e,t,n,s,o):jc(Ja(a),e,t,n,s,o,1);break}}}function K_(a){const e=a.prev,t=a,n=a.next;if(pr(e,t,n)>=0)return!1;const s=e.x,o=t.x,c=n.x,h=e.y,_=t.y,I=n.y,O=s<o?s<c?s:c:o<c?o:c,U=h<_?h<I?h:I:_<I?_:I,N=s>o?s>c?s:c:o>c?o:c,Q=h>_?h>I?h:I:_>I?_:I;let K=n.next;for(;K!==e;){if(K.x>=O&&K.x<=N&&K.y>=U&&K.y<=Q&&Zl(s,h,o,_,c,I,K.x,K.y)&&pr(K.prev,K,K.next)>=0)return!1;K=K.next}return!0}function X_(a,e,t,n){const s=a.prev,o=a,c=a.next;if(pr(s,o,c)>=0)return!1;const h=s.x,_=o.x,I=c.x,O=s.y,U=o.y,N=c.y,Q=h<_?h<I?h:I:_<I?_:I,K=O<U?O<N?O:N:U<N?U:N,Z=h>_?h>I?h:I:_>I?_:I,Y=O>U?O>N?O:N:U>N?U:N,V=qp(Q,K,e,t,n),he=qp(Z,Y,e,t,n);let ce=a.prevZ,oe=a.nextZ;for(;ce&&ce.z>=V&&oe&&oe.z<=he;){if(ce.x>=Q&&ce.x<=Z&&ce.y>=K&&ce.y<=Y&&ce!==s&&ce!==c&&Zl(h,O,_,U,I,N,ce.x,ce.y)&&pr(ce.prev,ce,ce.next)>=0||(ce=ce.prevZ,oe.x>=Q&&oe.x<=Z&&oe.y>=K&&oe.y<=Y&&oe!==s&&oe!==c&&Zl(h,O,_,U,I,N,oe.x,oe.y)&&pr(oe.prev,oe,oe.next)>=0))return!1;oe=oe.nextZ}for(;ce&&ce.z>=V;){if(ce.x>=Q&&ce.x<=Z&&ce.y>=K&&ce.y<=Y&&ce!==s&&ce!==c&&Zl(h,O,_,U,I,N,ce.x,ce.y)&&pr(ce.prev,ce,ce.next)>=0)return!1;ce=ce.prevZ}for(;oe&&oe.z<=he;){if(oe.x>=Q&&oe.x<=Z&&oe.y>=K&&oe.y<=Y&&oe!==s&&oe!==c&&Zl(h,O,_,U,I,N,oe.x,oe.y)&&pr(oe.prev,oe,oe.next)>=0)return!1;oe=oe.nextZ}return!0}function Y_(a,e,t){let n=a;do{const s=n.prev,o=n.next.next;!Yh(s,o)&&G0(s,n,n.next,o)&&Wc(s,o)&&Wc(o,s)&&(e.push(s.i/t|0),e.push(n.i/t|0),e.push(o.i/t|0),Kc(n),Kc(n.next),n=a=o),n=n.next}while(n!==a);return Ja(n)}function $_(a,e,t,n,s,o){let c=a;do{let h=c.next.next;for(;h!==c.prev;){if(c.i!==h.i&&s3(c,h)){let _=Q0(c,h);c=Ja(c,c.next),_=Ja(_,_.next),jc(c,e,t,n,s,o,0),jc(_,e,t,n,s,o,0);return}h=h.next}c=c.next}while(c!==a)}function q_(a,e,t,n){const s=[];let o,c,h,_,I;for(o=0,c=e.length;o<c;o++)h=e[o]*n,_=o<c-1?e[o+1]*n:a.length,I=N0(a,h,_,n,!1),I===I.next&&(I.steiner=!0),s.push(r3(I));for(s.sort(J_),o=0;o<s.length;o++)t=Z_(s[o],t);return t}function J_(a,e){return a.x-e.x}function Z_(a,e){const t=e3(a,e);if(!t)return e;const n=Q0(t,a);return Ja(n,n.next),Ja(t,t.next)}function e3(a,e){let t=e,n=-1/0,s;const o=a.x,c=a.y;do{if(c<=t.y&&c>=t.next.y&&t.next.y!==t.y){const N=t.x+(c-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(N<=o&&N>n&&(n=N,s=t.x<t.next.x?t:t.next,N===o))return s}t=t.next}while(t!==e);if(!s)return null;const h=s,_=s.x,I=s.y;let O=1/0,U;t=s;do o>=t.x&&t.x>=_&&o!==t.x&&Zl(c<I?o:n,c,_,I,c<I?n:o,c,t.x,t.y)&&(U=Math.abs(c-t.y)/(o-t.x),Wc(t,a)&&(U<O||U===O&&(t.x>s.x||t.x===s.x&&t3(s,t)))&&(s=t,O=U)),t=t.next;while(t!==h);return s}function t3(a,e){return pr(a.prev,a,e.prev)<0&&pr(e.next,a,a.next)<0}function n3(a,e,t,n){let s=a;do s.z===0&&(s.z=qp(s.x,s.y,e,t,n)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==a);s.prevZ.nextZ=null,s.prevZ=null,i3(s)}function i3(a){let e,t,n,s,o,c,h,_,I=1;do{for(t=a,a=null,o=null,c=0;t;){for(c++,n=t,h=0,e=0;e<I&&(h++,n=n.nextZ,!!n);e++);for(_=I;h>0||_>0&&n;)h!==0&&(_===0||!n||t.z<=n.z)?(s=t,t=t.nextZ,h--):(s=n,n=n.nextZ,_--),o?o.nextZ=s:a=s,s.prevZ=o,o=s;t=n}o.nextZ=null,I*=2}while(c>1);return a}function qp(a,e,t,n,s){return a=(a-t)*s|0,e=(e-n)*s|0,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,a|e<<1}function r3(a){let e=a,t=a;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==a);return t}function Zl(a,e,t,n,s,o,c,h){return(s-c)*(e-h)>=(a-c)*(o-h)&&(a-c)*(n-h)>=(t-c)*(e-h)&&(t-c)*(o-h)>=(s-c)*(n-h)}function s3(a,e){return a.next.i!==e.i&&a.prev.i!==e.i&&!o3(a,e)&&(Wc(a,e)&&Wc(e,a)&&a3(a,e)&&(pr(a.prev,a,e.prev)||pr(a,e.prev,e))||Yh(a,e)&&pr(a.prev,a,a.next)>0&&pr(e.prev,e,e.next)>0)}function pr(a,e,t){return(e.y-a.y)*(t.x-e.x)-(e.x-a.x)*(t.y-e.y)}function Yh(a,e){return a.x===e.x&&a.y===e.y}function G0(a,e,t,n){const s=qh(pr(a,e,t)),o=qh(pr(a,e,n)),c=qh(pr(t,n,a)),h=qh(pr(t,n,e));return!!(s!==o&&c!==h||s===0&&$h(a,t,e)||o===0&&$h(a,n,e)||c===0&&$h(t,a,n)||h===0&&$h(t,e,n))}function $h(a,e,t){return e.x<=Math.max(a.x,t.x)&&e.x>=Math.min(a.x,t.x)&&e.y<=Math.max(a.y,t.y)&&e.y>=Math.min(a.y,t.y)}function qh(a){return a>0?1:a<0?-1:0}function o3(a,e){let t=a;do{if(t.i!==a.i&&t.next.i!==a.i&&t.i!==e.i&&t.next.i!==e.i&&G0(t,t.next,a,e))return!0;t=t.next}while(t!==a);return!1}function Wc(a,e){return pr(a.prev,a,a.next)<0?pr(a,e,a.next)>=0&&pr(a,a.prev,e)>=0:pr(a,e,a.prev)<0||pr(a,a.next,e)<0}function a3(a,e){let t=a,n=!1;const s=(a.x+e.x)/2,o=(a.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&s<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==a);return n}function Q0(a,e){const t=new Jp(a.i,a.x,a.y),n=new Jp(e.i,e.x,e.y),s=a.next,o=e.prev;return a.next=e,e.prev=a,t.next=s,s.prev=t,n.next=t,t.prev=n,o.next=n,n.prev=o,n}function H0(a,e,t,n){const s=new Jp(a,e,t);return n?(s.next=n.next,s.prev=n,n.next.prev=s,n.next=s):(s.prev=s,s.next=s),s}function Kc(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function Jp(a,e,t){this.i=a,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function l3(a,e,t,n){let s=0;for(let o=e,c=t-n;o<t;o+=n)s+=(a[c]-a[o])*(a[o+1]+a[c+1]),c=o;return s}class yo{static area(e){const t=e.length;let n=0;for(let s=t-1,o=0;o<t;s=o++)n+=e[s].x*e[o].y-e[o].x*e[s].y;return n*.5}static isClockWise(e){return yo.area(e)<0}static triangulateShape(e,t){const n=[],s=[],o=[];V0(e),z0(n,e);let c=e.length;t.forEach(V0);for(let _=0;_<t.length;_++)s.push(c),c+=t[_].length,z0(n,t[_]);const h=W_.triangulate(n,s);for(let _=0;_<h.length;_+=3)o.push(h.slice(_,_+3));return o}}function V0(a){const e=a.length;e>2&&a[e-1].equals(a[0])&&a.pop()}function z0(a,e){for(let t=0;t<e.length;t++)a.push(e[t].x),a.push(e[t].y)}class Jh extends ai{constructor(e=new qa([new Mt(.5,.5),new Mt(-.5,.5),new Mt(-.5,-.5),new Mt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,s=[],o=[];for(let h=0,_=e.length;h<_;h++){const I=e[h];c(I)}this.setAttribute("position",new _n(s,3)),this.setAttribute("uv",new _n(o,2)),this.computeVertexNormals();function c(h){const _=[],I=t.curveSegments!==void 0?t.curveSegments:12,O=t.steps!==void 0?t.steps:1,U=t.depth!==void 0?t.depth:1;let N=t.bevelEnabled!==void 0?t.bevelEnabled:!0,Q=t.bevelThickness!==void 0?t.bevelThickness:.2,K=t.bevelSize!==void 0?t.bevelSize:Q-.1,Z=t.bevelOffset!==void 0?t.bevelOffset:0,Y=t.bevelSegments!==void 0?t.bevelSegments:3;const V=t.extrudePath,he=t.UVGenerator!==void 0?t.UVGenerator:c3;let ce,oe=!1,Ge,Se,Le,Ue;V&&(ce=V.getSpacedPoints(O),oe=!0,N=!1,Ge=V.computeFrenetFrames(O,!1),Se=new _e,Le=new _e,Ue=new _e),N||(Y=0,Q=0,K=0,Z=0);const ye=h.extractPoints(I);let me=ye.shape;const Ne=ye.holes;if(!yo.isClockWise(me)){me=me.reverse();for(let Tt=0,vt=Ne.length;Tt<vt;Tt++){const zt=Ne[Tt];yo.isClockWise(zt)&&(Ne[Tt]=zt.reverse())}}const ze=yo.triangulateShape(me,Ne),Ze=me;for(let Tt=0,vt=Ne.length;Tt<vt;Tt++){const zt=Ne[Tt];me=me.concat(zt)}function ct(Tt,vt,zt){return vt||console.error("THREE.ExtrudeGeometry: vec does not exist"),Tt.clone().addScaledVector(vt,zt)}const xt=me.length,Jt=ze.length;function ht(Tt,vt,zt){let Ht,Ft,on;const fn=Tt.x-vt.x,zn=Tt.y-vt.y,$n=zt.x-Tt.x,Ii=zt.y-Tt.y,mr=fn*fn+zn*zn,$i=fn*Ii-zn*$n;if(Math.abs($i)>Number.EPSILON){const Oe=Math.sqrt(mr),Ae=Math.sqrt($n*$n+Ii*Ii),At=vt.x-zn/Oe,St=vt.y+fn/Oe,Rt=zt.x-Ii/Ae,Bt=zt.y+$n/Ae,Mn=((Rt-At)*Ii-(Bt-St)*$n)/(fn*Ii-zn*$n);Ht=At+fn*Mn-Tt.x,Ft=St+zn*Mn-Tt.y;const Zt=Ht*Ht+Ft*Ft;if(Zt<=2)return new Mt(Ht,Ft);on=Math.sqrt(Zt/2)}else{let Oe=!1;fn>Number.EPSILON?$n>Number.EPSILON&&(Oe=!0):fn<-Number.EPSILON?$n<-Number.EPSILON&&(Oe=!0):Math.sign(zn)===Math.sign(Ii)&&(Oe=!0),Oe?(Ht=-zn,Ft=fn,on=Math.sqrt(mr)):(Ht=fn,Ft=zn,on=Math.sqrt(mr/2))}return new Mt(Ht/on,Ft/on)}const jt=[];for(let Tt=0,vt=Ze.length,zt=vt-1,Ht=Tt+1;Tt<vt;Tt++,zt++,Ht++)zt===vt&&(zt=0),Ht===vt&&(Ht=0),jt[Tt]=ht(Ze[Tt],Ze[zt],Ze[Ht]);const $t=[];let yn,li=jt.concat();for(let Tt=0,vt=Ne.length;Tt<vt;Tt++){const zt=Ne[Tt];yn=[];for(let Ht=0,Ft=zt.length,on=Ft-1,fn=Ht+1;Ht<Ft;Ht++,on++,fn++)on===Ft&&(on=0),fn===Ft&&(fn=0),yn[Ht]=ht(zt[Ht],zt[on],zt[fn]);$t.push(yn),li=li.concat(yn)}for(let Tt=0;Tt<Y;Tt++){const vt=Tt/Y,zt=Q*Math.cos(vt*Math.PI/2),Ht=K*Math.sin(vt*Math.PI/2)+Z;for(let Ft=0,on=Ze.length;Ft<on;Ft++){const fn=ct(Ze[Ft],jt[Ft],Ht);Cn(fn.x,fn.y,-zt)}for(let Ft=0,on=Ne.length;Ft<on;Ft++){const fn=Ne[Ft];yn=$t[Ft];for(let zn=0,$n=fn.length;zn<$n;zn++){const Ii=ct(fn[zn],yn[zn],Ht);Cn(Ii.x,Ii.y,-zt)}}}const Bi=K+Z;for(let Tt=0;Tt<xt;Tt++){const vt=N?ct(me[Tt],li[Tt],Bi):me[Tt];oe?(Le.copy(Ge.normals[0]).multiplyScalar(vt.x),Se.copy(Ge.binormals[0]).multiplyScalar(vt.y),Ue.copy(ce[0]).add(Le).add(Se),Cn(Ue.x,Ue.y,Ue.z)):Cn(vt.x,vt.y,0)}for(let Tt=1;Tt<=O;Tt++)for(let vt=0;vt<xt;vt++){const zt=N?ct(me[vt],li[vt],Bi):me[vt];oe?(Le.copy(Ge.normals[Tt]).multiplyScalar(zt.x),Se.copy(Ge.binormals[Tt]).multiplyScalar(zt.y),Ue.copy(ce[Tt]).add(Le).add(Se),Cn(Ue.x,Ue.y,Ue.z)):Cn(zt.x,zt.y,U/O*Tt)}for(let Tt=Y-1;Tt>=0;Tt--){const vt=Tt/Y,zt=Q*Math.cos(vt*Math.PI/2),Ht=K*Math.sin(vt*Math.PI/2)+Z;for(let Ft=0,on=Ze.length;Ft<on;Ft++){const fn=ct(Ze[Ft],jt[Ft],Ht);Cn(fn.x,fn.y,U+zt)}for(let Ft=0,on=Ne.length;Ft<on;Ft++){const fn=Ne[Ft];yn=$t[Ft];for(let zn=0,$n=fn.length;zn<$n;zn++){const Ii=ct(fn[zn],yn[zn],Ht);oe?Cn(Ii.x,Ii.y+ce[O-1].y,ce[O-1].x+zt):Cn(Ii.x,Ii.y,U+zt)}}}Yi(),Si();function Yi(){const Tt=s.length/3;if(N){let vt=0,zt=xt*vt;for(let Ht=0;Ht<Jt;Ht++){const Ft=ze[Ht];It(Ft[2]+zt,Ft[1]+zt,Ft[0]+zt)}vt=O+Y*2,zt=xt*vt;for(let Ht=0;Ht<Jt;Ht++){const Ft=ze[Ht];It(Ft[0]+zt,Ft[1]+zt,Ft[2]+zt)}}else{for(let vt=0;vt<Jt;vt++){const zt=ze[vt];It(zt[2],zt[1],zt[0])}for(let vt=0;vt<Jt;vt++){const zt=ze[vt];It(zt[0]+xt*O,zt[1]+xt*O,zt[2]+xt*O)}}n.addGroup(Tt,s.length/3-Tt,0)}function Si(){const Tt=s.length/3;let vt=0;zi(Ze,vt),vt+=Ze.length;for(let zt=0,Ht=Ne.length;zt<Ht;zt++){const Ft=Ne[zt];zi(Ft,vt),vt+=Ft.length}n.addGroup(Tt,s.length/3-Tt,1)}function zi(Tt,vt){let zt=Tt.length;for(;--zt>=0;){const Ht=zt;let Ft=zt-1;Ft<0&&(Ft=Tt.length-1);for(let on=0,fn=O+Y*2;on<fn;on++){const zn=xt*on,$n=xt*(on+1),Ii=vt+Ht+zn,mr=vt+Ft+zn,$i=vt+Ft+$n,Oe=vt+Ht+$n;en(Ii,mr,$i,Oe)}}}function Cn(Tt,vt,zt){_.push(Tt),_.push(vt),_.push(zt)}function It(Tt,vt,zt){nn(Tt),nn(vt),nn(zt);const Ht=s.length/3,Ft=he.generateTopUV(n,s,Ht-3,Ht-2,Ht-1);et(Ft[0]),et(Ft[1]),et(Ft[2])}function en(Tt,vt,zt,Ht){nn(Tt),nn(vt),nn(Ht),nn(vt),nn(zt),nn(Ht);const Ft=s.length/3,on=he.generateSideWallUV(n,s,Ft-6,Ft-3,Ft-2,Ft-1);et(on[0]),et(on[1]),et(on[3]),et(on[1]),et(on[2]),et(on[3])}function nn(Tt){s.push(_[Tt*3+0]),s.push(_[Tt*3+1]),s.push(_[Tt*3+2])}function et(Tt){o.push(Tt.x),o.push(Tt.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return d3(t,n,e)}static fromJSON(e,t){const n=[];for(let o=0,c=e.shapes.length;o<c;o++){const h=t[e.shapes[o]];n.push(h)}const s=e.options.extrudePath;return s!==void 0&&(e.options.extrudePath=new Qh[s.type]().fromJSON(s)),new Jh(n,e.options)}}const c3={generateTopUV:function(a,e,t,n,s){const o=e[t*3],c=e[t*3+1],h=e[n*3],_=e[n*3+1],I=e[s*3],O=e[s*3+1];return[new Mt(o,c),new Mt(h,_),new Mt(I,O)]},generateSideWallUV:function(a,e,t,n,s,o){const c=e[t*3],h=e[t*3+1],_=e[t*3+2],I=e[n*3],O=e[n*3+1],U=e[n*3+2],N=e[s*3],Q=e[s*3+1],K=e[s*3+2],Z=e[o*3],Y=e[o*3+1],V=e[o*3+2];return Math.abs(h-O)<Math.abs(c-I)?[new Mt(c,1-_),new Mt(I,1-U),new Mt(N,1-K),new Mt(Z,1-V)]:[new Mt(h,1-_),new Mt(O,1-U),new Mt(Q,1-K),new Mt(Y,1-V)]}};function d3(a,e,t){if(t.shapes=[],Array.isArray(a))for(let n=0,s=a.length;n<s;n++){const o=a[n];t.shapes.push(o.uuid)}else t.shapes.push(a.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Zh extends Aa{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,s=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,o,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Zh(e.radius,e.detail)}}class Xc extends Aa{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,s,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Xc(e.radius,e.detail)}}class eu extends ai{constructor(e=.5,t=1,n=32,s=1,o=0,c=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:s,thetaStart:o,thetaLength:c},n=Math.max(3,n),s=Math.max(1,s);const h=[],_=[],I=[],O=[];let U=e;const N=(t-e)/s,Q=new _e,K=new Mt;for(let Z=0;Z<=s;Z++){for(let Y=0;Y<=n;Y++){const V=o+Y/n*c;Q.x=U*Math.cos(V),Q.y=U*Math.sin(V),_.push(Q.x,Q.y,Q.z),I.push(0,0,1),K.x=(Q.x/t+1)/2,K.y=(Q.y/t+1)/2,O.push(K.x,K.y)}U+=N}for(let Z=0;Z<s;Z++){const Y=Z*(n+1);for(let V=0;V<n;V++){const he=V+Y,ce=he,oe=he+n+1,Ge=he+n+2,Se=he+1;h.push(ce,oe,Se),h.push(oe,Ge,Se)}}this.setIndex(h),this.setAttribute("position",new _n(_,3)),this.setAttribute("normal",new _n(I,3)),this.setAttribute("uv",new _n(O,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new eu(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class tu extends ai{constructor(e=new qa([new Mt(0,.5),new Mt(-.5,-.5),new Mt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],s=[],o=[],c=[];let h=0,_=0;if(Array.isArray(e)===!1)I(e);else for(let O=0;O<e.length;O++)I(e[O]),this.addGroup(h,_,O),h+=_,_=0;this.setIndex(n),this.setAttribute("position",new _n(s,3)),this.setAttribute("normal",new _n(o,3)),this.setAttribute("uv",new _n(c,2));function I(O){const U=s.length/3,N=O.extractPoints(t);let Q=N.shape;const K=N.holes;yo.isClockWise(Q)===!1&&(Q=Q.reverse());for(let Y=0,V=K.length;Y<V;Y++){const he=K[Y];yo.isClockWise(he)===!0&&(K[Y]=he.reverse())}const Z=yo.triangulateShape(Q,K);for(let Y=0,V=K.length;Y<V;Y++){const he=K[Y];Q=Q.concat(he)}for(let Y=0,V=Q.length;Y<V;Y++){const he=Q[Y];s.push(he.x,he.y,0),o.push(0,0,1),c.push(he.x,he.y)}for(let Y=0,V=Z.length;Y<V;Y++){const he=Z[Y],ce=he[0]+U,oe=he[1]+U,Ge=he[2]+U;n.push(ce,oe,Ge),_+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return h3(t,e)}static fromJSON(e,t){const n=[];for(let s=0,o=e.shapes.length;s<o;s++){const c=t[e.shapes[s]];n.push(c)}return new tu(n,e.curveSegments)}}function h3(a,e){if(e.shapes=[],Array.isArray(a))for(let t=0,n=a.length;t<n;t++){const s=a[t];e.shapes.push(s.uuid)}else e.shapes.push(a.uuid);return e}class Yc extends ai{constructor(e=1,t=32,n=16,s=0,o=Math.PI*2,c=0,h=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:s,phiLength:o,thetaStart:c,thetaLength:h},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const _=Math.min(c+h,Math.PI);let I=0;const O=[],U=new _e,N=new _e,Q=[],K=[],Z=[],Y=[];for(let V=0;V<=n;V++){const he=[],ce=V/n;let oe=0;V===0&&c===0?oe=.5/t:V===n&&_===Math.PI&&(oe=-.5/t);for(let Ge=0;Ge<=t;Ge++){const Se=Ge/t;U.x=-e*Math.cos(s+Se*o)*Math.sin(c+ce*h),U.y=e*Math.cos(c+ce*h),U.z=e*Math.sin(s+Se*o)*Math.sin(c+ce*h),K.push(U.x,U.y,U.z),N.copy(U).normalize(),Z.push(N.x,N.y,N.z),Y.push(Se+oe,1-ce),he.push(I++)}O.push(he)}for(let V=0;V<n;V++)for(let he=0;he<t;he++){const ce=O[V][he+1],oe=O[V][he],Ge=O[V+1][he],Se=O[V+1][he+1];(V!==0||c>0)&&Q.push(ce,oe,Se),(V!==n-1||_<Math.PI)&&Q.push(oe,Ge,Se)}this.setIndex(Q),this.setAttribute("position",new _n(K,3)),this.setAttribute("normal",new _n(Z,3)),this.setAttribute("uv",new _n(Y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yc(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class nu extends Aa{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,s,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new nu(e.radius,e.detail)}}class iu extends ai{constructor(e=1,t=.4,n=12,s=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:s,arc:o},n=Math.floor(n),s=Math.floor(s);const c=[],h=[],_=[],I=[],O=new _e,U=new _e,N=new _e;for(let Q=0;Q<=n;Q++)for(let K=0;K<=s;K++){const Z=K/s*o,Y=Q/n*Math.PI*2;U.x=(e+t*Math.cos(Y))*Math.cos(Z),U.y=(e+t*Math.cos(Y))*Math.sin(Z),U.z=t*Math.sin(Y),h.push(U.x,U.y,U.z),O.x=e*Math.cos(Z),O.y=e*Math.sin(Z),N.subVectors(U,O).normalize(),_.push(N.x,N.y,N.z),I.push(K/s),I.push(Q/n)}for(let Q=1;Q<=n;Q++)for(let K=1;K<=s;K++){const Z=(s+1)*Q+K-1,Y=(s+1)*(Q-1)+K-1,V=(s+1)*(Q-1)+K,he=(s+1)*Q+K;c.push(Z,Y,he),c.push(Y,V,he)}this.setIndex(c),this.setAttribute("position",new _n(h,3)),this.setAttribute("normal",new _n(_,3)),this.setAttribute("uv",new _n(I,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new iu(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class ru extends ai{constructor(e=1,t=.4,n=64,s=8,o=2,c=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:s,p:o,q:c},n=Math.floor(n),s=Math.floor(s);const h=[],_=[],I=[],O=[],U=new _e,N=new _e,Q=new _e,K=new _e,Z=new _e,Y=new _e,V=new _e;for(let ce=0;ce<=n;++ce){const oe=ce/n*o*Math.PI*2;he(oe,o,c,e,Q),he(oe+.01,o,c,e,K),Y.subVectors(K,Q),V.addVectors(K,Q),Z.crossVectors(Y,V),V.crossVectors(Z,Y),Z.normalize(),V.normalize();for(let Ge=0;Ge<=s;++Ge){const Se=Ge/s*Math.PI*2,Le=-t*Math.cos(Se),Ue=t*Math.sin(Se);U.x=Q.x+(Le*V.x+Ue*Z.x),U.y=Q.y+(Le*V.y+Ue*Z.y),U.z=Q.z+(Le*V.z+Ue*Z.z),_.push(U.x,U.y,U.z),N.subVectors(U,Q).normalize(),I.push(N.x,N.y,N.z),O.push(ce/n),O.push(Ge/s)}}for(let ce=1;ce<=n;ce++)for(let oe=1;oe<=s;oe++){const Ge=(s+1)*(ce-1)+(oe-1),Se=(s+1)*ce+(oe-1),Le=(s+1)*ce+oe,Ue=(s+1)*(ce-1)+oe;h.push(Ge,Se,Ue),h.push(Se,Le,Ue)}this.setIndex(h),this.setAttribute("position",new _n(_,3)),this.setAttribute("normal",new _n(I,3)),this.setAttribute("uv",new _n(O,2));function he(ce,oe,Ge,Se,Le){const Ue=Math.cos(ce),ye=Math.sin(ce),me=Ge/oe*ce,Ne=Math.cos(me);Le.x=Se*(2+Ne)*.5*Ue,Le.y=Se*(2+Ne)*ye*.5,Le.z=Se*Math.sin(me)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ru(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class su extends ai{constructor(e=new Xp(new _e(-1,-1,0),new _e(-1,1,0),new _e(1,1,0)),t=64,n=1,s=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:s,closed:o};const c=e.computeFrenetFrames(t,o);this.tangents=c.tangents,this.normals=c.normals,this.binormals=c.binormals;const h=new _e,_=new _e,I=new Mt;let O=new _e;const U=[],N=[],Q=[],K=[];Z(),this.setIndex(K),this.setAttribute("position",new _n(U,3)),this.setAttribute("normal",new _n(N,3)),this.setAttribute("uv",new _n(Q,2));function Z(){for(let ce=0;ce<t;ce++)Y(ce);Y(o===!1?t:0),he(),V()}function Y(ce){O=e.getPointAt(ce/t,O);const oe=c.normals[ce],Ge=c.binormals[ce];for(let Se=0;Se<=s;Se++){const Le=Se/s*Math.PI*2,Ue=Math.sin(Le),ye=-Math.cos(Le);_.x=ye*oe.x+Ue*Ge.x,_.y=ye*oe.y+Ue*Ge.y,_.z=ye*oe.z+Ue*Ge.z,_.normalize(),N.push(_.x,_.y,_.z),h.x=O.x+n*_.x,h.y=O.y+n*_.y,h.z=O.z+n*_.z,U.push(h.x,h.y,h.z)}}function V(){for(let ce=1;ce<=t;ce++)for(let oe=1;oe<=s;oe++){const Ge=(s+1)*(ce-1)+(oe-1),Se=(s+1)*ce+(oe-1),Le=(s+1)*ce+oe,Ue=(s+1)*(ce-1)+oe;K.push(Ge,Se,Ue),K.push(Se,Le,Ue)}}function he(){for(let ce=0;ce<=t;ce++)for(let oe=0;oe<=s;oe++)I.x=ce/t,I.y=oe/s,Q.push(I.x,I.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new su(new Qh[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class j0 extends ai{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,s=new _e,o=new _e;if(e.index!==null){const c=e.attributes.position,h=e.index;let _=e.groups;_.length===0&&(_=[{start:0,count:h.count,materialIndex:0}]);for(let I=0,O=_.length;I<O;++I){const U=_[I],N=U.start,Q=U.count;for(let K=N,Z=N+Q;K<Z;K+=3)for(let Y=0;Y<3;Y++){const V=h.getX(K+Y),he=h.getX(K+(Y+1)%3);s.fromBufferAttribute(c,V),o.fromBufferAttribute(c,he),W0(s,o,n)===!0&&(t.push(s.x,s.y,s.z),t.push(o.x,o.y,o.z))}}}else{const c=e.attributes.position;for(let h=0,_=c.count/3;h<_;h++)for(let I=0;I<3;I++){const O=3*h+I,U=3*h+(I+1)%3;s.fromBufferAttribute(c,O),o.fromBufferAttribute(c,U),W0(s,o,n)===!0&&(t.push(s.x,s.y,s.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new _n(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function W0(a,e,t){const n="".concat(a.x,",").concat(a.y,",").concat(a.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z),s="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(a.x,",").concat(a.y,",").concat(a.z);return t.has(n)===!0||t.has(s)===!0?!1:(t.add(n),t.add(s),!0)}var K0=Object.freeze({__proto__:null,BoxGeometry:Ha,CapsuleGeometry:Hh,CircleGeometry:Vh,ConeGeometry:zh,CylinderGeometry:Jl,DodecahedronGeometry:jh,EdgesGeometry:U0,ExtrudeGeometry:Jh,IcosahedronGeometry:Zh,LatheGeometry:zc,OctahedronGeometry:Xc,PlaneGeometry:Ql,PolyhedronGeometry:Aa,RingGeometry:eu,ShapeGeometry:tu,SphereGeometry:Yc,TetrahedronGeometry:nu,TorusGeometry:iu,TorusKnotGeometry:ru,TubeGeometry:su,WireframeGeometry:j0});class X0 extends ns{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new pn(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Y0 extends no{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Zp extends ns{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new pn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zr,this.normalScale=new Mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ds,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class $0 extends Zp{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Mt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return lr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new pn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new pn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new pn(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class q0 extends ns{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new pn(16777215),this.specular=new pn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zr,this.normalScale=new Mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ds,this.combine=gt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class J0 extends ns{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new pn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zr,this.normalScale=new Mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Z0 extends ns{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zr,this.normalScale=new Mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class ev extends ns{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new pn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zr,this.normalScale=new Mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ds,this.combine=gt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class tv extends ns{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new pn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zr,this.normalScale=new Mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class nv extends ms{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Za(a,e,t){return!a||!t&&a.constructor===e?a:typeof e.BYTES_PER_ELEMENT=="number"?new e(a):Array.prototype.slice.call(a)}function iv(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}function rv(a){function e(s,o){return a[s]-a[o]}const t=a.length,n=new Array(t);for(let s=0;s!==t;++s)n[s]=s;return n.sort(e),n}function em(a,e,t){const n=a.length,s=new a.constructor(n);for(let o=0,c=0;c!==n;++o){const h=t[o]*e;for(let _=0;_!==e;++_)s[c++]=a[h+_]}return s}function tm(a,e,t,n){let s=1,o=a[0];for(;o!==void 0&&o[n]===void 0;)o=a[s++];if(o===void 0)return;let c=o[n];if(c!==void 0)if(Array.isArray(c))do c=o[n],c!==void 0&&(e.push(o.time),t.push.apply(t,c)),o=a[s++];while(o!==void 0);else if(c.toArray!==void 0)do c=o[n],c!==void 0&&(e.push(o.time),c.toArray(t,t.length)),o=a[s++];while(o!==void 0);else do c=o[n],c!==void 0&&(e.push(o.time),t.push(c)),o=a[s++];while(o!==void 0)}function u3(a,e,t,n,s=30){const o=a.clone();o.name=e;const c=[];for(let _=0;_<o.tracks.length;++_){const I=o.tracks[_],O=I.getValueSize(),U=[],N=[];for(let Q=0;Q<I.times.length;++Q){const K=I.times[Q]*s;if(!(K<t||K>=n)){U.push(I.times[Q]);for(let Z=0;Z<O;++Z)N.push(I.values[Q*O+Z])}}U.length!==0&&(I.times=Za(U,I.times.constructor),I.values=Za(N,I.values.constructor),c.push(I))}o.tracks=c;let h=1/0;for(let _=0;_<o.tracks.length;++_)h>o.tracks[_].times[0]&&(h=o.tracks[_].times[0]);for(let _=0;_<o.tracks.length;++_)o.tracks[_].shift(-1*h);return o.resetDuration(),o}function f3(a,e=0,t=a,n=30){n<=0&&(n=30);const s=t.tracks.length,o=e/n;for(let c=0;c<s;++c){const h=t.tracks[c],_=h.ValueTypeName;if(_==="bool"||_==="string")continue;const I=a.tracks.find(function(V){return V.name===h.name&&V.ValueTypeName===_});if(I===void 0)continue;let O=0;const U=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(O=U/3);let N=0;const Q=I.getValueSize();I.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(N=Q/3);const K=h.times.length-1;let Z;if(o<=h.times[0]){const V=O,he=U-O;Z=h.values.slice(V,he)}else if(o>=h.times[K]){const V=K*U+O,he=V+U-O;Z=h.values.slice(V,he)}else{const V=h.createInterpolant(),he=O,ce=U-O;V.evaluate(o),Z=V.resultBuffer.slice(he,ce)}_==="quaternion"&&new _i().fromArray(Z).normalize().conjugate().toArray(Z);const Y=I.times.length;for(let V=0;V<Y;++V){const he=V*Q+N;if(_==="quaternion")_i.multiplyQuaternionsFlat(I.values,he,Z,0,I.values,he);else{const ce=Q-N*2;for(let oe=0;oe<ce;++oe)I.values[he+oe]-=Z[oe]}}}return a.blendMode=Zs,a}const p3={convertArray:Za,isTypedArray:iv,getKeyframeOrder:rv,sortedArray:em,flattenJSON:tm,subclip:u3,makeClipAdditive:f3};class $c{constructor(e,t,n,s){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,s=t[n],o=t[n-1];e:{t:{let c;n:{i:if(!(e<s)){for(let h=n+2;;){if(s===void 0){if(e<o)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===h)break;if(o=s,s=t[++n],e<s)break t}c=t.length;break n}if(!(e>=o)){const h=t[1];e<h&&(n=2,o=h);for(let _=n-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===_)break;if(s=o,o=t[--n-1],e>=o)break t}c=n,n=0;break n}break e}for(;n<c;){const h=n+c>>>1;e<t[h]?c=h:n=h+1}if(s=t[n],o=t[n-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,o,s)}return this.interpolate_(n,o,e,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,s=this.valueSize,o=e*s;for(let c=0;c!==s;++c)t[c]=n[o+c];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class sv extends $c{constructor(e,t,n,s){super(e,t,n,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ur,endingEnd:ur}}intervalChanged_(e,t,n){const s=this.parameterPositions;let o=e-2,c=e+1,h=s[o],_=s[c];if(h===void 0)switch(this.getSettings_().endingStart){case Nr:o=e,h=2*t-n;break;case Ts:o=s.length-2,h=t+s[o]-s[o+1];break;default:o=e,h=n}if(_===void 0)switch(this.getSettings_().endingEnd){case Nr:c=e,_=2*n-t;break;case Ts:c=1,_=n+s[1]-s[0];break;default:c=e-1,_=t}const I=(n-t)*.5,O=this.valueSize;this._weightPrev=I/(t-h),this._weightNext=I/(_-n),this._offsetPrev=o*O,this._offsetNext=c*O}interpolate_(e,t,n,s){const o=this.resultBuffer,c=this.sampleValues,h=this.valueSize,_=e*h,I=_-h,O=this._offsetPrev,U=this._offsetNext,N=this._weightPrev,Q=this._weightNext,K=(n-t)/(s-t),Z=K*K,Y=Z*K,V=-N*Y+2*N*Z-N*K,he=(1+N)*Y+(-1.5-2*N)*Z+(-.5+N)*K+1,ce=(-1-Q)*Y+(1.5+Q)*Z+.5*K,oe=Q*Y-Q*Z;for(let Ge=0;Ge!==h;++Ge)o[Ge]=V*c[O+Ge]+he*c[I+Ge]+ce*c[_+Ge]+oe*c[U+Ge];return o}}class nm extends $c{constructor(e,t,n,s){super(e,t,n,s)}interpolate_(e,t,n,s){const o=this.resultBuffer,c=this.sampleValues,h=this.valueSize,_=e*h,I=_-h,O=(n-t)/(s-t),U=1-O;for(let N=0;N!==h;++N)o[N]=c[I+N]*U+c[_+N]*O;return o}}class ov extends $c{constructor(e,t,n,s){super(e,t,n,s)}interpolate_(e){return this.copySampleValue_(e-1)}}class so{constructor(e,t,n,s){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Za(t,this.TimeBufferType),this.values=Za(n,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Za(e.times,Array),values:Za(e.values,Array)};const s=e.getInterpolation();s!==e.DefaultInterpolation&&(n.interpolation=s)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new ov(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new nm(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new sv(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Cr:t=this.InterpolantFactoryMethodDiscrete;break;case wr:t=this.InterpolantFactoryMethodLinear;break;case Sr:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Cr;case this.InterpolantFactoryMethodLinear:return wr;case this.InterpolantFactoryMethodSmooth:return Sr}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,s=t.length;n!==s;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,s=t.length;n!==s;++n)t[n]*=e}return this}trim(e,t){const n=this.times,s=n.length;let o=0,c=s-1;for(;o!==s&&n[o]<e;)++o;for(;c!==-1&&n[c]>t;)--c;if(++c,o!==0||c!==s){o>=c&&(c=Math.max(c,1),o=c-1);const h=this.getValueSize();this.times=n.slice(o,c),this.values=this.values.slice(o*h,c*h)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,s=this.values,o=n.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let c=null;for(let h=0;h!==o;h++){const _=n[h];if(typeof _=="number"&&isNaN(_)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,h,_),e=!1;break}if(c!==null&&c>_){console.error("THREE.KeyframeTrack: Out of order keys.",this,h,_,c),e=!1;break}c=_}if(s!==void 0&&iv(s))for(let h=0,_=s.length;h!==_;++h){const I=s[h];if(isNaN(I)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,h,I),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),s=this.getInterpolation()===Sr,o=e.length-1;let c=1;for(let h=1;h<o;++h){let _=!1;const I=e[h],O=e[h+1];if(I!==O&&(h!==1||I!==e[0]))if(s)_=!0;else{const U=h*n,N=U-n,Q=U+n;for(let K=0;K!==n;++K){const Z=t[U+K];if(Z!==t[N+K]||Z!==t[Q+K]){_=!0;break}}}if(_){if(h!==c){e[c]=e[h];const U=h*n,N=c*n;for(let Q=0;Q!==n;++Q)t[N+Q]=t[U+Q]}++c}}if(o>0){e[c]=e[o];for(let h=o*n,_=c*n,I=0;I!==n;++I)t[_+I]=t[h+I];++c}return c!==e.length?(this.times=e.slice(0,c),this.values=t.slice(0,c*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,s=new n(this.name,e,t);return s.createInterpolant=this.createInterpolant,s}}so.prototype.TimeBufferType=Float32Array,so.prototype.ValueBufferType=Float32Array,so.prototype.DefaultInterpolation=wr;class el extends so{}el.prototype.ValueTypeName="bool",el.prototype.ValueBufferType=Array,el.prototype.DefaultInterpolation=Cr,el.prototype.InterpolantFactoryMethodLinear=void 0,el.prototype.InterpolantFactoryMethodSmooth=void 0;class im extends so{}im.prototype.ValueTypeName="color";class qc extends so{}qc.prototype.ValueTypeName="number";class av extends $c{constructor(e,t,n,s){super(e,t,n,s)}interpolate_(e,t,n,s){const o=this.resultBuffer,c=this.sampleValues,h=this.valueSize,_=(n-t)/(s-t);let I=e*h;for(let O=I+h;I!==O;I+=4)_i.slerpFlat(o,0,c,I-h,c,I,_);return o}}class ec extends so{InterpolantFactoryMethodLinear(e){return new av(this.times,this.values,this.getValueSize(),e)}}ec.prototype.ValueTypeName="quaternion",ec.prototype.DefaultInterpolation=wr,ec.prototype.InterpolantFactoryMethodSmooth=void 0;class tl extends so{}tl.prototype.ValueTypeName="string",tl.prototype.ValueBufferType=Array,tl.prototype.DefaultInterpolation=Cr,tl.prototype.InterpolantFactoryMethodLinear=void 0,tl.prototype.InterpolantFactoryMethodSmooth=void 0;class Jc extends so{}Jc.prototype.ValueTypeName="vector";class Zc{constructor(e="",t=-1,n=[],s=Vs){this.name=e,this.tracks=n,this.duration=t,this.blendMode=s,this.uuid=hs(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,s=1/(e.fps||1);for(let c=0,h=n.length;c!==h;++c)t.push(A3(n[c]).scale(s));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const t=[],n=e.tracks,s={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,c=n.length;o!==c;++o)t.push(so.toJSON(n[o]));return s}static CreateFromMorphTargetSequence(e,t,n,s){const o=t.length,c=[];for(let h=0;h<o;h++){let _=[],I=[];_.push((h+o-1)%o,h,(h+1)%o),I.push(0,1,0);const O=rv(_);_=em(_,1,O),I=em(I,1,O),!s&&_[0]===0&&(_.push(o),I.push(I[0])),c.push(new qc(".morphTargetInfluences["+t[h].name+"]",_,I).scale(1/n))}return new this(e,-1,c)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const s=e;n=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<n.length;s++)if(n[s].name===t)return n[s];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const s={},o=/^([\w-]*?)([\d]+)$/;for(let h=0,_=e.length;h<_;h++){const I=e[h],O=I.name.match(o);if(O&&O.length>1){const U=O[1];let N=s[U];N||(s[U]=N=[]),N.push(I)}}const c=[];for(const h in s)c.push(this.CreateFromMorphTargetSequence(h,s[h],t,n));return c}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(U,N,Q,K,Z){if(Q.length!==0){const Y=[],V=[];tm(Q,Y,V,K),Y.length!==0&&Z.push(new U(N,Y,V))}},s=[],o=e.name||"default",c=e.fps||30,h=e.blendMode;let _=e.length||-1;const I=e.hierarchy||[];for(let U=0;U<I.length;U++){const N=I[U].keys;if(!(!N||N.length===0))if(N[0].morphTargets){const Q={};let K;for(K=0;K<N.length;K++)if(N[K].morphTargets)for(let Z=0;Z<N[K].morphTargets.length;Z++)Q[N[K].morphTargets[Z]]=-1;for(const Z in Q){const Y=[],V=[];for(let he=0;he!==N[K].morphTargets.length;++he){const ce=N[K];Y.push(ce.time),V.push(ce.morphTarget===Z?1:0)}s.push(new qc(".morphTargetInfluence["+Z+"]",Y,V))}_=Q.length*c}else{const Q=".bones["+t[U].name+"]";n(Jc,Q+".position",N,"pos",s),n(ec,Q+".quaternion",N,"rot",s),n(Jc,Q+".scale",N,"scl",s)}}return s.length===0?null:new this(o,_,s,h)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,s=e.length;n!==s;++n){const o=this.tracks[n];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function m3(a){switch(a.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return qc;case"vector":case"vector2":case"vector3":case"vector4":return Jc;case"color":return im;case"quaternion":return ec;case"bool":case"boolean":return el;case"string":return tl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+a)}function A3(a){if(a.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=m3(a.type);if(a.times===void 0){const t=[],n=[];tm(a.keys,t,n,"value"),a.times=t,a.values=n}return e.parse!==void 0?e.parse(a):new e(a.name,a.times,a.values,a.interpolation)}const Qo={enabled:!1,files:{},add:function(a,e){this.enabled!==!1&&(this.files[a]=e)},get:function(a){if(this.enabled!==!1)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}};class rm{constructor(e,t,n){const s=this;let o=!1,c=0,h=0,_;const I=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(O){h++,o===!1&&s.onStart!==void 0&&s.onStart(O,c,h),o=!0},this.itemEnd=function(O){c++,s.onProgress!==void 0&&s.onProgress(O,c,h),c===h&&(o=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(O){s.onError!==void 0&&s.onError(O)},this.resolveURL=function(O){return _?_(O):O},this.setURLModifier=function(O){return _=O,this},this.addHandler=function(O,U){return I.push(O,U),this},this.removeHandler=function(O){const U=I.indexOf(O);return U!==-1&&I.splice(U,2),this},this.getHandler=function(O){for(let U=0,N=I.length;U<N;U+=2){const Q=I[U],K=I[U+1];if(Q.global&&(Q.lastIndex=0),Q.test(O))return K}return null}}}const lv=new rm;class ws{constructor(e){this.manager=e!==void 0?e:lv,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(s,o){n.load(e,s,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}ws.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ho={};class g3 extends Error{constructor(e,t){super(e),this.response=t}}class Vo extends ws{constructor(e){super(e)}load(e,t,n,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Qo.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(Ho[e]!==void 0){Ho[e].push({onLoad:t,onProgress:n,onError:s});return}Ho[e]=[],Ho[e].push({onLoad:t,onProgress:n,onError:s});const c=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),h=this.mimeType,_=this.responseType;fetch(c).then(I=>{if(I.status===200||I.status===0){if(I.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||I.body===void 0||I.body.getReader===void 0)return I;const O=Ho[e],U=I.body.getReader(),N=I.headers.get("X-File-Size")||I.headers.get("Content-Length"),Q=N?parseInt(N):0,K=Q!==0;let Z=0;const Y=new ReadableStream({start(V){he();function he(){U.read().then(({done:ce,value:oe})=>{if(ce)V.close();else{Z+=oe.byteLength;const Ge=new ProgressEvent("progress",{lengthComputable:K,loaded:Z,total:Q});for(let Se=0,Le=O.length;Se<Le;Se++){const Ue=O[Se];Ue.onProgress&&Ue.onProgress(Ge)}V.enqueue(oe),he()}})}}});return new Response(Y)}else throw new g3('fetch for "'.concat(I.url,'" responded with ').concat(I.status,": ").concat(I.statusText),I)}).then(I=>{switch(_){case"arraybuffer":return I.arrayBuffer();case"blob":return I.blob();case"document":return I.text().then(O=>new DOMParser().parseFromString(O,h));case"json":return I.json();default:if(h===void 0)return I.text();{const U=/charset="?([^;"\s]*)"?/i.exec(h),N=U&&U[1]?U[1].toLowerCase():void 0,Q=new TextDecoder(N);return I.arrayBuffer().then(K=>Q.decode(K))}}}).then(I=>{Qo.add(e,I);const O=Ho[e];delete Ho[e];for(let U=0,N=O.length;U<N;U++){const Q=O[U];Q.onLoad&&Q.onLoad(I)}}).catch(I=>{const O=Ho[e];if(O===void 0)throw this.manager.itemError(e),I;delete Ho[e];for(let U=0,N=O.length;U<N;U++){const Q=O[U];Q.onError&&Q.onError(I)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class v3 extends ws{constructor(e){super(e)}load(e,t,n,s){const o=this,c=new Vo(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(h){try{t(o.parse(JSON.parse(h)))}catch(_){s?s(_):console.error(_),o.manager.itemError(e)}},n,s)}parse(e){const t=[];for(let n=0;n<e.length;n++){const s=Zc.parse(e[n]);t.push(s)}return t}}class b3 extends ws{constructor(e){super(e)}load(e,t,n,s){const o=this,c=[],h=new Uh,_=new Vo(this.manager);_.setPath(this.path),_.setResponseType("arraybuffer"),_.setRequestHeader(this.requestHeader),_.setWithCredentials(o.withCredentials);let I=0;function O(U){_.load(e[U],function(N){const Q=o.parse(N,!0);c[U]={width:Q.width,height:Q.height,format:Q.format,mipmaps:Q.mipmaps},I+=1,I===6&&(Q.mipmapCount===1&&(h.minFilter=Rn),h.image=c,h.format=Q.format,h.needsUpdate=!0,t&&t(h))},n,s)}if(Array.isArray(e))for(let U=0,N=e.length;U<N;++U)O(U);else _.load(e,function(U){const N=o.parse(U,!0);if(N.isCubemap){const Q=N.mipmaps.length/N.mipmapCount;for(let K=0;K<Q;K++){c[K]={mipmaps:[]};for(let Z=0;Z<N.mipmapCount;Z++)c[K].mipmaps.push(N.mipmaps[K*N.mipmapCount+Z]),c[K].format=N.format,c[K].width=N.width,c[K].height=N.height}h.image=c}else h.image.width=N.width,h.image.height=N.height,h.mipmaps=N.mipmaps;N.mipmapCount===1&&(h.minFilter=Rn),h.format=N.format,h.needsUpdate=!0,t&&t(h)},n,s);return h}}class ed extends ws{constructor(e){super(e)}load(e,t,n,s){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,c=Qo.get(e);if(c!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(c),o.manager.itemEnd(e)},0),c;const h=Ga("img");function _(){O(),Qo.add(e,this),t&&t(this),o.manager.itemEnd(e)}function I(U){O(),s&&s(U),o.manager.itemError(e),o.manager.itemEnd(e)}function O(){h.removeEventListener("load",_,!1),h.removeEventListener("error",I,!1)}return h.addEventListener("load",_,!1),h.addEventListener("error",I,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(h.crossOrigin=this.crossOrigin),o.manager.itemStart(e),h.src=e,h}}class y3 extends ws{constructor(e){super(e)}load(e,t,n,s){const o=new Rc;o.colorSpace=yi;const c=new ed(this.manager);c.setCrossOrigin(this.crossOrigin),c.setPath(this.path);let h=0;function _(I){c.load(e[I],function(O){o.images[I]=O,h++,h===6&&(o.needsUpdate=!0,t&&t(o))},void 0,s)}for(let I=0;I<e.length;++I)_(I);return o}}class E3 extends ws{constructor(e){super(e)}load(e,t,n,s){const o=this,c=new fa,h=new Vo(this.manager);return h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setPath(this.path),h.setWithCredentials(o.withCredentials),h.load(e,function(_){let I;try{I=o.parse(_)}catch(O){if(s!==void 0)s(O);else{console.error(O);return}}I.image!==void 0?c.image=I.image:I.data!==void 0&&(c.image.width=I.width,c.image.height=I.height,c.image.data=I.data),c.wrapS=I.wrapS!==void 0?I.wrapS:Ve,c.wrapT=I.wrapT!==void 0?I.wrapT:Ve,c.magFilter=I.magFilter!==void 0?I.magFilter:Rn,c.minFilter=I.minFilter!==void 0?I.minFilter:Rn,c.anisotropy=I.anisotropy!==void 0?I.anisotropy:1,I.colorSpace!==void 0&&(c.colorSpace=I.colorSpace),I.flipY!==void 0&&(c.flipY=I.flipY),I.format!==void 0&&(c.format=I.format),I.type!==void 0&&(c.type=I.type),I.mipmaps!==void 0&&(c.mipmaps=I.mipmaps,c.minFilter=Li),I.mipmapCount===1&&(c.minFilter=Rn),I.generateMipmaps!==void 0&&(c.generateMipmaps=I.generateMipmaps),c.needsUpdate=!0,t&&t(c,I)},n,s),c}}class x3 extends ws{constructor(e){super(e)}load(e,t,n,s){const o=new Ki,c=new ed(this.manager);return c.setCrossOrigin(this.crossOrigin),c.setPath(this.path),c.load(e,function(h){o.image=h,o.needsUpdate=!0,t!==void 0&&t(o)},n,s),o}}class ga extends Mi{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new pn(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class cv extends ga{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Mi.DEFAULT_UP),this.updateMatrix(),this.groundColor=new pn(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const sm=new xn,dv=new _e,hv=new _e;class om{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Mt(512,512),this.map=null,this.mapPass=null,this.matrix=new xn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Lc,this._frameExtents=new Mt(1,1),this._viewportCount=1,this._viewports=[new Ci(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;dv.setFromMatrixPosition(e.matrixWorld),t.position.copy(dv),hv.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(hv),t.updateMatrixWorld(),sm.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(sm),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(sm)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class C3 extends om{constructor(){super(new Pr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=ia*2*e.angle*this.focus,s=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(n!==t.fov||s!==t.aspect||o!==t.far)&&(t.fov=n,t.aspect=s,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class uv extends ga{constructor(e,t,n=0,s=Math.PI/3,o=0,c=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Mi.DEFAULT_UP),this.updateMatrix(),this.target=new Mi,this.distance=n,this.angle=s,this.penumbra=o,this.decay=c,this.map=null,this.shadow=new C3}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const fv=new xn,td=new _e,am=new _e;class w3 extends om{constructor(){super(new Pr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Mt(4,2),this._viewportCount=6,this._viewports=[new Ci(2,1,1,1),new Ci(0,1,1,1),new Ci(3,1,1,1),new Ci(1,1,1,1),new Ci(3,0,1,1),new Ci(1,0,1,1)],this._cubeDirections=[new _e(1,0,0),new _e(-1,0,0),new _e(0,0,1),new _e(0,0,-1),new _e(0,1,0),new _e(0,-1,0)],this._cubeUps=[new _e(0,1,0),new _e(0,1,0),new _e(0,1,0),new _e(0,1,0),new _e(0,0,1),new _e(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,s=this.matrix,o=e.distance||n.far;o!==n.far&&(n.far=o,n.updateProjectionMatrix()),td.setFromMatrixPosition(e.matrixWorld),n.position.copy(td),am.copy(n.position),am.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(am),n.updateMatrixWorld(),s.makeTranslation(-td.x,-td.y,-td.z),fv.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(fv)}}class pv extends ga{constructor(e,t,n=0,s=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=s,this.shadow=new w3}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class _3 extends om{constructor(){super(new Ah(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class mv extends ga{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Mi.DEFAULT_UP),this.updateMatrix(),this.target=new Mi,this.shadow=new _3}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Av extends ga{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class gv extends ga{constructor(e,t,n=10,s=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class vv{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new _e)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,s=e.y,o=e.z,c=this.coefficients;return t.copy(c[0]).multiplyScalar(.282095),t.addScaledVector(c[1],.488603*s),t.addScaledVector(c[2],.488603*o),t.addScaledVector(c[3],.488603*n),t.addScaledVector(c[4],1.092548*(n*s)),t.addScaledVector(c[5],1.092548*(s*o)),t.addScaledVector(c[6],.315392*(3*o*o-1)),t.addScaledVector(c[7],1.092548*(n*o)),t.addScaledVector(c[8],.546274*(n*n-s*s)),t}getIrradianceAt(e,t){const n=e.x,s=e.y,o=e.z,c=this.coefficients;return t.copy(c[0]).multiplyScalar(.886227),t.addScaledVector(c[1],1.023328*s),t.addScaledVector(c[2],1.023328*o),t.addScaledVector(c[3],1.023328*n),t.addScaledVector(c[4],.858086*n*s),t.addScaledVector(c[5],.858086*s*o),t.addScaledVector(c[6],.743125*o*o-.247708),t.addScaledVector(c[7],.858086*n*o),t.addScaledVector(c[8],.429043*(n*n-s*s)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let s=0;s<9;s++)n[s].fromArray(e,t+s*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let s=0;s<9;s++)n[s].toArray(e,t+s*3);return e}static getBasisAt(e,t){const n=e.x,s=e.y,o=e.z;t[0]=.282095,t[1]=.488603*s,t[2]=.488603*o,t[3]=.488603*n,t[4]=1.092548*n*s,t[5]=1.092548*s*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*n*o,t[8]=.546274*(n*n-s*s)}}class bv extends ga{constructor(e=new vv,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class ou extends ws{constructor(e){super(e),this.textures={}}load(e,t,n,s){const o=this,c=new Vo(o.manager);c.setPath(o.path),c.setRequestHeader(o.requestHeader),c.setWithCredentials(o.withCredentials),c.load(e,function(h){try{t(o.parse(JSON.parse(h)))}catch(_){s?s(_):console.error(_),o.manager.itemError(e)}},n,s)}parse(e){const t=this.textures;function n(o){return t[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),t[o]}const s=ou.createMaterialFromType(e.type);if(e.uuid!==void 0&&(s.uuid=e.uuid),e.name!==void 0&&(s.name=e.name),e.color!==void 0&&s.color!==void 0&&s.color.setHex(e.color),e.roughness!==void 0&&(s.roughness=e.roughness),e.metalness!==void 0&&(s.metalness=e.metalness),e.sheen!==void 0&&(s.sheen=e.sheen),e.sheenColor!==void 0&&(s.sheenColor=new pn().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(s.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&s.emissive!==void 0&&s.emissive.setHex(e.emissive),e.specular!==void 0&&s.specular!==void 0&&s.specular.setHex(e.specular),e.specularIntensity!==void 0&&(s.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&s.specularColor!==void 0&&s.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(s.shininess=e.shininess),e.clearcoat!==void 0&&(s.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(s.dispersion=e.dispersion),e.iridescence!==void 0&&(s.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(s.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(s.transmission=e.transmission),e.thickness!==void 0&&(s.thickness=e.thickness),e.attenuationDistance!==void 0&&(s.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&s.attenuationColor!==void 0&&s.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(s.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(s.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(s.fog=e.fog),e.flatShading!==void 0&&(s.flatShading=e.flatShading),e.blending!==void 0&&(s.blending=e.blending),e.combine!==void 0&&(s.combine=e.combine),e.side!==void 0&&(s.side=e.side),e.shadowSide!==void 0&&(s.shadowSide=e.shadowSide),e.opacity!==void 0&&(s.opacity=e.opacity),e.transparent!==void 0&&(s.transparent=e.transparent),e.alphaTest!==void 0&&(s.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(s.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(s.depthFunc=e.depthFunc),e.depthTest!==void 0&&(s.depthTest=e.depthTest),e.depthWrite!==void 0&&(s.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(s.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(s.blendSrc=e.blendSrc),e.blendDst!==void 0&&(s.blendDst=e.blendDst),e.blendEquation!==void 0&&(s.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(s.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(s.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(s.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&s.blendColor!==void 0&&s.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(s.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(s.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(s.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(s.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(s.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(s.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(s.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(s.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(s.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(s.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(s.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(s.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(s.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(s.rotation=e.rotation),e.linewidth!==void 0&&(s.linewidth=e.linewidth),e.dashSize!==void 0&&(s.dashSize=e.dashSize),e.gapSize!==void 0&&(s.gapSize=e.gapSize),e.scale!==void 0&&(s.scale=e.scale),e.polygonOffset!==void 0&&(s.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(s.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(s.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(s.dithering=e.dithering),e.alphaToCoverage!==void 0&&(s.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(s.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(s.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(s.visible=e.visible),e.toneMapped!==void 0&&(s.toneMapped=e.toneMapped),e.userData!==void 0&&(s.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?s.vertexColors=e.vertexColors>0:s.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const c=e.uniforms[o];switch(s.uniforms[o]={},c.type){case"t":s.uniforms[o].value=n(c.value);break;case"c":s.uniforms[o].value=new pn().setHex(c.value);break;case"v2":s.uniforms[o].value=new Mt().fromArray(c.value);break;case"v3":s.uniforms[o].value=new _e().fromArray(c.value);break;case"v4":s.uniforms[o].value=new Ci().fromArray(c.value);break;case"m3":s.uniforms[o].value=new jn().fromArray(c.value);break;case"m4":s.uniforms[o].value=new xn().fromArray(c.value);break;default:s.uniforms[o].value=c.value}}if(e.defines!==void 0&&(s.defines=e.defines),e.vertexShader!==void 0&&(s.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(s.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(s.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)s.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(s.lights=e.lights),e.clipping!==void 0&&(s.clipping=e.clipping),e.size!==void 0&&(s.size=e.size),e.sizeAttenuation!==void 0&&(s.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(s.map=n(e.map)),e.matcap!==void 0&&(s.matcap=n(e.matcap)),e.alphaMap!==void 0&&(s.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(s.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(s.bumpScale=e.bumpScale),e.normalMap!==void 0&&(s.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(s.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),s.normalScale=new Mt().fromArray(o)}return e.displacementMap!==void 0&&(s.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(s.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(s.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(s.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(s.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(s.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(s.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(s.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(s.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(s.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(s.envMap=n(e.envMap)),e.envMapRotation!==void 0&&s.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(s.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(s.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(s.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(s.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(s.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(s.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(s.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(s.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(s.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(s.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(s.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(s.clearcoatNormalScale=new Mt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(s.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(s.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(s.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(s.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(s.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(s.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(s.sheenRoughnessMap=n(e.sheenRoughnessMap)),s}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:X0,SpriteMaterial:Rp,RawShaderMaterial:Y0,ShaderMaterial:no,PointsMaterial:Np,MeshPhysicalMaterial:$0,MeshStandardMaterial:Zp,MeshPhongMaterial:q0,MeshToonMaterial:J0,MeshNormalMaterial:Z0,MeshLambertMaterial:ev,MeshDepthMaterial:Sp,MeshDistanceMaterial:Ip,MeshBasicMaterial:da,MeshMatcapMaterial:tv,LineDashedMaterial:nv,LineBasicMaterial:ms,Material:ns};return new t[e]}}class lm{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,s=e.length;n<s;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(n){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class yv extends ai{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Ev extends ws{constructor(e){super(e)}load(e,t,n,s){const o=this,c=new Vo(o.manager);c.setPath(o.path),c.setRequestHeader(o.requestHeader),c.setWithCredentials(o.withCredentials),c.load(e,function(h){try{t(o.parse(JSON.parse(h)))}catch(_){s?s(_):console.error(_),o.manager.itemError(e)}},n,s)}parse(e){const t={},n={};function s(Q,K){if(t[K]!==void 0)return t[K];const Y=Q.interleavedBuffers[K],V=o(Q,Y.buffer),he=ra(Y.type,V),ce=new xh(he,Y.stride);return ce.uuid=Y.uuid,t[K]=ce,ce}function o(Q,K){if(n[K]!==void 0)return n[K];const Y=Q.arrayBuffers[K],V=new Uint32Array(Y).buffer;return n[K]=V,V}const c=e.isInstancedBufferGeometry?new yv:new ai,h=e.data.index;if(h!==void 0){const Q=ra(h.type,h.array);c.setIndex(new Gi(Q,1))}const _=e.data.attributes;for(const Q in _){const K=_[Q];let Z;if(K.isInterleavedBufferAttribute){const Y=s(e.data,K.data);Z=new Ya(Y,K.itemSize,K.offset,K.normalized)}else{const Y=ra(K.type,K.array),V=K.isInstancedBufferAttribute?Yl:Gi;Z=new V(Y,K.itemSize,K.normalized)}K.name!==void 0&&(Z.name=K.name),K.usage!==void 0&&Z.setUsage(K.usage),c.setAttribute(Q,Z)}const I=e.data.morphAttributes;if(I)for(const Q in I){const K=I[Q],Z=[];for(let Y=0,V=K.length;Y<V;Y++){const he=K[Y];let ce;if(he.isInterleavedBufferAttribute){const oe=s(e.data,he.data);ce=new Ya(oe,he.itemSize,he.offset,he.normalized)}else{const oe=ra(he.type,he.array);ce=new Gi(oe,he.itemSize,he.normalized)}he.name!==void 0&&(ce.name=he.name),Z.push(ce)}c.morphAttributes[Q]=Z}e.data.morphTargetsRelative&&(c.morphTargetsRelative=!0);const U=e.data.groups||e.data.drawcalls||e.data.offsets;if(U!==void 0)for(let Q=0,K=U.length;Q!==K;++Q){const Z=U[Q];c.addGroup(Z.start,Z.count,Z.materialIndex)}const N=e.data.boundingSphere;if(N!==void 0){const Q=new _e;N.center!==void 0&&Q.fromArray(N.center),c.boundingSphere=new Lr(Q,N.radius)}return e.name&&(c.name=e.name),e.userData&&(c.userData=e.userData),c}}class M3 extends ws{constructor(e){super(e)}load(e,t,n,s){const o=this,c=this.path===""?lm.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||c;const h=new Vo(this.manager);h.setPath(this.path),h.setRequestHeader(this.requestHeader),h.setWithCredentials(this.withCredentials),h.load(e,function(_){let I=null;try{I=JSON.parse(_)}catch(U){s!==void 0&&s(U),console.error("THREE:ObjectLoader: Can't parse "+e+".",U.message);return}const O=I.metadata;if(O===void 0||O.type===void 0||O.type.toLowerCase()==="geometry"){s!==void 0&&s(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(I,t)},n,s)}async loadAsync(e,t){const n=this,s=this.path===""?lm.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const o=new Vo(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const c=await o.loadAsync(e,t),h=JSON.parse(c),_=h.metadata;if(_===void 0||_.type===void 0||_.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(h)}parse(e,t){const n=this.parseAnimations(e.animations),s=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,s),c=this.parseImages(e.images,function(){t!==void 0&&t(I)}),h=this.parseTextures(e.textures,c),_=this.parseMaterials(e.materials,h),I=this.parseObject(e.object,o,_,h,n),O=this.parseSkeletons(e.skeletons,I);if(this.bindSkeletons(I,O),t!==void 0){let U=!1;for(const N in c)if(c[N].data instanceof HTMLImageElement){U=!0;break}U===!1&&t(I)}return I}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,n),o=await this.parseImagesAsync(e.images),c=this.parseTextures(e.textures,o),h=this.parseMaterials(e.materials,c),_=this.parseObject(e.object,s,h,c,t),I=this.parseSkeletons(e.skeletons,_);return this.bindSkeletons(_,I),_}parseShapes(e){const t={};if(e!==void 0)for(let n=0,s=e.length;n<s;n++){const o=new qa().fromJSON(e[n]);t[o.uuid]=o}return t}parseSkeletons(e,t){const n={},s={};if(t.traverse(function(o){o.isBone&&(s[o.uuid]=o)}),e!==void 0)for(let o=0,c=e.length;o<c;o++){const h=new Ih().fromJSON(e[o],s);n[h.uuid]=h}return n}parseGeometries(e,t){const n={};if(e!==void 0){const o=new Ev;for(let c=0,h=e.length;c<h;c++){let _;const I=e[c];switch(I.type){case"BufferGeometry":case"InstancedBufferGeometry":_=o.parse(I);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE){var s=new THREE.LegacyJSONLoader;_=s.parse(I,this.resourcePath).geometry}else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:I.type in K0?_=K0[I.type].fromJSON(I,t):console.warn('THREE.ObjectLoader: Unsupported geometry type "'.concat(I.type,'"'))}_.uuid=I.uuid,I.name!==void 0&&(_.name=I.name),I.userData!==void 0&&(_.userData=I.userData),n[I.uuid]=_}}return n}parseMaterials(e,t){const n={},s={};if(e!==void 0){const o=new ou;o.setTextures(t);for(let c=0,h=e.length;c<h;c++){const _=e[c];n[_.uuid]===void 0&&(n[_.uuid]=o.parse(_)),s[_.uuid]=n[_.uuid]}}return s}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const s=e[n],o=Zc.parse(s);t[o.uuid]=o}return t}parseImages(e,t){const n=this,s={};let o;function c(_){return n.manager.itemStart(_),o.load(_,function(){n.manager.itemEnd(_)},void 0,function(){n.manager.itemError(_),n.manager.itemEnd(_)})}function h(_){if(typeof _=="string"){const I=_,O=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(I)?I:n.resourcePath+I;return c(O)}else return _.data?{data:ra(_.type,_.data),width:_.width,height:_.height}:null}if(e!==void 0&&e.length>0){const _=new rm(t);o=new ed(_),o.setCrossOrigin(this.crossOrigin);for(let I=0,O=e.length;I<O;I++){const U=e[I],N=U.url;if(Array.isArray(N)){const Q=[];for(let K=0,Z=N.length;K<Z;K++){const Y=N[K],V=h(Y);V!==null&&(V instanceof HTMLImageElement?Q.push(V):Q.push(new fa(V.data,V.width,V.height)))}s[U.uuid]=new ir(Q)}else{const Q=h(U.url);s[U.uuid]=new ir(Q)}}}return s}async parseImagesAsync(e){const t=this,n={};let s;async function o(c){if(typeof c=="string"){const h=c,_=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:t.resourcePath+h;return await s.loadAsync(_)}else return c.data?{data:ra(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){s=new ed(this.manager),s.setCrossOrigin(this.crossOrigin);for(let c=0,h=e.length;c<h;c++){const _=e[c],I=_.url;if(Array.isArray(I)){const O=[];for(let U=0,N=I.length;U<N;U++){const Q=I[U],K=await o(Q);K!==null&&(K instanceof HTMLImageElement?O.push(K):O.push(new fa(K.data,K.width,K.height)))}n[_.uuid]=new ir(O)}else{const O=await o(_.url);n[_.uuid]=new ir(O)}}}return n}parseTextures(e,t){function n(o,c){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),c[o])}const s={};if(e!==void 0)for(let o=0,c=e.length;o<c;o++){const h=e[o];h.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',h.uuid),t[h.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",h.image);const _=t[h.image],I=_.data;let O;Array.isArray(I)?(O=new Rc,I.length===6&&(O.needsUpdate=!0)):(I&&I.data?O=new fa:O=new Ki,I&&(O.needsUpdate=!0)),O.source=_,O.uuid=h.uuid,h.name!==void 0&&(O.name=h.name),h.mapping!==void 0&&(O.mapping=n(h.mapping,S3)),h.channel!==void 0&&(O.channel=h.channel),h.offset!==void 0&&O.offset.fromArray(h.offset),h.repeat!==void 0&&O.repeat.fromArray(h.repeat),h.center!==void 0&&O.center.fromArray(h.center),h.rotation!==void 0&&(O.rotation=h.rotation),h.wrap!==void 0&&(O.wrapS=n(h.wrap[0],xv),O.wrapT=n(h.wrap[1],xv)),h.format!==void 0&&(O.format=h.format),h.internalFormat!==void 0&&(O.internalFormat=h.internalFormat),h.type!==void 0&&(O.type=h.type),h.colorSpace!==void 0&&(O.colorSpace=h.colorSpace),h.minFilter!==void 0&&(O.minFilter=n(h.minFilter,Cv)),h.magFilter!==void 0&&(O.magFilter=n(h.magFilter,Cv)),h.anisotropy!==void 0&&(O.anisotropy=h.anisotropy),h.flipY!==void 0&&(O.flipY=h.flipY),h.generateMipmaps!==void 0&&(O.generateMipmaps=h.generateMipmaps),h.premultiplyAlpha!==void 0&&(O.premultiplyAlpha=h.premultiplyAlpha),h.unpackAlignment!==void 0&&(O.unpackAlignment=h.unpackAlignment),h.compareFunction!==void 0&&(O.compareFunction=h.compareFunction),h.userData!==void 0&&(O.userData=h.userData),s[h.uuid]=O}return s}parseObject(e,t,n,s,o){let c;function h(N){return t[N]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",N),t[N]}function _(N){if(N!==void 0){if(Array.isArray(N)){const Q=[];for(let K=0,Z=N.length;K<Z;K++){const Y=N[K];n[Y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",Y),Q.push(n[Y])}return Q}return n[N]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",N),n[N]}}function I(N){return s[N]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",N),s[N]}let O,U;switch(e.type){case"Scene":c=new r0,e.background!==void 0&&(Number.isInteger(e.background)?c.background=new pn(e.background):c.background=I(e.background)),e.environment!==void 0&&(c.environment=I(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?c.fog=new Eh(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(c.fog=new yh(e.fog.color,e.fog.density)),e.fog.name!==""&&(c.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(c.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(c.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&c.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(c.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&c.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":c=new Pr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(c.focus=e.focus),e.zoom!==void 0&&(c.zoom=e.zoom),e.filmGauge!==void 0&&(c.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(c.filmOffset=e.filmOffset),e.view!==void 0&&(c.view=Object.assign({},e.view));break;case"OrthographicCamera":c=new Ah(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(c.zoom=e.zoom),e.view!==void 0&&(c.view=Object.assign({},e.view));break;case"AmbientLight":c=new Av(e.color,e.intensity);break;case"DirectionalLight":c=new mv(e.color,e.intensity);break;case"PointLight":c=new pv(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":c=new gv(e.color,e.intensity,e.width,e.height);break;case"SpotLight":c=new uv(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":c=new cv(e.color,e.groundColor,e.intensity);break;case"LightProbe":c=new bv().fromJSON(e);break;case"SkinnedMesh":O=h(e.geometry),U=_(e.material),c=new A0(O,U),e.bindMode!==void 0&&(c.bindMode=e.bindMode),e.bindMatrix!==void 0&&c.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(c.skeleton=e.skeleton);break;case"Mesh":O=h(e.geometry),U=_(e.material),c=new Tr(O,U);break;case"InstancedMesh":O=h(e.geometry),U=_(e.material);const N=e.count,Q=e.instanceMatrix,K=e.instanceColor;c=new y0(O,U,N),c.instanceMatrix=new Yl(new Float32Array(Q.array),16),K!==void 0&&(c.instanceColor=new Yl(new Float32Array(K.array),K.itemSize));break;case"BatchedMesh":O=h(e.geometry),U=_(e.material),c=new C0(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,U),c.geometry=O,c.perObjectFrustumCulled=e.perObjectFrustumCulled,c.sortObjects=e.sortObjects,c._drawRanges=e.drawRanges,c._reservedRanges=e.reservedRanges,c._visibility=e.visibility,c._active=e.active,c._bounds=e.bounds.map(Z=>{const Y=new fr;Y.min.fromArray(Z.boxMin),Y.max.fromArray(Z.boxMax);const V=new Lr;return V.radius=Z.sphereRadius,V.center.fromArray(Z.sphereCenter),{boxInitialized:Z.boxInitialized,box:Y,sphereInitialized:Z.sphereInitialized,sphere:V}}),c._maxGeometryCount=e.maxGeometryCount,c._maxVertexCount=e.maxVertexCount,c._maxIndexCount=e.maxIndexCount,c._geometryInitialized=e.geometryInitialized,c._geometryCount=e.geometryCount,c._matricesTexture=I(e.matricesTexture.uuid);break;case"LOD":c=new d0;break;case"Line":c=new ma(h(e.geometry),_(e.material));break;case"LineLoop":c=new I0(h(e.geometry),_(e.material));break;case"LineSegments":c=new bo(h(e.geometry),_(e.material));break;case"PointCloud":case"Points":c=new B0(h(e.geometry),_(e.material));break;case"Sprite":c=new l0(_(e.material));break;case"Group":c=new Ka;break;case"Bone":c=new Op;break;default:c=new Mi}if(c.uuid=e.uuid,e.name!==void 0&&(c.name=e.name),e.matrix!==void 0?(c.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(c.matrixAutoUpdate=e.matrixAutoUpdate),c.matrixAutoUpdate&&c.matrix.decompose(c.position,c.quaternion,c.scale)):(e.position!==void 0&&c.position.fromArray(e.position),e.rotation!==void 0&&c.rotation.fromArray(e.rotation),e.quaternion!==void 0&&c.quaternion.fromArray(e.quaternion),e.scale!==void 0&&c.scale.fromArray(e.scale)),e.up!==void 0&&c.up.fromArray(e.up),e.castShadow!==void 0&&(c.castShadow=e.castShadow),e.receiveShadow!==void 0&&(c.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(c.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(c.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(c.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&c.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(c.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(c.visible=e.visible),e.frustumCulled!==void 0&&(c.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(c.renderOrder=e.renderOrder),e.userData!==void 0&&(c.userData=e.userData),e.layers!==void 0&&(c.layers.mask=e.layers),e.children!==void 0){const N=e.children;for(let Q=0;Q<N.length;Q++)c.add(this.parseObject(N[Q],t,n,s,o))}if(e.animations!==void 0){const N=e.animations;for(let Q=0;Q<N.length;Q++){const K=N[Q];c.animations.push(o[K])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(c.autoUpdate=e.autoUpdate);const N=e.levels;for(let Q=0;Q<N.length;Q++){const K=N[Q],Z=c.getObjectByProperty("uuid",K.object);Z!==void 0&&c.addLevel(Z,K.distance,K.hysteresis)}}return c}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const s=t[n.skeleton];s===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(s,n.bindMatrix)}})}}const S3={UVMapping:Be,CubeReflectionMapping:J,CubeRefractionMapping:k,EquirectangularReflectionMapping:G,EquirectangularRefractionMapping:le,CubeUVReflectionMapping:ge},xv={RepeatWrapping:De,ClampToEdgeWrapping:Ve,MirroredRepeatWrapping:kt},Cv={NearestFilter:Yt,NearestMipmapNearestFilter:Gt,NearestMipmapLinearFilter:un,LinearFilter:Rn,LinearMipmapNearestFilter:Zi,LinearMipmapLinearFilter:Li};class I3 extends ws{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,c=Qo.get(e);if(c!==void 0){if(o.manager.itemStart(e),c.then){c.then(I=>{t&&t(I),o.manager.itemEnd(e)}).catch(I=>{s&&s(I)});return}return setTimeout(function(){t&&t(c),o.manager.itemEnd(e)},0),c}const h={};h.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",h.headers=this.requestHeader;const _=fetch(e,h).then(function(I){return I.blob()}).then(function(I){return createImageBitmap(I,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(I){return Qo.add(e,I),t&&t(I),o.manager.itemEnd(e),I}).catch(function(I){s&&s(I),Qo.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});Qo.add(e,_),o.manager.itemStart(e)}}let au;class cm{static getContext(){return au===void 0&&(au=new(window.AudioContext||window.webkitAudioContext)),au}static setContext(e){au=e}}class T3 extends ws{constructor(e){super(e)}load(e,t,n,s){const o=this,c=new Vo(this.manager);c.setResponseType("arraybuffer"),c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(_){try{const I=_.slice(0);cm.getContext().decodeAudioData(I,function(U){t(U)}).catch(h)}catch(I){h(I)}},n,s);function h(_){s?s(_):console.error(_),o.manager.itemError(e)}}}const wv=new xn,_v=new xn,nl=new xn;class B3{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Pr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Pr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,nl.copy(e.projectionMatrix);const s=t.eyeSep/2,o=s*t.near/t.focus,c=t.near*Math.tan(Do*t.fov*.5)/t.zoom;let h,_;_v.elements[12]=-s,wv.elements[12]=s,h=-c*t.aspect+o,_=c*t.aspect+o,nl.elements[0]=2*t.near/(_-h),nl.elements[8]=(_+h)/(_-h),this.cameraL.projectionMatrix.copy(nl),h=-c*t.aspect-o,_=c*t.aspect-o,nl.elements[0]=2*t.near/(_-h),nl.elements[8]=(_+h)/(_-h),this.cameraR.projectionMatrix.copy(nl)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(_v),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(wv)}}class Mv{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Sv(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Sv();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function Sv(){return(typeof performance>"u"?Date:performance).now()}const il=new _e,Iv=new _i,R3=new _e,rl=new _e;class L3 extends Mi{constructor(){super(),this.type="AudioListener",this.context=cm.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Mv}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(il,Iv,R3),rl.set(0,0,-1).applyQuaternion(Iv),t.positionX){const s=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(il.x,s),t.positionY.linearRampToValueAtTime(il.y,s),t.positionZ.linearRampToValueAtTime(il.z,s),t.forwardX.linearRampToValueAtTime(rl.x,s),t.forwardY.linearRampToValueAtTime(rl.y,s),t.forwardZ.linearRampToValueAtTime(rl.z,s),t.upX.linearRampToValueAtTime(n.x,s),t.upY.linearRampToValueAtTime(n.y,s),t.upZ.linearRampToValueAtTime(n.z,s)}else t.setPosition(il.x,il.y,il.z),t.setOrientation(rl.x,rl.y,rl.z,n.x,n.y,n.z)}}class Tv extends Mi{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const sl=new _e,Bv=new _i,D3=new _e,ol=new _e;class P3 extends Tv{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(sl,Bv,D3),ol.set(0,0,1).applyQuaternion(Bv);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(sl.x,n),t.positionY.linearRampToValueAtTime(sl.y,n),t.positionZ.linearRampToValueAtTime(sl.z,n),t.orientationX.linearRampToValueAtTime(ol.x,n),t.orientationY.linearRampToValueAtTime(ol.y,n),t.orientationZ.linearRampToValueAtTime(ol.z,n)}else t.setPosition(sl.x,sl.y,sl.z),t.setOrientation(ol.x,ol.y,ol.z)}}class O3{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class Rv{constructor(e,t,n){this.binding=e,this.valueSize=n;let s,o,c;switch(t){case"quaternion":s=this._slerp,o=this._slerpAdditive,c=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":s=this._select,o=this._select,c=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:s=this._lerp,o=this._lerpAdditive,c=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=o,this._setIdentity=c,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,s=this.valueSize,o=e*s+s;let c=this.cumulativeWeight;if(c===0){for(let h=0;h!==s;++h)n[o+h]=n[h];c=t}else{c+=t;const h=t/c;this._mixBufferRegion(n,o,0,h,s)}this.cumulativeWeight=c}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,s=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,s,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,s=e*t+t,o=this.cumulativeWeight,c=this.cumulativeWeightAdditive,h=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const _=t*this._origIndex;this._mixBufferRegion(n,s,_,1-o,t)}c>0&&this._mixBufferRegionAdditive(n,s,this._addIndex*t,1,t);for(let _=t,I=t+t;_!==I;++_)if(n[_]!==n[_+t]){h.setValue(n,s);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,s=n*this._origIndex;e.getValue(t,s);for(let o=n,c=s;o!==c;++o)t[o]=t[s+o%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,s,o){if(s>=.5)for(let c=0;c!==o;++c)e[t+c]=e[n+c]}_slerp(e,t,n,s){_i.slerpFlat(e,t,e,t,e,n,s)}_slerpAdditive(e,t,n,s,o){const c=this._workIndex*o;_i.multiplyQuaternionsFlat(e,c,e,t,e,n),_i.slerpFlat(e,t,e,t,e,c,s)}_lerp(e,t,n,s,o){const c=1-s;for(let h=0;h!==o;++h){const _=t+h;e[_]=e[_]*c+e[n+h]*s}}_lerpAdditive(e,t,n,s,o){for(let c=0;c!==o;++c){const h=t+c;e[h]=e[h]+e[n+c]*s}}}const dm="\\[\\]\\.:\\/",k3=new RegExp("["+dm+"]","g"),hm="[^"+dm+"]",F3="[^"+dm.replace("\\.","")+"]",U3=/((?:WC+[\/:])*)/.source.replace("WC",hm),N3=/(WCOD+)?/.source.replace("WCOD",F3),G3=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",hm),Q3=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",hm),H3=new RegExp("^"+U3+N3+G3+Q3+"$"),V3=["material","materials","bones","map"];class z3{constructor(e,t,n){const s=n||wi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,s)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,s=this._bindings[n];s!==void 0&&s.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let s=this._targetGroup.nCachedObjects_,o=n.length;s!==o;++s)n[s].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class wi{constructor(e,t,n){this.path=t,this.parsedPath=n||wi.parseTrackName(t),this.node=wi.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new wi.Composite(e,t,n):new wi(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(k3,"")}static parseTrackName(e){const t=H3.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},s=n.nodeName&&n.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const o=n.nodeName.substring(s+1);V3.indexOf(o)!==-1&&(n.nodeName=n.nodeName.substring(0,s),n.objectName=o)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(o){for(let c=0;c<o.length;c++){const h=o[c];if(h.name===t||h.uuid===t)return h;const _=n(h.children);if(_)return _}return null},s=n(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let s=0,o=n.length;s!==o;++s)e[t++]=n[s]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let s=0,o=n.length;s!==o;++s)n[s]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let s=0,o=n.length;s!==o;++s)n[s]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let s=0,o=n.length;s!==o;++s)n[s]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,s=t.propertyName;let o=t.propertyIndex;if(e||(e=wi.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let I=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let O=0;O<e.length;O++)if(e[O].name===I){I=O;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(I!==void 0){if(e[I]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[I]}}const c=e[s];if(c===void 0){const I=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+I+"."+s+" but it wasn't found.",e);return}let h=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?h=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(h=this.Versioning.MatrixWorldNeedsUpdate);let _=this.BindingType.Direct;if(o!==void 0){if(s==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}_=this.BindingType.ArrayElement,this.resolvedProperty=c,this.propertyIndex=o}else c.fromArray!==void 0&&c.toArray!==void 0?(_=this.BindingType.HasFromToArray,this.resolvedProperty=c):Array.isArray(c)?(_=this.BindingType.EntireArray,this.resolvedProperty=c):this.propertyName=s;this.getValue=this.GetterByBindingType[_],this.setValue=this.SetterByBindingTypeAndVersioning[_][h]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}wi.Composite=z3,wi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},wi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},wi.prototype.GetterByBindingType=[wi.prototype._getValue_direct,wi.prototype._getValue_array,wi.prototype._getValue_arrayElement,wi.prototype._getValue_toArray],wi.prototype.SetterByBindingTypeAndVersioning=[[wi.prototype._setValue_direct,wi.prototype._setValue_direct_setNeedsUpdate,wi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[wi.prototype._setValue_array,wi.prototype._setValue_array_setNeedsUpdate,wi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[wi.prototype._setValue_arrayElement,wi.prototype._setValue_arrayElement_setNeedsUpdate,wi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[wi.prototype._setValue_fromArray,wi.prototype._setValue_fromArray_setNeedsUpdate,wi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class j3{constructor(){this.isAnimationObjectGroup=!0,this.uuid=hs(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,s=arguments.length;n!==s;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,s=this._parsedPaths,o=this._bindings,c=o.length;let h,_=e.length,I=this.nCachedObjects_;for(let O=0,U=arguments.length;O!==U;++O){const N=arguments[O],Q=N.uuid;let K=t[Q];if(K===void 0){K=_++,t[Q]=K,e.push(N);for(let Z=0,Y=c;Z!==Y;++Z)o[Z].push(new wi(N,n[Z],s[Z]))}else if(K<I){h=e[K];const Z=--I,Y=e[Z];t[Y.uuid]=K,e[K]=Y,t[Q]=Z,e[Z]=N;for(let V=0,he=c;V!==he;++V){const ce=o[V],oe=ce[Z];let Ge=ce[K];ce[K]=oe,Ge===void 0&&(Ge=new wi(N,n[V],s[V])),ce[Z]=Ge}}else e[K]!==h&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=I}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,s=n.length;let o=this.nCachedObjects_;for(let c=0,h=arguments.length;c!==h;++c){const _=arguments[c],I=_.uuid,O=t[I];if(O!==void 0&&O>=o){const U=o++,N=e[U];t[N.uuid]=O,e[O]=N,t[I]=U,e[U]=_;for(let Q=0,K=s;Q!==K;++Q){const Z=n[Q],Y=Z[U],V=Z[O];Z[O]=Y,Z[U]=V}}}this.nCachedObjects_=o}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,s=n.length;let o=this.nCachedObjects_,c=e.length;for(let h=0,_=arguments.length;h!==_;++h){const I=arguments[h],O=I.uuid,U=t[O];if(U!==void 0)if(delete t[O],U<o){const N=--o,Q=e[N],K=--c,Z=e[K];t[Q.uuid]=U,e[U]=Q,t[Z.uuid]=N,e[N]=Z,e.pop();for(let Y=0,V=s;Y!==V;++Y){const he=n[Y],ce=he[N],oe=he[K];he[U]=ce,he[N]=oe,he.pop()}}else{const N=--c,Q=e[N];N>0&&(t[Q.uuid]=U),e[U]=Q,e.pop();for(let K=0,Z=s;K!==Z;++K){const Y=n[K];Y[U]=Y[N],Y.pop()}}}this.nCachedObjects_=o}subscribe_(e,t){const n=this._bindingsIndicesByPath;let s=n[e];const o=this._bindings;if(s!==void 0)return o[s];const c=this._paths,h=this._parsedPaths,_=this._objects,I=_.length,O=this.nCachedObjects_,U=new Array(I);s=o.length,n[e]=s,c.push(e),h.push(t),o.push(U);for(let N=O,Q=_.length;N!==Q;++N){const K=_[N];U[N]=new wi(K,e,t)}return U}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const s=this._paths,o=this._parsedPaths,c=this._bindings,h=c.length-1,_=c[h],I=e[h];t[I]=n,c[n]=_,c.pop(),o[n]=o[h],o.pop(),s[n]=s[h],s.pop()}}}class Lv{constructor(e,t,n=null,s=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=s;const o=t.tracks,c=o.length,h=new Array(c),_={endingStart:ur,endingEnd:ur};for(let I=0;I!==c;++I){const O=o[I].createInterpolant(null);h[I]=O,O.settings=_}this._interpolantSettings=_,this._interpolants=h,this._propertyBindings=new Array(c),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Wi,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const s=this._clip.duration,o=e._clip.duration,c=o/s,h=s/o;e.warp(1,c,t),this.warp(h,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const s=this._mixer,o=s.time,c=this.timeScale;let h=this._timeScaleInterpolant;h===null&&(h=s._lendControlInterpolant(),this._timeScaleInterpolant=h);const _=h.parameterPositions,I=h.sampleValues;return _[0]=o,_[1]=o+n,I[0]=e/c,I[1]=t/c,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,s){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const _=(e-o)*n;_<0||n===0?t=0:(this._startTime=null,t=n*_)}t*=this._updateTimeScale(e);const c=this._updateTime(t),h=this._updateWeight(e);if(h>0){const _=this._interpolants,I=this._propertyBindings;switch(this.blendMode){case Zs:for(let O=0,U=_.length;O!==U;++O)_[O].evaluate(c),I[O].accumulateAdditive(h);break;case Vs:default:for(let O=0,U=_.length;O!==U;++O)_[O].evaluate(c),I[O].accumulate(s,h)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const s=n.evaluate(e)[0];t*=s,e>n.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const s=n.evaluate(e)[0];t*=s,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let s=this.time+e,o=this._loopCount;const c=n===xr;if(e===0)return o===-1?s:c&&(o&1)===1?t-s:s;if(n===nr){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(s>=t)s=t;else if(s<0)s=0;else{this.time=s;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,c)):this._setEndings(this.repetitions===0,!0,c)),s>=t||s<0){const h=Math.floor(s/t);s-=t*h,o+=Math.abs(h);const _=this.repetitions-o;if(_<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=e>0?t:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(_===1){const I=e<0;this._setEndings(I,!I,c)}else this._setEndings(!1,!1,c);this._loopCount=o,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:h})}}else this.time=s;if(c&&(o&1)===1)return t-s}return s}_setEndings(e,t,n){const s=this._interpolantSettings;n?(s.endingStart=Nr,s.endingEnd=Nr):(e?s.endingStart=this.zeroSlopeAtStart?Nr:ur:s.endingStart=Ts,t?s.endingEnd=this.zeroSlopeAtEnd?Nr:ur:s.endingEnd=Ts)}_scheduleFading(e,t,n){const s=this._mixer,o=s.time;let c=this._weightInterpolant;c===null&&(c=s._lendControlInterpolant(),this._weightInterpolant=c);const h=c.parameterPositions,_=c.sampleValues;return h[0]=o,_[0]=t,h[1]=o+e,_[1]=n,this}}const W3=new Float32Array(1);class K3 extends ds{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,s=e._clip.tracks,o=s.length,c=e._propertyBindings,h=e._interpolants,_=n.uuid,I=this._bindingsByRootAndName;let O=I[_];O===void 0&&(O={},I[_]=O);for(let U=0;U!==o;++U){const N=s[U],Q=N.name;let K=O[Q];if(K!==void 0)++K.referenceCount,c[U]=K;else{if(K=c[U],K!==void 0){K._cacheIndex===null&&(++K.referenceCount,this._addInactiveBinding(K,_,Q));continue}const Z=t&&t._propertyBindings[U].binding.parsedPath;K=new Rv(wi.create(n,Q,Z),N.ValueTypeName,N.getValueSize()),++K.referenceCount,this._addInactiveBinding(K,_,Q),c[U]=K}h[U].resultBuffer=K.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,s=e._clip.uuid,o=this._actionsByClip[s];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,s,n)}const t=e._propertyBindings;for(let n=0,s=t.length;n!==s;++n){const o=t[n];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,s=t.length;n!==s;++n){const o=t[n];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const s=this._actions,o=this._actionsByClip;let c=o[t];if(c===void 0)c={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=c;else{const h=c.knownActions;e._byClipCacheIndex=h.length,h.push(e)}e._cacheIndex=s.length,s.push(e),c.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],s=e._cacheIndex;n._cacheIndex=s,t[s]=n,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,c=this._actionsByClip,h=c[o],_=h.knownActions,I=_[_.length-1],O=e._byClipCacheIndex;I._byClipCacheIndex=O,_[O]=I,_.pop(),e._byClipCacheIndex=null;const U=h.actionByRoot,N=(e._localRoot||this._root).uuid;delete U[N],_.length===0&&delete c[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,s=t.length;n!==s;++n){const o=t[n];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,s=this._nActiveActions++,o=t[s];e._cacheIndex=s,t[s]=e,o._cacheIndex=n,t[n]=o}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,s=--this._nActiveActions,o=t[s];e._cacheIndex=s,t[s]=e,o._cacheIndex=n,t[n]=o}_addInactiveBinding(e,t,n){const s=this._bindingsByRootAndName,o=this._bindings;let c=s[t];c===void 0&&(c={},s[t]=c),c[n]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,s=n.rootNode.uuid,o=n.path,c=this._bindingsByRootAndName,h=c[s],_=t[t.length-1],I=e._cacheIndex;_._cacheIndex=I,t[I]=_,t.pop(),delete h[o],Object.keys(h).length===0&&delete c[s]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,s=this._nActiveBindings++,o=t[s];e._cacheIndex=s,t[s]=e,o._cacheIndex=n,t[n]=o}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,s=--this._nActiveBindings,o=t[s];e._cacheIndex=s,t[s]=e,o._cacheIndex=n,t[n]=o}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new nm(new Float32Array(2),new Float32Array(2),1,W3),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,s=--this._nActiveControlInterpolants,o=t[s];e.__cacheIndex=s,t[s]=e,o.__cacheIndex=n,t[n]=o}clipAction(e,t,n){const s=t||this._root,o=s.uuid;let c=typeof e=="string"?Zc.findByName(s,e):e;const h=c!==null?c.uuid:e,_=this._actionsByClip[h];let I=null;if(n===void 0&&(c!==null?n=c.blendMode:n=Vs),_!==void 0){const U=_.actionByRoot[o];if(U!==void 0&&U.blendMode===n)return U;I=_.knownActions[0],c===null&&(c=I._clip)}if(c===null)return null;const O=new Lv(this,c,t,n);return this._bindAction(O,I),this._addInactiveAction(O,h,o),O}existingAction(e,t){const n=t||this._root,s=n.uuid,o=typeof e=="string"?Zc.findByName(n,e):e,c=o?o.uuid:e,h=this._actionsByClip[c];return h!==void 0&&h.actionByRoot[s]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,s=this.time+=e,o=Math.sign(e),c=this._accuIndex^=1;for(let I=0;I!==n;++I)t[I]._update(s,e,o,c);const h=this._bindings,_=this._nActiveBindings;for(let I=0;I!==_;++I)h[I].apply(c);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,s=this._actionsByClip,o=s[n];if(o!==void 0){const c=o.knownActions;for(let h=0,_=c.length;h!==_;++h){const I=c[h];this._deactivateAction(I);const O=I._cacheIndex,U=t[t.length-1];I._cacheIndex=null,I._byClipCacheIndex=null,U._cacheIndex=O,t[O]=U,t.pop(),this._removeInactiveBindingsForAction(I)}delete s[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const c in n){const h=n[c].actionByRoot,_=h[t];_!==void 0&&(this._deactivateAction(_),this._removeInactiveAction(_))}const s=this._bindingsByRootAndName,o=s[t];if(o!==void 0)for(const c in o){const h=o[c];h.restoreOriginalState(),this._removeInactiveBinding(h)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class um{constructor(e){this.value=e}clone(){return new um(this.value.clone===void 0?this.value:this.value.clone())}}let X3=0;class Y3 extends ds{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:X3++}),this.name="",this.usage=Fa,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,s=t.length;n<s;n++){const o=Array.isArray(t[n])?t[n]:[t[n]];for(let c=0;c<o.length;c++)this.uniforms.push(o[c].clone())}return this}clone(){return new this.constructor().copy(this)}}class $3 extends xh{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class q3{constructor(e,t,n,s,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=s,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const Dv=new xn;class J3{constructor(e,t,n=0,s=1/0){this.ray=new Dr(e,t),this.near=n,this.far=s,this.camera=null,this.layers=new th,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return Dv.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Dv),this}intersectObject(e,t=!0,n=[]){return fm(e,this,n,t),n.sort(Pv),n}intersectObjects(e,t=!0,n=[]){for(let s=0,o=e.length;s<o;s++)fm(e[s],this,n,t);return n.sort(Pv),n}}function Pv(a,e){return a.distance-e.distance}function fm(a,e,t,n){if(a.layers.test(e.layers)&&a.raycast(e,t),n===!0){const s=a.children;for(let o=0,c=s.length;o<c;o++)fm(s[o],e,t,!0)}}class Z3{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(lr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class eM{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}const Ov=new Mt;class tM{constructor(e=new Mt(1/0,1/0),t=new Mt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Ov.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ov).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const kv=new _e,lu=new _e;class nM{constructor(e=new _e,t=new _e){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){kv.subVectors(e,this.start),lu.subVectors(this.end,this.start);const n=lu.dot(lu);let o=lu.dot(kv)/n;return t&&(o=lr(o,0,1)),o}closestPointToPoint(e,t,n){const s=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(s).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Fv=new _e;class iM extends Mi{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new ai,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let c=0,h=1,_=32;c<_;c++,h++){const I=c/_*Math.PI*2,O=h/_*Math.PI*2;s.push(Math.cos(I),Math.sin(I),1,Math.cos(O),Math.sin(O),1)}n.setAttribute("position",new _n(s,3));const o=new ms({fog:!1,toneMapped:!1});this.cone=new bo(n,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Fv.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Fv),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const va=new _e,cu=new xn,pm=new xn;class rM extends bo{constructor(e){const t=Uv(e),n=new ai,s=[],o=[],c=new pn(0,0,1),h=new pn(0,1,0);for(let I=0;I<t.length;I++){const O=t[I];O.parent&&O.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),o.push(c.r,c.g,c.b),o.push(h.r,h.g,h.b))}n.setAttribute("position",new _n(s,3)),n.setAttribute("color",new _n(o,3));const _=new ms({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,_),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,s=n.getAttribute("position");pm.copy(this.root.matrixWorld).invert();for(let o=0,c=0;o<t.length;o++){const h=t[o];h.parent&&h.parent.isBone&&(cu.multiplyMatrices(pm,h.matrixWorld),va.setFromMatrixPosition(cu),s.setXYZ(c,va.x,va.y,va.z),cu.multiplyMatrices(pm,h.parent.matrixWorld),va.setFromMatrixPosition(cu),s.setXYZ(c+1,va.x,va.y,va.z),c+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Uv(a){const e=[];a.isBone===!0&&e.push(a);for(let t=0;t<a.children.length;t++)e.push.apply(e,Uv(a.children[t]));return e}class sM extends Tr{constructor(e,t,n){const s=new Yc(t,4,2),o=new da({wireframe:!0,fog:!1,toneMapped:!1});super(s,o),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const oM=new _e,Nv=new pn,Gv=new pn;class aM extends Mi{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const s=new Xc(t);s.rotateY(Math.PI*.5),this.material=new da({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=s.getAttribute("position"),c=new Float32Array(o.count*3);s.setAttribute("color",new Gi(c,3)),this.add(new Tr(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Nv.copy(this.light.color),Gv.copy(this.light.groundColor);for(let n=0,s=t.count;n<s;n++){const o=n<s/2?Nv:Gv;t.setXYZ(n,o.r,o.g,o.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(oM.setFromMatrixPosition(this.light.matrixWorld).negate())}}class lM extends bo{constructor(e=10,t=10,n=4473924,s=8947848){n=new pn(n),s=new pn(s);const o=t/2,c=e/t,h=e/2,_=[],I=[];for(let N=0,Q=0,K=-h;N<=t;N++,K+=c){_.push(-h,0,K,h,0,K),_.push(K,0,-h,K,0,h);const Z=N===o?n:s;Z.toArray(I,Q),Q+=3,Z.toArray(I,Q),Q+=3,Z.toArray(I,Q),Q+=3,Z.toArray(I,Q),Q+=3}const O=new ai;O.setAttribute("position",new _n(_,3)),O.setAttribute("color",new _n(I,3));const U=new ms({vertexColors:!0,toneMapped:!1});super(O,U),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class cM extends bo{constructor(e=10,t=16,n=8,s=64,o=4473924,c=8947848){o=new pn(o),c=new pn(c);const h=[],_=[];if(t>1)for(let U=0;U<t;U++){const N=U/t*(Math.PI*2),Q=Math.sin(N)*e,K=Math.cos(N)*e;h.push(0,0,0),h.push(Q,0,K);const Z=U&1?o:c;_.push(Z.r,Z.g,Z.b),_.push(Z.r,Z.g,Z.b)}for(let U=0;U<n;U++){const N=U&1?o:c,Q=e-e/n*U;for(let K=0;K<s;K++){let Z=K/s*(Math.PI*2),Y=Math.sin(Z)*Q,V=Math.cos(Z)*Q;h.push(Y,0,V),_.push(N.r,N.g,N.b),Z=(K+1)/s*(Math.PI*2),Y=Math.sin(Z)*Q,V=Math.cos(Z)*Q,h.push(Y,0,V),_.push(N.r,N.g,N.b)}}const I=new ai;I.setAttribute("position",new _n(h,3)),I.setAttribute("color",new _n(_,3));const O=new ms({vertexColors:!0,toneMapped:!1});super(I,O),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Qv=new _e,du=new _e,Hv=new _e;class dM extends Mi{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let s=new ai;s.setAttribute("position",new _n([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const o=new ms({fog:!1,toneMapped:!1});this.lightPlane=new ma(s,o),this.add(this.lightPlane),s=new ai,s.setAttribute("position",new _n([0,0,0,0,0,1],3)),this.targetLine=new ma(s,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Qv.setFromMatrixPosition(this.light.matrixWorld),du.setFromMatrixPosition(this.light.target.matrixWorld),Hv.subVectors(du,Qv),this.lightPlane.lookAt(du),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(du),this.targetLine.scale.z=Hv.length()}}const hu=new _e,vr=new fh;class hM extends bo{constructor(e){const t=new ai,n=new ms({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],o=[],c={};h("n1","n2"),h("n2","n4"),h("n4","n3"),h("n3","n1"),h("f1","f2"),h("f2","f4"),h("f4","f3"),h("f3","f1"),h("n1","f1"),h("n2","f2"),h("n3","f3"),h("n4","f4"),h("p","n1"),h("p","n2"),h("p","n3"),h("p","n4"),h("u1","u2"),h("u2","u3"),h("u3","u1"),h("c","t"),h("p","c"),h("cn1","cn2"),h("cn3","cn4"),h("cf1","cf2"),h("cf3","cf4");function h(K,Z){_(K),_(Z)}function _(K){s.push(0,0,0),o.push(0,0,0),c[K]===void 0&&(c[K]=[]),c[K].push(s.length/3-1)}t.setAttribute("position",new _n(s,3)),t.setAttribute("color",new _n(o,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=c,this.update();const I=new pn(16755200),O=new pn(16711680),U=new pn(43775),N=new pn(16777215),Q=new pn(3355443);this.setColors(I,O,U,N,Q)}setColors(e,t,n,s,o){const h=this.geometry.getAttribute("color");h.setXYZ(0,e.r,e.g,e.b),h.setXYZ(1,e.r,e.g,e.b),h.setXYZ(2,e.r,e.g,e.b),h.setXYZ(3,e.r,e.g,e.b),h.setXYZ(4,e.r,e.g,e.b),h.setXYZ(5,e.r,e.g,e.b),h.setXYZ(6,e.r,e.g,e.b),h.setXYZ(7,e.r,e.g,e.b),h.setXYZ(8,e.r,e.g,e.b),h.setXYZ(9,e.r,e.g,e.b),h.setXYZ(10,e.r,e.g,e.b),h.setXYZ(11,e.r,e.g,e.b),h.setXYZ(12,e.r,e.g,e.b),h.setXYZ(13,e.r,e.g,e.b),h.setXYZ(14,e.r,e.g,e.b),h.setXYZ(15,e.r,e.g,e.b),h.setXYZ(16,e.r,e.g,e.b),h.setXYZ(17,e.r,e.g,e.b),h.setXYZ(18,e.r,e.g,e.b),h.setXYZ(19,e.r,e.g,e.b),h.setXYZ(20,e.r,e.g,e.b),h.setXYZ(21,e.r,e.g,e.b),h.setXYZ(22,e.r,e.g,e.b),h.setXYZ(23,e.r,e.g,e.b),h.setXYZ(24,t.r,t.g,t.b),h.setXYZ(25,t.r,t.g,t.b),h.setXYZ(26,t.r,t.g,t.b),h.setXYZ(27,t.r,t.g,t.b),h.setXYZ(28,t.r,t.g,t.b),h.setXYZ(29,t.r,t.g,t.b),h.setXYZ(30,t.r,t.g,t.b),h.setXYZ(31,t.r,t.g,t.b),h.setXYZ(32,n.r,n.g,n.b),h.setXYZ(33,n.r,n.g,n.b),h.setXYZ(34,n.r,n.g,n.b),h.setXYZ(35,n.r,n.g,n.b),h.setXYZ(36,n.r,n.g,n.b),h.setXYZ(37,n.r,n.g,n.b),h.setXYZ(38,s.r,s.g,s.b),h.setXYZ(39,s.r,s.g,s.b),h.setXYZ(40,o.r,o.g,o.b),h.setXYZ(41,o.r,o.g,o.b),h.setXYZ(42,o.r,o.g,o.b),h.setXYZ(43,o.r,o.g,o.b),h.setXYZ(44,o.r,o.g,o.b),h.setXYZ(45,o.r,o.g,o.b),h.setXYZ(46,o.r,o.g,o.b),h.setXYZ(47,o.r,o.g,o.b),h.setXYZ(48,o.r,o.g,o.b),h.setXYZ(49,o.r,o.g,o.b),h.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,s=1;vr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),_r("c",t,e,vr,0,0,-1),_r("t",t,e,vr,0,0,1),_r("n1",t,e,vr,-n,-s,-1),_r("n2",t,e,vr,n,-s,-1),_r("n3",t,e,vr,-n,s,-1),_r("n4",t,e,vr,n,s,-1),_r("f1",t,e,vr,-n,-s,1),_r("f2",t,e,vr,n,-s,1),_r("f3",t,e,vr,-n,s,1),_r("f4",t,e,vr,n,s,1),_r("u1",t,e,vr,n*.7,s*1.1,-1),_r("u2",t,e,vr,-n*.7,s*1.1,-1),_r("u3",t,e,vr,0,s*2,-1),_r("cf1",t,e,vr,-n,0,1),_r("cf2",t,e,vr,n,0,1),_r("cf3",t,e,vr,0,-s,1),_r("cf4",t,e,vr,0,s,1),_r("cn1",t,e,vr,-n,0,-1),_r("cn2",t,e,vr,n,0,-1),_r("cn3",t,e,vr,0,-s,-1),_r("cn4",t,e,vr,0,s,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function _r(a,e,t,n,s,o,c){hu.set(s,o,c).unproject(n);const h=e[a];if(h!==void 0){const _=t.getAttribute("position");for(let I=0,O=h.length;I<O;I++)_.setXYZ(h[I],hu.x,hu.y,hu.z)}}const uu=new fr;class uM extends bo{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(8*3),o=new ai;o.setIndex(new Gi(n,1)),o.setAttribute("position",new Gi(s,3)),super(o,new ms({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&uu.setFromObject(this.object),uu.isEmpty())return;const t=uu.min,n=uu.max,s=this.geometry.attributes.position,o=s.array;o[0]=n.x,o[1]=n.y,o[2]=n.z,o[3]=t.x,o[4]=n.y,o[5]=n.z,o[6]=t.x,o[7]=t.y,o[8]=n.z,o[9]=n.x,o[10]=t.y,o[11]=n.z,o[12]=n.x,o[13]=n.y,o[14]=t.z,o[15]=t.x,o[16]=n.y,o[17]=t.z,o[18]=t.x,o[19]=t.y,o[20]=t.z,o[21]=n.x,o[22]=t.y,o[23]=t.z,s.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class fM extends bo{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new ai;o.setIndex(new Gi(n,1)),o.setAttribute("position",new _n(s,3)),super(o,new ms({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class pM extends ma{constructor(e,t=1,n=16776960){const s=n,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],c=new ai;c.setAttribute("position",new _n(o,3)),c.computeBoundingSphere(),super(c,new ms({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const h=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],_=new ai;_.setAttribute("position",new _n(h,3)),_.computeBoundingSphere(),this.add(new Tr(_,new da({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Vv=new _e;let fu,mm;class mM extends Mi{constructor(e=new _e(0,0,1),t=new _e(0,0,0),n=1,s=16776960,o=n*.2,c=o*.2){super(),this.type="ArrowHelper",fu===void 0&&(fu=new ai,fu.setAttribute("position",new _n([0,0,0,0,1,0],3)),mm=new Jl(0,.5,1,5,1),mm.translate(0,-.5,0)),this.position.copy(t),this.line=new ma(fu,new ms({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Tr(mm,new da({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,o,c)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Vv.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Vv,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AM extends bo{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new ai;s.setAttribute("position",new _n(t,3)),s.setAttribute("color",new _n(n,3));const o=new ms({vertexColors:!0,toneMapped:!1});super(s,o),this.type="AxesHelper"}setColors(e,t,n){const s=new pn,o=this.geometry.attributes.color.array;return s.set(e),s.toArray(o,0),s.toArray(o,3),s.set(t),s.toArray(o,6),s.toArray(o,9),s.set(n),s.toArray(o,12),s.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class gM{constructor(){this.type="ShapePath",this.color=new pn,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Vc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,s){return this.currentPath.quadraticCurveTo(e,t,n,s),this}bezierCurveTo(e,t,n,s,o,c){return this.currentPath.bezierCurveTo(e,t,n,s,o,c),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(V){const he=[];for(let ce=0,oe=V.length;ce<oe;ce++){const Ge=V[ce],Se=new qa;Se.curves=Ge.curves,he.push(Se)}return he}function n(V,he){const ce=he.length;let oe=!1;for(let Ge=ce-1,Se=0;Se<ce;Ge=Se++){let Le=he[Ge],Ue=he[Se],ye=Ue.x-Le.x,me=Ue.y-Le.y;if(Math.abs(me)>Number.EPSILON){if(me<0&&(Le=he[Se],ye=-ye,Ue=he[Ge],me=-me),V.y<Le.y||V.y>Ue.y)continue;if(V.y===Le.y){if(V.x===Le.x)return!0}else{const Ne=me*(V.x-Le.x)-ye*(V.y-Le.y);if(Ne===0)return!0;if(Ne<0)continue;oe=!oe}}else{if(V.y!==Le.y)continue;if(Ue.x<=V.x&&V.x<=Le.x||Le.x<=V.x&&V.x<=Ue.x)return!0}}return oe}const s=yo.isClockWise,o=this.subPaths;if(o.length===0)return[];let c,h,_;const I=[];if(o.length===1)return h=o[0],_=new qa,_.curves=h.curves,I.push(_),I;let O=!s(o[0].getPoints());O=e?!O:O;const U=[],N=[];let Q=[],K=0,Z;N[K]=void 0,Q[K]=[];for(let V=0,he=o.length;V<he;V++)h=o[V],Z=h.getPoints(),c=s(Z),c=e?!c:c,c?(!O&&N[K]&&K++,N[K]={s:new qa,p:Z},N[K].s.curves=h.curves,O&&K++,Q[K]=[]):Q[K].push({h,p:Z[0]});if(!N[0])return t(o);if(N.length>1){let V=!1,he=0;for(let ce=0,oe=N.length;ce<oe;ce++)U[ce]=[];for(let ce=0,oe=N.length;ce<oe;ce++){const Ge=Q[ce];for(let Se=0;Se<Ge.length;Se++){const Le=Ge[Se];let Ue=!0;for(let ye=0;ye<N.length;ye++)n(Le.p,N[ye].p)&&(ce!==ye&&he++,Ue?(Ue=!1,U[ye].push(Le)):V=!0);Ue&&U[ce].push(Le)}}he>0&&V===!1&&(Q=U)}let Y;for(let V=0,he=N.length;V<he;V++){_=N[V].s,I.push(_),Y=Q[V];for(let ce=0,oe=Y.length;ce<oe;ce++)_.holes.push(Y[ce].h)}return I}}class vM extends ys{constructor(e=1,t=1,n=1,s={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,t,{...s,count:n}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:p}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=p)},"./node_modules/three/examples/jsm/libs/ktx-parse.module.js":(M,B,u)=>{u.r(B),u.d(B,{KHR_DF_CHANNEL_RGBSDA_ALPHA:()=>En,KHR_DF_CHANNEL_RGBSDA_BLUE:()=>Kt,KHR_DF_CHANNEL_RGBSDA_DEPTH:()=>Xt,KHR_DF_CHANNEL_RGBSDA_GREEN:()=>gt,KHR_DF_CHANNEL_RGBSDA_RED:()=>Pt,KHR_DF_CHANNEL_RGBSDA_STENCIL:()=>Qt,KHR_DF_FLAG_ALPHA_PREMULTIPLIED:()=>F,KHR_DF_FLAG_ALPHA_STRAIGHT:()=>R,KHR_DF_KHR_DESCRIPTORTYPE_BASICFORMAT:()=>g,KHR_DF_MODEL_ASTC:()=>T,KHR_DF_MODEL_ETC1:()=>v,KHR_DF_MODEL_ETC1S:()=>L,KHR_DF_MODEL_ETC2:()=>x,KHR_DF_MODEL_RGBSDA:()=>C,KHR_DF_MODEL_UNSPECIFIED:()=>E,KHR_DF_PRIMARIES_ACES:()=>je,KHR_DF_PRIMARIES_ACESCC:()=>ot,KHR_DF_PRIMARIES_ADOBERGB:()=>_t,KHR_DF_PRIMARIES_BT2020:()=>xe,KHR_DF_PRIMARIES_BT601_EBU:()=>Ct,KHR_DF_PRIMARIES_BT601_SMPTE:()=>Nt,KHR_DF_PRIMARIES_BT709:()=>it,KHR_DF_PRIMARIES_CIEXYZ:()=>Te,KHR_DF_PRIMARIES_DISPLAYP3:()=>Lt,KHR_DF_PRIMARIES_NTSC1953:()=>Je,KHR_DF_PRIMARIES_PAL525:()=>ut,KHR_DF_PRIMARIES_UNSPECIFIED:()=>rt,KHR_DF_SAMPLE_DATATYPE_EXPONENT:()=>mt,KHR_DF_SAMPLE_DATATYPE_FLOAT:()=>Dn,KHR_DF_SAMPLE_DATATYPE_LINEAR:()=>pe,KHR_DF_SAMPLE_DATATYPE_SIGNED:()=>Bn,KHR_DF_TRANSFER_ACESCC:()=>Xe,KHR_DF_TRANSFER_ACESCCT:()=>Fe,KHR_DF_TRANSFER_ADOBERGB:()=>qe,KHR_DF_TRANSFER_BT1886:()=>ne,KHR_DF_TRANSFER_DCIP3:()=>be,KHR_DF_TRANSFER_HLG_EOTF:()=>z,KHR_DF_TRANSFER_HLG_OETF:()=>X,KHR_DF_TRANSFER_ITU:()=>te,KHR_DF_TRANSFER_LINEAR:()=>H,KHR_DF_TRANSFER_NTSC:()=>ee,KHR_DF_TRANSFER_PAL625_EOTF:()=>ke,KHR_DF_TRANSFER_PAL_OETF:()=>Re,KHR_DF_TRANSFER_PQ_EOTF:()=>se,KHR_DF_TRANSFER_PQ_OETF:()=>ae,KHR_DF_TRANSFER_SLOG:()=>de,KHR_DF_TRANSFER_SLOG2:()=>ie,KHR_DF_TRANSFER_SRGB:()=>$,KHR_DF_TRANSFER_ST240:()=>Ke,KHR_DF_TRANSFER_UNSPECIFIED:()=>P,KHR_DF_VENDORID_KHRONOS:()=>y,KHR_DF_VERSION:()=>f,KHR_SUPERCOMPRESSION_BASISLZ:()=>A,KHR_SUPERCOMPRESSION_NONE:()=>w,KHR_SUPERCOMPRESSION_ZLIB:()=>d,KHR_SUPERCOMPRESSION_ZSTD:()=>b,KTX2Container:()=>Po,VK_FORMAT_A1R5G5B5_UNORM_PACK16:()=>le,VK_FORMAT_A2B10G10R10_SINT_PACK32:()=>wn,VK_FORMAT_A2B10G10R10_SNORM_PACK32:()=>rn,VK_FORMAT_A2B10G10R10_UINT_PACK32:()=>yt,VK_FORMAT_A2B10G10R10_UNORM_PACK32:()=>gn,VK_FORMAT_A2R10G10B10_SINT_PACK32:()=>Ot,VK_FORMAT_A2R10G10B10_SNORM_PACK32:()=>st,VK_FORMAT_A2R10G10B10_UINT_PACK32:()=>bt,VK_FORMAT_A2R10G10B10_UNORM_PACK32:()=>ft,VK_FORMAT_A4B4G4R4_UNORM_PACK16_EXT:()=>_c,VK_FORMAT_A4R4G4B4_UNORM_PACK16_EXT:()=>sa,VK_FORMAT_ASTC_10x10_SFLOAT_BLOCK_EXT:()=>xl,VK_FORMAT_ASTC_10x10_SRGB_BLOCK:()=>lr,VK_FORMAT_ASTC_10x10_UNORM_BLOCK:()=>hs,VK_FORMAT_ASTC_10x5_SFLOAT_BLOCK_EXT:()=>Yd,VK_FORMAT_ASTC_10x5_SRGB_BLOCK:()=>ds,VK_FORMAT_ASTC_10x5_UNORM_BLOCK:()=>Ua,VK_FORMAT_ASTC_10x6_SFLOAT_BLOCK_EXT:()=>$d,VK_FORMAT_ASTC_10x6_SRGB_BLOCK:()=>jd,VK_FORMAT_ASTC_10x6_UNORM_BLOCK:()=>Gr,VK_FORMAT_ASTC_10x8_SFLOAT_BLOCK_EXT:()=>qd,VK_FORMAT_ASTC_10x8_SRGB_BLOCK:()=>ia,VK_FORMAT_ASTC_10x8_UNORM_BLOCK:()=>Do,VK_FORMAT_ASTC_12x10_SFLOAT_BLOCK_EXT:()=>rp,VK_FORMAT_ASTC_12x10_SRGB_BLOCK:()=>Gf,VK_FORMAT_ASTC_12x10_UNORM_BLOCK:()=>Cc,VK_FORMAT_ASTC_12x12_SFLOAT_BLOCK_EXT:()=>Ti,VK_FORMAT_ASTC_12x12_SRGB_BLOCK:()=>Na,VK_FORMAT_ASTC_12x12_UNORM_BLOCK:()=>Qf,VK_FORMAT_ASTC_4x4_SFLOAT_BLOCK_EXT:()=>jn,VK_FORMAT_ASTC_4x4_SRGB_BLOCK:()=>Hd,VK_FORMAT_ASTC_4x4_UNORM_BLOCK:()=>Qd,VK_FORMAT_ASTC_5x4_SFLOAT_BLOCK_EXT:()=>wc,VK_FORMAT_ASTC_5x4_SRGB_BLOCK:()=>zd,VK_FORMAT_ASTC_5x4_UNORM_BLOCK:()=>Vd,VK_FORMAT_ASTC_5x5_SFLOAT_BLOCK_EXT:()=>Wd,VK_FORMAT_ASTC_5x5_SRGB_BLOCK:()=>Rf,VK_FORMAT_ASTC_5x5_UNORM_BLOCK:()=>Fa,VK_FORMAT_ASTC_6x5_SFLOAT_BLOCK_EXT:()=>ip,VK_FORMAT_ASTC_6x5_SRGB_BLOCK:()=>Df,VK_FORMAT_ASTC_6x5_UNORM_BLOCK:()=>Lf,VK_FORMAT_ASTC_6x6_SFLOAT_BLOCK_EXT:()=>ra,VK_FORMAT_ASTC_6x6_SRGB_BLOCK:()=>Of,VK_FORMAT_ASTC_6x6_UNORM_BLOCK:()=>Pf,VK_FORMAT_ASTC_8x5_SFLOAT_BLOCK_EXT:()=>Ga,VK_FORMAT_ASTC_8x5_SRGB_BLOCK:()=>Ff,VK_FORMAT_ASTC_8x5_UNORM_BLOCK:()=>kf,VK_FORMAT_ASTC_8x6_SFLOAT_BLOCK_EXT:()=>Kd,VK_FORMAT_ASTC_8x6_SRGB_BLOCK:()=>Nf,VK_FORMAT_ASTC_8x6_UNORM_BLOCK:()=>Uf,VK_FORMAT_ASTC_8x8_SFLOAT_BLOCK_EXT:()=>Xd,VK_FORMAT_ASTC_8x8_SRGB_BLOCK:()=>zs,VK_FORMAT_ASTC_8x8_UNORM_BLOCK:()=>xc,VK_FORMAT_B10G11R11_UFLOAT_PACK32:()=>Bo,VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16:()=>Wf,VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16:()=>qf,VK_FORMAT_B4G4R4A4_UNORM_PACK16:()=>Me,VK_FORMAT_B5G5R5A1_UNORM_PACK16:()=>G,VK_FORMAT_B5G6R5_UNORM_PACK16:()=>J,VK_FORMAT_B8G8R8A8_SINT:()=>Pe,VK_FORMAT_B8G8R8A8_SNORM:()=>fo,VK_FORMAT_B8G8R8A8_SRGB:()=>Ye,VK_FORMAT_B8G8R8A8_UINT:()=>Ee,VK_FORMAT_B8G8R8A8_UNORM:()=>na,VK_FORMAT_B8G8R8_SINT:()=>Hs,VK_FORMAT_B8G8R8_SNORM:()=>br,VK_FORMAT_B8G8R8_SRGB:()=>Wr,VK_FORMAT_B8G8R8_UINT:()=>cs,VK_FORMAT_B8G8R8_UNORM:()=>Qs,VK_FORMAT_BC1_RGBA_SRGB_BLOCK:()=>Vi,VK_FORMAT_BC1_RGBA_UNORM_BLOCK:()=>Pa,VK_FORMAT_BC1_RGB_SRGB_BLOCK:()=>Da,VK_FORMAT_BC1_RGB_UNORM_BLOCK:()=>El,VK_FORMAT_BC2_SRGB_BLOCK:()=>ka,VK_FORMAT_BC2_UNORM_BLOCK:()=>Oa,VK_FORMAT_BC3_SRGB_BLOCK:()=>Lo,VK_FORMAT_BC3_UNORM_BLOCK:()=>gf,VK_FORMAT_BC4_SNORM_BLOCK:()=>bf,VK_FORMAT_BC4_UNORM_BLOCK:()=>vf,VK_FORMAT_BC5_SNORM_BLOCK:()=>Ef,VK_FORMAT_BC5_UNORM_BLOCK:()=>yf,VK_FORMAT_BC6H_SFLOAT_BLOCK:()=>Cf,VK_FORMAT_BC6H_UFLOAT_BLOCK:()=>xf,VK_FORMAT_BC7_SRGB_BLOCK:()=>_f,VK_FORMAT_BC7_UNORM_BLOCK:()=>wf,VK_FORMAT_D16_UNORM:()=>po,VK_FORMAT_D16_UNORM_S8_UINT:()=>Kr,VK_FORMAT_D24_UNORM_S8_UINT:()=>yi,VK_FORMAT_D32_SFLOAT:()=>Zr,VK_FORMAT_D32_SFLOAT_S8_UINT:()=>eo,VK_FORMAT_E5B9G9R9_UFLOAT_PACK32:()=>Ro,VK_FORMAT_EAC_R11G11_SNORM_BLOCK:()=>Ec,VK_FORMAT_EAC_R11G11_UNORM_BLOCK:()=>Gd,VK_FORMAT_EAC_R11_SNORM_BLOCK:()=>Nd,VK_FORMAT_EAC_R11_UNORM_BLOCK:()=>Ud,VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK:()=>Tf,VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK:()=>If,VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK:()=>yc,VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK:()=>Bf,VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK:()=>Sf,VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK:()=>Mf,VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16:()=>jf,VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16:()=>$f,VK_FORMAT_PVRTC1_2BPP_SRGB_BLOCK_IMG:()=>Xr,VK_FORMAT_PVRTC1_2BPP_UNORM_BLOCK_IMG:()=>Jf,VK_FORMAT_PVRTC1_4BPP_SRGB_BLOCK_IMG:()=>Yn,VK_FORMAT_PVRTC1_4BPP_UNORM_BLOCK_IMG:()=>Zf,VK_FORMAT_PVRTC2_2BPP_SRGB_BLOCK_IMG:()=>np,VK_FORMAT_PVRTC2_2BPP_UNORM_BLOCK_IMG:()=>ep,VK_FORMAT_PVRTC2_4BPP_SRGB_BLOCK_IMG:()=>Mt,VK_FORMAT_PVRTC2_4BPP_UNORM_BLOCK_IMG:()=>tp,VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16:()=>zf,VK_FORMAT_R10X6G10X6_UNORM_2PACK16:()=>Vf,VK_FORMAT_R10X6_UNORM_PACK16:()=>Hf,VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16:()=>Yf,VK_FORMAT_R12X4G12X4_UNORM_2PACK16:()=>Xf,VK_FORMAT_R12X4_UNORM_PACK16:()=>Kf,VK_FORMAT_R16G16B16A16_SFLOAT:()=>wt,VK_FORMAT_R16G16B16A16_SINT:()=>We,VK_FORMAT_R16G16B16A16_SNORM:()=>Ce,VK_FORMAT_R16G16B16A16_UINT:()=>Qe,VK_FORMAT_R16G16B16A16_UNORM:()=>ue,VK_FORMAT_R16G16B16_SFLOAT:()=>re,VK_FORMAT_R16G16B16_SINT:()=>q,VK_FORMAT_R16G16B16_SNORM:()=>Ai,VK_FORMAT_R16G16B16_UINT:()=>W,VK_FORMAT_R16G16B16_UNORM:()=>hr,VK_FORMAT_R16G16_SFLOAT:()=>ei,VK_FORMAT_R16G16_SINT:()=>sn,VK_FORMAT_R16G16_SNORM:()=>ji,VK_FORMAT_R16G16_UINT:()=>Er,VK_FORMAT_R16G16_UNORM:()=>fi,VK_FORMAT_R16_SFLOAT:()=>Vn,VK_FORMAT_R16_SINT:()=>Zn,VK_FORMAT_R16_SNORM:()=>Un,VK_FORMAT_R16_UINT:()=>Pi,VK_FORMAT_R16_UNORM:()=>Ln,VK_FORMAT_R32G32B32A32_SFLOAT:()=>Oi,VK_FORMAT_R32G32B32A32_SINT:()=>bi,VK_FORMAT_R32G32B32A32_UINT:()=>kn,VK_FORMAT_R32G32B32_SFLOAT:()=>Gn,VK_FORMAT_R32G32B32_SINT:()=>Xn,VK_FORMAT_R32G32B32_UINT:()=>Pn,VK_FORMAT_R32G32_SFLOAT:()=>bn,VK_FORMAT_R32G32_SINT:()=>ln,VK_FORMAT_R32G32_UINT:()=>Dt,VK_FORMAT_R32_SFLOAT:()=>pt,VK_FORMAT_R32_SINT:()=>tt,VK_FORMAT_R32_UINT:()=>Et,VK_FORMAT_R4G4B4A4_UNORM_PACK16:()=>ve,VK_FORMAT_R4G4_UNORM_PACK8:()=>Ie,VK_FORMAT_R5G5B5A1_UNORM_PACK16:()=>k,VK_FORMAT_R5G6B5_UNORM_PACK16:()=>Be,VK_FORMAT_R64G64B64A64_SFLOAT:()=>To,VK_FORMAT_R64G64B64A64_SINT:()=>Zs,VK_FORMAT_R64G64B64A64_UINT:()=>Vs,VK_FORMAT_R64G64B64_SFLOAT:()=>Ts,VK_FORMAT_R64G64B64_SINT:()=>Nr,VK_FORMAT_R64G64B64_UINT:()=>ur,VK_FORMAT_R64G64_SFLOAT:()=>Sr,VK_FORMAT_R64G64_SINT:()=>wr,VK_FORMAT_R64G64_UINT:()=>Cr,VK_FORMAT_R64_SFLOAT:()=>xr,VK_FORMAT_R64_SINT:()=>Wi,VK_FORMAT_R64_UINT:()=>nr,VK_FORMAT_R8G8B8A8_SINT:()=>Io,VK_FORMAT_R8G8B8A8_SNORM:()=>Di,VK_FORMAT_R8G8B8A8_SRGB:()=>Is,VK_FORMAT_R8G8B8A8_UINT:()=>yr,VK_FORMAT_R8G8B8A8_UNORM:()=>tr,VK_FORMAT_R8G8B8_SINT:()=>bs,VK_FORMAT_R8G8B8_SNORM:()=>vi,VK_FORMAT_R8G8B8_SRGB:()=>er,VK_FORMAT_R8G8B8_UINT:()=>Li,VK_FORMAT_R8G8B8_UNORM:()=>Zi,VK_FORMAT_R8G8_SINT:()=>ar,VK_FORMAT_R8G8_SNORM:()=>Vt,VK_FORMAT_R8G8_SRGB:()=>Rn,VK_FORMAT_R8G8_UINT:()=>un,VK_FORMAT_R8G8_UNORM:()=>Gt,VK_FORMAT_R8_SINT:()=>kt,VK_FORMAT_R8_SNORM:()=>De,VK_FORMAT_R8_SRGB:()=>Yt,VK_FORMAT_R8_UINT:()=>Ve,VK_FORMAT_R8_UNORM:()=>ge,VK_FORMAT_S8_UINT:()=>Ao,VK_FORMAT_UNDEFINED:()=>fe,VK_FORMAT_X8_D24_UNORM_PACK32:()=>mo,read:()=>Ci,write:()=>_l});var p=u("./node_modules/buffer/index.js").Buffer;const w=0,A=1,b=2,d=3,g=0,y=0,f=2,E=0,C=1,v=160,x=161,T=162,L=163,R=0,F=1,P=0,H=1,$=2,te=3,ee=4,de=5,ie=6,ne=7,X=8,z=9,se=10,ae=11,be=12,Re=13,ke=14,Ke=15,Xe=16,Fe=17,qe=18,rt=0,it=1,Ct=2,Nt=3,xe=4,Te=5,je=6,ot=7,Je=8,ut=9,Lt=10,_t=11,Pt=0,gt=1,Kt=2,Qt=13,Xt=14,En=15,Dn=128,Bn=64,mt=32,pe=16,fe=0,Ie=1,ve=2,Me=3,Be=4,J=5,k=6,G=7,le=8,ge=9,De=10,Ve=13,kt=14,Yt=15,Gt=16,Vt=17,un=20,ar=21,Rn=22,Zi=23,vi=24,Li=27,bs=28,er=29,Qs=30,br=31,cs=34,Hs=35,Wr=36,tr=37,Di=38,yr=41,Io=42,Is=43,na=44,fo=45,Ee=48,Pe=49,Ye=50,ft=58,st=59,bt=62,Ot=63,gn=64,rn=65,yt=68,wn=69,Ln=70,Un=71,Pi=74,Zn=75,Vn=76,fi=77,ji=78,Er=81,sn=82,ei=83,hr=84,Ai=85,W=88,q=89,re=90,ue=91,Ce=92,Qe=95,We=96,wt=97,Et=98,tt=99,pt=100,Dt=101,ln=102,bn=103,Pn=104,Xn=105,Gn=106,kn=107,bi=108,Oi=109,nr=110,Wi=111,xr=112,Cr=113,wr=114,Sr=115,ur=116,Nr=117,Ts=118,Vs=119,Zs=120,To=121,Bo=122,Ro=123,po=124,mo=125,Zr=126,Ao=127,Kr=128,yi=129,eo=130,El=131,Da=132,Pa=133,Vi=134,Oa=135,ka=136,gf=137,Lo=138,vf=139,bf=140,yf=141,Ef=142,xf=143,Cf=144,wf=145,_f=146,Mf=147,Sf=148,If=149,Tf=150,Bf=151,yc=152,Ud=153,Nd=154,Gd=155,Ec=156,Qd=157,Hd=158,Vd=159,zd=160,Fa=161,Rf=162,Lf=163,Df=164,Pf=165,Of=166,kf=167,Ff=168,Uf=169,Nf=170,xc=171,zs=172,Ua=173,ds=174,Gr=175,jd=176,Do=177,ia=178,hs=179,lr=180,Cc=181,Gf=182,Qf=183,Na=184,Hf=1000156007,Vf=1000156008,zf=1000156009,jf=1000156010,Wf=1000156011,Kf=1000156017,Xf=1000156018,Yf=1000156019,$f=1000156020,qf=1000156021,Jf=1000054e3,Zf=1000054001,ep=1000054002,tp=1000054003,Xr=1000054004,Yn=1000054005,np=1000054006,Mt=1000054007,jn=1000066e3,wc=1000066001,Wd=1000066002,ip=1000066003,ra=1000066004,Ga=1000066005,Kd=1000066006,Xd=1000066007,Yd=1000066008,$d=1000066009,qd=1000066010,xl=1000066011,rp=1000066012,Ti=1000066013,sa=100034e4,_c=1000340001;class Po{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class oa{constructor(Wn,gi,_i,_e){this._dataView=new DataView(Wn.buffer,Wn.byteOffset+gi,_i),this._littleEndian=_e,this._offset=0}_nextUint8(){const Wn=this._dataView.getUint8(this._offset);return this._offset+=1,Wn}_nextUint16(){const Wn=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,Wn}_nextUint32(){const Wn=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,Wn}_nextUint64(){const Wn=this._dataView.getUint32(this._offset,this._littleEndian)+4294967296*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,Wn}_nextInt32(){const Wn=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,Wn}_skip(Wn){return this._offset+=Wn,this}_scan(Wn,gi=0){const _i=this._offset;let _e=0;for(;this._dataView.getUint8(this._offset)!==gi&&_e<Wn;)_e++,this._offset++;return _e<Wn&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+_i,_e)}}const Jd=new Uint8Array([0]),ir=[171,75,84,88,32,50,48,187,13,10,26,10];function Cl(vn){return typeof TextEncoder<"u"?new TextEncoder().encode(vn):p.from(vn)}function Zd(vn){return typeof TextDecoder<"u"?new TextDecoder().decode(vn):p.from(vn).toString("utf8")}function Ki(vn){let Wn=0;for(const _e of vn)Wn+=_e.byteLength;const gi=new Uint8Array(Wn);let _i=0;for(const _e of vn)gi.set(new Uint8Array(_e),_i),_i+=_e.byteLength;return gi}function Ci(vn){const Wn=new Uint8Array(vn.buffer,vn.byteOffset,ir.length);if(Wn[0]!==ir[0]||Wn[1]!==ir[1]||Wn[2]!==ir[2]||Wn[3]!==ir[3]||Wn[4]!==ir[4]||Wn[5]!==ir[5]||Wn[6]!==ir[6]||Wn[7]!==ir[7]||Wn[8]!==ir[8]||Wn[9]!==ir[9]||Wn[10]!==ir[10]||Wn[11]!==ir[11])throw new Error("Missing KTX 2.0 identifier.");const gi=new Po,_i=17*Uint32Array.BYTES_PER_ELEMENT,_e=new oa(vn,ir.length,_i,!0);gi.vkFormat=_e._nextUint32(),gi.typeSize=_e._nextUint32(),gi.pixelWidth=_e._nextUint32(),gi.pixelHeight=_e._nextUint32(),gi.pixelDepth=_e._nextUint32(),gi.layerCount=_e._nextUint32(),gi.faceCount=_e._nextUint32();const Bs=_e._nextUint32();gi.supercompressionScheme=_e._nextUint32();const gr=_e._nextUint32(),fr=_e._nextUint32(),mi=_e._nextUint32(),es=_e._nextUint32(),go=_e._nextUint64(),Es=_e._nextUint64(),Qr=new oa(vn,ir.length+_i,3*Bs*8,!0);for(let Dr=0;Dr<Bs;Dr++)gi.levels.push({levelData:new Uint8Array(vn.buffer,vn.byteOffset+Qr._nextUint64(),Qr._nextUint64()),uncompressedByteLength:Qr._nextUint64()});const ni=new oa(vn,gr,fr,!0),Yr={vendorId:ni._skip(4)._nextUint16(),descriptorType:ni._nextUint16(),versionNumber:ni._nextUint16(),descriptorBlockSize:ni._nextUint16(),colorModel:ni._nextUint8(),colorPrimaries:ni._nextUint8(),transferFunction:ni._nextUint8(),flags:ni._nextUint8(),texelBlockDimension:[ni._nextUint8(),ni._nextUint8(),ni._nextUint8(),ni._nextUint8()],bytesPlane:[ni._nextUint8(),ni._nextUint8(),ni._nextUint8(),ni._nextUint8(),ni._nextUint8(),ni._nextUint8(),ni._nextUint8(),ni._nextUint8()],samples:[]},Rs=(Yr.descriptorBlockSize/4-6)/4;for(let Dr=0;Dr<Rs;Dr++){const xn={bitOffset:ni._nextUint16(),bitLength:ni._nextUint8(),channelType:ni._nextUint8(),samplePosition:[ni._nextUint8(),ni._nextUint8(),ni._nextUint8(),ni._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&xn.channelType?(xn.sampleLower=ni._nextInt32(),xn.sampleUpper=ni._nextInt32()):(xn.sampleLower=ni._nextUint32(),xn.sampleUpper=ni._nextUint32()),Yr.samples[Dr]=xn}gi.dataFormatDescriptor.length=0,gi.dataFormatDescriptor.push(Yr);const Hr=new oa(vn,mi,es,!0);for(;Hr._offset<es;){const Dr=Hr._nextUint32(),xn=Hr._scan(Dr),ko=Zd(xn),xs=Hr._scan(Dr-xn.byteLength);gi.keyValue[ko]=ko.match(/^ktx/i)?Zd(xs):xs,Hr._offset%4&&Hr._skip(4-Hr._offset%4)}if(Es<=0)return gi;const Ei=new oa(vn,go,Es,!0),Ni=Ei._nextUint16(),ii=Ei._nextUint16(),xi=Ei._nextUint32(),us=Ei._nextUint32(),aa=Ei._nextUint32(),Oo=Ei._nextUint32(),Ml=[];for(let Dr=0;Dr<Bs;Dr++)Ml.push({imageFlags:Ei._nextUint32(),rgbSliceByteOffset:Ei._nextUint32(),rgbSliceByteLength:Ei._nextUint32(),alphaSliceByteOffset:Ei._nextUint32(),alphaSliceByteLength:Ei._nextUint32()});const Lr=go+Ei._offset,js=Lr+xi,Sl=js+us,Il=Sl+aa,vo=new Uint8Array(vn.buffer,vn.byteOffset+Lr,xi),Mc=new Uint8Array(vn.buffer,vn.byteOffset+js,us),Tl=new Uint8Array(vn.buffer,vn.byteOffset+Sl,aa),Sc=new Uint8Array(vn.buffer,vn.byteOffset+Il,Oo);return gi.globalData={endpointCount:Ni,selectorCount:ii,imageDescs:Ml,endpointsData:vo,selectorsData:Mc,tablesData:Tl,extendedData:Sc},gi}function wl(){return(wl=Object.assign||function(vn){for(var Wn=1;Wn<arguments.length;Wn++){var gi=arguments[Wn];for(var _i in gi)Object.prototype.hasOwnProperty.call(gi,_i)&&(vn[_i]=gi[_i])}return vn}).apply(this,arguments)}const ys={keepWriter:!1};function _l(vn,Wn={}){Wn=wl({},ys,Wn);let gi=new ArrayBuffer(0);if(vn.globalData){const Ni=new ArrayBuffer(20+5*vn.globalData.imageDescs.length*4),ii=new DataView(Ni);ii.setUint16(0,vn.globalData.endpointCount,!0),ii.setUint16(2,vn.globalData.selectorCount,!0),ii.setUint32(4,vn.globalData.endpointsData.byteLength,!0),ii.setUint32(8,vn.globalData.selectorsData.byteLength,!0),ii.setUint32(12,vn.globalData.tablesData.byteLength,!0),ii.setUint32(16,vn.globalData.extendedData.byteLength,!0);for(let xi=0;xi<vn.globalData.imageDescs.length;xi++){const us=vn.globalData.imageDescs[xi];ii.setUint32(20+5*xi*4+0,us.imageFlags,!0),ii.setUint32(20+5*xi*4+4,us.rgbSliceByteOffset,!0),ii.setUint32(20+5*xi*4+8,us.rgbSliceByteLength,!0),ii.setUint32(20+5*xi*4+12,us.alphaSliceByteOffset,!0),ii.setUint32(20+5*xi*4+16,us.alphaSliceByteLength,!0)}gi=Ki([Ni,vn.globalData.endpointsData,vn.globalData.selectorsData,vn.globalData.tablesData,vn.globalData.extendedData])}const _i=[];let _e=vn.keyValue;Wn.keepWriter||(_e=wl({},vn.keyValue,{KTXwriter:"KTX-Parse v0.3.1"}));for(const Ni in _e){const ii=_e[Ni],xi=Cl(Ni),us=typeof ii=="string"?Cl(ii):ii,aa=xi.byteLength+1+us.byteLength+1,Oo=aa%4?4-aa%4:0;_i.push(Ki([new Uint32Array([aa]),xi,Jd,us,Jd,new Uint8Array(Oo).fill(0)]))}const Bs=Ki(_i);if(vn.dataFormatDescriptor.length!==1||vn.dataFormatDescriptor[0].descriptorType!==0)throw new Error("Only BASICFORMAT Data Format Descriptor output supported.");const gr=vn.dataFormatDescriptor[0],fr=new ArrayBuffer(28+16*gr.samples.length),mi=new DataView(fr),es=24+16*gr.samples.length;if(mi.setUint32(0,fr.byteLength,!0),mi.setUint16(4,gr.vendorId,!0),mi.setUint16(6,gr.descriptorType,!0),mi.setUint16(8,gr.versionNumber,!0),mi.setUint16(10,es,!0),mi.setUint8(12,gr.colorModel),mi.setUint8(13,gr.colorPrimaries),mi.setUint8(14,gr.transferFunction),mi.setUint8(15,gr.flags),!Array.isArray(gr.texelBlockDimension))throw new Error("texelBlockDimension is now an array. For dimensionality `d`, set `d - 1`.");mi.setUint8(16,gr.texelBlockDimension[0]),mi.setUint8(17,gr.texelBlockDimension[1]),mi.setUint8(18,gr.texelBlockDimension[2]),mi.setUint8(19,gr.texelBlockDimension[3]);for(let Ni=0;Ni<8;Ni++)mi.setUint8(20+Ni,gr.bytesPlane[Ni]);for(let Ni=0;Ni<gr.samples.length;Ni++){const ii=gr.samples[Ni],xi=28+16*Ni;if(ii.channelID)throw new Error("channelID has been renamed to channelType.");mi.setUint16(xi+0,ii.bitOffset,!0),mi.setUint8(xi+2,ii.bitLength),mi.setUint8(xi+3,ii.channelType),mi.setUint8(xi+4,ii.samplePosition[0]),mi.setUint8(xi+5,ii.samplePosition[1]),mi.setUint8(xi+6,ii.samplePosition[2]),mi.setUint8(xi+7,ii.samplePosition[3]),64&ii.channelType?(mi.setInt32(xi+8,ii.sampleLower,!0),mi.setInt32(xi+12,ii.sampleUpper,!0)):(mi.setUint32(xi+8,ii.sampleLower,!0),mi.setUint32(xi+12,ii.sampleUpper,!0))}const go=ir.length+68+3*vn.levels.length*8,Es=go+fr.byteLength;let Qr=gi.byteLength>0?Es+Bs.byteLength:0;Qr%8&&(Qr+=8-Qr%8);const ni=[],Yr=new DataView(new ArrayBuffer(3*vn.levels.length*8));let Rs=(Qr||Es+Bs.byteLength)+gi.byteLength;for(let Ni=0;Ni<vn.levels.length;Ni++){const ii=vn.levels[Ni];ni.push(ii.levelData),Yr.setBigUint64(24*Ni+0,BigInt(Rs),!0),Yr.setBigUint64(24*Ni+8,BigInt(ii.levelData.byteLength),!0),Yr.setBigUint64(24*Ni+16,BigInt(ii.uncompressedByteLength),!0),Rs+=ii.levelData.byteLength}const Hr=new ArrayBuffer(68),Ei=new DataView(Hr);return Ei.setUint32(0,vn.vkFormat,!0),Ei.setUint32(4,vn.typeSize,!0),Ei.setUint32(8,vn.pixelWidth,!0),Ei.setUint32(12,vn.pixelHeight,!0),Ei.setUint32(16,vn.pixelDepth,!0),Ei.setUint32(20,vn.layerCount,!0),Ei.setUint32(24,vn.faceCount,!0),Ei.setUint32(28,vn.levels.length,!0),Ei.setUint32(32,vn.supercompressionScheme,!0),Ei.setUint32(36,go,!0),Ei.setUint32(40,fr.byteLength,!0),Ei.setUint32(44,Es,!0),Ei.setUint32(48,Bs.byteLength,!0),Ei.setBigUint64(52,BigInt(gi.byteLength>0?Qr:0),!0),Ei.setBigUint64(60,BigInt(gi.byteLength),!0),new Uint8Array(Ki([new Uint8Array(ir).buffer,Hr,Yr.buffer,fr,Bs,Qr>0?new ArrayBuffer(Qr-(Es+Bs.byteLength)):new ArrayBuffer(0),gi,...ni]))}},"./node_modules/three/examples/jsm/libs/zstddec.module.js":(M,B,u)=>{u.r(B),u.d(B,{ZSTDDecoder:()=>g});var p=u("./node_modules/buffer/index.js").Buffer;let w,A,b;const d={env:{emscripten_notify_memory_growth:function(f){b=new Uint8Array(A.exports.memory.buffer)}}};class g{init(){return w||(w=typeof fetch<"u"?fetch("data:application/wasm;base64,"+y).then(E=>E.arrayBuffer()).then(E=>WebAssembly.instantiate(E,d)).then(this._init):WebAssembly.instantiate(p.from(y,"base64"),d).then(this._init),w)}_init(E){A=E.instance,d.env.emscripten_notify_memory_growth(0)}decode(E,C=0){if(!A)throw new Error("ZSTDDecoder: Await .init() before decoding.");const v=E.byteLength,x=A.exports.malloc(v);b.set(E,x),C=C||Number(A.exports.ZSTD_findDecompressedSize(x,v));const T=A.exports.malloc(C),L=A.exports.ZSTD_decompress(T,C,x,v),R=b.slice(T,T+L);return A.exports.free(x),A.exports.free(T),R}}const y="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ"},"./node_modules/three/examples/jsm/lights/LightProbeGenerator.js":(M,B,u)=>{u.r(B),u.d(B,{LightProbeGenerator:()=>w});var p=u("./node_modules/three/build/three.module.js");class w{static fromCubeTexture(d){let g=0;const y=new p.Vector3,f=new p.Vector3,E=new p.Color,C=[0,0,0,0,0,0,0,0,0],v=new p.SphericalHarmonics3,x=v.coefficients;for(let L=0;L<6;L++){const R=d.image[L],F=R.width,P=R.height,H=document.createElement("canvas");H.width=F,H.height=P;const $=H.getContext("2d");$.drawImage(R,0,0,F,P);const te=$.getImageData(0,0,F,P),ee=te.data,de=te.width,ie=2/de;for(let ne=0,X=ee.length;ne<X;ne+=4){E.setRGB(ee[ne]/255,ee[ne+1]/255,ee[ne+2]/255),A(E,d.colorSpace);const z=ne/4,se=-1+(z%de+.5)*ie,ae=1-(Math.floor(z/de)+.5)*ie;switch(L){case 0:y.set(-1,ae,-se);break;case 1:y.set(1,ae,se);break;case 2:y.set(-se,1,-ae);break;case 3:y.set(-se,-1,ae);break;case 4:y.set(-se,ae,1);break;case 5:y.set(se,ae,-1);break}const be=y.lengthSq(),Re=4/(Math.sqrt(be)*be);g+=Re,f.copy(y).normalize(),p.SphericalHarmonics3.getBasisAt(f,C);for(let ke=0;ke<9;ke++)x[ke].x+=C[ke]*E.r*Re,x[ke].y+=C[ke]*E.g*Re,x[ke].z+=C[ke]*E.b*Re}}const T=4*Math.PI/g;for(let L=0;L<9;L++)x[L].x*=T,x[L].y*=T,x[L].z*=T;return new p.LightProbe(v)}static fromCubeRenderTarget(d,g){let y=0;const f=new p.Vector3,E=new p.Vector3,C=new p.Color,v=[0,0,0,0,0,0,0,0,0],x=new p.SphericalHarmonics3,T=x.coefficients,L=g.texture.type;for(let F=0;F<6;F++){const P=g.width;let H;L===p.HalfFloatType?H=new Uint16Array(P*P*4):H=new Uint8Array(P*P*4),d.readRenderTargetPixels(g,0,0,P,P,H,F);const $=2/P;for(let te=0,ee=H.length;te<ee;te+=4){let de,ie,ne;L===p.HalfFloatType?(de=p.DataUtils.fromHalfFloat(H[te]),ie=p.DataUtils.fromHalfFloat(H[te+1]),ne=p.DataUtils.fromHalfFloat(H[te+2])):(de=H[te]/255,ie=H[te+1]/255,ne=H[te+2]/255),C.setRGB(de,ie,ne),A(C,g.texture.colorSpace);const X=te/4,z=-1+(X%P+.5)*$,se=1-(Math.floor(X/P)+.5)*$;switch(F){case 0:f.set(1,se,-z);break;case 1:f.set(-1,se,z);break;case 2:f.set(z,1,-se);break;case 3:f.set(z,-1,se);break;case 4:f.set(z,se,1);break;case 5:f.set(-z,se,-1);break}const ae=f.lengthSq(),be=4/(Math.sqrt(ae)*ae);y+=be,E.copy(f).normalize(),p.SphericalHarmonics3.getBasisAt(E,v);for(let Re=0;Re<9;Re++)T[Re].x+=v[Re]*C.r*be,T[Re].y+=v[Re]*C.g*be,T[Re].z+=v[Re]*C.b*be}}const R=4*Math.PI/y;for(let F=0;F<9;F++)T[F].x*=R,T[F].y*=R,T[F].z*=R;return new p.LightProbe(x)}}function A(b,d){switch(d){case p.SRGBColorSpace:b.convertSRGBToLinear();break;case p.LinearSRGBColorSpace:case p.NoColorSpace:break;default:console.warn("WARNING: LightProbeGenerator convertColorToLinear() encountered an unsupported color space.");break}return b}},"./node_modules/three/examples/jsm/loaders/DRACOLoader.js":(M,B,u)=>{u.r(B),u.d(B,{DRACOLoader:()=>A});var p=u("./node_modules/three/build/three.module.js");const w=new WeakMap;class A extends p.Loader{constructor(g){super(g),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(g){return this.decoderPath=g,this}setDecoderConfig(g){return this.decoderConfig=g,this}setWorkerLimit(g){return this.workerLimit=g,this}load(g,y,f,E){const C=new p.FileLoader(this.manager);C.setPath(this.path),C.setResponseType("arraybuffer"),C.setRequestHeader(this.requestHeader),C.setWithCredentials(this.withCredentials),C.load(g,v=>{this.parse(v,y,E)},f,E)}parse(g,y,f=()=>{}){this.decodeDracoFile(g,y,null,null,p.SRGBColorSpace).catch(f)}decodeDracoFile(g,y,f,E,C=p.LinearSRGBColorSpace,v=()=>{}){const x={attributeIDs:f||this.defaultAttributeIDs,attributeTypes:E||this.defaultAttributeTypes,useUniqueIDs:!!f,vertexColorSpace:C};return this.decodeGeometry(g,x).then(y).catch(v)}decodeGeometry(g,y){const f=JSON.stringify(y);if(w.has(g)){const T=w.get(g);if(T.key===f)return T.promise;if(g.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let E;const C=this.workerNextTaskID++,v=g.byteLength,x=this._getWorker(C,v).then(T=>(E=T,new Promise((L,R)=>{E._callbacks[C]={resolve:L,reject:R},E.postMessage({type:"decode",id:C,taskConfig:y,buffer:g},[g])}))).then(T=>this._createGeometry(T.geometry));return x.catch(()=>!0).then(()=>{E&&C&&this._releaseTask(E,C)}),w.set(g,{key:f,promise:x}),x}_createGeometry(g){const y=new p.BufferGeometry;g.index&&y.setIndex(new p.BufferAttribute(g.index.array,1));for(let f=0;f<g.attributes.length;f++){const E=g.attributes[f],C=E.name,v=E.array,x=E.itemSize,T=new p.BufferAttribute(v,x);C==="color"&&(this._assignVertexColorSpace(T,E.vertexColorSpace),T.normalized=!(v instanceof Float32Array)),y.setAttribute(C,T)}return y}_assignVertexColorSpace(g,y){if(y!==p.SRGBColorSpace)return;const f=new p.Color;for(let E=0,C=g.count;E<C;E++)f.fromBufferAttribute(g,E).convertSRGBToLinear(),g.setXYZ(E,f.r,f.g,f.b)}_loadLibrary(g,y){const f=new p.FileLoader(this.manager);return f.setPath(this.decoderPath),f.setResponseType(y),f.setWithCredentials(this.withCredentials),new Promise((E,C)=>{f.load(g,E,void 0,C)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const g=typeof WebAssembly!="object"||this.decoderConfig.type==="js",y=[];return g?y.push(this._loadLibrary("draco_decoder.js","text")):(y.push(this._loadLibrary("draco_wasm_wrapper.js","text")),y.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(y).then(f=>{const E=f[0];g||(this.decoderConfig.wasmBinary=f[1]);const C=b.toString(),v=["/* draco decoder */",E,"","/* worker */",C.substring(C.indexOf("{")+1,C.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([v]))}),this.decoderPending}_getWorker(g,y){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const E=new Worker(this.workerSourceURL);E._callbacks={},E._taskCosts={},E._taskLoad=0,E.postMessage({type:"init",decoderConfig:this.decoderConfig}),E.onmessage=function(C){const v=C.data;switch(v.type){case"decode":E._callbacks[v.id].resolve(v);break;case"error":E._callbacks[v.id].reject(v);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+v.type+'"')}},this.workerPool.push(E)}else this.workerPool.sort(function(E,C){return E._taskLoad>C._taskLoad?-1:1});const f=this.workerPool[this.workerPool.length-1];return f._taskCosts[g]=y,f._taskLoad+=y,f})}_releaseTask(g,y){g._taskLoad-=g._taskCosts[y],delete g._callbacks[y],delete g._taskCosts[y]}debug(){console.log("Task load: ",this.workerPool.map(g=>g._taskLoad))}dispose(){for(let g=0;g<this.workerPool.length;++g)this.workerPool[g].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}}function b(){let d,g;onmessage=function(v){const x=v.data;switch(x.type){case"init":d=x.decoderConfig,g=new Promise(function(R){d.onModuleLoaded=function(F){R({draco:F})},DracoDecoderModule(d)});break;case"decode":const T=x.buffer,L=x.taskConfig;g.then(R=>{const F=R.draco,P=new F.Decoder;try{const H=y(F,P,new Int8Array(T),L),$=H.attributes.map(te=>te.array.buffer);H.index&&$.push(H.index.array.buffer),self.postMessage({type:"decode",id:x.id,geometry:H},$)}catch(H){console.error(H),self.postMessage({type:"error",id:x.id,error:H.message})}finally{F.destroy(P)}});break}};function y(v,x,T,L){const R=L.attributeIDs,F=L.attributeTypes;let P,H;const $=x.GetEncodedGeometryType(T);if($===v.TRIANGULAR_MESH)P=new v.Mesh,H=x.DecodeArrayToMesh(T,T.byteLength,P);else if($===v.POINT_CLOUD)P=new v.PointCloud,H=x.DecodeArrayToPointCloud(T,T.byteLength,P);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!H.ok()||P.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+H.error_msg());const te={index:null,attributes:[]};for(const ee in R){const de=self[F[ee]];let ie,ne;if(L.useUniqueIDs)ne=R[ee],ie=x.GetAttributeByUniqueId(P,ne);else{if(ne=x.GetAttributeId(P,v[R[ee]]),ne===-1)continue;ie=x.GetAttribute(P,ne)}const X=E(v,x,P,ee,de,ie);ee==="color"&&(X.vertexColorSpace=L.vertexColorSpace),te.attributes.push(X)}return $===v.TRIANGULAR_MESH&&(te.index=f(v,x,P)),v.destroy(P),te}function f(v,x,T){const R=T.num_faces()*3,F=R*4,P=v._malloc(F);x.GetTrianglesUInt32Array(T,F,P);const H=new Uint32Array(v.HEAPF32.buffer,P,R).slice();return v._free(P),{array:H,itemSize:1}}function E(v,x,T,L,R,F){const P=F.num_components(),$=T.num_points()*P,te=$*R.BYTES_PER_ELEMENT,ee=C(v,R),de=v._malloc(te);x.GetAttributeDataArrayForAllPoints(T,F,ee,te,de);const ie=new R(v.HEAPF32.buffer,de,$).slice();return v._free(de),{name:L,array:ie,itemSize:P}}function C(v,x){switch(x){case Float32Array:return v.DT_FLOAT32;case Int8Array:return v.DT_INT8;case Int16Array:return v.DT_INT16;case Int32Array:return v.DT_INT32;case Uint8Array:return v.DT_UINT8;case Uint16Array:return v.DT_UINT16;case Uint32Array:return v.DT_UINT32}}}},"./node_modules/three/examples/jsm/loaders/GLTFLoader.js":(M,B,u)=>{u.r(B),u.d(B,{GLTFLoader:()=>A});var p=u("./node_modules/three/build/three.module.js"),w=u("./node_modules/three/examples/jsm/utils/BufferGeometryUtils.js");class A extends p.Loader{constructor(pe){super(pe),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(fe){return new E(fe)}),this.register(function(fe){return new C(fe)}),this.register(function(fe){return new $(fe)}),this.register(function(fe){return new te(fe)}),this.register(function(fe){return new ee(fe)}),this.register(function(fe){return new x(fe)}),this.register(function(fe){return new T(fe)}),this.register(function(fe){return new L(fe)}),this.register(function(fe){return new R(fe)}),this.register(function(fe){return new f(fe)}),this.register(function(fe){return new F(fe)}),this.register(function(fe){return new v(fe)}),this.register(function(fe){return new H(fe)}),this.register(function(fe){return new P(fe)}),this.register(function(fe){return new g(fe)}),this.register(function(fe){return new de(fe)}),this.register(function(fe){return new ie(fe)})}load(pe,fe,Ie,ve){const Me=this;let Be;if(this.resourcePath!=="")Be=this.resourcePath;else if(this.path!==""){const G=p.LoaderUtils.extractUrlBase(pe);Be=p.LoaderUtils.resolveURL(G,this.path)}else Be=p.LoaderUtils.extractUrlBase(pe);this.manager.itemStart(pe);const J=function(G){ve?ve(G):console.error(G),Me.manager.itemError(pe),Me.manager.itemEnd(pe)},k=new p.FileLoader(this.manager);k.setPath(this.path),k.setResponseType("arraybuffer"),k.setRequestHeader(this.requestHeader),k.setWithCredentials(this.withCredentials),k.load(pe,function(G){try{Me.parse(G,Be,function(le){fe(le),Me.manager.itemEnd(pe)},J)}catch(le){J(le)}},Ie,J)}setDRACOLoader(pe){return this.dracoLoader=pe,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(pe){return this.ktx2Loader=pe,this}setMeshoptDecoder(pe){return this.meshoptDecoder=pe,this}register(pe){return this.pluginCallbacks.indexOf(pe)===-1&&this.pluginCallbacks.push(pe),this}unregister(pe){return this.pluginCallbacks.indexOf(pe)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(pe),1),this}parse(pe,fe,Ie,ve){let Me;const Be={},J={},k=new TextDecoder;if(typeof pe=="string")Me=JSON.parse(pe);else if(pe instanceof ArrayBuffer)if(k.decode(new Uint8Array(pe,0,4))===ne){try{Be[d.KHR_BINARY_GLTF]=new se(pe)}catch(ge){ve&&ve(ge);return}Me=JSON.parse(Be[d.KHR_BINARY_GLTF].content)}else Me=JSON.parse(k.decode(pe));else Me=pe;if(Me.asset===void 0||Me.asset.version[0]<2){ve&&ve(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const G=new En(Me,{path:fe||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});G.fileLoader.setRequestHeader(this.requestHeader);for(let le=0;le<this.pluginCallbacks.length;le++){const ge=this.pluginCallbacks[le](G);ge.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),J[ge.name]=ge,Be[ge.name]=!0}if(Me.extensionsUsed)for(let le=0;le<Me.extensionsUsed.length;++le){const ge=Me.extensionsUsed[le],De=Me.extensionsRequired||[];switch(ge){case d.KHR_MATERIALS_UNLIT:Be[ge]=new y;break;case d.KHR_DRACO_MESH_COMPRESSION:Be[ge]=new ae(Me,this.dracoLoader);break;case d.KHR_TEXTURE_TRANSFORM:Be[ge]=new be;break;case d.KHR_MESH_QUANTIZATION:Be[ge]=new Re;break;default:De.indexOf(ge)>=0&&J[ge]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+ge+'".')}}G.setExtensions(Be),G.setPlugins(J),G.parse(Ie,ve)}parseAsync(pe,fe){const Ie=this;return new Promise(function(ve,Me){Ie.parse(pe,fe,ve,Me)})}}function b(){let mt={};return{get:function(pe){return mt[pe]},add:function(pe,fe){mt[pe]=fe},remove:function(pe){delete mt[pe]},removeAll:function(){mt={}}}}const d={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class g{constructor(pe){this.parser=pe,this.name=d.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const pe=this.parser,fe=this.parser.json.nodes||[];for(let Ie=0,ve=fe.length;Ie<ve;Ie++){const Me=fe[Ie];Me.extensions&&Me.extensions[this.name]&&Me.extensions[this.name].light!==void 0&&pe._addNodeRef(this.cache,Me.extensions[this.name].light)}}_loadLight(pe){const fe=this.parser,Ie="light:"+pe;let ve=fe.cache.get(Ie);if(ve)return ve;const Me=fe.json,k=((Me.extensions&&Me.extensions[this.name]||{}).lights||[])[pe];let G;const le=new p.Color(16777215);k.color!==void 0&&le.setRGB(k.color[0],k.color[1],k.color[2],p.LinearSRGBColorSpace);const ge=k.range!==void 0?k.range:0;switch(k.type){case"directional":G=new p.DirectionalLight(le),G.target.position.set(0,0,-1),G.add(G.target);break;case"point":G=new p.PointLight(le),G.distance=ge;break;case"spot":G=new p.SpotLight(le),G.distance=ge,k.spot=k.spot||{},k.spot.innerConeAngle=k.spot.innerConeAngle!==void 0?k.spot.innerConeAngle:0,k.spot.outerConeAngle=k.spot.outerConeAngle!==void 0?k.spot.outerConeAngle:Math.PI/4,G.angle=k.spot.outerConeAngle,G.penumbra=1-k.spot.innerConeAngle/k.spot.outerConeAngle,G.target.position.set(0,0,-1),G.add(G.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+k.type)}return G.position.set(0,0,0),G.decay=2,ut(G,k),k.intensity!==void 0&&(G.intensity=k.intensity),G.name=fe.createUniqueName(k.name||"light_"+pe),ve=Promise.resolve(G),fe.cache.add(Ie,ve),ve}getDependency(pe,fe){if(pe==="light")return this._loadLight(fe)}createNodeAttachment(pe){const fe=this,Ie=this.parser,Me=Ie.json.nodes[pe],J=(Me.extensions&&Me.extensions[this.name]||{}).light;return J===void 0?null:this._loadLight(J).then(function(k){return Ie._getNodeRef(fe.cache,J,k)})}}class y{constructor(){this.name=d.KHR_MATERIALS_UNLIT}getMaterialType(){return p.MeshBasicMaterial}extendParams(pe,fe,Ie){const ve=[];pe.color=new p.Color(1,1,1),pe.opacity=1;const Me=fe.pbrMetallicRoughness;if(Me){if(Array.isArray(Me.baseColorFactor)){const Be=Me.baseColorFactor;pe.color.setRGB(Be[0],Be[1],Be[2],p.LinearSRGBColorSpace),pe.opacity=Be[3]}Me.baseColorTexture!==void 0&&ve.push(Ie.assignTexture(pe,"map",Me.baseColorTexture,p.SRGBColorSpace))}return Promise.all(ve)}}class f{constructor(pe){this.parser=pe,this.name=d.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(pe,fe){const ve=this.parser.json.materials[pe];if(!ve.extensions||!ve.extensions[this.name])return Promise.resolve();const Me=ve.extensions[this.name].emissiveStrength;return Me!==void 0&&(fe.emissiveIntensity=Me),Promise.resolve()}}class E{constructor(pe){this.parser=pe,this.name=d.KHR_MATERIALS_CLEARCOAT}getMaterialType(pe){const Ie=this.parser.json.materials[pe];return!Ie.extensions||!Ie.extensions[this.name]?null:p.MeshPhysicalMaterial}extendMaterialParams(pe,fe){const Ie=this.parser,ve=Ie.json.materials[pe];if(!ve.extensions||!ve.extensions[this.name])return Promise.resolve();const Me=[],Be=ve.extensions[this.name];if(Be.clearcoatFactor!==void 0&&(fe.clearcoat=Be.clearcoatFactor),Be.clearcoatTexture!==void 0&&Me.push(Ie.assignTexture(fe,"clearcoatMap",Be.clearcoatTexture)),Be.clearcoatRoughnessFactor!==void 0&&(fe.clearcoatRoughness=Be.clearcoatRoughnessFactor),Be.clearcoatRoughnessTexture!==void 0&&Me.push(Ie.assignTexture(fe,"clearcoatRoughnessMap",Be.clearcoatRoughnessTexture)),Be.clearcoatNormalTexture!==void 0&&(Me.push(Ie.assignTexture(fe,"clearcoatNormalMap",Be.clearcoatNormalTexture)),Be.clearcoatNormalTexture.scale!==void 0)){const J=Be.clearcoatNormalTexture.scale;fe.clearcoatNormalScale=new p.Vector2(J,J)}return Promise.all(Me)}}class C{constructor(pe){this.parser=pe,this.name=d.KHR_MATERIALS_DISPERSION}getMaterialType(pe){const Ie=this.parser.json.materials[pe];return!Ie.extensions||!Ie.extensions[this.name]?null:p.MeshPhysicalMaterial}extendMaterialParams(pe,fe){const ve=this.parser.json.materials[pe];if(!ve.extensions||!ve.extensions[this.name])return Promise.resolve();const Me=ve.extensions[this.name];return fe.dispersion=Me.dispersion!==void 0?Me.dispersion:0,Promise.resolve()}}class v{constructor(pe){this.parser=pe,this.name=d.KHR_MATERIALS_IRIDESCENCE}getMaterialType(pe){const Ie=this.parser.json.materials[pe];return!Ie.extensions||!Ie.extensions[this.name]?null:p.MeshPhysicalMaterial}extendMaterialParams(pe,fe){const Ie=this.parser,ve=Ie.json.materials[pe];if(!ve.extensions||!ve.extensions[this.name])return Promise.resolve();const Me=[],Be=ve.extensions[this.name];return Be.iridescenceFactor!==void 0&&(fe.iridescence=Be.iridescenceFactor),Be.iridescenceTexture!==void 0&&Me.push(Ie.assignTexture(fe,"iridescenceMap",Be.iridescenceTexture)),Be.iridescenceIor!==void 0&&(fe.iridescenceIOR=Be.iridescenceIor),fe.iridescenceThicknessRange===void 0&&(fe.iridescenceThicknessRange=[100,400]),Be.iridescenceThicknessMinimum!==void 0&&(fe.iridescenceThicknessRange[0]=Be.iridescenceThicknessMinimum),Be.iridescenceThicknessMaximum!==void 0&&(fe.iridescenceThicknessRange[1]=Be.iridescenceThicknessMaximum),Be.iridescenceThicknessTexture!==void 0&&Me.push(Ie.assignTexture(fe,"iridescenceThicknessMap",Be.iridescenceThicknessTexture)),Promise.all(Me)}}class x{constructor(pe){this.parser=pe,this.name=d.KHR_MATERIALS_SHEEN}getMaterialType(pe){const Ie=this.parser.json.materials[pe];return!Ie.extensions||!Ie.extensions[this.name]?null:p.MeshPhysicalMaterial}extendMaterialParams(pe,fe){const Ie=this.parser,ve=Ie.json.materials[pe];if(!ve.extensions||!ve.extensions[this.name])return Promise.resolve();const Me=[];fe.sheenColor=new p.Color(0,0,0),fe.sheenRoughness=0,fe.sheen=1;const Be=ve.extensions[this.name];if(Be.sheenColorFactor!==void 0){const J=Be.sheenColorFactor;fe.sheenColor.setRGB(J[0],J[1],J[2],p.LinearSRGBColorSpace)}return Be.sheenRoughnessFactor!==void 0&&(fe.sheenRoughness=Be.sheenRoughnessFactor),Be.sheenColorTexture!==void 0&&Me.push(Ie.assignTexture(fe,"sheenColorMap",Be.sheenColorTexture,p.SRGBColorSpace)),Be.sheenRoughnessTexture!==void 0&&Me.push(Ie.assignTexture(fe,"sheenRoughnessMap",Be.sheenRoughnessTexture)),Promise.all(Me)}}class T{constructor(pe){this.parser=pe,this.name=d.KHR_MATERIALS_TRANSMISSION}getMaterialType(pe){const Ie=this.parser.json.materials[pe];return!Ie.extensions||!Ie.extensions[this.name]?null:p.MeshPhysicalMaterial}extendMaterialParams(pe,fe){const Ie=this.parser,ve=Ie.json.materials[pe];if(!ve.extensions||!ve.extensions[this.name])return Promise.resolve();const Me=[],Be=ve.extensions[this.name];return Be.transmissionFactor!==void 0&&(fe.transmission=Be.transmissionFactor),Be.transmissionTexture!==void 0&&Me.push(Ie.assignTexture(fe,"transmissionMap",Be.transmissionTexture)),Promise.all(Me)}}class L{constructor(pe){this.parser=pe,this.name=d.KHR_MATERIALS_VOLUME}getMaterialType(pe){const Ie=this.parser.json.materials[pe];return!Ie.extensions||!Ie.extensions[this.name]?null:p.MeshPhysicalMaterial}extendMaterialParams(pe,fe){const Ie=this.parser,ve=Ie.json.materials[pe];if(!ve.extensions||!ve.extensions[this.name])return Promise.resolve();const Me=[],Be=ve.extensions[this.name];fe.thickness=Be.thicknessFactor!==void 0?Be.thicknessFactor:0,Be.thicknessTexture!==void 0&&Me.push(Ie.assignTexture(fe,"thicknessMap",Be.thicknessTexture)),fe.attenuationDistance=Be.attenuationDistance||1/0;const J=Be.attenuationColor||[1,1,1];return fe.attenuationColor=new p.Color().setRGB(J[0],J[1],J[2],p.LinearSRGBColorSpace),Promise.all(Me)}}class R{constructor(pe){this.parser=pe,this.name=d.KHR_MATERIALS_IOR}getMaterialType(pe){const Ie=this.parser.json.materials[pe];return!Ie.extensions||!Ie.extensions[this.name]?null:p.MeshPhysicalMaterial}extendMaterialParams(pe,fe){const ve=this.parser.json.materials[pe];if(!ve.extensions||!ve.extensions[this.name])return Promise.resolve();const Me=ve.extensions[this.name];return fe.ior=Me.ior!==void 0?Me.ior:1.5,Promise.resolve()}}class F{constructor(pe){this.parser=pe,this.name=d.KHR_MATERIALS_SPECULAR}getMaterialType(pe){const Ie=this.parser.json.materials[pe];return!Ie.extensions||!Ie.extensions[this.name]?null:p.MeshPhysicalMaterial}extendMaterialParams(pe,fe){const Ie=this.parser,ve=Ie.json.materials[pe];if(!ve.extensions||!ve.extensions[this.name])return Promise.resolve();const Me=[],Be=ve.extensions[this.name];fe.specularIntensity=Be.specularFactor!==void 0?Be.specularFactor:1,Be.specularTexture!==void 0&&Me.push(Ie.assignTexture(fe,"specularIntensityMap",Be.specularTexture));const J=Be.specularColorFactor||[1,1,1];return fe.specularColor=new p.Color().setRGB(J[0],J[1],J[2],p.LinearSRGBColorSpace),Be.specularColorTexture!==void 0&&Me.push(Ie.assignTexture(fe,"specularColorMap",Be.specularColorTexture,p.SRGBColorSpace)),Promise.all(Me)}}class P{constructor(pe){this.parser=pe,this.name=d.EXT_MATERIALS_BUMP}getMaterialType(pe){const Ie=this.parser.json.materials[pe];return!Ie.extensions||!Ie.extensions[this.name]?null:p.MeshPhysicalMaterial}extendMaterialParams(pe,fe){const Ie=this.parser,ve=Ie.json.materials[pe];if(!ve.extensions||!ve.extensions[this.name])return Promise.resolve();const Me=[],Be=ve.extensions[this.name];return fe.bumpScale=Be.bumpFactor!==void 0?Be.bumpFactor:1,Be.bumpTexture!==void 0&&Me.push(Ie.assignTexture(fe,"bumpMap",Be.bumpTexture)),Promise.all(Me)}}class H{constructor(pe){this.parser=pe,this.name=d.KHR_MATERIALS_ANISOTROPY}getMaterialType(pe){const Ie=this.parser.json.materials[pe];return!Ie.extensions||!Ie.extensions[this.name]?null:p.MeshPhysicalMaterial}extendMaterialParams(pe,fe){const Ie=this.parser,ve=Ie.json.materials[pe];if(!ve.extensions||!ve.extensions[this.name])return Promise.resolve();const Me=[],Be=ve.extensions[this.name];return Be.anisotropyStrength!==void 0&&(fe.anisotropy=Be.anisotropyStrength),Be.anisotropyRotation!==void 0&&(fe.anisotropyRotation=Be.anisotropyRotation),Be.anisotropyTexture!==void 0&&Me.push(Ie.assignTexture(fe,"anisotropyMap",Be.anisotropyTexture)),Promise.all(Me)}}class ${constructor(pe){this.parser=pe,this.name=d.KHR_TEXTURE_BASISU}loadTexture(pe){const fe=this.parser,Ie=fe.json,ve=Ie.textures[pe];if(!ve.extensions||!ve.extensions[this.name])return null;const Me=ve.extensions[this.name],Be=fe.options.ktx2Loader;if(!Be){if(Ie.extensionsRequired&&Ie.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return fe.loadTextureImage(pe,Me.source,Be)}}class te{constructor(pe){this.parser=pe,this.name=d.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(pe){const fe=this.name,Ie=this.parser,ve=Ie.json,Me=ve.textures[pe];if(!Me.extensions||!Me.extensions[fe])return null;const Be=Me.extensions[fe],J=ve.images[Be.source];let k=Ie.textureLoader;if(J.uri){const G=Ie.options.manager.getHandler(J.uri);G!==null&&(k=G)}return this.detectSupport().then(function(G){if(G)return Ie.loadTextureImage(pe,Be.source,k);if(ve.extensionsRequired&&ve.extensionsRequired.indexOf(fe)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return Ie.loadTexture(pe)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(pe){const fe=new Image;fe.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",fe.onload=fe.onerror=function(){pe(fe.height===1)}})),this.isSupported}}class ee{constructor(pe){this.parser=pe,this.name=d.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(pe){const fe=this.name,Ie=this.parser,ve=Ie.json,Me=ve.textures[pe];if(!Me.extensions||!Me.extensions[fe])return null;const Be=Me.extensions[fe],J=ve.images[Be.source];let k=Ie.textureLoader;if(J.uri){const G=Ie.options.manager.getHandler(J.uri);G!==null&&(k=G)}return this.detectSupport().then(function(G){if(G)return Ie.loadTextureImage(pe,Be.source,k);if(ve.extensionsRequired&&ve.extensionsRequired.indexOf(fe)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return Ie.loadTexture(pe)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(pe){const fe=new Image;fe.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",fe.onload=fe.onerror=function(){pe(fe.height===1)}})),this.isSupported}}class de{constructor(pe){this.name=d.EXT_MESHOPT_COMPRESSION,this.parser=pe}loadBufferView(pe){const fe=this.parser.json,Ie=fe.bufferViews[pe];if(Ie.extensions&&Ie.extensions[this.name]){const ve=Ie.extensions[this.name],Me=this.parser.getDependency("buffer",ve.buffer),Be=this.parser.options.meshoptDecoder;if(!Be||!Be.supported){if(fe.extensionsRequired&&fe.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Me.then(function(J){const k=ve.byteOffset||0,G=ve.byteLength||0,le=ve.count,ge=ve.byteStride,De=new Uint8Array(J,k,G);return Be.decodeGltfBufferAsync?Be.decodeGltfBufferAsync(le,ge,De,ve.mode,ve.filter).then(function(Ve){return Ve.buffer}):Be.ready.then(function(){const Ve=new ArrayBuffer(le*ge);return Be.decodeGltfBuffer(new Uint8Array(Ve),le,ge,De,ve.mode,ve.filter),Ve})})}else return null}}class ie{constructor(pe){this.name=d.EXT_MESH_GPU_INSTANCING,this.parser=pe}createNodeMesh(pe){const fe=this.parser.json,Ie=fe.nodes[pe];if(!Ie.extensions||!Ie.extensions[this.name]||Ie.mesh===void 0)return null;const ve=fe.meshes[Ie.mesh];for(const G of ve.primitives)if(G.mode!==Fe.TRIANGLES&&G.mode!==Fe.TRIANGLE_STRIP&&G.mode!==Fe.TRIANGLE_FAN&&G.mode!==void 0)return null;const Be=Ie.extensions[this.name].attributes,J=[],k={};for(const G in Be)J.push(this.parser.getDependency("accessor",Be[G]).then(le=>(k[G]=le,k[G])));return J.length<1?null:(J.push(this.parser.createNodeMesh(pe)),Promise.all(J).then(G=>{const le=G.pop(),ge=le.isGroup?le.children:[le],De=G[0].count,Ve=[];for(const kt of ge){const Yt=new p.Matrix4,Gt=new p.Vector3,Vt=new p.Quaternion,un=new p.Vector3(1,1,1),ar=new p.InstancedMesh(kt.geometry,kt.material,De);for(let Rn=0;Rn<De;Rn++)k.TRANSLATION&&Gt.fromBufferAttribute(k.TRANSLATION,Rn),k.ROTATION&&Vt.fromBufferAttribute(k.ROTATION,Rn),k.SCALE&&un.fromBufferAttribute(k.SCALE,Rn),ar.setMatrixAt(Rn,Yt.compose(Gt,Vt,un));for(const Rn in k)if(Rn==="_COLOR_0"){const Zi=k[Rn];ar.instanceColor=new p.InstancedBufferAttribute(Zi.array,Zi.itemSize,Zi.normalized)}else Rn!=="TRANSLATION"&&Rn!=="ROTATION"&&Rn!=="SCALE"&&kt.geometry.setAttribute(Rn,k[Rn]);p.Object3D.prototype.copy.call(ar,kt),this.parser.assignFinalMaterial(ar),Ve.push(ar)}return le.isGroup?(le.clear(),le.add(...Ve),le):Ve[0]}))}}const ne="glTF",X=12,z={JSON:1313821514,BIN:5130562};class se{constructor(pe){this.name=d.KHR_BINARY_GLTF,this.content=null,this.body=null;const fe=new DataView(pe,0,X),Ie=new TextDecoder;if(this.header={magic:Ie.decode(new Uint8Array(pe.slice(0,4))),version:fe.getUint32(4,!0),length:fe.getUint32(8,!0)},this.header.magic!==ne)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const ve=this.header.length-X,Me=new DataView(pe,X);let Be=0;for(;Be<ve;){const J=Me.getUint32(Be,!0);Be+=4;const k=Me.getUint32(Be,!0);if(Be+=4,k===z.JSON){const G=new Uint8Array(pe,X+Be,J);this.content=Ie.decode(G)}else if(k===z.BIN){const G=X+Be;this.body=pe.slice(G,G+J)}Be+=J}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class ae{constructor(pe,fe){if(!fe)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=d.KHR_DRACO_MESH_COMPRESSION,this.json=pe,this.dracoLoader=fe,this.dracoLoader.preload()}decodePrimitive(pe,fe){const Ie=this.json,ve=this.dracoLoader,Me=pe.extensions[this.name].bufferView,Be=pe.extensions[this.name].attributes,J={},k={},G={};for(const le in Be){const ge=Nt[le]||le.toLowerCase();J[ge]=Be[le]}for(const le in pe.attributes){const ge=Nt[le]||le.toLowerCase();if(Be[le]!==void 0){const De=Ie.accessors[pe.attributes[le]],Ve=qe[De.componentType];G[ge]=Ve.name,k[ge]=De.normalized===!0}}return fe.getDependency("bufferView",Me).then(function(le){return new Promise(function(ge,De){ve.decodeDracoFile(le,function(Ve){for(const kt in Ve.attributes){const Yt=Ve.attributes[kt],Gt=k[kt];Gt!==void 0&&(Yt.normalized=Gt)}ge(Ve)},J,G,p.LinearSRGBColorSpace,De)})})}}class be{constructor(){this.name=d.KHR_TEXTURE_TRANSFORM}extendTexture(pe,fe){return(fe.texCoord===void 0||fe.texCoord===pe.channel)&&fe.offset===void 0&&fe.rotation===void 0&&fe.scale===void 0||(pe=pe.clone(),fe.texCoord!==void 0&&(pe.channel=fe.texCoord),fe.offset!==void 0&&pe.offset.fromArray(fe.offset),fe.rotation!==void 0&&(pe.rotation=fe.rotation),fe.scale!==void 0&&pe.repeat.fromArray(fe.scale),pe.needsUpdate=!0),pe}}class Re{constructor(){this.name=d.KHR_MESH_QUANTIZATION}}class ke extends p.Interpolant{constructor(pe,fe,Ie,ve){super(pe,fe,Ie,ve)}copySampleValue_(pe){const fe=this.resultBuffer,Ie=this.sampleValues,ve=this.valueSize,Me=pe*ve*3+ve;for(let Be=0;Be!==ve;Be++)fe[Be]=Ie[Me+Be];return fe}interpolate_(pe,fe,Ie,ve){const Me=this.resultBuffer,Be=this.sampleValues,J=this.valueSize,k=J*2,G=J*3,le=ve-fe,ge=(Ie-fe)/le,De=ge*ge,Ve=De*ge,kt=pe*G,Yt=kt-G,Gt=-2*Ve+3*De,Vt=Ve-De,un=1-Gt,ar=Vt-De+ge;for(let Rn=0;Rn!==J;Rn++){const Zi=Be[Yt+Rn+J],vi=Be[Yt+Rn+k]*le,Li=Be[kt+Rn+J],bs=Be[kt+Rn]*le;Me[Rn]=un*Zi+ar*vi+Gt*Li+Vt*bs}return Me}}const Ke=new p.Quaternion;class Xe extends ke{interpolate_(pe,fe,Ie,ve){const Me=super.interpolate_(pe,fe,Ie,ve);return Ke.fromArray(Me).normalize().toArray(Me),Me}}const Fe={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},qe={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},rt={9728:p.NearestFilter,9729:p.LinearFilter,9984:p.NearestMipmapNearestFilter,9985:p.LinearMipmapNearestFilter,9986:p.NearestMipmapLinearFilter,9987:p.LinearMipmapLinearFilter},it={33071:p.ClampToEdgeWrapping,33648:p.MirroredRepeatWrapping,10497:p.RepeatWrapping},Ct={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Nt={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},xe={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Te={CUBICSPLINE:void 0,LINEAR:p.InterpolateLinear,STEP:p.InterpolateDiscrete},je={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function ot(mt){return mt.DefaultMaterial===void 0&&(mt.DefaultMaterial=new p.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:p.FrontSide})),mt.DefaultMaterial}function Je(mt,pe,fe){for(const Ie in fe.extensions)mt[Ie]===void 0&&(pe.userData.gltfExtensions=pe.userData.gltfExtensions||{},pe.userData.gltfExtensions[Ie]=fe.extensions[Ie])}function ut(mt,pe){pe.extras!==void 0&&(typeof pe.extras=="object"?Object.assign(mt.userData,pe.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+pe.extras))}function Lt(mt,pe,fe){let Ie=!1,ve=!1,Me=!1;for(let G=0,le=pe.length;G<le;G++){const ge=pe[G];if(ge.POSITION!==void 0&&(Ie=!0),ge.NORMAL!==void 0&&(ve=!0),ge.COLOR_0!==void 0&&(Me=!0),Ie&&ve&&Me)break}if(!Ie&&!ve&&!Me)return Promise.resolve(mt);const Be=[],J=[],k=[];for(let G=0,le=pe.length;G<le;G++){const ge=pe[G];if(Ie){const De=ge.POSITION!==void 0?fe.getDependency("accessor",ge.POSITION):mt.attributes.position;Be.push(De)}if(ve){const De=ge.NORMAL!==void 0?fe.getDependency("accessor",ge.NORMAL):mt.attributes.normal;J.push(De)}if(Me){const De=ge.COLOR_0!==void 0?fe.getDependency("accessor",ge.COLOR_0):mt.attributes.color;k.push(De)}}return Promise.all([Promise.all(Be),Promise.all(J),Promise.all(k)]).then(function(G){const le=G[0],ge=G[1],De=G[2];return Ie&&(mt.morphAttributes.position=le),ve&&(mt.morphAttributes.normal=ge),Me&&(mt.morphAttributes.color=De),mt.morphTargetsRelative=!0,mt})}function _t(mt,pe){if(mt.updateMorphTargets(),pe.weights!==void 0)for(let fe=0,Ie=pe.weights.length;fe<Ie;fe++)mt.morphTargetInfluences[fe]=pe.weights[fe];if(pe.extras&&Array.isArray(pe.extras.targetNames)){const fe=pe.extras.targetNames;if(mt.morphTargetInfluences.length===fe.length){mt.morphTargetDictionary={};for(let Ie=0,ve=fe.length;Ie<ve;Ie++)mt.morphTargetDictionary[fe[Ie]]=Ie}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Pt(mt){let pe;const fe=mt.extensions&&mt.extensions[d.KHR_DRACO_MESH_COMPRESSION];if(fe?pe="draco:"+fe.bufferView+":"+fe.indices+":"+gt(fe.attributes):pe=mt.indices+":"+gt(mt.attributes)+":"+mt.mode,mt.targets!==void 0)for(let Ie=0,ve=mt.targets.length;Ie<ve;Ie++)pe+=":"+gt(mt.targets[Ie]);return pe}function gt(mt){let pe="";const fe=Object.keys(mt).sort();for(let Ie=0,ve=fe.length;Ie<ve;Ie++)pe+=fe[Ie]+":"+mt[fe[Ie]]+";";return pe}function Kt(mt){switch(mt){case Int8Array:return .007874015748031496;case Uint8Array:return .00392156862745098;case Int16Array:return 3051850947599719e-20;case Uint16Array:return 15259021896696422e-21;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Qt(mt){return mt.search(/\.jpe?g($|\?)/i)>0||mt.search(/^data\:image\/jpeg/)===0?"image/jpeg":mt.search(/\.webp($|\?)/i)>0||mt.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Xt=new p.Matrix4;class En{constructor(pe={},fe={}){this.json=pe,this.extensions={},this.plugins={},this.options=fe,this.cache=new b,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let Ie=!1,ve=!1,Me=-1;typeof navigator<"u"&&(Ie=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,ve=navigator.userAgent.indexOf("Firefox")>-1,Me=ve?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||Ie||ve&&Me<98?this.textureLoader=new p.TextureLoader(this.options.manager):this.textureLoader=new p.ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new p.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(pe){this.extensions=pe}setPlugins(pe){this.plugins=pe}parse(pe,fe){const Ie=this,ve=this.json,Me=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(Be){return Be._markDefs&&Be._markDefs()}),Promise.all(this._invokeAll(function(Be){return Be.beforeRoot&&Be.beforeRoot()})).then(function(){return Promise.all([Ie.getDependencies("scene"),Ie.getDependencies("animation"),Ie.getDependencies("camera")])}).then(function(Be){const J={scene:Be[0][ve.scene||0],scenes:Be[0],animations:Be[1],cameras:Be[2],asset:ve.asset,parser:Ie,userData:{}};return Je(Me,J,ve),ut(J,ve),Promise.all(Ie._invokeAll(function(k){return k.afterRoot&&k.afterRoot(J)})).then(function(){for(const k of J.scenes)k.updateMatrixWorld();pe(J)})}).catch(fe)}_markDefs(){const pe=this.json.nodes||[],fe=this.json.skins||[],Ie=this.json.meshes||[];for(let ve=0,Me=fe.length;ve<Me;ve++){const Be=fe[ve].joints;for(let J=0,k=Be.length;J<k;J++)pe[Be[J]].isBone=!0}for(let ve=0,Me=pe.length;ve<Me;ve++){const Be=pe[ve];Be.mesh!==void 0&&(this._addNodeRef(this.meshCache,Be.mesh),Be.skin!==void 0&&(Ie[Be.mesh].isSkinnedMesh=!0)),Be.camera!==void 0&&this._addNodeRef(this.cameraCache,Be.camera)}}_addNodeRef(pe,fe){fe!==void 0&&(pe.refs[fe]===void 0&&(pe.refs[fe]=pe.uses[fe]=0),pe.refs[fe]++)}_getNodeRef(pe,fe,Ie){if(pe.refs[fe]<=1)return Ie;const ve=Ie.clone(),Me=(Be,J)=>{const k=this.associations.get(Be);k!=null&&this.associations.set(J,k);for(const[G,le]of Be.children.entries())Me(le,J.children[G])};return Me(Ie,ve),ve.name+="_instance_"+pe.uses[fe]++,ve}_invokeOne(pe){const fe=Object.values(this.plugins);fe.push(this);for(let Ie=0;Ie<fe.length;Ie++){const ve=pe(fe[Ie]);if(ve)return ve}return null}_invokeAll(pe){const fe=Object.values(this.plugins);fe.unshift(this);const Ie=[];for(let ve=0;ve<fe.length;ve++){const Me=pe(fe[ve]);Me&&Ie.push(Me)}return Ie}getDependency(pe,fe){const Ie=pe+":"+fe;let ve=this.cache.get(Ie);if(!ve){switch(pe){case"scene":ve=this.loadScene(fe);break;case"node":ve=this._invokeOne(function(Me){return Me.loadNode&&Me.loadNode(fe)});break;case"mesh":ve=this._invokeOne(function(Me){return Me.loadMesh&&Me.loadMesh(fe)});break;case"accessor":ve=this.loadAccessor(fe);break;case"bufferView":ve=this._invokeOne(function(Me){return Me.loadBufferView&&Me.loadBufferView(fe)});break;case"buffer":ve=this.loadBuffer(fe);break;case"material":ve=this._invokeOne(function(Me){return Me.loadMaterial&&Me.loadMaterial(fe)});break;case"texture":ve=this._invokeOne(function(Me){return Me.loadTexture&&Me.loadTexture(fe)});break;case"skin":ve=this.loadSkin(fe);break;case"animation":ve=this._invokeOne(function(Me){return Me.loadAnimation&&Me.loadAnimation(fe)});break;case"camera":ve=this.loadCamera(fe);break;default:if(ve=this._invokeOne(function(Me){return Me!=this&&Me.getDependency&&Me.getDependency(pe,fe)}),!ve)throw new Error("Unknown type: "+pe);break}this.cache.add(Ie,ve)}return ve}getDependencies(pe){let fe=this.cache.get(pe);if(!fe){const Ie=this,ve=this.json[pe+(pe==="mesh"?"es":"s")]||[];fe=Promise.all(ve.map(function(Me,Be){return Ie.getDependency(pe,Be)})),this.cache.add(pe,fe)}return fe}loadBuffer(pe){const fe=this.json.buffers[pe],Ie=this.fileLoader;if(fe.type&&fe.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+fe.type+" buffer type is not supported.");if(fe.uri===void 0&&pe===0)return Promise.resolve(this.extensions[d.KHR_BINARY_GLTF].body);const ve=this.options;return new Promise(function(Me,Be){Ie.load(p.LoaderUtils.resolveURL(fe.uri,ve.path),Me,void 0,function(){Be(new Error('THREE.GLTFLoader: Failed to load buffer "'+fe.uri+'".'))})})}loadBufferView(pe){const fe=this.json.bufferViews[pe];return this.getDependency("buffer",fe.buffer).then(function(Ie){const ve=fe.byteLength||0,Me=fe.byteOffset||0;return Ie.slice(Me,Me+ve)})}loadAccessor(pe){const fe=this,Ie=this.json,ve=this.json.accessors[pe];if(ve.bufferView===void 0&&ve.sparse===void 0){const Be=Ct[ve.type],J=qe[ve.componentType],k=ve.normalized===!0,G=new J(ve.count*Be);return Promise.resolve(new p.BufferAttribute(G,Be,k))}const Me=[];return ve.bufferView!==void 0?Me.push(this.getDependency("bufferView",ve.bufferView)):Me.push(null),ve.sparse!==void 0&&(Me.push(this.getDependency("bufferView",ve.sparse.indices.bufferView)),Me.push(this.getDependency("bufferView",ve.sparse.values.bufferView))),Promise.all(Me).then(function(Be){const J=Be[0],k=Ct[ve.type],G=qe[ve.componentType],le=G.BYTES_PER_ELEMENT,ge=le*k,De=ve.byteOffset||0,Ve=ve.bufferView!==void 0?Ie.bufferViews[ve.bufferView].byteStride:void 0,kt=ve.normalized===!0;let Yt,Gt;if(Ve&&Ve!==ge){const Vt=Math.floor(De/Ve),un="InterleavedBuffer:"+ve.bufferView+":"+ve.componentType+":"+Vt+":"+ve.count;let ar=fe.cache.get(un);ar||(Yt=new G(J,Vt*Ve,ve.count*Ve/le),ar=new p.InterleavedBuffer(Yt,Ve/le),fe.cache.add(un,ar)),Gt=new p.InterleavedBufferAttribute(ar,k,De%Ve/le,kt)}else J===null?Yt=new G(ve.count*k):Yt=new G(J,De,ve.count*k),Gt=new p.BufferAttribute(Yt,k,kt);if(ve.sparse!==void 0){const Vt=Ct.SCALAR,un=qe[ve.sparse.indices.componentType],ar=ve.sparse.indices.byteOffset||0,Rn=ve.sparse.values.byteOffset||0,Zi=new un(Be[1],ar,ve.sparse.count*Vt),vi=new G(Be[2],Rn,ve.sparse.count*k);J!==null&&(Gt=new p.BufferAttribute(Gt.array.slice(),Gt.itemSize,Gt.normalized));for(let Li=0,bs=Zi.length;Li<bs;Li++){const er=Zi[Li];if(Gt.setX(er,vi[Li*k]),k>=2&&Gt.setY(er,vi[Li*k+1]),k>=3&&Gt.setZ(er,vi[Li*k+2]),k>=4&&Gt.setW(er,vi[Li*k+3]),k>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return Gt})}loadTexture(pe){const fe=this.json,Ie=this.options,Me=fe.textures[pe].source,Be=fe.images[Me];let J=this.textureLoader;if(Be.uri){const k=Ie.manager.getHandler(Be.uri);k!==null&&(J=k)}return this.loadTextureImage(pe,Me,J)}loadTextureImage(pe,fe,Ie){const ve=this,Me=this.json,Be=Me.textures[pe],J=Me.images[fe],k=(J.uri||J.bufferView)+":"+Be.sampler;if(this.textureCache[k])return this.textureCache[k];const G=this.loadImageSource(fe,Ie).then(function(le){le.flipY=!1,le.name=Be.name||J.name||"",le.name===""&&typeof J.uri=="string"&&J.uri.startsWith("data:image/")===!1&&(le.name=J.uri);const De=(Me.samplers||{})[Be.sampler]||{};return le.magFilter=rt[De.magFilter]||p.LinearFilter,le.minFilter=rt[De.minFilter]||p.LinearMipmapLinearFilter,le.wrapS=it[De.wrapS]||p.RepeatWrapping,le.wrapT=it[De.wrapT]||p.RepeatWrapping,ve.associations.set(le,{textures:pe}),le}).catch(function(){return null});return this.textureCache[k]=G,G}loadImageSource(pe,fe){const Ie=this,ve=this.json,Me=this.options;if(this.sourceCache[pe]!==void 0)return this.sourceCache[pe].then(ge=>ge.clone());const Be=ve.images[pe],J=self.URL||self.webkitURL;let k=Be.uri||"",G=!1;if(Be.bufferView!==void 0)k=Ie.getDependency("bufferView",Be.bufferView).then(function(ge){G=!0;const De=new Blob([ge],{type:Be.mimeType});return k=J.createObjectURL(De),k});else if(Be.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+pe+" is missing URI and bufferView");const le=Promise.resolve(k).then(function(ge){return new Promise(function(De,Ve){let kt=De;fe.isImageBitmapLoader===!0&&(kt=function(Yt){const Gt=new p.Texture(Yt);Gt.needsUpdate=!0,De(Gt)}),fe.load(p.LoaderUtils.resolveURL(ge,Me.path),kt,void 0,Ve)})}).then(function(ge){return G===!0&&J.revokeObjectURL(k),ge.userData.mimeType=Be.mimeType||Qt(Be.uri),ge}).catch(function(ge){throw console.error("THREE.GLTFLoader: Couldn't load texture",k),ge});return this.sourceCache[pe]=le,le}assignTexture(pe,fe,Ie,ve){const Me=this;return this.getDependency("texture",Ie.index).then(function(Be){if(!Be)return null;if(Ie.texCoord!==void 0&&Ie.texCoord>0&&(Be=Be.clone(),Be.channel=Ie.texCoord),Me.extensions[d.KHR_TEXTURE_TRANSFORM]){const J=Ie.extensions!==void 0?Ie.extensions[d.KHR_TEXTURE_TRANSFORM]:void 0;if(J){const k=Me.associations.get(Be);Be=Me.extensions[d.KHR_TEXTURE_TRANSFORM].extendTexture(Be,J),Me.associations.set(Be,k)}}return ve!==void 0&&(Be.colorSpace=ve),pe[fe]=Be,Be})}assignFinalMaterial(pe){const fe=pe.geometry;let Ie=pe.material;const ve=fe.attributes.tangent===void 0,Me=fe.attributes.color!==void 0,Be=fe.attributes.normal===void 0;if(pe.isPoints){const J="PointsMaterial:"+Ie.uuid;let k=this.cache.get(J);k||(k=new p.PointsMaterial,p.Material.prototype.copy.call(k,Ie),k.color.copy(Ie.color),k.map=Ie.map,k.sizeAttenuation=!1,this.cache.add(J,k)),Ie=k}else if(pe.isLine){const J="LineBasicMaterial:"+Ie.uuid;let k=this.cache.get(J);k||(k=new p.LineBasicMaterial,p.Material.prototype.copy.call(k,Ie),k.color.copy(Ie.color),k.map=Ie.map,this.cache.add(J,k)),Ie=k}if(ve||Me||Be){let J="ClonedMaterial:"+Ie.uuid+":";ve&&(J+="derivative-tangents:"),Me&&(J+="vertex-colors:"),Be&&(J+="flat-shading:");let k=this.cache.get(J);k||(k=Ie.clone(),Me&&(k.vertexColors=!0),Be&&(k.flatShading=!0),ve&&(k.normalScale&&(k.normalScale.y*=-1),k.clearcoatNormalScale&&(k.clearcoatNormalScale.y*=-1)),this.cache.add(J,k),this.associations.set(k,this.associations.get(Ie))),Ie=k}pe.material=Ie}getMaterialType(){return p.MeshStandardMaterial}loadMaterial(pe){const fe=this,Ie=this.json,ve=this.extensions,Me=Ie.materials[pe];let Be;const J={},k=Me.extensions||{},G=[];if(k[d.KHR_MATERIALS_UNLIT]){const ge=ve[d.KHR_MATERIALS_UNLIT];Be=ge.getMaterialType(),G.push(ge.extendParams(J,Me,fe))}else{const ge=Me.pbrMetallicRoughness||{};if(J.color=new p.Color(1,1,1),J.opacity=1,Array.isArray(ge.baseColorFactor)){const De=ge.baseColorFactor;J.color.setRGB(De[0],De[1],De[2],p.LinearSRGBColorSpace),J.opacity=De[3]}ge.baseColorTexture!==void 0&&G.push(fe.assignTexture(J,"map",ge.baseColorTexture,p.SRGBColorSpace)),J.metalness=ge.metallicFactor!==void 0?ge.metallicFactor:1,J.roughness=ge.roughnessFactor!==void 0?ge.roughnessFactor:1,ge.metallicRoughnessTexture!==void 0&&(G.push(fe.assignTexture(J,"metalnessMap",ge.metallicRoughnessTexture)),G.push(fe.assignTexture(J,"roughnessMap",ge.metallicRoughnessTexture))),Be=this._invokeOne(function(De){return De.getMaterialType&&De.getMaterialType(pe)}),G.push(Promise.all(this._invokeAll(function(De){return De.extendMaterialParams&&De.extendMaterialParams(pe,J)})))}Me.doubleSided===!0&&(J.side=p.DoubleSide);const le=Me.alphaMode||je.OPAQUE;if(le===je.BLEND?(J.transparent=!0,J.depthWrite=!1):(J.transparent=!1,le===je.MASK&&(J.alphaTest=Me.alphaCutoff!==void 0?Me.alphaCutoff:.5)),Me.normalTexture!==void 0&&Be!==p.MeshBasicMaterial&&(G.push(fe.assignTexture(J,"normalMap",Me.normalTexture)),J.normalScale=new p.Vector2(1,1),Me.normalTexture.scale!==void 0)){const ge=Me.normalTexture.scale;J.normalScale.set(ge,ge)}if(Me.occlusionTexture!==void 0&&Be!==p.MeshBasicMaterial&&(G.push(fe.assignTexture(J,"aoMap",Me.occlusionTexture)),Me.occlusionTexture.strength!==void 0&&(J.aoMapIntensity=Me.occlusionTexture.strength)),Me.emissiveFactor!==void 0&&Be!==p.MeshBasicMaterial){const ge=Me.emissiveFactor;J.emissive=new p.Color().setRGB(ge[0],ge[1],ge[2],p.LinearSRGBColorSpace)}return Me.emissiveTexture!==void 0&&Be!==p.MeshBasicMaterial&&G.push(fe.assignTexture(J,"emissiveMap",Me.emissiveTexture,p.SRGBColorSpace)),Promise.all(G).then(function(){const ge=new Be(J);return Me.name&&(ge.name=Me.name),ut(ge,Me),fe.associations.set(ge,{materials:pe}),Me.extensions&&Je(ve,ge,Me),ge})}createUniqueName(pe){const fe=p.PropertyBinding.sanitizeNodeName(pe||"");return fe in this.nodeNamesUsed?fe+"_"+ ++this.nodeNamesUsed[fe]:(this.nodeNamesUsed[fe]=0,fe)}loadGeometries(pe){const fe=this,Ie=this.extensions,ve=this.primitiveCache;function Me(J){return Ie[d.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(J,fe).then(function(k){return Bn(k,J,fe)})}const Be=[];for(let J=0,k=pe.length;J<k;J++){const G=pe[J],le=Pt(G),ge=ve[le];if(ge)Be.push(ge.promise);else{let De;G.extensions&&G.extensions[d.KHR_DRACO_MESH_COMPRESSION]?De=Me(G):De=Bn(new p.BufferGeometry,G,fe),ve[le]={primitive:G,promise:De},Be.push(De)}}return Promise.all(Be)}loadMesh(pe){const fe=this,Ie=this.json,ve=this.extensions,Me=Ie.meshes[pe],Be=Me.primitives,J=[];for(let k=0,G=Be.length;k<G;k++){const le=Be[k].material===void 0?ot(this.cache):this.getDependency("material",Be[k].material);J.push(le)}return J.push(fe.loadGeometries(Be)),Promise.all(J).then(function(k){const G=k.slice(0,k.length-1),le=k[k.length-1],ge=[];for(let Ve=0,kt=le.length;Ve<kt;Ve++){const Yt=le[Ve],Gt=Be[Ve];let Vt;const un=G[Ve];if(Gt.mode===Fe.TRIANGLES||Gt.mode===Fe.TRIANGLE_STRIP||Gt.mode===Fe.TRIANGLE_FAN||Gt.mode===void 0)Vt=Me.isSkinnedMesh===!0?new p.SkinnedMesh(Yt,un):new p.Mesh(Yt,un),Vt.isSkinnedMesh===!0&&Vt.normalizeSkinWeights(),Gt.mode===Fe.TRIANGLE_STRIP?Vt.geometry=(0,w.toTrianglesDrawMode)(Vt.geometry,p.TriangleStripDrawMode):Gt.mode===Fe.TRIANGLE_FAN&&(Vt.geometry=(0,w.toTrianglesDrawMode)(Vt.geometry,p.TriangleFanDrawMode));else if(Gt.mode===Fe.LINES)Vt=new p.LineSegments(Yt,un);else if(Gt.mode===Fe.LINE_STRIP)Vt=new p.Line(Yt,un);else if(Gt.mode===Fe.LINE_LOOP)Vt=new p.LineLoop(Yt,un);else if(Gt.mode===Fe.POINTS)Vt=new p.Points(Yt,un);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+Gt.mode);Object.keys(Vt.geometry.morphAttributes).length>0&&_t(Vt,Me),Vt.name=fe.createUniqueName(Me.name||"mesh_"+pe),ut(Vt,Me),Gt.extensions&&Je(ve,Vt,Gt),fe.assignFinalMaterial(Vt),ge.push(Vt)}for(let Ve=0,kt=ge.length;Ve<kt;Ve++)fe.associations.set(ge[Ve],{meshes:pe,primitives:Ve});if(ge.length===1)return Me.extensions&&Je(ve,ge[0],Me),ge[0];const De=new p.Group;Me.extensions&&Je(ve,De,Me),fe.associations.set(De,{meshes:pe});for(let Ve=0,kt=ge.length;Ve<kt;Ve++)De.add(ge[Ve]);return De})}loadCamera(pe){let fe;const Ie=this.json.cameras[pe],ve=Ie[Ie.type];if(!ve){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return Ie.type==="perspective"?fe=new p.PerspectiveCamera(p.MathUtils.radToDeg(ve.yfov),ve.aspectRatio||1,ve.znear||1,ve.zfar||2e6):Ie.type==="orthographic"&&(fe=new p.OrthographicCamera(-ve.xmag,ve.xmag,ve.ymag,-ve.ymag,ve.znear,ve.zfar)),Ie.name&&(fe.name=this.createUniqueName(Ie.name)),ut(fe,Ie),Promise.resolve(fe)}loadSkin(pe){const fe=this.json.skins[pe],Ie=[];for(let ve=0,Me=fe.joints.length;ve<Me;ve++)Ie.push(this._loadNodeShallow(fe.joints[ve]));return fe.inverseBindMatrices!==void 0?Ie.push(this.getDependency("accessor",fe.inverseBindMatrices)):Ie.push(null),Promise.all(Ie).then(function(ve){const Me=ve.pop(),Be=ve,J=[],k=[];for(let G=0,le=Be.length;G<le;G++){const ge=Be[G];if(ge){J.push(ge);const De=new p.Matrix4;Me!==null&&De.fromArray(Me.array,G*16),k.push(De)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',fe.joints[G])}return new p.Skeleton(J,k)})}loadAnimation(pe){const fe=this.json,Ie=this,ve=fe.animations[pe],Me=ve.name?ve.name:"animation_"+pe,Be=[],J=[],k=[],G=[],le=[];for(let ge=0,De=ve.channels.length;ge<De;ge++){const Ve=ve.channels[ge],kt=ve.samplers[Ve.sampler],Yt=Ve.target,Gt=Yt.node,Vt=ve.parameters!==void 0?ve.parameters[kt.input]:kt.input,un=ve.parameters!==void 0?ve.parameters[kt.output]:kt.output;Yt.node!==void 0&&(Be.push(this.getDependency("node",Gt)),J.push(this.getDependency("accessor",Vt)),k.push(this.getDependency("accessor",un)),G.push(kt),le.push(Yt))}return Promise.all([Promise.all(Be),Promise.all(J),Promise.all(k),Promise.all(G),Promise.all(le)]).then(function(ge){const De=ge[0],Ve=ge[1],kt=ge[2],Yt=ge[3],Gt=ge[4],Vt=[];for(let un=0,ar=De.length;un<ar;un++){const Rn=De[un],Zi=Ve[un],vi=kt[un],Li=Yt[un],bs=Gt[un];if(Rn===void 0)continue;Rn.updateMatrix&&Rn.updateMatrix();const er=Ie._createAnimationTracks(Rn,Zi,vi,Li,bs);if(er)for(let Qs=0;Qs<er.length;Qs++)Vt.push(er[Qs])}return new p.AnimationClip(Me,void 0,Vt)})}createNodeMesh(pe){const fe=this.json,Ie=this,ve=fe.nodes[pe];return ve.mesh===void 0?null:Ie.getDependency("mesh",ve.mesh).then(function(Me){const Be=Ie._getNodeRef(Ie.meshCache,ve.mesh,Me);return ve.weights!==void 0&&Be.traverse(function(J){if(J.isMesh)for(let k=0,G=ve.weights.length;k<G;k++)J.morphTargetInfluences[k]=ve.weights[k]}),Be})}loadNode(pe){const fe=this.json,Ie=this,ve=fe.nodes[pe],Me=Ie._loadNodeShallow(pe),Be=[],J=ve.children||[];for(let G=0,le=J.length;G<le;G++)Be.push(Ie.getDependency("node",J[G]));const k=ve.skin===void 0?Promise.resolve(null):Ie.getDependency("skin",ve.skin);return Promise.all([Me,Promise.all(Be),k]).then(function(G){const le=G[0],ge=G[1],De=G[2];De!==null&&le.traverse(function(Ve){Ve.isSkinnedMesh&&Ve.bind(De,Xt)});for(let Ve=0,kt=ge.length;Ve<kt;Ve++)le.add(ge[Ve]);return le})}_loadNodeShallow(pe){const fe=this.json,Ie=this.extensions,ve=this;if(this.nodeCache[pe]!==void 0)return this.nodeCache[pe];const Me=fe.nodes[pe],Be=Me.name?ve.createUniqueName(Me.name):"",J=[],k=ve._invokeOne(function(G){return G.createNodeMesh&&G.createNodeMesh(pe)});return k&&J.push(k),Me.camera!==void 0&&J.push(ve.getDependency("camera",Me.camera).then(function(G){return ve._getNodeRef(ve.cameraCache,Me.camera,G)})),ve._invokeAll(function(G){return G.createNodeAttachment&&G.createNodeAttachment(pe)}).forEach(function(G){J.push(G)}),this.nodeCache[pe]=Promise.all(J).then(function(G){let le;if(Me.isBone===!0?le=new p.Bone:G.length>1?le=new p.Group:G.length===1?le=G[0]:le=new p.Object3D,le!==G[0])for(let ge=0,De=G.length;ge<De;ge++)le.add(G[ge]);if(Me.name&&(le.userData.name=Me.name,le.name=Be),ut(le,Me),Me.extensions&&Je(Ie,le,Me),Me.matrix!==void 0){const ge=new p.Matrix4;ge.fromArray(Me.matrix),le.applyMatrix4(ge)}else Me.translation!==void 0&&le.position.fromArray(Me.translation),Me.rotation!==void 0&&le.quaternion.fromArray(Me.rotation),Me.scale!==void 0&&le.scale.fromArray(Me.scale);return ve.associations.has(le)||ve.associations.set(le,{}),ve.associations.get(le).nodes=pe,le}),this.nodeCache[pe]}loadScene(pe){const fe=this.extensions,Ie=this.json.scenes[pe],ve=this,Me=new p.Group;Ie.name&&(Me.name=ve.createUniqueName(Ie.name)),ut(Me,Ie),Ie.extensions&&Je(fe,Me,Ie);const Be=Ie.nodes||[],J=[];for(let k=0,G=Be.length;k<G;k++)J.push(ve.getDependency("node",Be[k]));return Promise.all(J).then(function(k){for(let le=0,ge=k.length;le<ge;le++)Me.add(k[le]);const G=le=>{const ge=new Map;for(const[De,Ve]of ve.associations)(De instanceof p.Material||De instanceof p.Texture)&&ge.set(De,Ve);return le.traverse(De=>{const Ve=ve.associations.get(De);Ve!=null&&ge.set(De,Ve)}),ge};return ve.associations=G(Me),Me})}_createAnimationTracks(pe,fe,Ie,ve,Me){const Be=[],J=pe.name?pe.name:pe.uuid,k=[];xe[Me.path]===xe.weights?pe.traverse(function(De){De.morphTargetInfluences&&k.push(De.name?De.name:De.uuid)}):k.push(J);let G;switch(xe[Me.path]){case xe.weights:G=p.NumberKeyframeTrack;break;case xe.rotation:G=p.QuaternionKeyframeTrack;break;case xe.position:case xe.scale:G=p.VectorKeyframeTrack;break;default:switch(Ie.itemSize){case 1:G=p.NumberKeyframeTrack;break;case 2:case 3:default:G=p.VectorKeyframeTrack;break}break}const le=ve.interpolation!==void 0?Te[ve.interpolation]:p.InterpolateLinear,ge=this._getArrayFromAccessor(Ie);for(let De=0,Ve=k.length;De<Ve;De++){const kt=new G(k[De]+"."+xe[Me.path],fe.array,ge,le);ve.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(kt),Be.push(kt)}return Be}_getArrayFromAccessor(pe){let fe=pe.array;if(pe.normalized){const Ie=Kt(fe.constructor),ve=new Float32Array(fe.length);for(let Me=0,Be=fe.length;Me<Be;Me++)ve[Me]=fe[Me]*Ie;fe=ve}return fe}_createCubicSplineTrackInterpolant(pe){pe.createInterpolant=function(Ie){const ve=this instanceof p.QuaternionKeyframeTrack?Xe:ke;return new ve(this.times,this.values,this.getValueSize()/3,Ie)},pe.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Dn(mt,pe,fe){const Ie=pe.attributes,ve=new p.Box3;if(Ie.POSITION!==void 0){const J=fe.json.accessors[Ie.POSITION],k=J.min,G=J.max;if(k!==void 0&&G!==void 0){if(ve.set(new p.Vector3(k[0],k[1],k[2]),new p.Vector3(G[0],G[1],G[2])),J.normalized){const le=Kt(qe[J.componentType]);ve.min.multiplyScalar(le),ve.max.multiplyScalar(le)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const Me=pe.targets;if(Me!==void 0){const J=new p.Vector3,k=new p.Vector3;for(let G=0,le=Me.length;G<le;G++){const ge=Me[G];if(ge.POSITION!==void 0){const De=fe.json.accessors[ge.POSITION],Ve=De.min,kt=De.max;if(Ve!==void 0&&kt!==void 0){if(k.setX(Math.max(Math.abs(Ve[0]),Math.abs(kt[0]))),k.setY(Math.max(Math.abs(Ve[1]),Math.abs(kt[1]))),k.setZ(Math.max(Math.abs(Ve[2]),Math.abs(kt[2]))),De.normalized){const Yt=Kt(qe[De.componentType]);k.multiplyScalar(Yt)}J.max(k)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}ve.expandByVector(J)}mt.boundingBox=ve;const Be=new p.Sphere;ve.getCenter(Be.center),Be.radius=ve.min.distanceTo(ve.max)/2,mt.boundingSphere=Be}function Bn(mt,pe,fe){const Ie=pe.attributes,ve=[];function Me(Be,J){return fe.getDependency("accessor",Be).then(function(k){mt.setAttribute(J,k)})}for(const Be in Ie){const J=Nt[Be]||Be.toLowerCase();J in mt.attributes||ve.push(Me(Ie[Be],J))}if(pe.indices!==void 0&&!mt.index){const Be=fe.getDependency("accessor",pe.indices).then(function(J){mt.setIndex(J)});ve.push(Be)}return p.ColorManagement.workingColorSpace!==p.LinearSRGBColorSpace&&"COLOR_0"in Ie&&console.warn('THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "'.concat(p.ColorManagement.workingColorSpace,'" not supported.')),ut(mt,pe),Dn(mt,pe,fe),Promise.all(ve).then(function(){return pe.targets!==void 0?Lt(mt,pe.targets,fe):mt})}},"./node_modules/three/examples/jsm/loaders/KTX2Loader.js":(M,B,u)=>{u.r(B),u.d(B,{KTX2Loader:()=>f});var p=u("./node_modules/three/build/three.module.js"),w=u("./node_modules/three/examples/jsm/utils/WorkerPool.js"),A=u("./node_modules/three/examples/jsm/libs/ktx-parse.module.js"),b=u("./node_modules/three/examples/jsm/libs/zstddec.module.js");const d=new WeakMap;let g=0,y;class f extends p.Loader{constructor(R){super(R),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new w.WorkerPool,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(R){return this.transcoderPath=R,this}setWorkerLimit(R){return this.workerPool.setWorkerLimit(R),this}async detectSupportAsync(R){return this.workerConfig={astcSupported:await R.hasFeatureAsync("texture-compression-astc"),etc1Supported:await R.hasFeatureAsync("texture-compression-etc1"),etc2Supported:await R.hasFeatureAsync("texture-compression-etc2"),dxtSupported:await R.hasFeatureAsync("texture-compression-bc"),bptcSupported:await R.hasFeatureAsync("texture-compression-bptc"),pvrtcSupported:await R.hasFeatureAsync("texture-compression-pvrtc")},this}detectSupport(R){return R.isWebGPURenderer===!0?this.workerConfig={astcSupported:R.hasFeature("texture-compression-astc"),etc1Supported:R.hasFeature("texture-compression-etc1"),etc2Supported:R.hasFeature("texture-compression-etc2"),dxtSupported:R.hasFeature("texture-compression-bc"),bptcSupported:R.hasFeature("texture-compression-bptc"),pvrtcSupported:R.hasFeature("texture-compression-pvrtc")}:this.workerConfig={astcSupported:R.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:R.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:R.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:R.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:R.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:R.extensions.has("WEBGL_compressed_texture_pvrtc")||R.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},this}init(){if(!this.transcoderPending){const R=new p.FileLoader(this.manager);R.setPath(this.transcoderPath),R.setWithCredentials(this.withCredentials);const F=R.loadAsync("basis_transcoder.js"),P=new p.FileLoader(this.manager);P.setPath(this.transcoderPath),P.setResponseType("arraybuffer"),P.setWithCredentials(this.withCredentials);const H=P.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([F,H]).then(([$,te])=>{const ee=f.BasisWorker.toString(),de=["/* constants */","let _EngineFormat = "+JSON.stringify(f.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(f.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(f.BasisFormat),"/* basis_transcoder.js */",$,"/* worker */",ee.substring(ee.indexOf("{")+1,ee.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([de])),this.transcoderBinary=te,this.workerPool.setWorkerCreator(()=>{const ie=new Worker(this.workerSourceURL),ne=this.transcoderBinary.slice(0);return ie.postMessage({type:"init",config:this.workerConfig,transcoderBinary:ne},[ne]),ie})}),g>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),g++}return this.transcoderPending}load(R,F,P,H){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const $=new p.FileLoader(this.manager);$.setResponseType("arraybuffer"),$.setWithCredentials(this.withCredentials),$.load(R,te=>{if(d.has(te))return d.get(te).promise.then(F).catch(H);this._createTexture(te).then(ee=>F?F(ee):null).catch(H)},P,H)}_createTextureFrom(R,F){const{faces:P,width:H,height:$,format:te,type:ee,error:de,dfdFlags:ie}=R;if(ee==="error")return Promise.reject(de);let ne;if(F.faceCount===6)ne=new p.CompressedCubeTexture(P,te,p.UnsignedByteType);else{const X=P[0].mipmaps;ne=F.layerCount>1?new p.CompressedArrayTexture(X,H,$,F.layerCount,te,p.UnsignedByteType):new p.CompressedTexture(X,H,$,te,p.UnsignedByteType)}return ne.minFilter=P[0].mipmaps.length===1?p.LinearFilter:p.LinearMipmapLinearFilter,ne.magFilter=p.LinearFilter,ne.generateMipmaps=!1,ne.needsUpdate=!0,ne.colorSpace=T(F),ne.premultiplyAlpha=!!(ie&A.KHR_DF_FLAG_ALPHA_PREMULTIPLIED),ne}async _createTexture(R,F={}){const P=(0,A.read)(new Uint8Array(R));if(P.vkFormat!==A.VK_FORMAT_UNDEFINED)return x(P);const H=F,$=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:R,taskConfig:H},[R])).then(te=>this._createTextureFrom(te.data,P));return d.set(R,{promise:$}),$}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),g--,this}}f.BasisFormat={ETC1S:0,UASTC_4x4:1},f.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},f.EngineFormat={RGBAFormat:p.RGBAFormat,RGBA_ASTC_4x4_Format:p.RGBA_ASTC_4x4_Format,RGBA_BPTC_Format:p.RGBA_BPTC_Format,RGBA_ETC2_EAC_Format:p.RGBA_ETC2_EAC_Format,RGBA_PVRTC_4BPPV1_Format:p.RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT5_Format:p.RGBA_S3TC_DXT5_Format,RGB_ETC1_Format:p.RGB_ETC1_Format,RGB_ETC2_Format:p.RGB_ETC2_Format,RGB_PVRTC_4BPPV1_Format:p.RGB_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format:p.RGBA_S3TC_DXT1_Format},f.BasisWorker=function(){let L,R,F;const P=_EngineFormat,H=_TranscoderFormat,$=_BasisFormat;self.addEventListener("message",function(ae){const be=ae.data;switch(be.type){case"init":L=be.config,te(be.transcoderBinary);break;case"transcode":R.then(()=>{try{const{faces:Re,buffers:ke,width:Ke,height:Xe,hasAlpha:Fe,format:qe,dfdFlags:rt}=ee(be.buffer);self.postMessage({type:"transcode",id:be.id,faces:Re,width:Ke,height:Xe,hasAlpha:Fe,format:qe,dfdFlags:rt},ke)}catch(Re){console.error(Re),self.postMessage({type:"error",id:be.id,error:Re.message})}});break}});function te(ae){R=new Promise(be=>{F={wasmBinary:ae,onRuntimeInitialized:be},BASIS(F)}).then(()=>{F.initializeBasis(),F.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function ee(ae){const be=new F.KTX2File(new Uint8Array(ae));function Re(){be.close(),be.delete()}if(!be.isValid())throw Re(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const ke=be.isUASTC()?$.UASTC_4x4:$.ETC1S,Ke=be.getWidth(),Xe=be.getHeight(),Fe=be.getLayers()||1,qe=be.getLevels(),rt=be.getFaces(),it=be.getHasAlpha(),Ct=be.getDFDFlags(),{transcoderFormat:Nt,engineFormat:xe}=X(ke,Ke,Xe,it);if(!Ke||!Xe||!qe)throw Re(),new Error("THREE.KTX2Loader:	Invalid texture");if(!be.startTranscoding())throw Re(),new Error("THREE.KTX2Loader: .startTranscoding failed");const Te=[],je=[];for(let ot=0;ot<rt;ot++){const Je=[];for(let ut=0;ut<qe;ut++){const Lt=[];let _t,Pt;for(let Kt=0;Kt<Fe;Kt++){const Qt=be.getImageLevelInfo(ut,Kt,ot);ot===0&&ut===0&&Kt===0&&(Qt.origWidth%4!==0||Qt.origHeight%4!==0)&&console.warn("THREE.KTX2Loader: ETC1S and UASTC textures should use multiple-of-four dimensions."),qe>1?(_t=Qt.origWidth,Pt=Qt.origHeight):(_t=Qt.width,Pt=Qt.height);const Xt=new Uint8Array(be.getImageTranscodedSizeInBytes(ut,Kt,0,Nt));if(!be.transcodeImage(Xt,ut,Kt,ot,Nt,0,-1,-1))throw Re(),new Error("THREE.KTX2Loader: .transcodeImage failed.");Lt.push(Xt)}const gt=se(Lt);Je.push({data:gt,width:_t,height:Pt}),je.push(gt.buffer)}Te.push({mipmaps:Je,width:Ke,height:Xe,format:xe})}return Re(),{faces:Te,buffers:je,width:Ke,height:Xe,hasAlpha:it,format:xe,dfdFlags:Ct}}const de=[{if:"astcSupported",basisFormat:[$.UASTC_4x4],transcoderFormat:[H.ASTC_4x4,H.ASTC_4x4],engineFormat:[P.RGBA_ASTC_4x4_Format,P.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[$.ETC1S,$.UASTC_4x4],transcoderFormat:[H.BC7_M5,H.BC7_M5],engineFormat:[P.RGBA_BPTC_Format,P.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[$.ETC1S,$.UASTC_4x4],transcoderFormat:[H.BC1,H.BC3],engineFormat:[P.RGBA_S3TC_DXT1_Format,P.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[$.ETC1S,$.UASTC_4x4],transcoderFormat:[H.ETC1,H.ETC2],engineFormat:[P.RGB_ETC2_Format,P.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[$.ETC1S,$.UASTC_4x4],transcoderFormat:[H.ETC1],engineFormat:[P.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[$.ETC1S,$.UASTC_4x4],transcoderFormat:[H.PVRTC1_4_RGB,H.PVRTC1_4_RGBA],engineFormat:[P.RGB_PVRTC_4BPPV1_Format,P.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],ie=de.sort(function(ae,be){return ae.priorityETC1S-be.priorityETC1S}),ne=de.sort(function(ae,be){return ae.priorityUASTC-be.priorityUASTC});function X(ae,be,Re,ke){let Ke,Xe;const Fe=ae===$.ETC1S?ie:ne;for(let qe=0;qe<Fe.length;qe++){const rt=Fe[qe];if(L[rt.if]&&rt.basisFormat.includes(ae)&&!(ke&&rt.transcoderFormat.length<2)&&!(rt.needsPowerOfTwo&&!(z(be)&&z(Re))))return Ke=rt.transcoderFormat[ke?1:0],Xe=rt.engineFormat[ke?1:0],{transcoderFormat:Ke,engineFormat:Xe}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),Ke=H.RGBA32,Xe=P.RGBAFormat,{transcoderFormat:Ke,engineFormat:Xe}}function z(ae){return ae<=2?!0:(ae&ae-1)===0&&ae!==0}function se(ae){if(ae.length===1)return ae[0];let be=0;for(let Ke=0;Ke<ae.length;Ke++){const Xe=ae[Ke];be+=Xe.byteLength}const Re=new Uint8Array(be);let ke=0;for(let Ke=0;Ke<ae.length;Ke++){const Xe=ae[Ke];Re.set(Xe,ke),ke+=Xe.byteLength}return Re}};const E=new Set([p.RGBAFormat,p.RGFormat,p.RedFormat]),C={[A.VK_FORMAT_R32G32B32A32_SFLOAT]:p.RGBAFormat,[A.VK_FORMAT_R16G16B16A16_SFLOAT]:p.RGBAFormat,[A.VK_FORMAT_R8G8B8A8_UNORM]:p.RGBAFormat,[A.VK_FORMAT_R8G8B8A8_SRGB]:p.RGBAFormat,[A.VK_FORMAT_R32G32_SFLOAT]:p.RGFormat,[A.VK_FORMAT_R16G16_SFLOAT]:p.RGFormat,[A.VK_FORMAT_R8G8_UNORM]:p.RGFormat,[A.VK_FORMAT_R8G8_SRGB]:p.RGFormat,[A.VK_FORMAT_R32_SFLOAT]:p.RedFormat,[A.VK_FORMAT_R16_SFLOAT]:p.RedFormat,[A.VK_FORMAT_R8_SRGB]:p.RedFormat,[A.VK_FORMAT_R8_UNORM]:p.RedFormat,[A.VK_FORMAT_ASTC_6x6_SRGB_BLOCK]:p.RGBA_ASTC_6x6_Format,[A.VK_FORMAT_ASTC_6x6_UNORM_BLOCK]:p.RGBA_ASTC_6x6_Format},v={[A.VK_FORMAT_R32G32B32A32_SFLOAT]:p.FloatType,[A.VK_FORMAT_R16G16B16A16_SFLOAT]:p.HalfFloatType,[A.VK_FORMAT_R8G8B8A8_UNORM]:p.UnsignedByteType,[A.VK_FORMAT_R8G8B8A8_SRGB]:p.UnsignedByteType,[A.VK_FORMAT_R32G32_SFLOAT]:p.FloatType,[A.VK_FORMAT_R16G16_SFLOAT]:p.HalfFloatType,[A.VK_FORMAT_R8G8_UNORM]:p.UnsignedByteType,[A.VK_FORMAT_R8G8_SRGB]:p.UnsignedByteType,[A.VK_FORMAT_R32_SFLOAT]:p.FloatType,[A.VK_FORMAT_R16_SFLOAT]:p.HalfFloatType,[A.VK_FORMAT_R8_SRGB]:p.UnsignedByteType,[A.VK_FORMAT_R8_UNORM]:p.UnsignedByteType,[A.VK_FORMAT_ASTC_6x6_SRGB_BLOCK]:p.UnsignedByteType,[A.VK_FORMAT_ASTC_6x6_UNORM_BLOCK]:p.UnsignedByteType};async function x(L){const{vkFormat:R}=L;if(C[R]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");let F;L.supercompressionScheme===A.KHR_SUPERCOMPRESSION_ZSTD&&(y||(y=new Promise(async $=>{const te=new b.ZSTDDecoder;await te.init(),$(te)})),F=await y);const P=[];for(let $=0;$<L.levels.length;$++){const te=Math.max(1,L.pixelWidth>>$),ee=Math.max(1,L.pixelHeight>>$),de=L.pixelDepth?Math.max(1,L.pixelDepth>>$):0,ie=L.levels[$];let ne;if(L.supercompressionScheme===A.KHR_SUPERCOMPRESSION_NONE)ne=ie.levelData;else if(L.supercompressionScheme===A.KHR_SUPERCOMPRESSION_ZSTD)ne=F.decode(ie.levelData,ie.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");let X;v[R]===p.FloatType?X=new Float32Array(ne.buffer,ne.byteOffset,ne.byteLength/Float32Array.BYTES_PER_ELEMENT):v[R]===p.HalfFloatType?X=new Uint16Array(ne.buffer,ne.byteOffset,ne.byteLength/Uint16Array.BYTES_PER_ELEMENT):X=ne,P.push({data:X,width:te,height:ee,depth:de})}let H;if(E.has(C[R]))H=L.pixelDepth===0?new p.DataTexture(P[0].data,L.pixelWidth,L.pixelHeight):new p.Data3DTexture(P[0].data,L.pixelWidth,L.pixelHeight,L.pixelDepth);else{if(L.pixelDepth>0)throw new Error("THREE.KTX2Loader: Unsupported pixelDepth.");H=new p.CompressedTexture(P,L.pixelWidth,L.pixelHeight)}return H.mipmaps=P,H.type=v[R],H.format=C[R],H.colorSpace=T(L),H.needsUpdate=!0,Promise.resolve(H)}function T(L){const R=L.dataFormatDescriptor[0];return R.colorPrimaries===A.KHR_DF_PRIMARIES_BT709?R.transferFunction===A.KHR_DF_TRANSFER_SRGB?p.SRGBColorSpace:p.LinearSRGBColorSpace:R.colorPrimaries===A.KHR_DF_PRIMARIES_DISPLAYP3?R.transferFunction===A.KHR_DF_TRANSFER_SRGB?p.DisplayP3ColorSpace:p.LinearDisplayP3ColorSpace:(R.colorPrimaries===A.KHR_DF_PRIMARIES_UNSPECIFIED||console.warn('THREE.KTX2Loader: Unsupported color primaries, "'.concat(R.colorPrimaries,'"')),p.NoColorSpace)}},"./node_modules/three/examples/jsm/loaders/MTLLoader.js":(M,B,u)=>{u.r(B),u.d(B,{MTLLoader:()=>w});var p=u("./node_modules/three/build/three.module.js");class w extends p.Loader{constructor(d){super(d)}load(d,g,y,f){const E=this,C=this.path===""?p.LoaderUtils.extractUrlBase(d):this.path,v=new p.FileLoader(this.manager);v.setPath(this.path),v.setRequestHeader(this.requestHeader),v.setWithCredentials(this.withCredentials),v.load(d,function(x){try{g(E.parse(x,C))}catch(T){f?f(T):console.error(T),E.manager.itemError(d)}},y,f)}setMaterialOptions(d){return this.materialOptions=d,this}parse(d,g){const y=d.split("\n");let f={};const E=/\s+/,C={};for(let x=0;x<y.length;x++){let T=y[x];if(T=T.trim(),T.length===0||T.charAt(0)==="#")continue;const L=T.indexOf(" ");let R=L>=0?T.substring(0,L):T;R=R.toLowerCase();let F=L>=0?T.substring(L+1):"";if(F=F.trim(),R==="newmtl")f={name:F},C[F]=f;else if(R==="ka"||R==="kd"||R==="ks"||R==="ke"){const P=F.split(E,3);f[R]=[parseFloat(P[0]),parseFloat(P[1]),parseFloat(P[2])]}else f[R]=F}const v=new A(this.resourcePath||g,this.materialOptions);return v.setCrossOrigin(this.crossOrigin),v.setManager(this.manager),v.setMaterials(C),v}}class A{constructor(d="",g={}){this.baseUrl=d,this.options=g,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=this.options.side!==void 0?this.options.side:p.FrontSide,this.wrap=this.options.wrap!==void 0?this.options.wrap:p.RepeatWrapping}setCrossOrigin(d){return this.crossOrigin=d,this}setManager(d){this.manager=d}setMaterials(d){this.materialsInfo=this.convert(d),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(d){if(!this.options)return d;const g={};for(const y in d){const f=d[y],E={};g[y]=E;for(const C in f){let v=!0,x=f[C];const T=C.toLowerCase();switch(T){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(x=[x[0]/255,x[1]/255,x[2]/255]),this.options&&this.options.ignoreZeroRGBs&&x[0]===0&&x[1]===0&&x[2]===0&&(v=!1);break}v&&(E[T]=x)}}return g}preload(){for(const d in this.materialsInfo)this.create(d)}getIndex(d){return this.nameLookup[d]}getAsArray(){let d=0;for(const g in this.materialsInfo)this.materialsArray[d]=this.create(g),this.nameLookup[g]=d,d++;return this.materialsArray}create(d){return this.materials[d]===void 0&&this.createMaterial_(d),this.materials[d]}createMaterial_(d){const g=this,y=this.materialsInfo[d],f={name:d,side:this.side};function E(v,x){return typeof x!="string"||x===""?"":/^https?:\/\//i.test(x)?x:v+x}function C(v,x){if(f[v])return;const T=g.getTextureParams(x,f),L=g.loadTexture(E(g.baseUrl,T.url));L.repeat.copy(T.scale),L.offset.copy(T.offset),L.wrapS=g.wrap,L.wrapT=g.wrap,(v==="map"||v==="emissiveMap")&&(L.colorSpace=p.SRGBColorSpace),f[v]=L}for(const v in y){const x=y[v];let T;if(x!=="")switch(v.toLowerCase()){case"kd":f.color=new p.Color().fromArray(x).convertSRGBToLinear();break;case"ks":f.specular=new p.Color().fromArray(x).convertSRGBToLinear();break;case"ke":f.emissive=new p.Color().fromArray(x).convertSRGBToLinear();break;case"map_kd":C("map",x);break;case"map_ks":C("specularMap",x);break;case"map_ke":C("emissiveMap",x);break;case"norm":C("normalMap",x);break;case"map_bump":case"bump":C("bumpMap",x);break;case"map_d":C("alphaMap",x),f.transparent=!0;break;case"ns":f.shininess=parseFloat(x);break;case"d":T=parseFloat(x),T<1&&(f.opacity=T,f.transparent=!0);break;case"tr":T=parseFloat(x),this.options&&this.options.invertTrProperty&&(T=1-T),T>0&&(f.opacity=1-T,f.transparent=!0);break}}return this.materials[d]=new p.MeshPhongMaterial(f),this.materials[d]}getTextureParams(d,g){const y={scale:new p.Vector2(1,1),offset:new p.Vector2(0,0)},f=d.split(/\s+/);let E;return E=f.indexOf("-bm"),E>=0&&(g.bumpScale=parseFloat(f[E+1]),f.splice(E,2)),E=f.indexOf("-s"),E>=0&&(y.scale.set(parseFloat(f[E+1]),parseFloat(f[E+2])),f.splice(E,4)),E=f.indexOf("-o"),E>=0&&(y.offset.set(parseFloat(f[E+1]),parseFloat(f[E+2])),f.splice(E,4)),y.url=f.join(" ").trim(),y}loadTexture(d,g,y,f,E){const C=this.manager!==void 0?this.manager:p.DefaultLoadingManager;let v=C.getHandler(d);v===null&&(v=new p.TextureLoader(C)),v.setCrossOrigin&&v.setCrossOrigin(this.crossOrigin);const x=v.load(d,y,f,E);return g!==void 0&&(x.mapping=g),x}}},"./node_modules/three/examples/jsm/loaders/OBJLoader.js":(M,B,u)=>{u.r(B),u.d(B,{OBJLoader:()=>L});var p=u("./node_modules/three/build/three.module.js");const w=/^[og]\s*(.+)?/,A=/^mtllib /,b=/^usemtl /,d=/^usemap /,g=/\s+/,y=new p.Vector3,f=new p.Vector3,E=new p.Vector3,C=new p.Vector3,v=new p.Vector3,x=new p.Color;function T(){const R={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(F,P){if(this.object&&this.object.fromDeclaration===!1){this.object.name=F,this.object.fromDeclaration=P!==!1;return}const H=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:F||"",fromDeclaration:P!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function($,te){const ee=this._finalize(!1);ee&&(ee.inherited||ee.groupCount<=0)&&this.materials.splice(ee.index,1);const de={index:this.materials.length,name:$||"",mtllib:Array.isArray(te)&&te.length>0?te[te.length-1]:"",smooth:ee!==void 0?ee.smooth:this.smooth,groupStart:ee!==void 0?ee.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(ie){const ne={index:typeof ie=="number"?ie:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return ne.clone=this.clone.bind(ne),ne}};return this.materials.push(de),de},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function($){const te=this.currentMaterial();if(te&&te.groupEnd===-1&&(te.groupEnd=this.geometry.vertices.length/3,te.groupCount=te.groupEnd-te.groupStart,te.inherited=!1),$&&this.materials.length>1)for(let ee=this.materials.length-1;ee>=0;ee--)this.materials[ee].groupCount<=0&&this.materials.splice(ee,1);return $&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),te}},H&&H.name&&typeof H.clone=="function"){const $=H.clone(0);$.inherited=!0,this.object.materials.push($)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(F,P){const H=parseInt(F,10);return(H>=0?H-1:H+P/3)*3},parseNormalIndex:function(F,P){const H=parseInt(F,10);return(H>=0?H-1:H+P/3)*3},parseUVIndex:function(F,P){const H=parseInt(F,10);return(H>=0?H-1:H+P/2)*2},addVertex:function(F,P,H){const $=this.vertices,te=this.object.geometry.vertices;te.push($[F+0],$[F+1],$[F+2]),te.push($[P+0],$[P+1],$[P+2]),te.push($[H+0],$[H+1],$[H+2])},addVertexPoint:function(F){const P=this.vertices;this.object.geometry.vertices.push(P[F+0],P[F+1],P[F+2])},addVertexLine:function(F){const P=this.vertices;this.object.geometry.vertices.push(P[F+0],P[F+1],P[F+2])},addNormal:function(F,P,H){const $=this.normals,te=this.object.geometry.normals;te.push($[F+0],$[F+1],$[F+2]),te.push($[P+0],$[P+1],$[P+2]),te.push($[H+0],$[H+1],$[H+2])},addFaceNormal:function(F,P,H){const $=this.vertices,te=this.object.geometry.normals;y.fromArray($,F),f.fromArray($,P),E.fromArray($,H),v.subVectors(E,f),C.subVectors(y,f),v.cross(C),v.normalize(),te.push(v.x,v.y,v.z),te.push(v.x,v.y,v.z),te.push(v.x,v.y,v.z)},addColor:function(F,P,H){const $=this.colors,te=this.object.geometry.colors;$[F]!==void 0&&te.push($[F+0],$[F+1],$[F+2]),$[P]!==void 0&&te.push($[P+0],$[P+1],$[P+2]),$[H]!==void 0&&te.push($[H+0],$[H+1],$[H+2])},addUV:function(F,P,H){const $=this.uvs,te=this.object.geometry.uvs;te.push($[F+0],$[F+1]),te.push($[P+0],$[P+1]),te.push($[H+0],$[H+1])},addDefaultUV:function(){const F=this.object.geometry.uvs;F.push(0,0),F.push(0,0),F.push(0,0)},addUVLine:function(F){const P=this.uvs;this.object.geometry.uvs.push(P[F+0],P[F+1])},addFace:function(F,P,H,$,te,ee,de,ie,ne){const X=this.vertices.length;let z=this.parseVertexIndex(F,X),se=this.parseVertexIndex(P,X),ae=this.parseVertexIndex(H,X);if(this.addVertex(z,se,ae),this.addColor(z,se,ae),de!==void 0&&de!==""){const be=this.normals.length;z=this.parseNormalIndex(de,be),se=this.parseNormalIndex(ie,be),ae=this.parseNormalIndex(ne,be),this.addNormal(z,se,ae)}else this.addFaceNormal(z,se,ae);if($!==void 0&&$!==""){const be=this.uvs.length;z=this.parseUVIndex($,be),se=this.parseUVIndex(te,be),ae=this.parseUVIndex(ee,be),this.addUV(z,se,ae),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(F){this.object.geometry.type="Points";const P=this.vertices.length;for(let H=0,$=F.length;H<$;H++){const te=this.parseVertexIndex(F[H],P);this.addVertexPoint(te),this.addColor(te)}},addLineGeometry:function(F,P){this.object.geometry.type="Line";const H=this.vertices.length,$=this.uvs.length;for(let te=0,ee=F.length;te<ee;te++)this.addVertexLine(this.parseVertexIndex(F[te],H));for(let te=0,ee=P.length;te<ee;te++)this.addUVLine(this.parseUVIndex(P[te],$))}};return R.startObject("",!1),R}class L extends p.Loader{constructor(F){super(F),this.materials=null}load(F,P,H,$){const te=this,ee=new p.FileLoader(this.manager);ee.setPath(this.path),ee.setRequestHeader(this.requestHeader),ee.setWithCredentials(this.withCredentials),ee.load(F,function(de){try{P(te.parse(de))}catch(ie){$?$(ie):console.error(ie),te.manager.itemError(F)}},H,$)}setMaterials(F){return this.materials=F,this}parse(F){const P=new T;F.indexOf("\r\n")!==-1&&(F=F.replace(/\r\n/g,"\n")),F.indexOf("\\\n")!==-1&&(F=F.replace(/\\\n/g,""));const H=F.split("\n");let $=[];for(let de=0,ie=H.length;de<ie;de++){const ne=H[de].trimStart();if(ne.length===0)continue;const X=ne.charAt(0);if(X!=="#")if(X==="v"){const z=ne.split(g);switch(z[0]){case"v":P.vertices.push(parseFloat(z[1]),parseFloat(z[2]),parseFloat(z[3])),z.length>=7?(x.setRGB(parseFloat(z[4]),parseFloat(z[5]),parseFloat(z[6])).convertSRGBToLinear(),P.colors.push(x.r,x.g,x.b)):P.colors.push(void 0,void 0,void 0);break;case"vn":P.normals.push(parseFloat(z[1]),parseFloat(z[2]),parseFloat(z[3]));break;case"vt":P.uvs.push(parseFloat(z[1]),parseFloat(z[2]));break}}else if(X==="f"){const se=ne.slice(1).trim().split(g),ae=[];for(let Re=0,ke=se.length;Re<ke;Re++){const Ke=se[Re];if(Ke.length>0){const Xe=Ke.split("/");ae.push(Xe)}}const be=ae[0];for(let Re=1,ke=ae.length-1;Re<ke;Re++){const Ke=ae[Re],Xe=ae[Re+1];P.addFace(be[0],Ke[0],Xe[0],be[1],Ke[1],Xe[1],be[2],Ke[2],Xe[2])}}else if(X==="l"){const z=ne.substring(1).trim().split(" ");let se=[];const ae=[];if(ne.indexOf("/")===-1)se=z;else for(let be=0,Re=z.length;be<Re;be++){const ke=z[be].split("/");ke[0]!==""&&se.push(ke[0]),ke[1]!==""&&ae.push(ke[1])}P.addLineGeometry(se,ae)}else if(X==="p"){const se=ne.slice(1).trim().split(" ");P.addPointGeometry(se)}else if(($=w.exec(ne))!==null){const z=(" "+$[0].slice(1).trim()).slice(1);P.startObject(z)}else if(b.test(ne))P.object.startMaterial(ne.substring(7).trim(),P.materialLibraries);else if(A.test(ne))P.materialLibraries.push(ne.substring(7).trim());else if(d.test(ne))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(X==="s"){if($=ne.split(" "),$.length>1){const se=$[1].trim().toLowerCase();P.object.smooth=se!=="0"&&se!=="off"}else P.object.smooth=!0;const z=P.object.currentMaterial();z&&(z.smooth=P.object.smooth)}else{if(ne==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+ne+'"')}}P.finalize();const te=new p.Group;if(te.materialLibraries=[].concat(P.materialLibraries),!(P.objects.length===1&&P.objects[0].geometry.vertices.length===0)===!0)for(let de=0,ie=P.objects.length;de<ie;de++){const ne=P.objects[de],X=ne.geometry,z=ne.materials,se=X.type==="Line",ae=X.type==="Points";let be=!1;if(X.vertices.length===0)continue;const Re=new p.BufferGeometry;Re.setAttribute("position",new p.Float32BufferAttribute(X.vertices,3)),X.normals.length>0&&Re.setAttribute("normal",new p.Float32BufferAttribute(X.normals,3)),X.colors.length>0&&(be=!0,Re.setAttribute("color",new p.Float32BufferAttribute(X.colors,3))),X.hasUVIndices===!0&&Re.setAttribute("uv",new p.Float32BufferAttribute(X.uvs,2));const ke=[];for(let Xe=0,Fe=z.length;Xe<Fe;Xe++){const qe=z[Xe],rt=qe.name+"_"+qe.smooth+"_"+be;let it=P.materials[rt];if(this.materials!==null){if(it=this.materials.create(qe.name),se&&it&&!(it instanceof p.LineBasicMaterial)){const Ct=new p.LineBasicMaterial;p.Material.prototype.copy.call(Ct,it),Ct.color.copy(it.color),it=Ct}else if(ae&&it&&!(it instanceof p.PointsMaterial)){const Ct=new p.PointsMaterial({size:10,sizeAttenuation:!1});p.Material.prototype.copy.call(Ct,it),Ct.color.copy(it.color),Ct.map=it.map,it=Ct}}it===void 0&&(se?it=new p.LineBasicMaterial:ae?it=new p.PointsMaterial({size:1,sizeAttenuation:!1}):it=new p.MeshPhongMaterial,it.name=qe.name,it.flatShading=!qe.smooth,it.vertexColors=be,P.materials[rt]=it),ke.push(it)}let Ke;if(ke.length>1){for(let Xe=0,Fe=z.length;Xe<Fe;Xe++){const qe=z[Xe];Re.addGroup(qe.groupStart,qe.groupCount,Xe)}se?Ke=new p.LineSegments(Re,ke):ae?Ke=new p.Points(Re,ke):Ke=new p.Mesh(Re,ke)}else se?Ke=new p.LineSegments(Re,ke[0]):ae?Ke=new p.Points(Re,ke[0]):Ke=new p.Mesh(Re,ke[0]);Ke.name=ne.name,te.add(Ke)}else if(P.vertices.length>0){const de=new p.PointsMaterial({size:1,sizeAttenuation:!1}),ie=new p.BufferGeometry;ie.setAttribute("position",new p.Float32BufferAttribute(P.vertices,3)),P.colors.length>0&&P.colors[0]!==void 0&&(ie.setAttribute("color",new p.Float32BufferAttribute(P.colors,3)),de.vertexColors=!0);const ne=new p.Points(ie,de);te.add(ne)}return te}}},"./node_modules/three/examples/jsm/math/OBB.js":(M,B,u)=>{u.r(B),u.d(B,{OBB:()=>H});var p=u("./node_modules/three/build/three.module.js");const w={c:null,u:[new p.Vector3,new p.Vector3,new p.Vector3],e:[]},A={c:null,u:[new p.Vector3,new p.Vector3,new p.Vector3],e:[]},b=[[],[],[]],d=[[],[],[]],g=[],y=new p.Vector3,f=new p.Vector3,E=new p.Vector3,C=new p.Vector3,v=new p.Vector3,x=new p.Vector3,T=new p.Matrix3,L=new p.Box3,R=new p.Matrix4,F=new p.Matrix4,P=new p.Ray;class H{constructor(ee=new p.Vector3,de=new p.Vector3,ie=new p.Matrix3){this.center=ee,this.halfSize=de,this.rotation=ie}set(ee,de,ie){return this.center=ee,this.halfSize=de,this.rotation=ie,this}copy(ee){return this.center.copy(ee.center),this.halfSize.copy(ee.halfSize),this.rotation.copy(ee.rotation),this}clone(){return new this.constructor().copy(this)}getSize(ee){return ee.copy(this.halfSize).multiplyScalar(2)}clampPoint(ee,de){const ie=this.halfSize;C.subVectors(ee,this.center),this.rotation.extractBasis(y,f,E),de.copy(this.center);const ne=p.MathUtils.clamp(C.dot(y),-ie.x,ie.x);de.add(y.multiplyScalar(ne));const X=p.MathUtils.clamp(C.dot(f),-ie.y,ie.y);de.add(f.multiplyScalar(X));const z=p.MathUtils.clamp(C.dot(E),-ie.z,ie.z);return de.add(E.multiplyScalar(z)),de}containsPoint(ee){return C.subVectors(ee,this.center),this.rotation.extractBasis(y,f,E),Math.abs(C.dot(y))<=this.halfSize.x&&Math.abs(C.dot(f))<=this.halfSize.y&&Math.abs(C.dot(E))<=this.halfSize.z}intersectsBox3(ee){return this.intersectsOBB($.fromBox3(ee))}intersectsSphere(ee){return this.clampPoint(ee.center,x),x.distanceToSquared(ee.center)<=ee.radius*ee.radius}intersectsOBB(ee,de=Number.EPSILON){w.c=this.center,w.e[0]=this.halfSize.x,w.e[1]=this.halfSize.y,w.e[2]=this.halfSize.z,this.rotation.extractBasis(w.u[0],w.u[1],w.u[2]),A.c=ee.center,A.e[0]=ee.halfSize.x,A.e[1]=ee.halfSize.y,A.e[2]=ee.halfSize.z,ee.rotation.extractBasis(A.u[0],A.u[1],A.u[2]);for(let X=0;X<3;X++)for(let z=0;z<3;z++)b[X][z]=w.u[X].dot(A.u[z]);C.subVectors(A.c,w.c),g[0]=C.dot(w.u[0]),g[1]=C.dot(w.u[1]),g[2]=C.dot(w.u[2]);for(let X=0;X<3;X++)for(let z=0;z<3;z++)d[X][z]=Math.abs(b[X][z])+de;let ie,ne;for(let X=0;X<3;X++)if(ie=w.e[X],ne=A.e[0]*d[X][0]+A.e[1]*d[X][1]+A.e[2]*d[X][2],Math.abs(g[X])>ie+ne)return!1;for(let X=0;X<3;X++)if(ie=w.e[0]*d[0][X]+w.e[1]*d[1][X]+w.e[2]*d[2][X],ne=A.e[X],Math.abs(g[0]*b[0][X]+g[1]*b[1][X]+g[2]*b[2][X])>ie+ne)return!1;return ie=w.e[1]*d[2][0]+w.e[2]*d[1][0],ne=A.e[1]*d[0][2]+A.e[2]*d[0][1],!(Math.abs(g[2]*b[1][0]-g[1]*b[2][0])>ie+ne||(ie=w.e[1]*d[2][1]+w.e[2]*d[1][1],ne=A.e[0]*d[0][2]+A.e[2]*d[0][0],Math.abs(g[2]*b[1][1]-g[1]*b[2][1])>ie+ne)||(ie=w.e[1]*d[2][2]+w.e[2]*d[1][2],ne=A.e[0]*d[0][1]+A.e[1]*d[0][0],Math.abs(g[2]*b[1][2]-g[1]*b[2][2])>ie+ne)||(ie=w.e[0]*d[2][0]+w.e[2]*d[0][0],ne=A.e[1]*d[1][2]+A.e[2]*d[1][1],Math.abs(g[0]*b[2][0]-g[2]*b[0][0])>ie+ne)||(ie=w.e[0]*d[2][1]+w.e[2]*d[0][1],ne=A.e[0]*d[1][2]+A.e[2]*d[1][0],Math.abs(g[0]*b[2][1]-g[2]*b[0][1])>ie+ne)||(ie=w.e[0]*d[2][2]+w.e[2]*d[0][2],ne=A.e[0]*d[1][1]+A.e[1]*d[1][0],Math.abs(g[0]*b[2][2]-g[2]*b[0][2])>ie+ne)||(ie=w.e[0]*d[1][0]+w.e[1]*d[0][0],ne=A.e[1]*d[2][2]+A.e[2]*d[2][1],Math.abs(g[1]*b[0][0]-g[0]*b[1][0])>ie+ne)||(ie=w.e[0]*d[1][1]+w.e[1]*d[0][1],ne=A.e[0]*d[2][2]+A.e[2]*d[2][0],Math.abs(g[1]*b[0][1]-g[0]*b[1][1])>ie+ne)||(ie=w.e[0]*d[1][2]+w.e[1]*d[0][2],ne=A.e[0]*d[2][1]+A.e[1]*d[2][0],Math.abs(g[1]*b[0][2]-g[0]*b[1][2])>ie+ne))}intersectsPlane(ee){this.rotation.extractBasis(y,f,E);const de=this.halfSize.x*Math.abs(ee.normal.dot(y))+this.halfSize.y*Math.abs(ee.normal.dot(f))+this.halfSize.z*Math.abs(ee.normal.dot(E)),ie=ee.normal.dot(this.center)-ee.constant;return Math.abs(ie)<=de}intersectRay(ee,de){return this.getSize(v),L.setFromCenterAndSize(C.set(0,0,0),v),R.setFromMatrix3(this.rotation),R.setPosition(this.center),F.copy(R).invert(),P.copy(ee).applyMatrix4(F),P.intersectBox(L,de)?de.applyMatrix4(R):null}intersectsRay(ee){return this.intersectRay(ee,C)!==null}fromBox3(ee){return ee.getCenter(this.center),ee.getSize(this.halfSize).multiplyScalar(.5),this.rotation.identity(),this}equals(ee){return ee.center.equals(this.center)&&ee.halfSize.equals(this.halfSize)&&ee.rotation.equals(this.rotation)}applyMatrix4(ee){const de=ee.elements;let ie=C.set(de[0],de[1],de[2]).length();const ne=C.set(de[4],de[5],de[6]).length(),X=C.set(de[8],de[9],de[10]).length();ee.determinant()<0&&(ie=-ie),T.setFromMatrix4(ee);const se=1/ie,ae=1/ne,be=1/X;return T.elements[0]*=se,T.elements[1]*=se,T.elements[2]*=se,T.elements[3]*=ae,T.elements[4]*=ae,T.elements[5]*=ae,T.elements[6]*=be,T.elements[7]*=be,T.elements[8]*=be,this.rotation.multiply(T),this.halfSize.x*=ie,this.halfSize.y*=ne,this.halfSize.z*=X,C.setFromMatrixPosition(ee),this.center.add(C),this}}const $=new H},"./node_modules/three/examples/jsm/utils/BufferGeometryUtils.js":(M,B,u)=>{u.r(B),u.d(B,{computeMikkTSpaceTangents:()=>w,computeMorphedAttributes:()=>x,deepCloneAttribute:()=>d,deinterleaveAttribute:()=>y,deinterleaveGeometry:()=>f,estimateBytesUsed:()=>E,interleaveAttributes:()=>g,mergeAttributes:()=>b,mergeGeometries:()=>A,mergeGroups:()=>T,mergeVertices:()=>C,toCreasedNormals:()=>L,toTrianglesDrawMode:()=>v});var p=u("./node_modules/three/build/three.module.js");function w(R,F,P=!0){if(!F||!F.isReady)throw new Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!R.hasAttribute("position")||!R.hasAttribute("normal")||!R.hasAttribute("uv"))throw new Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function H(ee){if(ee.normalized||ee.isInterleavedBufferAttribute){const de=new Float32Array(ee.count*ee.itemSize);for(let ie=0,ne=0;ie<ee.count;ie++)de[ne++]=ee.getX(ie),de[ne++]=ee.getY(ie),ee.itemSize>2&&(de[ne++]=ee.getZ(ie));return de}return ee.array instanceof Float32Array?ee.array:new Float32Array(ee.array)}const $=R.index?R.toNonIndexed():R,te=F.generateTangents(H($.attributes.position),H($.attributes.normal),H($.attributes.uv));if(P)for(let ee=3;ee<te.length;ee+=4)te[ee]*=-1;return $.setAttribute("tangent",new p.BufferAttribute(te,4)),R!==$&&R.copy($),R}function A(R,F=!1){const P=R[0].index!==null,H=new Set(Object.keys(R[0].attributes)),$=new Set(Object.keys(R[0].morphAttributes)),te={},ee={},de=R[0].morphTargetsRelative,ie=new p.BufferGeometry;let ne=0;for(let X=0;X<R.length;++X){const z=R[X];let se=0;if(P!==(z.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+X+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const ae in z.attributes){if(!H.has(ae))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+X+'. All geometries must have compatible attributes; make sure "'+ae+'" attribute exists among all geometries, or in none of them.'),null;te[ae]===void 0&&(te[ae]=[]),te[ae].push(z.attributes[ae]),se++}if(se!==H.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+X+". Make sure all geometries have the same number of attributes."),null;if(de!==z.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+X+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const ae in z.morphAttributes){if(!$.has(ae))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+X+".  .morphAttributes must be consistent throughout all geometries."),null;ee[ae]===void 0&&(ee[ae]=[]),ee[ae].push(z.morphAttributes[ae])}if(F){let ae;if(P)ae=z.index.count;else if(z.attributes.position!==void 0)ae=z.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+X+". The geometry must have either an index or a position attribute"),null;ie.addGroup(ne,ae,X),ne+=ae}}if(P){let X=0;const z=[];for(let se=0;se<R.length;++se){const ae=R[se].index;for(let be=0;be<ae.count;++be)z.push(ae.getX(be)+X);X+=R[se].attributes.position.count}ie.setIndex(z)}for(const X in te){const z=b(te[X]);if(!z)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+X+" attribute."),null;ie.setAttribute(X,z)}for(const X in ee){const z=ee[X][0].length;if(z===0)break;ie.morphAttributes=ie.morphAttributes||{},ie.morphAttributes[X]=[];for(let se=0;se<z;++se){const ae=[];for(let Re=0;Re<ee[X].length;++Re)ae.push(ee[X][Re][se]);const be=b(ae);if(!be)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+X+" morphAttribute."),null;ie.morphAttributes[X].push(be)}}return ie}function b(R){let F,P,H,$=-1,te=0;for(let ne=0;ne<R.length;++ne){const X=R[ne];if(F===void 0&&(F=X.array.constructor),F!==X.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(P===void 0&&(P=X.itemSize),P!==X.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(H===void 0&&(H=X.normalized),H!==X.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if($===-1&&($=X.gpuType),$!==X.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;te+=X.count*P}const ee=new F(te),de=new p.BufferAttribute(ee,P,H);let ie=0;for(let ne=0;ne<R.length;++ne){const X=R[ne];if(X.isInterleavedBufferAttribute){const z=ie/P;for(let se=0,ae=X.count;se<ae;se++)for(let be=0;be<P;be++){const Re=X.getComponent(se,be);de.setComponent(se+z,be,Re)}}else ee.set(X.array,ie);ie+=X.count*P}return $!==void 0&&(de.gpuType=$),de}function d(R){return R.isInstancedInterleavedBufferAttribute||R.isInterleavedBufferAttribute?y(R):R.isInstancedBufferAttribute?new p.InstancedBufferAttribute().copy(R):new p.BufferAttribute().copy(R)}function g(R){let F,P=0,H=0;for(let ne=0,X=R.length;ne<X;++ne){const z=R[ne];if(F===void 0&&(F=z.array.constructor),F!==z.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;P+=z.array.length,H+=z.itemSize}const $=new p.InterleavedBuffer(new F(P),H);let te=0;const ee=[],de=["getX","getY","getZ","getW"],ie=["setX","setY","setZ","setW"];for(let ne=0,X=R.length;ne<X;ne++){const z=R[ne],se=z.itemSize,ae=z.count,be=new p.InterleavedBufferAttribute($,se,te,z.normalized);ee.push(be),te+=se;for(let Re=0;Re<ae;Re++)for(let ke=0;ke<se;ke++)be[ie[ke]](Re,z[de[ke]](Re))}return ee}function y(R){const F=R.data.array.constructor,P=R.count,H=R.itemSize,$=R.normalized,te=new F(P*H);let ee;R.isInstancedInterleavedBufferAttribute?ee=new p.InstancedBufferAttribute(te,H,$,R.meshPerAttribute):ee=new p.BufferAttribute(te,H,$);for(let de=0;de<P;de++)ee.setX(de,R.getX(de)),H>=2&&ee.setY(de,R.getY(de)),H>=3&&ee.setZ(de,R.getZ(de)),H>=4&&ee.setW(de,R.getW(de));return ee}function f(R){const F=R.attributes,P=R.morphTargets,H=new Map;for(const $ in F){const te=F[$];te.isInterleavedBufferAttribute&&(H.has(te)||H.set(te,y(te)),F[$]=H.get(te))}for(const $ in P){const te=P[$];te.isInterleavedBufferAttribute&&(H.has(te)||H.set(te,y(te)),P[$]=H.get(te))}}function E(R){let F=0;for(const H in R.attributes){const $=R.getAttribute(H);F+=$.count*$.itemSize*$.array.BYTES_PER_ELEMENT}const P=R.getIndex();return F+=P?P.count*P.itemSize*P.array.BYTES_PER_ELEMENT:0,F}function C(R,F=1e-4){F=Math.max(F,Number.EPSILON);const P={},H=R.getIndex(),$=R.getAttribute("position"),te=H?H.count:$.count;let ee=0;const de=Object.keys(R.attributes),ie={},ne={},X=[],z=["getX","getY","getZ","getW"],se=["setX","setY","setZ","setW"];for(let Xe=0,Fe=de.length;Xe<Fe;Xe++){const qe=de[Xe],rt=R.attributes[qe];ie[qe]=new p.BufferAttribute(new rt.array.constructor(rt.count*rt.itemSize),rt.itemSize,rt.normalized);const it=R.morphAttributes[qe];it&&(ne[qe]=new p.BufferAttribute(new it.array.constructor(it.count*it.itemSize),it.itemSize,it.normalized))}const ae=F*.5,be=Math.log10(1/F),Re=Math.pow(10,be),ke=ae*Re;for(let Xe=0;Xe<te;Xe++){const Fe=H?H.getX(Xe):Xe;let qe="";for(let rt=0,it=de.length;rt<it;rt++){const Ct=de[rt],Nt=R.getAttribute(Ct),xe=Nt.itemSize;for(let Te=0;Te<xe;Te++)qe+="".concat(~~(Nt[z[Te]](Fe)*Re+ke),",")}if(qe in P)X.push(P[qe]);else{for(let rt=0,it=de.length;rt<it;rt++){const Ct=de[rt],Nt=R.getAttribute(Ct),xe=R.morphAttributes[Ct],Te=Nt.itemSize,je=ie[Ct],ot=ne[Ct];for(let Je=0;Je<Te;Je++){const ut=z[Je],Lt=se[Je];if(je[Lt](ee,Nt[ut](Fe)),xe)for(let _t=0,Pt=xe.length;_t<Pt;_t++)ot[_t][Lt](ee,xe[_t][ut](Fe))}}P[qe]=ee,X.push(ee),ee++}}const Ke=R.clone();for(const Xe in R.attributes){const Fe=ie[Xe];if(Ke.setAttribute(Xe,new p.BufferAttribute(Fe.array.slice(0,ee*Fe.itemSize),Fe.itemSize,Fe.normalized)),Xe in ne)for(let qe=0;qe<ne[Xe].length;qe++){const rt=ne[Xe][qe];Ke.morphAttributes[Xe][qe]=new p.BufferAttribute(rt.array.slice(0,ee*rt.itemSize),rt.itemSize,rt.normalized)}}return Ke.setIndex(X),Ke}function v(R,F){if(F===p.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),R;if(F===p.TriangleFanDrawMode||F===p.TriangleStripDrawMode){let P=R.getIndex();if(P===null){const ee=[],de=R.getAttribute("position");if(de!==void 0){for(let ie=0;ie<de.count;ie++)ee.push(ie);R.setIndex(ee),P=R.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),R}const H=P.count-2,$=[];if(F===p.TriangleFanDrawMode)for(let ee=1;ee<=H;ee++)$.push(P.getX(0)),$.push(P.getX(ee)),$.push(P.getX(ee+1));else for(let ee=0;ee<H;ee++)ee%2===0?($.push(P.getX(ee)),$.push(P.getX(ee+1)),$.push(P.getX(ee+2))):($.push(P.getX(ee+2)),$.push(P.getX(ee+1)),$.push(P.getX(ee)));$.length/3!==H&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const te=R.clone();return te.setIndex($),te.clearGroups(),te}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",F),R}function x(R){const F=new p.Vector3,P=new p.Vector3,H=new p.Vector3,$=new p.Vector3,te=new p.Vector3,ee=new p.Vector3,de=new p.Vector3,ie=new p.Vector3,ne=new p.Vector3;function X(Kt,Qt,Xt,En,Dn,Bn,mt,pe){F.fromBufferAttribute(Qt,Dn),P.fromBufferAttribute(Qt,Bn),H.fromBufferAttribute(Qt,mt);const fe=Kt.morphTargetInfluences;if(Xt&&fe){de.set(0,0,0),ie.set(0,0,0),ne.set(0,0,0);for(let Ie=0,ve=Xt.length;Ie<ve;Ie++){const Me=fe[Ie],Be=Xt[Ie];Me!==0&&($.fromBufferAttribute(Be,Dn),te.fromBufferAttribute(Be,Bn),ee.fromBufferAttribute(Be,mt),En?(de.addScaledVector($,Me),ie.addScaledVector(te,Me),ne.addScaledVector(ee,Me)):(de.addScaledVector($.sub(F),Me),ie.addScaledVector(te.sub(P),Me),ne.addScaledVector(ee.sub(H),Me)))}F.add(de),P.add(ie),H.add(ne)}Kt.isSkinnedMesh&&(Kt.applyBoneTransform(Dn,F),Kt.applyBoneTransform(Bn,P),Kt.applyBoneTransform(mt,H)),pe[Dn*3+0]=F.x,pe[Dn*3+1]=F.y,pe[Dn*3+2]=F.z,pe[Bn*3+0]=P.x,pe[Bn*3+1]=P.y,pe[Bn*3+2]=P.z,pe[mt*3+0]=H.x,pe[mt*3+1]=H.y,pe[mt*3+2]=H.z}const z=R.geometry,se=R.material;let ae,be,Re;const ke=z.index,Ke=z.attributes.position,Xe=z.morphAttributes.position,Fe=z.morphTargetsRelative,qe=z.attributes.normal,rt=z.morphAttributes.position,it=z.groups,Ct=z.drawRange;let Nt,xe,Te,je,ot,Je,ut;const Lt=new Float32Array(Ke.count*Ke.itemSize),_t=new Float32Array(qe.count*qe.itemSize);if(ke!==null)if(Array.isArray(se))for(Nt=0,Te=it.length;Nt<Te;Nt++)for(ot=it[Nt],Je=Math.max(ot.start,Ct.start),ut=Math.min(ot.start+ot.count,Ct.start+Ct.count),xe=Je,je=ut;xe<je;xe+=3)ae=ke.getX(xe),be=ke.getX(xe+1),Re=ke.getX(xe+2),X(R,Ke,Xe,Fe,ae,be,Re,Lt),X(R,qe,rt,Fe,ae,be,Re,_t);else for(Je=Math.max(0,Ct.start),ut=Math.min(ke.count,Ct.start+Ct.count),Nt=Je,Te=ut;Nt<Te;Nt+=3)ae=ke.getX(Nt),be=ke.getX(Nt+1),Re=ke.getX(Nt+2),X(R,Ke,Xe,Fe,ae,be,Re,Lt),X(R,qe,rt,Fe,ae,be,Re,_t);else if(Array.isArray(se))for(Nt=0,Te=it.length;Nt<Te;Nt++)for(ot=it[Nt],Je=Math.max(ot.start,Ct.start),ut=Math.min(ot.start+ot.count,Ct.start+Ct.count),xe=Je,je=ut;xe<je;xe+=3)ae=xe,be=xe+1,Re=xe+2,X(R,Ke,Xe,Fe,ae,be,Re,Lt),X(R,qe,rt,Fe,ae,be,Re,_t);else for(Je=Math.max(0,Ct.start),ut=Math.min(Ke.count,Ct.start+Ct.count),Nt=Je,Te=ut;Nt<Te;Nt+=3)ae=Nt,be=Nt+1,Re=Nt+2,X(R,Ke,Xe,Fe,ae,be,Re,Lt),X(R,qe,rt,Fe,ae,be,Re,_t);const Pt=new p.Float32BufferAttribute(Lt,3),gt=new p.Float32BufferAttribute(_t,3);return{positionAttribute:Ke,normalAttribute:qe,morphedPositionAttribute:Pt,morphedNormalAttribute:gt}}function T(R){if(R.groups.length===0)return console.warn("THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge."),R;let F=R.groups;if(F=F.sort((ee,de)=>ee.materialIndex!==de.materialIndex?ee.materialIndex-de.materialIndex:ee.start-de.start),R.getIndex()===null){const ee=R.getAttribute("position"),de=[];for(let ie=0;ie<ee.count;ie+=3)de.push(ie,ie+1,ie+2);R.setIndex(de)}const P=R.getIndex(),H=[];for(let ee=0;ee<F.length;ee++){const de=F[ee],ie=de.start,ne=ie+de.count;for(let X=ie;X<ne;X++)H.push(P.getX(X))}R.dispose(),R.setIndex(H);let $=0;for(let ee=0;ee<F.length;ee++){const de=F[ee];de.start=$,$+=de.count}let te=F[0];R.groups=[te];for(let ee=1;ee<F.length;ee++){const de=F[ee];te.materialIndex===de.materialIndex?te.count+=de.count:(te=de,R.groups.push(te))}return R}function L(R,F=Math.PI/3){const P=Math.cos(F),H=(1+1e-10)*100,$=[new p.Vector3,new p.Vector3,new p.Vector3],te=new p.Vector3,ee=new p.Vector3,de=new p.Vector3,ie=new p.Vector3;function ne(Re){const ke=~~(Re.x*H),Ke=~~(Re.y*H),Xe=~~(Re.z*H);return"".concat(ke,",").concat(Ke,",").concat(Xe)}const X=R.index?R.toNonIndexed():R,z=X.attributes.position,se={};for(let Re=0,ke=z.count/3;Re<ke;Re++){const Ke=3*Re,Xe=$[0].fromBufferAttribute(z,Ke+0),Fe=$[1].fromBufferAttribute(z,Ke+1),qe=$[2].fromBufferAttribute(z,Ke+2);te.subVectors(qe,Fe),ee.subVectors(Xe,Fe);const rt=new p.Vector3().crossVectors(te,ee).normalize();for(let it=0;it<3;it++){const Ct=$[it],Nt=ne(Ct);Nt in se||(se[Nt]=[]),se[Nt].push(rt)}}const ae=new Float32Array(z.count*3),be=new p.BufferAttribute(ae,3,!1);for(let Re=0,ke=z.count/3;Re<ke;Re++){const Ke=3*Re,Xe=$[0].fromBufferAttribute(z,Ke+0),Fe=$[1].fromBufferAttribute(z,Ke+1),qe=$[2].fromBufferAttribute(z,Ke+2);te.subVectors(qe,Fe),ee.subVectors(Xe,Fe),de.crossVectors(te,ee).normalize();for(let rt=0;rt<3;rt++){const it=$[rt],Ct=ne(it),Nt=se[Ct];ie.set(0,0,0);for(let xe=0,Te=Nt.length;xe<Te;xe++){const je=Nt[xe];de.dot(je)>P&&ie.add(je)}ie.normalize(),be.setXYZ(Ke+rt,ie.x,ie.y,ie.z)}}return X.setAttribute("normal",be),X}},"./node_modules/three/examples/jsm/utils/WorkerPool.js":(M,B,u)=>{u.r(B),u.d(B,{WorkerPool:()=>p});class p{constructor(A=4){this.pool=A,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(A){if(!this.workers[A]){const b=this.workerCreator();b.addEventListener("message",this._onMessage.bind(this,A)),this.workers[A]=b}}_getIdleWorker(){for(let A=0;A<this.pool;A++)if(!(this.workerStatus&1<<A))return A;return-1}_onMessage(A,b){const d=this.workersResolve[A];if(d&&d(b),this.queue.length){const{resolve:g,msg:y,transfer:f}=this.queue.shift();this.workersResolve[A]=g,this.workers[A].postMessage(y,f)}else this.workerStatus^=1<<A}setWorkerCreator(A){this.workerCreator=A}setWorkerLimit(A){this.pool=A}postMessage(A,b){return new Promise(d=>{const g=this._getIdleWorker();g!==-1?(this._initWorker(g),this.workerStatus|=1<<g,this.workersResolve[g]=d,this.workers[g].postMessage(A,b)):this.queue.push({resolve:d,msg:A,transfer:b})})}dispose(){this.workers.forEach(A=>A.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}},"./src/lib/three.mjs":(M,B,u)=>{u.r(B),u.d(B,{default:()=>v});var p=u("./node_modules/three/build/three.module.js"),w=u("./node_modules/three/examples/jsm/loaders/DRACOLoader.js"),A=u("./node_modules/three/examples/jsm/loaders/GLTFLoader.js"),b=u("./node_modules/three/examples/jsm/loaders/KTX2Loader.js"),d=u("./node_modules/three/examples/jsm/math/OBB.js"),g=u("./node_modules/three/examples/jsm/loaders/OBJLoader.js"),y=u("./node_modules/three/examples/jsm/loaders/MTLLoader.js"),f=u("./node_modules/three/examples/jsm/utils/BufferGeometryUtils.js"),E=u("./node_modules/three/examples/jsm/lights/LightProbeGenerator.js"),C={...p};C.DRACOLoader=w.DRACOLoader,C.GLTFLoader=A.GLTFLoader,C.KTX2Loader=b.KTX2Loader,C.OBJLoader=g.OBJLoader,C.MTLLoader=y.MTLLoader,C.OBB=d.OBB,C.BufferGeometryUtils=f,C.LightProbeGenerator=E.LightProbeGenerator;const v=C},"./package.json":M=>{M.exports=JSON.parse('{"name":"aframe","version":"1.6.0","description":"A web framework for building virtual reality experiences.","homepage":"https://aframe.io/","main":"dist/aframe-master.js","scripts":{"dev":"cross-env INSPECTOR_VERSION=dev webpack serve --port 8080","dist":"node scripts/updateVersionLog.js && npm run dist:min && npm run dist:max","dist:max":"webpack --config webpack.config.js","dist:min":"webpack --config webpack.prod.config.js","docs":"markserv --dir docs --port 9001","preghpages":"node ./scripts/preghpages.js","ghpages":"ghpages -p gh-pages/","lint":"standardx -v | snazzy","lint:fix":"standardx --fix","precommit":"npm run lint","prepush":"node scripts/testOnlyCheck.js","prerelease":"node scripts/release.js 1.5.0 1.6.0","start":"npm run dev","start:https":"npm run dev -- --server-type https","test":"karma start ./tests/karma.conf.js","test:docs":"node scripts/docsLint.js","test:firefox":"npm test -- --browsers Firefox","test:chrome":"npm test -- --browsers Chrome","test:nobrowser":"NO_BROWSER=true npm test","test:node":"node --experimental-require-module ./node_modules/mocha/bin/mocha --ui tdd tests/node"},"repository":"aframevr/aframe","license":"MIT","files":["dist/*","docs/**/*","src/**/*","vendor/**/*"],"dependencies":{"buffer":"^6.0.3","debug":"^4.3.4","deep-assign":"^2.0.0","load-bmfont":"^1.2.3","super-animejs":"^3.1.0","three":"npm:super-three@0.164.0","three-bmfont-text":"dmarcos/three-bmfont-text#eed4878795be9b3e38cf6aec6b903f56acd1f695","webvr-polyfill":"^0.10.12"},"devDependencies":{"@babel/core":"^7.17.10","babel-loader":"^8.2.5","babel-plugin-istanbul":"^6.1.1","chai":"^4.3.6","chai-shallow-deep-equal":"^1.4.0","chalk":"^1.1.3","cross-env":"^7.0.3","css-loader":"^6.7.1","eslint":"^8.45.0","eslint-config-semistandard":"^17.0.0","eslint-config-standard-jsx":"^11.0.0","ghpages":"0.0.8","git-rev":"^0.2.1","glob":"^8.0.3","husky":"^0.11.7","jsdom":"^24.0.0","jsdom-global":"^3.0.2","karma":"^6.4.0","karma-chai-shallow-deep-equal":"0.0.4","karma-chrome-launcher":"^3.1.1","karma-coverage":"^2.2.0","karma-env-preprocessor":"^0.1.1","karma-firefox-launcher":"^2.1.2","karma-mocha":"^2.0.1","karma-mocha-reporter":"^2.2.5","karma-sinon-chai":"^2.0.2","karma-webpack":"^5.0.0","markserv":"github:sukima/markserv#feature/fix-broken-websoketio-link","mocha":"^10.0.0","replace-in-file":"^2.5.3","shelljs":"^0.7.7","shx":"^0.2.2","sinon":"<12.0.0","sinon-chai":"^3.7.0","snazzy":"^5.0.0","standardx":"^7.0.0","style-loader":"^3.3.1","too-wordy":"ngokevin/too-wordy","webpack":"^5.73.0","webpack-cli":"^4.10.0","webpack-dev-server":"^4.11.0","webpack-merge":"^5.8.0","write-good":"^1.0.8"},"link":true,"standardx":{"ignore":["build/**","dist/**","examples/**/shaders/*.js","**/vendor/**"]},"keywords":["3d","aframe","cardboard","components","oculus","three","three.js","rift","vive","vr","quest","meta","web-components","webvr","webxr"],"engines":{"node":">= 4.6.0","npm":">= 2.15.9"}}')}},S={};function D(M){var B=S[M];if(B!==void 0)return B.exports;var u=S[M]={id:M,exports:{}};return m[M].call(u.exports,u,u.exports,D),u.exports}D.m=m,D.n=M=>{var B=M&&M.__esModule?()=>M.default:()=>M;return D.d(B,{a:B}),B},D.d=(M,B)=>{for(var u in B)D.o(B,u)&&!D.o(M,u)&&Object.defineProperty(M,u,{enumerable:!0,get:B[u]})},D.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(M){if(typeof window=="object")return window}}(),D.o=(M,B)=>Object.prototype.hasOwnProperty.call(M,B),D.r=M=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(M,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(M,"__esModule",{value:!0})},D.b=document.baseURI||self.location.href,D.nc=void 0;var j=D("./src/index.js");return j})())})(jD);const WD={class:"menu-buttons"},KD=Jr({__name:"Home",setup(i){return AFRAME.registerComponent("rotation-reader",{tick:function(){}}),document.addEventListener("DOMContentLoaded",function(){var r=document.querySelector("a-scene");r.hasLoaded?l():r.addEventListener("loaded",l);function l(){r.addEventListener("click",function(){navigator.geolocation.getCurrentPosition(function(m){var S=m.coords.latitude,D=m.coords.longitude,j=document.createElement("a-entity");j.setAttribute("gps-new-entity-place","latitude: ".concat(S,"; longitude: ").concat(D,";")),j.setAttribute("gltf-model","https://rawcdn.githack.com/KhronosGroup/glTF-Sample-Models/master/2.0/Duck/glTF/Duck.gltf"),j.setAttribute("scale","0.5 0.5 0.5"),j.setAttribute("position","0 0 0"),r.appendChild(j);var M=document.getElementById("instructions");M&&(M.style.display="none")},function(m){console.error("Error getting position",m),alert("Erreur lors de la récupération de la position")},{enableHighAccuracy:!0,maximumAge:0,timeout:27e3})})}}),(r,l)=>{const m=Fs("a-scene");return Al(),pc(Kn(Af),null,{default:ui(()=>[Fn(Kn(rg),{fullscreen:""},{default:ui(()=>[l[1]||(l[1]=ao("div",{id:"instructions"},"Cliquez sur l'écran pour placer le duck",-1)),Fn(m,{"vr-mode-ui":"enabled: false",embedded:"",arjs:"sourceType: webcam; videoTexture: true; debugUIEnabled: false;"},{default:ui(()=>l[0]||(l[0]=[ao("a-marker",{preset:"hiro"},[ao("a-entity",{position:"0 0 0",scale:"0.05 0.05 0.05","gltf-model":"https://arjs-cors-proxy.herokuapp.com/https://raw.githack.com/AR-js-org/AR.js/master/aframe/examples/image-tracking/nft/trex/scene.gltf"})],-1),ao("a-entity",{camera:""},null,-1),ao("a-camera",{"gps-new-camera":"gpsMinDistance: 5","look-controls":"enabled: false","rotation-reader":""},null,-1)])),_:1}),ao("div",WD,[Fn(Kn(Bu),{class:"menu-btn top-right",href:"settings",shape:"round"},{default:ui(()=>[Fn(Kn(bd),{slot:"icon-only",icon:Kn(GD)},null,8,["icon"])]),_:1}),Fn(Kn(Bu),{class:"menu-btn bottom-left",href:"shop",shape:"round"},{default:ui(()=>[Fn(Kn(bd),{slot:"icon-only",icon:Kn(t2)},null,8,["icon"])]),_:1}),Fn(Kn(Bu),{class:"menu-btn bottom-right",href:"leaderboard",shape:"round"},{default:ui(()=>[Fn(Kn(bd),{slot:"icon-only",icon:Kn(VD)},null,8,["icon"])]),_:1})])]),_:1})]),_:1})}}}),og=(i,r)=>{const l=i.__vccOpts||i;for(const[m,S]of r)l[m]=S;return l},XD=og(KD,[["__scopeId","data-v-70a72e2a"]]),YD=["src"],$D=Jr({__name:"Leaderboard",setup(i){const r=Dd([{id:1,name:"John Doe",score:1500,avatar:"https://ionicframework.com/docs/img/demos/avatar.svg"},{id:2,name:"Jane Smith",score:1400,avatar:"https://ionicframework.com/docs/img/demos/avatar.svg"},{id:3,name:"Carlos Santana",score:1300,avatar:"https://ionicframework.com/docs/img/demos/avatar.svg"},{id:4,name:"Anna Lee",score:1200,avatar:"https://ionicframework.com/docs/img/demos/avatar.svg"},{id:5,name:"Mark Spencer",score:1100,avatar:"https://ionicframework.com/docs/img/demos/avatar.svg"}]);return(l,m)=>{const S=Fs("ion-grid");return Al(),pc(Kn(Af),null,{default:ui(()=>[Fn(Kn(HE),null,{default:ui(()=>[Fn(Kn(WE),null,{default:ui(()=>[Fn(Kn(QE),{slot:"start"},{default:ui(()=>[Fn(Kn(sg),{defaultHref:"/"})]),_:1}),Fn(Kn(jE),null,{default:ui(()=>m[0]||(m[0]=[Zo("Leaderboard")])),_:1})]),_:1})]),_:1}),Fn(Kn(rg),{fullscreen:!0},{default:ui(()=>[Fn(S,null,{default:ui(()=>[Fn(Kn(bD),null,{default:ui(()=>[Fn(Kn(Mb),{size:"4"},{default:ui(()=>m[1]||(m[1]=[Zo("Rank")])),_:1}),Fn(Kn(Mb),{size:"8"},{default:ui(()=>m[2]||(m[2]=[Zo("Player")])),_:1})]),_:1})]),_:1}),Fn(Kn(zE),null,{default:ui(()=>[(Al(!0),cI(oo,null,DS(r.value,(D,j)=>(Al(),pc(Kn(VE),{key:D.id},{default:ui(()=>[Fn(Kn(gD),{"aria-hidden":"true",slot:"start"},{default:ui(()=>[ao("img",{src:D.avatar,alt:"Player Avatar"},null,8,YD)]),_:2},1024),Fn(Kn(Ku),null,{default:ui(()=>[ao("h2",null,Mu(j+1)+". "+Mu(D.name),1),ao("p",null,"Score: "+Mu(D.score),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})}}}),qD=og($D,[["__scopeId","data-v-a13eb6f5"]]),JD=Jr({components:{IonPage:Af,IonTitle:jE,IonListHeader:vD,IonBackButton:sg,IonButton:Bu,IonButtons:QE,IonContent:rg,IonHeader:HE,IonItem:VE,IonLabel:Ku,IonList:zE,IonToolbar:WE},setup(){const i=Dd(!1),r=window.matchMedia("(prefers-color-scheme: dark)"),l=D=>{document.documentElement.classList.toggle("ion-palette-dark",D)},m=D=>{i.value=D,l(D)};return m(r.matches),r.addEventListener("change",D=>m(D.matches)),{personCircle:UD,personCircleOutline:ND,sunnyOutline:HD,sunny:QD,initializeDarkPalette:m,toggleChange:D=>{l(D.detail.checked)},toggleDarkPalette:l,paletteToggle:i}}});function ZD(i,r,l,m,S,D){const j=Fs("ion-back-button"),M=Fs("ion-buttons"),B=Fs("ion-title"),u=Fs("ion-toolbar"),p=Fs("ion-header"),w=Fs("ion-list-header"),A=Fs("ion-toggle"),b=Fs("ion-item"),d=Fs("ion-list"),g=Fs("ion-content"),y=Fs("ion-page");return Al(),pc(y,null,{default:ui(()=>[Fn(p,null,{default:ui(()=>[Fn(u,null,{default:ui(()=>[Fn(M,{slot:"start"},{default:ui(()=>[Fn(j,{defaultHref:"/"})]),_:1}),Fn(B,null,{default:ui(()=>r[1]||(r[1]=[Zo("Inventory")])),_:1})]),_:1})]),_:1}),Fn(g,null,{default:ui(()=>[Fn(w,null,{default:ui(()=>r[2]||(r[2]=[Zo("Appearance")])),_:1}),Fn(d,{inset:!0},{default:ui(()=>[Fn(b,null,{default:ui(()=>[Fn(A,{checked:i.paletteToggle,onIonChange:r[0]||(r[0]=f=>i.toggleChange(f)),justify:"space-between"},{default:ui(()=>r[3]||(r[3]=[Zo("Dark Mode")])),_:1},8,["checked"])]),_:1})]),_:1})]),_:1})]),_:1})}const e6=og(JD,[["render",ZD]]),t6=[{path:"/",component:XD},{path:"/leaderboard",component:qD},{path:"/settings",component:e6},{path:"/",component:zD,children:[{path:"",redirect:"/shop"},{path:"inventory",component:()=>Xs(()=>import("./Inventory-C6XPymb1.js"),__vite__mapDeps([3,4]))},{path:"shop",component:()=>Xs(()=>import("./Shop-CusMaAL_.js"),__vite__mapDeps([5,6]))}]}],n2=OD({history:kD("/"),routes:t6}),n6=jI(RD).use(_D).use(n2);n2.isReady().then(()=>{n6.mount("#app")});export{X6 as A,$r as B,Om as C,G6 as D,Sd as E,oo as F,Y6 as G,Qu as H,WE as I,Ia as J,$6 as K,GR as L,U6 as M,N6 as N,AA as O,XA as P,Y1 as Q,q6 as R,og as _,F6 as __vite_legacy_guard,Fn as a,QE as b,pc as c,Jr as d,sg as e,jE as f,Zo as g,HE as h,zE as i,cI as j,DS as k,rg as l,Af as m,VE as n,Al as o,Ku as p,ao as q,Dd as r,Bu as s,Mu as t,Kn as u,gD as v,ui as w,AP as x,hR as y,nE as z};
